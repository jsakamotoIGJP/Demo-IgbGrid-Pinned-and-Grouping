"use strict";(this.webpackChunkInfragisticsBlazor=this.webpackChunkInfragisticsBlazor||[]).push([[258],{19515:(e,t,i)=>{i.r(t),i.d(t,{ColumnPinningPosition:()=>pD,DropPosition:()=>nM,FilteringExpressionsTreeType:()=>Ub,FilteringLogic:()=>Yb,GridInstanceType:()=>yD,GridPagingMode:()=>fD,IgcBooleanFilteringOperand:()=>jA,IgcDateFilteringOperand:()=>qA,IgcDateSummaryOperand:()=>vk,IgcDateTimeFilteringOperand:()=>YA,IgcFilteringExpressionsTree:()=>qb,IgcFilteringOperand:()=>KA,IgcNoopFilteringStrategy:()=>Qb,IgcNoopPivotDimensionsStrategy:()=>zZ,IgcNoopSortingStrategy:()=>Bb,IgcNumberFilteringOperand:()=>ZA,IgcNumberSummaryOperand:()=>yk,IgcPivotAggregate:()=>wk,IgcPivotDateAggregate:()=>Sk,IgcPivotDateDimension:()=>CJ,IgcPivotNumericAggregate:()=>Ck,IgcPivotTimeAggregate:()=>bk,IgcStringFilteringOperand:()=>QA,IgcSummaryOperand:()=>fk,IgcTimeFilteringOperand:()=>XA,IgcTimeSummaryOperand:()=>xk,PivotDimensionType:()=>Ek,RowPinningPosition:()=>mD,SortingDirection:()=>Rb});var n=i(88259),r=i(73914),s=i(8437);e=i.hmd(e);var o=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,p=(e,t,i)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,m=(e,t)=>{for(var i in t||={})u.call(t,i)&&p(e,i,t[i]);if(h)for(var i of h(t))g.call(t,i)&&p(e,i,t[i]);return e},f=(e,t)=>a(e,d(t)),y=(e,t)=>{for(var i in t)o(e,i,{get:t[i],enumerable:!0})},v=(e,t,i,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of c(t))!u.call(e,r)&&r!==i&&o(e,r,{get:()=>t[r],enumerable:!(n=l(t,r))||n.enumerable});return e},x=(e,t,i)=>(v(e,t,"default"),i&&v(i,t,"default")),_=(e,t,i)=>new Promise(((n,r)=>{var s=e=>{try{a(i.next(e))}catch(e){r(e)}},o=e=>{try{a(i.throw(e))}catch(e){r(e)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(s,o);a((i=i.apply(e,t)).next())}));!function(e){let t=e.performance;function i(e){t&&t.mark&&t.mark(e)}function n(e,i){t&&t.measure&&t.measure(e,i)}i("Zone");let r=e.__Zone_symbol_prefix||"__zone_symbol__";function s(e){return r+e}let o=!0===e[s("forceDuplicateZoneCheck")];if(e.Zone){if(o||"function"!=typeof e.Zone.__symbol__)throw new Error("Zone already loaded.");return e.Zone}let a=(()=>{let t=class t{static assertZonePatched(){if(e.Promise!==R.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let e=t.current;for(;e.parent;)e=e.parent;return e}static get current(){return O.zone}static get currentTask(){return F}static __load_patch(r,s,a=!1){if(R.hasOwnProperty(r)){if(!a&&o)throw Error("Already loaded patch: "+r)}else if(!e["__Zone_disable_"+r]){let o="Zone:"+r;i(o),R[r]=s(e,t,k),n(o,o)}}get parent(){return this._parent}get name(){return this._name}constructor(e,t){this._parent=e,this._name=t?t.name||"unnamed":"<root>",this._properties=t&&t.properties||{},this._zoneDelegate=new d(this,this._parent&&this._parent._zoneDelegate,t)}get(e){let t=this.getZoneWith(e);if(t)return t._properties[e]}getZoneWith(e){let t=this;for(;t;){if(t._properties.hasOwnProperty(e))return t;t=t._parent}return null}fork(e){if(!e)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,e)}wrap(e,t){if("function"!=typeof e)throw new Error("Expecting function got: "+e);let i=this._zoneDelegate.intercept(this,e,t),n=this;return function(){return n.runGuarded(i,this,arguments,t)}}run(e,t,i,n){O={parent:O,zone:this};try{return this._zoneDelegate.invoke(this,e,t,i,n)}finally{O=O.parent}}runGuarded(e,t=null,i,n){O={parent:O,zone:this};try{try{return this._zoneDelegate.invoke(this,e,t,i,n)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{O=O.parent}}runTask(e,t,i){if(e.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(e.zone||_).name+"; Execution: "+this.name+")");if(e.state===w&&(e.type===A||e.type===T))return;let n=e.state!=b;n&&e._transitionTo(b,S),e.runCount++;let r=F;F=e,O={parent:O,zone:this};try{e.type==T&&e.data&&!e.data.isPeriodic&&(e.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,e,t,i)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{e.state!==w&&e.state!==E&&(e.type==A||e.data&&e.data.isPeriodic?n&&e._transitionTo(S,b):(e.runCount=0,this._updateTaskCount(e,-1),n&&e._transitionTo(w,b,w))),O=O.parent,F=r}}scheduleTask(e){if(e.zone&&e.zone!==this){let t=this;for(;t;){if(t===e.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${e.zone.name}`);t=t.parent}}e._transitionTo(C,w);let t=[];e._zoneDelegates=t,e._zone=this;try{e=this._zoneDelegate.scheduleTask(this,e)}catch(t){throw e._transitionTo(E,C,w),this._zoneDelegate.handleError(this,t),t}return e._zoneDelegates===t&&this._updateTaskCount(e,1),e.state==C&&e._transitionTo(S,C),e}scheduleMicroTask(e,t,i,n){return this.scheduleTask(new c(I,e,t,i,n,void 0))}scheduleMacroTask(e,t,i,n,r){return this.scheduleTask(new c(T,e,t,i,n,r))}scheduleEventTask(e,t,i,n,r){return this.scheduleTask(new c(A,e,t,i,n,r))}cancelTask(e){if(e.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(e.zone||_).name+"; Execution: "+this.name+")");if(e.state===S||e.state===b){e._transitionTo(D,S,b);try{this._zoneDelegate.cancelTask(this,e)}catch(t){throw e._transitionTo(E,D),this._zoneDelegate.handleError(this,t),t}return this._updateTaskCount(e,-1),e._transitionTo(w,D),e.runCount=0,e}}_updateTaskCount(e,t){let i=e._zoneDelegates;-1==t&&(e._zoneDelegates=null);for(let n=0;n<i.length;n++)i[n]._updateTaskCount(e.type,t)}};return t.__symbol__=s,t})(),l={name:"",onHasTask:(e,t,i,n)=>e.hasTask(i,n),onScheduleTask:(e,t,i,n)=>e.scheduleTask(i,n),onInvokeTask:(e,t,i,n,r,s)=>e.invokeTask(i,n,r,s),onCancelTask:(e,t,i,n)=>e.cancelTask(i,n)};class d{constructor(e,t,i){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=e,this._parentDelegate=t,this._forkZS=i&&(i&&i.onFork?i:t._forkZS),this._forkDlgt=i&&(i.onFork?t:t._forkDlgt),this._forkCurrZone=i&&(i.onFork?this.zone:t._forkCurrZone),this._interceptZS=i&&(i.onIntercept?i:t._interceptZS),this._interceptDlgt=i&&(i.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=i&&(i.onIntercept?this.zone:t._interceptCurrZone),this._invokeZS=i&&(i.onInvoke?i:t._invokeZS),this._invokeDlgt=i&&(i.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=i&&(i.onInvoke?this.zone:t._invokeCurrZone),this._handleErrorZS=i&&(i.onHandleError?i:t._handleErrorZS),this._handleErrorDlgt=i&&(i.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=i&&(i.onHandleError?this.zone:t._handleErrorCurrZone),this._scheduleTaskZS=i&&(i.onScheduleTask?i:t._scheduleTaskZS),this._scheduleTaskDlgt=i&&(i.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=i&&(i.onScheduleTask?this.zone:t._scheduleTaskCurrZone),this._invokeTaskZS=i&&(i.onInvokeTask?i:t._invokeTaskZS),this._invokeTaskDlgt=i&&(i.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=i&&(i.onInvokeTask?this.zone:t._invokeTaskCurrZone),this._cancelTaskZS=i&&(i.onCancelTask?i:t._cancelTaskZS),this._cancelTaskDlgt=i&&(i.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=i&&(i.onCancelTask?this.zone:t._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let n=i&&i.onHasTask,r=t&&t._hasTaskZS;(n||r)&&(this._hasTaskZS=n?i:l,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=e,i.onScheduleTask||(this._scheduleTaskZS=l,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this.zone),i.onInvokeTask||(this._invokeTaskZS=l,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this.zone),i.onCancelTask||(this._cancelTaskZS=l,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this.zone))}fork(e,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,e,t):new a(e,t)}intercept(e,t,i){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,e,t,i):t}invoke(e,t,i,n,r){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,e,t,i,n,r):t.apply(i,n)}handleError(e,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,e,t)}scheduleTask(e,t){let i=t;if(this._scheduleTaskZS)this._hasTaskZS&&i._zoneDelegates.push(this._hasTaskDlgtOwner),i=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,e,t),i||(i=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=I)throw new Error("Task is missing scheduleFn.");v(t)}return i}invokeTask(e,t,i,n){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,e,t,i,n):t.callback.apply(i,n)}cancelTask(e,t){let i;if(this._cancelTaskZS)i=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,e,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");i=t.cancelFn(t)}return i}hasTask(e,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,e,t)}catch(t){this.handleError(e,t)}}_updateTaskCount(e,t){let i=this._taskCounts,n=i[e],r=i[e]=n+t;if(r<0)throw new Error("More tasks executed then were scheduled.");if(0==n||0==r){let t={microTask:i.microTask>0,macroTask:i.macroTask>0,eventTask:i.eventTask>0,change:e};this.hasTask(this.zone,t)}}}class c{constructor(t,i,n,r,s,o){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=t,this.source=i,this.data=r,this.scheduleFn=s,this.cancelFn=o,!n)throw new Error("callback is not defined");this.callback=n;let a=this;t===A&&r&&r.useG?this.invoke=c.invokeTask:this.invoke=function(){return c.invokeTask.call(e,a,this,arguments)}}static invokeTask(e,t,i){e||(e=this),P++;try{return e.runCount++,e.zone.runTask(e,t,i)}finally{1==P&&x(),P--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(w,C)}_transitionTo(e,t,i){if(this._state!==t&&this._state!==i)throw new Error(`${this.type} '${this.source}': can not transition to '${e}', expecting state '${t}'${i?" or '"+i+"'":""}, was '${this._state}'.`);this._state=e,e==w&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let h,u=s("setTimeout"),g=s("Promise"),p=s("then"),m=[],f=!1;function y(t){if(h||e[g]&&(h=e[g].resolve(0)),h){let e=h[p];e||(e=h.then),e.call(h,t)}else e[u](t,0)}function v(e){0===P&&0===m.length&&y(x),e&&m.push(e)}function x(){if(!f){for(f=!0;m.length;){let e=m;m=[];for(let t=0;t<e.length;t++){let i=e[t];try{i.zone.runTask(i,null,null)}catch(e){k.onUnhandledError(e)}}}k.microtaskDrainDone(),f=!1}}let _={name:"NO ZONE"},w="notScheduled",C="scheduling",S="scheduled",b="running",D="canceling",E="unknown",I="microTask",T="macroTask",A="eventTask",R={},k={symbol:s,currentZoneFrame:()=>O,onUnhandledError:M,microtaskDrainDone:M,scheduleMicroTask:v,showUncaughtError:()=>!a[s("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:M,patchMethod:()=>M,bindArguments:()=>[],patchThen:()=>M,patchMacroTask:()=>M,patchEventPrototype:()=>M,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>M,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>M,wrapWithCurrentZone:()=>M,filterProperties:()=>[],attachOriginToPatched:()=>M,_redefineProperty:()=>M,patchCallbacks:()=>M,nativeScheduleMicroTask:y},O={parent:null,zone:new a(null,null)},F=null,P=0;function M(){}n("Zone","Zone"),e.Zone=a}(typeof window<"u"&&window||typeof self<"u"&&self||i.g);var w=Object.getOwnPropertyDescriptor,C=Object.defineProperty,S=Object.getPrototypeOf,b=Object.create,D=Array.prototype.slice,E="addEventListener",I="removeEventListener",T=Zone.__symbol__(E),A=Zone.__symbol__(I),R="true",k="false",O=Zone.__symbol__("");function F(e,t){return Zone.current.wrap(e,t)}function P(e,t,i,n,r){return Zone.current.scheduleMacroTask(e,t,i,n,r)}var M=Zone.__symbol__,V=typeof window<"u",N=V?window:void 0,L=V&&N||"object"==typeof self&&self||i.g,H="removeAttribute";function B(e,t){for(let i=e.length-1;i>=0;i--)"function"==typeof e[i]&&(e[i]=F(e[i],t+"_"+i));return e}function z(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&typeof e.set>"u")}var G=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,$=!("nw"in L)&&typeof L.process<"u"&&"[object process]"==={}.toString.call(L.process),W=!$&&!G&&!(!V||!N.HTMLElement),K=typeof L.process<"u"&&"[object process]"==={}.toString.call(L.process)&&!G&&!(!V||!N.HTMLElement),j={},U=function(e){if(!(e=e||L.event))return;let t=j[e.type];t||(t=j[e.type]=M("ON_PROPERTY"+e.type));let i,n=this||e.target||L,r=n[t];if(W&&n===N&&"error"===e.type){let t=e;i=r&&r.call(this,t.message,t.filename,t.lineno,t.colno,t.error),!0===i&&e.preventDefault()}else i=r&&r.apply(this,arguments),null!=i&&!i&&e.preventDefault();return i};function q(e,t,i){let n=w(e,t);if(!n&&i&&w(i,t)&&(n={enumerable:!0,configurable:!0}),!n||!n.configurable)return;let r=M("on"+t+"patched");if(e.hasOwnProperty(r)&&e[r])return;delete n.writable,delete n.value;let s=n.get,o=n.set,a=t.slice(2),l=j[a];l||(l=j[a]=M("ON_PROPERTY"+a)),n.set=function(t){let i=this;!i&&e===L&&(i=L),i&&("function"==typeof i[l]&&i.removeEventListener(a,U),o&&o.call(i,null),i[l]=t,"function"==typeof t&&i.addEventListener(a,U,!1))},n.get=function(){let i=this;if(!i&&e===L&&(i=L),!i)return null;let r=i[l];if(r)return r;if(s){let e=s.call(this);if(e)return n.set.call(this,e),"function"==typeof i[H]&&i.removeAttribute(t),e}return null},C(e,t,n),e[r]=!0}function Y(e,t,i){if(t)for(let n=0;n<t.length;n++)q(e,"on"+t[n],i);else{let t=[];for(let i in e)"on"==i.slice(0,2)&&t.push(i);for(let n=0;n<t.length;n++)q(e,t[n],i)}}var X=M("originalInstance");function Z(e){let t=L[e];if(!t)return;L[M(e)]=t,L[e]=function(){let i=B(arguments,e);switch(i.length){case 0:this[X]=new t;break;case 1:this[X]=new t(i[0]);break;case 2:this[X]=new t(i[0],i[1]);break;case 3:this[X]=new t(i[0],i[1],i[2]);break;case 4:this[X]=new t(i[0],i[1],i[2],i[3]);break;default:throw new Error("Arg list too long.")}},ee(L[e],t);let i,n=new t((function(){}));for(i in n)"XMLHttpRequest"===e&&"responseBlob"===i||function(t){"function"==typeof n[t]?L[e].prototype[t]=function(){return this[X][t].apply(this[X],arguments)}:C(L[e].prototype,t,{set:function(i){"function"==typeof i?(this[X][t]=F(i,e+"."+t),ee(this[X][t],i)):this[X][t]=i},get:function(){return this[X][t]}})}(i);for(i in t)"prototype"!==i&&t.hasOwnProperty(i)&&(L[e][i]=t[i])}function Q(e,t,i){let n=e;for(;n&&!n.hasOwnProperty(t);)n=S(n);!n&&e[t]&&(n=e);let r=M(t),s=null;if(n&&(!(s=n[r])||!n.hasOwnProperty(r))&&(s=n[r]=n[t],z(n&&w(n,t)))){let e=i(s,r,t);n[t]=function(){return e(this,arguments)},ee(n[t],s)}return s}function J(e,t,i){let n=null;function r(e){let t=e.data;return t.args[t.cbIdx]=function(){e.invoke.apply(this,arguments)},n.apply(t.target,t.args),e}n=Q(e,t,(e=>function(t,n){let s=i(t,n);return s.cbIdx>=0&&"function"==typeof n[s.cbIdx]?P(s.name,n[s.cbIdx],s,r):e.apply(t,n)}))}function ee(e,t){e[M("OriginalDelegate")]=t}var te=!1,ie=!1;function ne(){if(te)return ie;te=!0;try{let e=N.navigator.userAgent;(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/")||-1!==e.indexOf("Edge/"))&&(ie=!0)}catch{}return ie}Zone.__load_patch("ZoneAwarePromise",((e,t,i)=>{let n=Object.getOwnPropertyDescriptor,r=Object.defineProperty,s=i.symbol,o=[],a=!0===e[s("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],l=s("Promise"),d=s("then"),c="__creationTrace__";i.onUnhandledError=e=>{if(i.showUncaughtError()){let t=e&&e.rejection;t?console.error("Unhandled Promise rejection:",t instanceof Error?t.message:t,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",t,t instanceof Error?t.stack:void 0):console.error(e)}},i.microtaskDrainDone=()=>{for(;o.length;){let e=o.shift();try{e.zone.runGuarded((()=>{throw e.throwOriginal?e.rejection:e}))}catch(e){u(e)}}};let h=s("unhandledPromiseRejectionHandler");function u(e){i.onUnhandledError(e);try{let i=t[h];"function"==typeof i&&i.call(this,e)}catch{}}function g(e){return e&&e.then}function p(e){return e}function m(e){return V.reject(e)}let f=s("state"),y=s("value"),v=s("finally"),x=s("parentPromiseValue"),_=s("parentPromiseState"),w="Promise.then",C=null,S=!0,b=!1,D=0;function E(e,t){return i=>{try{R(e,t,i)}catch(t){R(e,!1,t)}}}let I=function(){let e=!1;return function(t){return function(){e||(e=!0,t.apply(null,arguments))}}},T="Promise resolved with itself",A=s("currentTaskTrace");function R(e,n,s){let l=I();if(e===s)throw new TypeError(T);if(e[f]===C){let d=null;try{("object"==typeof s||"function"==typeof s)&&(d=s&&s.then)}catch(t){return l((()=>{R(e,!1,t)}))(),e}if(n!==b&&s instanceof V&&s.hasOwnProperty(f)&&s.hasOwnProperty(y)&&s[f]!==C)O(s),R(e,s[f],s[y]);else if(n!==b&&"function"==typeof d)try{d.call(s,l(E(e,n)),l(E(e,!1)))}catch(t){l((()=>{R(e,!1,t)}))()}else{e[f]=n;let l=e[y];if(e[y]=s,e[v]===v&&n===S&&(e[f]=e[_],e[y]=e[x]),n===b&&s instanceof Error){let e=t.currentTask&&t.currentTask.data&&t.currentTask.data[c];e&&r(s,A,{configurable:!0,enumerable:!1,writable:!0,value:e})}for(let t=0;t<l.length;)F(e,l[t++],l[t++],l[t++],l[t++]);if(0==l.length&&n==b){e[f]=D;let n=s;try{throw new Error("Uncaught (in promise): "+function(e){return e&&e.toString===Object.prototype.toString?(e.constructor&&e.constructor.name||"")+": "+JSON.stringify(e):e?e.toString():Object.prototype.toString.call(e)}(s)+(s&&s.stack?"\n"+s.stack:""))}catch(e){n=e}a&&(n.throwOriginal=!0),n.rejection=s,n.promise=e,n.zone=t.current,n.task=t.currentTask,o.push(n),i.scheduleMicroTask()}}}return e}let k=s("rejectionHandledHandler");function O(e){if(e[f]===D){try{let i=t[k];i&&"function"==typeof i&&i.call(this,{rejection:e[y],promise:e})}catch{}e[f]=b;for(let t=0;t<o.length;t++)e===o[t].promise&&o.splice(t,1)}}function F(e,t,i,n,r){O(e);let s=e[f],o=s?"function"==typeof n?n:p:"function"==typeof r?r:m;t.scheduleMicroTask(w,(()=>{try{let n=e[y],r=!!i&&v===i[v];r&&(i[x]=n,i[_]=s);let a=t.run(o,void 0,r&&o!==m&&o!==p?[]:[n]);R(i,!0,a)}catch(e){R(i,!1,e)}}),i)}let P=function(){},M=e.AggregateError;class V{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(e){return R(new this(null),S,e)}static reject(e){return R(new this(null),b,e)}static any(e){if(!e||"function"!=typeof e[Symbol.iterator])return Promise.reject(new M([],"All promises were rejected"));let t=[],i=0;try{for(let n of e)i++,t.push(V.resolve(n))}catch{return Promise.reject(new M([],"All promises were rejected"))}if(0===i)return Promise.reject(new M([],"All promises were rejected"));let n=!1,r=[];return new V(((e,s)=>{for(let o=0;o<t.length;o++)t[o].then((t=>{n||(n=!0,e(t))}),(e=>{r.push(e),i--,0===i&&(n=!0,s(new M(r,"All promises were rejected")))}))}))}static race(e){let t,i,n=new this(((e,n)=>{t=e,i=n}));function r(e){t(e)}function s(e){i(e)}for(let t of e)g(t)||(t=this.resolve(t)),t.then(r,s);return n}static all(e){return V.allWithCallback(e)}static allSettled(e){return(this&&this.prototype instanceof V?this:V).allWithCallback(e,{thenCallback:e=>({status:"fulfilled",value:e}),errorCallback:e=>({status:"rejected",reason:e})})}static allWithCallback(e,t){let i,n,r=new this(((e,t)=>{i=e,n=t})),s=2,o=0,a=[];for(let r of e){g(r)||(r=this.resolve(r));let e=o;try{r.then((n=>{a[e]=t?t.thenCallback(n):n,s--,0===s&&i(a)}),(r=>{t?(a[e]=t.errorCallback(r),s--,0===s&&i(a)):n(r)}))}catch(e){n(e)}s++,o++}return s-=2,0===s&&i(a),r}constructor(e){let t=this;if(!(t instanceof V))throw new Error("Must be an instanceof Promise.");t[f]=C,t[y]=[];try{let i=I();e&&e(i(E(t,S)),i(E(t,b)))}catch(e){R(t,!1,e)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return V}then(e,i){let n=this.constructor?.[Symbol.species];(!n||"function"!=typeof n)&&(n=this.constructor||V);let r=new n(P),s=t.current;return this[f]==C?this[y].push(s,r,e,i):F(this,s,r,e,i),r}catch(e){return this.then(null,e)}finally(e){let i=this.constructor?.[Symbol.species];(!i||"function"!=typeof i)&&(i=V);let n=new i(P);n[v]=v;let r=t.current;return this[f]==C?this[y].push(r,n,e,e):F(this,r,n,e,e),n}}V.resolve=V.resolve,V.reject=V.reject,V.race=V.race,V.all=V.all;let N=e[l]=e.Promise;e.Promise=V;let L=s("thenPatched");function H(e){let t=e.prototype,i=n(t,"then");if(i&&(!1===i.writable||!i.configurable))return;let r=t.then;t[d]=r,e.prototype.then=function(e,t){return new V(((e,t)=>{r.call(this,e,t)})).then(e,t)},e[L]=!0}return i.patchThen=H,N&&(H(N),Q(e,"fetch",(e=>function(e){return function(t,i){let n=e.apply(t,i);if(n instanceof V)return n;let r=n.constructor;return r[L]||H(r),n}}(e)))),Promise[t.__symbol__("uncaughtPromiseErrors")]=o,V})),Zone.__load_patch("toString",(e=>{let t=Function.prototype.toString,i=M("OriginalDelegate"),n=M("Promise"),r=M("Error"),s=function(){if("function"==typeof this){let s=this[i];if(s)return"function"==typeof s?t.call(s):Object.prototype.toString.call(s);if(this===Promise){let i=e[n];if(i)return t.call(i)}if(this===Error){let i=e[r];if(i)return t.call(i)}}return t.call(this)};s[i]=t,Function.prototype.toString=s;let o=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":o.call(this)}}));var re=!1;if(typeof window<"u")try{let e=Object.defineProperty({},"passive",{get:function(){re=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch{re=!1}var se={useG:!0},oe={},ae={},le=new RegExp("^"+O+"(\\w+)(true|false)$"),de=M("propagationStopped");function ce(e,t){let i=(t?t(e):e)+k,n=(t?t(e):e)+R,r=O+i,s=O+n;oe[e]={},oe[e][k]=r,oe[e][R]=s}function he(e,t,i,n){let r=n&&n.add||E,s=n&&n.rm||I,o=n&&n.listeners||"eventListeners",a=n&&n.rmAll||"removeAllListeners",l=M(r),d="."+r+":",c="prependListener",h="."+c+":",u=function(e,t,i){if(e.isRemoved)return;let n,r=e.callback;"object"==typeof r&&r.handleEvent&&(e.callback=e=>r.handleEvent(e),e.originalDelegate=r);try{e.invoke(e,t,[i])}catch(e){n=e}let o=e.options;if(o&&"object"==typeof o&&o.once){let n=e.originalDelegate?e.originalDelegate:e.callback;t[s].call(t,i.type,n,o)}return n};function g(i,n,r){if(!(n=n||e.event))return;let s=i||n.target||e,o=s[oe[n.type][r?R:k]];if(o){let e=[];if(1===o.length){let t=u(o[0],s,n);t&&e.push(t)}else{let t=o.slice();for(let i=0;i<t.length&&(!n||!0!==n[de]);i++){let r=u(t[i],s,n);r&&e.push(r)}}if(1===e.length)throw e[0];for(let i=0;i<e.length;i++){let n=e[i];t.nativeScheduleMicroTask((()=>{throw n}))}}}let p=function(e){return g(this,e,!1)},y=function(e){return g(this,e,!0)};function v(t,i){if(!t)return!1;let n=!0;i&&void 0!==i.useG&&(n=i.useG);let u=i&&i.vh,g=!0;i&&void 0!==i.chkDup&&(g=i.chkDup);let v=!1;i&&void 0!==i.rt&&(v=i.rt);let x=t;for(;x&&!x.hasOwnProperty(r);)x=S(x);if(!x&&t[r]&&(x=t),!x||x[l])return!1;let _,w=i&&i.eventNameToString,C={},b=x[l]=x[r],D=x[M(s)]=x[s],E=x[M(o)]=x[o],I=x[M(a)]=x[a];i&&i.prepend&&(_=x[M(i.prepend)]=x[i.prepend]);let T=n?function(e){if(!C.isExisting)return b.call(C.target,C.eventName,C.capture?y:p,C.options)}:function(e){return b.call(C.target,C.eventName,e.invoke,C.options)},A=n?function(e){if(!e.isRemoved){let t,i=oe[e.eventName];i&&(t=i[e.capture?R:k]);let n=t&&e.target[t];if(n)for(let i=0;i<n.length;i++)if(n[i]===e){n.splice(i,1),e.isRemoved=!0,0===n.length&&(e.allRemoved=!0,e.target[t]=null);break}}if(e.allRemoved)return D.call(e.target,e.eventName,e.capture?y:p,e.options)}:function(e){return D.call(e.target,e.eventName,e.invoke,e.options)},F=i&&i.diff?i.diff:function(e,t){let i=typeof t;return"function"===i&&e.callback===t||"object"===i&&e.originalDelegate===t},P=Zone[M("UNPATCHED_EVENTS")],V=e[M("PASSIVE_EVENTS")],N=function(t,r,s,o,a=!1,l=!1){return function(){let d=this||e,c=arguments[0];i&&i.transferEventName&&(c=i.transferEventName(c));let h=arguments[1];if(!h)return t.apply(this,arguments);if($&&"uncaughtException"===c)return t.apply(this,arguments);let p=!1;if("function"!=typeof h){if(!h.handleEvent)return t.apply(this,arguments);p=!0}if(u&&!u(t,h,d,arguments))return;let y=re&&!!V&&-1!==V.indexOf(c),v=function(e,t){return!re&&"object"==typeof e&&e?!!e.capture:re&&t?"boolean"==typeof e?{capture:e,passive:!0}:e?"object"==typeof e&&!1!==e.passive?f(m({},e),{passive:!0}):e:{passive:!0}:e}(arguments[2],y);if(P)for(let e=0;e<P.length;e++)if(c===P[e])return y?t.call(d,c,h,v):t.apply(this,arguments);let x=!!v&&("boolean"==typeof v||v.capture),_=!(!v||"object"!=typeof v)&&v.once,S=Zone.current,b=oe[c];b||(ce(c,w),b=oe[c]);let D=b[x?R:k],E=d[D],I=!1;if(E){if(I=!0,g)for(let e=0;e<E.length;e++)if(F(E[e],h))return}else E=d[D]=[];let T,A=d.constructor.name,O=ae[A];O&&(T=O[c]),T||(T=A+r+(w?w(c):c)),C.options=v,_&&(C.options.once=!1),C.target=d,C.capture=x,C.eventName=c,C.isExisting=I;let M=n?se:void 0;M&&(M.taskData=C);let N=S.scheduleEventTask(T,h,M,s,o);return C.target=null,M&&(M.taskData=null),_&&(v.once=!0),!re&&"boolean"==typeof N.options||(N.options=v),N.target=d,N.capture=x,N.eventName=c,p&&(N.originalDelegate=h),l?E.unshift(N):E.push(N),a?d:void 0}};return x[r]=N(b,d,T,A,v),_&&(x[c]=N(_,h,(function(e){return _.call(C.target,C.eventName,e.invoke,C.options)}),A,v,!0)),x[s]=function(){let t=this||e,n=arguments[0];i&&i.transferEventName&&(n=i.transferEventName(n));let r=arguments[2],s=!!r&&("boolean"==typeof r||r.capture),o=arguments[1];if(!o)return D.apply(this,arguments);if(u&&!u(D,o,t,arguments))return;let a,l=oe[n];l&&(a=l[s?R:k]);let d=a&&t[a];if(d)for(let e=0;e<d.length;e++){let i=d[e];if(F(i,o))return d.splice(e,1),i.isRemoved=!0,0===d.length&&(i.allRemoved=!0,t[a]=null,"string"==typeof n)&&(t[O+"ON_PROPERTY"+n]=null),i.zone.cancelTask(i),v?t:void 0}return D.apply(this,arguments)},x[o]=function(){let t=this||e,n=arguments[0];i&&i.transferEventName&&(n=i.transferEventName(n));let r=[],s=ue(t,w?w(n):n);for(let e=0;e<s.length;e++){let t=s[e],i=t.originalDelegate?t.originalDelegate:t.callback;r.push(i)}return r},x[a]=function(){let t=this||e,n=arguments[0];if(n){i&&i.transferEventName&&(n=i.transferEventName(n));let e=oe[n];if(e){let i=e[k],r=e[R],o=t[i],a=t[r];if(o){let e=o.slice();for(let t=0;t<e.length;t++){let i=e[t],r=i.originalDelegate?i.originalDelegate:i.callback;this[s].call(this,n,r,i.options)}}if(a){let e=a.slice();for(let t=0;t<e.length;t++){let i=e[t],r=i.originalDelegate?i.originalDelegate:i.callback;this[s].call(this,n,r,i.options)}}}}else{let e=Object.keys(t);for(let t=0;t<e.length;t++){let i=e[t],n=le.exec(i),r=n&&n[1];r&&"removeListener"!==r&&this[a].call(this,r)}this[a].call(this,"removeListener")}if(v)return this},ee(x[r],b),ee(x[s],D),I&&ee(x[a],I),E&&ee(x[o],E),!0}let x=[];for(let e=0;e<i.length;e++)x[e]=v(i[e],n);return x}function ue(e,t){if(!t){let i=[];for(let n in e){let r=le.exec(n),s=r&&r[1];if(s&&(!t||s===t)){let t=e[n];if(t)for(let e=0;e<t.length;e++)i.push(t[e])}}return i}let i=oe[t];i||(ce(t),i=oe[t]);let n=e[i[k]],r=e[i[R]];return n?r?n.concat(r):n.slice():r?r.slice():[]}function ge(e,t){let i=e.Event;i&&i.prototype&&t.patchMethod(i.prototype,"stopImmediatePropagation",(e=>function(t,i){t[de]=!0,e&&e.apply(t,i)}))}function pe(e,t,i,n,r){let s=Zone.__symbol__(n);if(t[s])return;let o=t[s]=t[n];t[n]=function(s,a,l){return a&&a.prototype&&r.forEach((function(t){let r=`${i}.${n}::`+t,s=a.prototype;try{if(s.hasOwnProperty(t)){let i=e.ObjectGetOwnPropertyDescriptor(s,t);i&&i.value?(i.value=e.wrapWithCurrentZone(i.value,r),e._redefineProperty(a.prototype,t,i)):s[t]&&(s[t]=e.wrapWithCurrentZone(s[t],r))}else s[t]&&(s[t]=e.wrapWithCurrentZone(s[t],r))}catch{}})),o.call(t,s,a,l)},e.attachOriginToPatched(t[n],o)}function me(e,t,i){if(!i||0===i.length)return t;let n=i.filter((t=>t.target===e));if(!n||0===n.length)return t;let r=n[0].ignoreProperties;return t.filter((e=>-1===r.indexOf(e)))}function fe(e,t,i,n){e&&Y(e,me(e,t,i),n)}function ye(e){return Object.getOwnPropertyNames(e).filter((e=>e.startsWith("on")&&e.length>2)).map((e=>e.substring(2)))}Zone.__load_patch("util",((e,t,i)=>{let n=ye(e);i.patchOnProperties=Y,i.patchMethod=Q,i.bindArguments=B,i.patchMacroTask=J;let r=t.__symbol__("BLACK_LISTED_EVENTS"),s=t.__symbol__("UNPATCHED_EVENTS");e[s]&&(e[r]=e[s]),e[r]&&(t[r]=t[s]=e[r]),i.patchEventPrototype=ge,i.patchEventTarget=he,i.isIEOrEdge=ne,i.ObjectDefineProperty=C,i.ObjectGetOwnPropertyDescriptor=w,i.ObjectCreate=b,i.ArraySlice=D,i.patchClass=Z,i.wrapWithCurrentZone=F,i.filterProperties=me,i.attachOriginToPatched=ee,i._redefineProperty=Object.defineProperty,i.patchCallbacks=pe,i.getGlobalObjects=()=>({globalSources:ae,zoneSymbolEventNames:oe,eventNames:n,isBrowser:W,isMix:K,isNode:$,TRUE_STR:R,FALSE_STR:k,ZONE_SYMBOL_PREFIX:O,ADD_EVENT_LISTENER_STR:E,REMOVE_EVENT_LISTENER_STR:I})}));var ve=M("zoneTask");function xe(e,t,i,n){let r=null,s=null;i+=n;let o={};function a(t){let i=t.data;return i.args[0]=function(){return t.invoke.apply(this,arguments)},i.handleId=r.apply(e,i.args),t}function l(t){return s.call(e,t.data.handleId)}r=Q(e,t+=n,(i=>function(r,s){if("function"==typeof s[0]){let e={isPeriodic:"Interval"===n,delay:"Timeout"===n||"Interval"===n?s[1]||0:void 0,args:s},i=s[0];s[0]=function(){try{return i.apply(this,arguments)}finally{e.isPeriodic||("number"==typeof e.handleId?delete o[e.handleId]:e.handleId&&(e.handleId[ve]=null))}};let r=P(t,s[0],e,a,l);if(!r)return r;let d=r.data.handleId;return"number"==typeof d?o[d]=r:d&&(d[ve]=r),d&&d.ref&&d.unref&&"function"==typeof d.ref&&"function"==typeof d.unref&&(r.ref=d.ref.bind(d),r.unref=d.unref.bind(d)),"number"==typeof d||d?d:r}return i.apply(e,s)})),s=Q(e,i,(t=>function(i,n){let r,s=n[0];"number"==typeof s?r=o[s]:(r=s&&s[ve],r||(r=s)),r&&"string"==typeof r.type?"notScheduled"!==r.state&&(r.cancelFn&&r.data.isPeriodic||0===r.runCount)&&("number"==typeof s?delete o[s]:s&&(s[ve]=null),r.zone.cancelTask(r)):t.apply(e,n)}))}Zone.__load_patch("legacy",(e=>{let t=e[Zone.__symbol__("legacyPatch")];t&&t()})),Zone.__load_patch("timers",(e=>{let t="set",i="clear";xe(e,t,i,"Timeout"),xe(e,t,i,"Interval"),xe(e,t,i,"Immediate")})),Zone.__load_patch("requestAnimationFrame",(e=>{xe(e,"request","cancel","AnimationFrame"),xe(e,"mozRequest","mozCancel","AnimationFrame"),xe(e,"webkitRequest","webkitCancel","AnimationFrame")})),Zone.__load_patch("blocking",((e,t)=>{let i=["alert","prompt","confirm"];for(let n=0;n<i.length;n++)Q(e,i[n],((i,n,r)=>function(n,s){return t.current.run(i,e,s,r)}))})),Zone.__load_patch("EventTarget",((e,t,i)=>{(function(e,t){t.patchEventPrototype(e,t)})(e,i),function(e,t){if(Zone[t.symbol("patchEventTarget")])return;let{eventNames:i,zoneSymbolEventNames:n,TRUE_STR:r,FALSE_STR:s,ZONE_SYMBOL_PREFIX:o}=t.getGlobalObjects();for(let e=0;e<i.length;e++){let t=i[e],a=o+(t+s),l=o+(t+r);n[t]={},n[t][s]=a,n[t][r]=l}let a=e.EventTarget;a&&a.prototype&&t.patchEventTarget(e,t,[a&&a.prototype])}(e,i);let n=e.XMLHttpRequestEventTarget;n&&n.prototype&&i.patchEventTarget(e,i,[n.prototype])})),Zone.__load_patch("MutationObserver",((e,t,i)=>{Z("MutationObserver"),Z("WebKitMutationObserver")})),Zone.__load_patch("IntersectionObserver",((e,t,i)=>{Z("IntersectionObserver")})),Zone.__load_patch("FileReader",((e,t,i)=>{Z("FileReader")})),Zone.__load_patch("on_property",((e,t,i)=>{!function(e,t){if($&&!K||Zone[e.symbol("patchEvents")])return;let i=t.__Zone_ignore_on_properties,n=[];if(W){let e=window;n=n.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let t=function(){try{let e=N.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:e,ignoreProperties:["error"]}]:[];fe(e,ye(e),i&&i.concat(t),S(e))}n=n.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let e=0;e<n.length;e++){let r=t[n[e]];r&&r.prototype&&fe(r.prototype,ye(r.prototype),i)}}(i,e)})),Zone.__load_patch("customElements",((e,t,i)=>{!function(e,t){let{isBrowser:i,isMix:n}=t.getGlobalObjects();(i||n)&&e.customElements&&"customElements"in e&&t.patchCallbacks(t,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(e,i)})),Zone.__load_patch("XHR",((e,t)=>{!function(e){let l=e.XMLHttpRequest;if(!l)return;let d=l.prototype,c=d[T],h=d[A];if(!c){let t=e.XMLHttpRequestEventTarget;if(t){let e=t.prototype;c=e[T],h=e[A]}}let u="readystatechange",g="scheduled";function p(e){let n=e.data,o=n.target;o[s]=!1,o[a]=!1;let l=o[r];c||(c=o[T],h=o[A]),l&&h.call(o,u,l);let d=o[r]=()=>{if(o.readyState===o.DONE)if(!n.aborted&&o[s]&&e.state===g){let i=o[t.__symbol__("loadfalse")];if(0!==o.status&&i&&i.length>0){let r=e.invoke;e.invoke=function(){let i=o[t.__symbol__("loadfalse")];for(let t=0;t<i.length;t++)i[t]===e&&i.splice(t,1);!n.aborted&&e.state===g&&r.call(e)},i.push(e)}else e.invoke()}else!n.aborted&&!1===o[s]&&(o[a]=!0)};return c.call(o,u,d),o[i]||(o[i]=e),_.apply(o,n.args),o[s]=!0,e}function m(){}function f(e){let t=e.data;return t.aborted=!0,w.apply(t.target,t.args)}let y=Q(d,"open",(()=>function(e,t){return e[n]=0==t[2],e[o]=t[1],y.apply(e,t)})),v=M("fetchTaskAborting"),x=M("fetchTaskScheduling"),_=Q(d,"send",(()=>function(e,i){if(!0===t.current[x]||e[n])return _.apply(e,i);{let t={target:e,url:e[o],isPeriodic:!1,args:i,aborted:!1},n=P("XMLHttpRequest.send",m,t,p,f);e&&!0===e[a]&&!t.aborted&&n.state===g&&n.invoke()}})),w=Q(d,"abort",(()=>function(e,n){let r=function(e){return e[i]}(e);if(r&&"string"==typeof r.type){if(null==r.cancelFn||r.data&&r.data.aborted)return;r.zone.cancelTask(r)}else if(!0===t.current[v])return w.apply(e,n)}))}(e);let i=M("xhrTask"),n=M("xhrSync"),r=M("xhrListener"),s=M("xhrScheduled"),o=M("xhrURL"),a=M("xhrErrorBeforeScheduled")})),Zone.__load_patch("geolocation",(e=>{e.navigator&&e.navigator.geolocation&&function(e,t){let i=e.constructor.name;for(let n=0;n<t.length;n++){let r=t[n],s=e[r];if(s){if(!z(w(e,r)))continue;e[r]=(e=>{let t=function(){return e.apply(this,B(arguments,i+"."+r))};return ee(t,e),t})(s)}}}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])})),Zone.__load_patch("PromiseRejectionEvent",((e,t)=>{function i(t){return function(i){ue(e,t).forEach((n=>{let r=e.PromiseRejectionEvent;if(r){let e=new r(t,{promise:i.promise,reason:i.rejection});n.invoke(e)}}))}}e.PromiseRejectionEvent&&(t[M("unhandledPromiseRejectionHandler")]=i("unhandledrejection"),t[M("rejectionHandledHandler")]=i("rejectionhandled"))})),Zone.__load_patch("queueMicrotask",((e,t,i)=>{!function(e,t){t.patchMethod(e,"queueMicrotask",(e=>function(e,t){Zone.current.scheduleMicroTask("queueMicrotask",t[0])}))}(e,i)}));var _e=new WeakMap,we=e=>{let t=_e.get(e);return void 0===t&&_e.set(e,t=new Map),t},Ce=class{constructor(){this.__shadowRootMode=null,this.__shadowRoot=null,this.__internals=null}get attributes(){return Array.from(we(this)).map((([e,t])=>({name:e,value:t})))}get shadowRoot(){return"closed"===this.__shadowRootMode?null:this.__shadowRoot}setAttribute(e,t){we(this).set(e,String(t))}removeAttribute(e){we(this).delete(e)}toggleAttribute(e,t){return this.hasAttribute(e)?!(void 0===t||!t)||(this.removeAttribute(e),!1):!(void 0!==t&&!t||(this.setAttribute(e,""),0))}hasAttribute(e){return we(this).has(e)}attachShadow(e){let t={host:this};return this.__shadowRootMode=e.mode,e&&"open"===e.mode&&(this.__shadowRoot=t),t}attachInternals(){if(null!==this.__internals)throw new Error("Failed to execute 'attachInternals' on 'HTMLElement': ElementInternals for the specified element was already attached.");let e=new class{get shadowRoot(){return this.__host.__shadowRoot}constructor(e){this.ariaAtomic="",this.ariaAutoComplete="",this.ariaBraileLabel="",this.ariaBraileRoleDescription="",this.ariaBusy="",this.ariaChecked="",this.ariaColCount="",this.ariaColIndex="",this.ariaColSpan="",this.ariaCurrent="",this.ariaDescription="",this.ariaDisabled="",this.ariaExpanded="",this.ariaHasPopup="",this.ariaHidden="",this.ariaInvalid="",this.ariaKeyShortcuts="",this.ariaLabel="",this.ariaLevel="",this.ariaLive="",this.ariaModal="",this.ariaMultiLine="",this.ariaMultiSelectable="",this.ariaOrientation="",this.ariaPlaceholder="",this.ariaPosInSet="",this.ariaPressed="",this.ariaReadOnly="",this.ariaRequired="",this.ariaRoleDescription="",this.ariaRowCount="",this.ariaRowIndex="",this.ariaRowSpan="",this.ariaSelected="",this.ariaSetSize="",this.ariaSort="",this.ariaValueMax="",this.ariaValueMin="",this.ariaValueNow="",this.ariaValueText="",this.role="",this.form=null,this.labels=[],this.states=new Set,this.validationMessage="",this.validity={},this.willValidate=!0,this.__host=e}checkValidity(){return console.warn("`ElementInternals.checkValidity()` was called on the server.This method always returns true."),!0}reportValidity(){return!0}setFormValue(){}setValidity(){}}(this);return this.__internals=e,e}getAttribute(e){return we(this).get(e)??null}},Se=Ce,be=class{constructor(){this.__definitions=new Map}define(e,t){if(this.__definitions.has(e))throw new Error(`Failed to execute 'define' on 'CustomElementRegistry': the name "${e}" has already been used with this registry`);this.__definitions.set(e,{ctor:t,observedAttributes:t.observedAttributes??[]})}get(e){return this.__definitions.get(e)?.ctor}},De=new be;function Ee(e){return"function"==typeof e}typeof window>"u"&&(globalThis.Element=Se,globalThis.HTMLElement=class extends Ce{},globalThis.CustomElementRegistry=be,globalThis.customElements=De),Zone&&Zone.__load_patch("abortSignal_patchEventTarget",((e,t,i)=>{let n=e.EventTarget?.prototype,r=i.getGlobalObjects().ADD_EVENT_LISTENER_STR,s=i.symbol(r),o=i.symbol(`${r}__ig_patch`);n?.[s]&&(n[o]=n[r],n[r]=function(){return arguments[2]?.signal?n[s].apply(this,arguments):n[o].apply(this,arguments)})}));var Ie=!1,Te={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){let e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else Ie&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Ie=e},get useDeprecatedSynchronousErrorHandling(){return Ie}};function Ae(e){setTimeout((()=>{throw e}),0)}var Re={closed:!0,next(e){},error(e){if(Te.useDeprecatedSynchronousErrorHandling)throw e;Ae(e)},complete(){}},ke=Array.isArray||(e=>e&&"number"==typeof e.length);function Oe(e){return null!==e&&"object"==typeof e}var Fe,Pe=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map(((e,t)=>`${t+1}) ${e.toString()}`)).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})(),Me=Pe,Ve=class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:i,_ctorUnsubscribe:n,_unsubscribe:r,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof e)i.remove(this);else if(null!==i)for(let e=0;e<i.length;++e)i[e].remove(this);if(Ee(r)){n&&(this._unsubscribe=void 0);try{r.call(this)}catch(e){t=e instanceof Me?Ne(e.errors):[e]}}if(ke(s)){let e=-1,i=s.length;for(;++e<i;){let i=s[e];if(Oe(i))try{i.unsubscribe()}catch(e){t=t||[],e instanceof Me?t=t.concat(Ne(e.errors)):t.push(e)}}}if(t)throw new Me(t)}add(t){let i=t;if(!t)return e.EMPTY;switch(typeof t){case"function":i=new e(t);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof e)){let t=i;i=new e,i._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=i;if(null===n)i._parentOrParents=this;else if(n instanceof e){if(n===this)return i;i._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return i;n.push(this)}let r=this._subscriptions;return null===r?this._subscriptions=[i]:r.push(i),i}remove(e){let t=this._subscriptions;if(t){let i=t.indexOf(e);-1!==i&&t.splice(i,1)}}};function Ne(e){return e.reduce(((e,t)=>e.concat(t instanceof Me?t.errors:t)),[])}Ve.EMPTY=((Fe=new Ve).closed=!0,Fe);var Le="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),He=class e extends Ve{constructor(t,i,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Re;break;case 1:if(!t){this.destination=Re;break}if("object"==typeof t){t instanceof e?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new Be(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new Be(this,t,i,n)}}[Le](){return this}static create(t,i,n){let r=new e(t,i,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){let{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}},Be=class extends He{constructor(e,t,i,n){super(),this._parentSubscriber=e;let r,s=this;Ee(t)?r=t:t&&(r=t.next,i=t.error,n=t.complete,t!==Re&&(s=Object.create(t),Ee(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=r,this._error=i,this._complete=n}next(e){if(!this.isStopped&&this._next){let{_parentSubscriber:t}=this;Te.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){let{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:i}=Te;if(this._error)i&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)i?(t.syncErrorValue=e,t.syncErrorThrown=!0):Ae(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;Ae(e)}}}complete(){if(!this.isStopped){let{_parentSubscriber:e}=this;if(this._complete){let t=()=>this._complete.call(this._context);Te.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),Te.useDeprecatedSynchronousErrorHandling)throw e;Ae(e)}}__tryOrSetError(e,t,i){if(!Te.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,i)}catch(t){return Te.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(Ae(t),!0)}return!1}_unsubscribe(){let{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}},ze="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ge(e){return e}function $e(e){return 0===e.length?Ge:1===e.length?e[0]:function(t){return e.reduce(((e,t)=>t(e)),t)}}var We=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){let i=new e;return i.source=this,i.operator=t,i}subscribe(e,t,i){let{operator:n}=this,r=function(e,t,i){if(e){if(e instanceof He)return e;if(e[Le])return e[Le]()}return e||t||i?new He(e,t,i):new He(Re)}(e,t,i);if(n?r.add(n.call(r,this.source)):r.add(this.source||Te.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),Te.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(e){try{return this._subscribe(e)}catch(t){Te.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){let{closed:t,destination:i,isStopped:n}=e;if(t||n)return!1;e=i&&i instanceof He?i:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=Ke(t))(((t,i)=>{let n;n=this.subscribe((t=>{try{e(t)}catch(e){i(e),n&&n.unsubscribe()}}),i,t)}))}_subscribe(e){let{source:t}=this;return t&&t.subscribe(e)}[ze](){return this}pipe(...e){return 0===e.length?this:$e(e)(this)}toPromise(e){return new(e=Ke(e))(((e,t)=>{let i;this.subscribe((e=>i=e),(e=>t(e)),(()=>e(i)))}))}}return e.create=t=>new e(t),e})();function Ke(e){if(e||(e=Te.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var je=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})(),Ue=je,qe=class extends Ve{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;let e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;let i=t.indexOf(this.subscriber);-1!==i&&t.splice(i,1)}},Ye=class extends He{constructor(e){super(e),this.destination=e}},Xe=(()=>{class e extends We{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Le](){return new Ye(this)}lift(e){let t=new Ze(this,this);return t.operator=e,t}next(e){if(this.closed)throw new Ue;if(!this.isStopped){let{observers:t}=this,i=t.length,n=t.slice();for(let t=0;t<i;t++)n[t].next(e)}}error(e){if(this.closed)throw new Ue;this.hasError=!0,this.thrownError=e,this.isStopped=!0;let{observers:t}=this,i=t.length,n=t.slice();for(let t=0;t<i;t++)n[t].error(e);this.observers.length=0}complete(){if(this.closed)throw new Ue;this.isStopped=!0;let{observers:e}=this,t=e.length,i=e.slice();for(let e=0;e<t;e++)i[e].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new Ue;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new Ue;return this.hasError?(e.error(this.thrownError),Ve.EMPTY):this.isStopped?(e.complete(),Ve.EMPTY):(this.observers.push(e),new qe(this,e))}asObservable(){let e=new We;return e.source=this,e}}return e.create=(e,t)=>new Ze(e,t),e})(),Ze=class extends Xe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){let{destination:t}=this;t&&t.next&&t.next(e)}error(e){let{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){let{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){let{source:t}=this;return t?this.source.subscribe(e):Ve.EMPTY}};function Qe(){return function(e){return e.lift(new Je(e))}}var Je=class{constructor(e){this.connectable=e}call(e,t){let{connectable:i}=this;i._refCount++;let n=new et(e,i),r=t.subscribe(n);return n.closed||(n.connection=i.connect()),r}},et=class extends He{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){let{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;let t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);let{connection:i}=this,n=e._connection;this.connection=null,n&&(!i||n===i)&&n.unsubscribe()}},tt=class extends We{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new Ve,e.add(this.source.subscribe(new nt(this.getSubject(),this))),e.closed&&(this._connection=null,e=Ve.EMPTY)),e}refCount(){return Qe()(this)}},it=(()=>{let e=tt.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})(),nt=class extends Ye{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){let e=this.connectable;if(e){this.connectable=null;let t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}},rt=class extends Xe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ue;return this._value}next(e){super.next(this._value=e)}},st=class extends Ve{constructor(e,t){super()}schedule(e,t=0){return this}},ot=class extends st{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;let i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this}requestAsyncId(e,t,i=0){return setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,n=!1;try{this.work(e)}catch(e){n=!0,i=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),i}_unsubscribe(){let e=this.id,t=this.scheduler,i=t.actions,n=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&i.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}},at=(()=>{class e{constructor(t,i=e.now){this.SchedulerAction=t,this.now=i}schedule(e,t=0,i){return new this.SchedulerAction(this,e).schedule(i,t)}}return e.now=()=>Date.now(),e})(),lt=class e extends at{constructor(t,i=at.now){super(t,(()=>e.delegate&&e.delegate!==this?e.delegate.now():i())),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,i=0,n){return e.delegate&&e.delegate!==this?e.delegate.schedule(t,i,n):super.schedule(t,i,n)}flush(e){let t,{actions:i}=this;if(this.active)i.push(e);else{this.active=!0;do{if(t=e.execute(e.state,e.delay))break}while(e=i.shift());if(this.active=!1,t){for(;e=i.shift();)e.unsubscribe();throw t}}}},dt=new class extends lt{}(class extends ot{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(e,t,i):e.flush(this)}}),ct=new We((e=>e.complete()));function ht(e){return e?function(e){return new We((t=>e.schedule((()=>t.complete()))))}(e):ct}function ut(e){return e&&"function"==typeof e.schedule}var gt=e=>t=>{for(let i=0,n=e.length;i<n&&!t.closed;i++)t.next(e[i]);t.complete()};function pt(e,t){return new We((i=>{let n=new Ve,r=0;return n.add(t.schedule((function(){r!==e.length?(i.next(e[r++]),i.closed||n.add(this.schedule())):i.complete()}))),n}))}function mt(e,t){return t?pt(e,t):new We(gt(e))}function ft(...e){let t=e[e.length-1];return ut(t)?(e.pop(),pt(e,t)):mt(e)}var yt=class e{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,i){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return i&&i()}}accept(e,t,i){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,i)}toObservable(){switch(this.kind){case"N":return ft(this.value);case"E":return function(e,t){return new We((t=>t.error(e)))}(this.error);case"C":return ht()}throw new Error("unexpected notification kind value")}static createNext(t){return typeof t<"u"?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}};yt.completeNotification=new yt("C"),yt.undefinedValueNotification=new yt("N",void 0);var vt=class e extends He{constructor(e,t,i=0){super(e),this.scheduler=t,this.delay=i}static dispatch(e){let{notification:t,destination:i}=e;t.observe(i),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new xt(t,this.destination)))}_next(e){this.scheduleMessage(yt.createNext(e))}_error(e){this.scheduleMessage(yt.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(yt.createComplete()),this.unsubscribe()}},xt=class{constructor(e,t){this.notification=e,this.destination=t}},_t=class extends Xe{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){let t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new wt(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){let t,i=this._infiniteTimeWindow,n=i?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,s=n.length;if(this.closed)throw new Ue;if(this.isStopped||this.hasError?t=Ve.EMPTY:(this.observers.push(e),t=new qe(this,e)),r&&e.add(e=new vt(e,r)),i)for(let t=0;t<s&&!e.closed;t++)e.next(n[t]);else for(let t=0;t<s&&!e.closed;t++)e.next(n[t].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}_getNow(){return(this.scheduler||dt).now()}_trimBufferThenGetEvents(){let e=this._getNow(),t=this._bufferSize,i=this._windowTime,n=this._events,r=n.length,s=0;for(;s<r&&!(e-n[s].time<i);)s++;return r>t&&(s=Math.max(s,r-t)),s>0&&n.splice(0,s),n}},wt=class{constructor(e,t){this.time=e,this.value=t}},Ct=new lt(ot),St=new class extends lt{flush(e){this.active=!0,this.scheduled=void 0;let t,{actions:i}=this,n=-1,r=i.length;e=e||i.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<r&&(e=i.shift()));if(this.active=!1,t){for(;++n<r&&(e=i.shift());)e.unsubscribe();throw t}}}(class extends ot{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((()=>e.flush(null)))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});function bt(){}var Dt=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})(),Et=Dt,It=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})(),Tt=It;function At(e,t){return function(i){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new Rt(e,t))}}var Rt=class{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new kt(e,this.project,this.thisArg))}},kt=class extends He{constructor(e,t,i){super(e),this.project=t,this.count=0,this.thisArg=i||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},Ot="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Ft=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Pt(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var Mt=e=>{if(e&&"function"==typeof e[ze])return(e=>t=>{let i=e[ze]();if("function"!=typeof i.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return i.subscribe(t)})(e);if(Ft(e))return gt(e);if(Pt(e))return(e=>t=>(e.then((e=>{t.closed||(t.next(e),t.complete())}),(e=>t.error(e))).then(null,Ae),t))(e);if(e&&"function"==typeof e[Ot])return(e=>t=>{let i=e[Ot]();for(;;){let e;try{e=i.next()}catch(e){return t.error(e),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof i.return&&t.add((()=>{i.return&&i.return()})),t})(e);{let t=`You provided ${Oe(e)?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function Vt(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[ze]}(e))return function(e,t){return new We((i=>{let n=new Ve;return n.add(t.schedule((()=>{let r=e[ze]();n.add(r.subscribe({next(e){n.add(t.schedule((()=>i.next(e))))},error(e){n.add(t.schedule((()=>i.error(e))))},complete(){n.add(t.schedule((()=>i.complete())))}}))}))),n}))}(e,t);if(Pt(e))return function(e,t){return new We((i=>{let n=new Ve;return n.add(t.schedule((()=>e.then((e=>{n.add(t.schedule((()=>{i.next(e),n.add(t.schedule((()=>i.complete())))})))}),(e=>{n.add(t.schedule((()=>i.error(e))))}))))),n}))}(e,t);if(Ft(e))return pt(e,t);if(function(e){return e&&"function"==typeof e[Ot]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new We((i=>{let n,r=new Ve;return r.add((()=>{n&&"function"==typeof n.return&&n.return()})),r.add(t.schedule((()=>{n=e[Ot](),r.add(t.schedule((function(){if(i.closed)return;let e,t;try{let i=n.next();e=i.value,t=i.done}catch(e){return void i.error(e)}t?i.complete():(i.next(e),this.schedule())})))}))),r}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof We?e:new We(Mt(e))}var Nt=class extends He{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}},Lt=class extends He{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}};function Ht(e,t){if(t.closed)return;if(e instanceof We)return e.subscribe(t);let i;try{i=Mt(e)(t)}catch(e){t.error(e)}return i}function Bt(e,t,i=Number.POSITIVE_INFINITY){return"function"==typeof t?n=>n.pipe(Bt(((i,n)=>Vt(e(i,n)).pipe(At(((e,r)=>t(i,e,n,r))))),i)):("number"==typeof t&&(i=t),t=>t.lift(new zt(e,i)))}var zt=class{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new Gt(e,this.project,this.concurrent))}},Gt=class extends Lt{constructor(e,t,i=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t,i=this.index++;try{t=this.project(e,i)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t)}_innerSub(e){let t=new Nt(this),i=this.destination;i.add(t);let n=Ht(e,t);n!==t&&i.add(n)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){let e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}};function $t(e,t){return new We((i=>{let n=e.length;if(0===n)return void i.complete();let r=new Array(n),s=0,o=0;for(let a=0;a<n;a++){let l=Vt(e[a]),d=!1;i.add(l.subscribe({next:e=>{d||(d=!0,o++),r[a]=e},error:e=>i.error(e),complete:()=>{s++,(s===n||!d)&&(o===n&&i.next(t?t.reduce(((e,t,i)=>(e[t]=r[i],e)),{}):r),i.complete())}}))}}))}function Wt(e,t,i,n){return Ee(i)&&(n=i,i=void 0),n?Wt(e,t,i).pipe(At((e=>ke(e)?n(...e):n(e)))):new We((n=>{Kt(e,t,(function(e){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(e)}),n,i)}))}function Kt(e,t,i,n,r){let s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){let n=e;e.addEventListener(t,i,r),s=()=>n.removeEventListener(t,i,r)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){let n=e;e.on(t,i),s=()=>n.off(t,i)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){let n=e;e.addListener(t,i),s=()=>n.removeListener(t,i)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,o=e.length;s<o;s++)Kt(e[s],t,i,n,r)}n.add(s)}function jt(e){return!ke(e)&&e-parseFloat(e)+1>=0}function Ut(e=0,t=Ct){return(!jt(e)||e<0)&&(e=0),(!t||"function"!=typeof t.schedule)&&(t=Ct),new We((i=>(i.add(t.schedule(qt,e,{subscriber:i,counter:0,period:e})),i)))}function qt(e){let{subscriber:t,counter:i,period:n}=e;t.next(i),this.schedule({subscriber:t,counter:i+1,period:n},n)}function Yt(...e){let t=Number.POSITIVE_INFINITY,i=null,n=e[e.length-1];return ut(n)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof n&&(t=e.pop()),null===i&&1===e.length&&e[0]instanceof We?e[0]:function(e=Number.POSITIVE_INFINITY){return Bt(Ge,e)}(t)(mt(e,i))}function Xt(e,t){return function(i){return i.lift(new Zt(e,t))}}Object.prototype.toString;var Zt=class{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Qt(e,this.predicate,this.thisArg))}},Qt=class extends He{constructor(e,t,i){super(e),this.predicate=t,this.thisArg=i,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)}};function Jt(e){let{index:t,period:i,subscriber:n}=e;if(n.next(t),!n.closed){if(-1===i)return n.complete();e.index=t+1,this.schedule(e,i)}}function ei(e){return t=>t.lift(new ti(e))}var ti=class{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new ii(e,this.durationSelector))}},ii=class extends Lt{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){try{let t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(e,t){let i=this.durationSubscription;this.value=e,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=Ht(t,new Nt(this)),i&&!i.closed&&this.add(this.durationSubscription=i)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){let e=this.value,t=this.durationSubscription;t&&(this.durationSubscription=void 0,t.unsubscribe(),this.remove(t)),this.value=void 0,this.hasValue=!1,super._next(e)}}};function ni(e,t=Ct){return i=>i.lift(new ri(e,t))}var ri=class{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new si(e,this.dueTime,this.scheduler))}},si=class extends He{constructor(e,t,i){super(e),this.dueTime=t,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(oi,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){let{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){let e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}};function oi(e){e.debouncedNext()}var ai=class extends He{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}},li=class extends He{constructor(e,t,i){super(e),this.keySelector=i,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{let{keySelector:i}=this;t=i?i(e):e}catch(e){return this.destination.error(e)}let i=!1;if(this.hasKey)try{let{compare:e}=this;i=e(this.key,t)}catch(e){return this.destination.error(e)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}};function di(e=ui){return t=>t.lift(new ci(e))}var ci=class{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new hi(e,this.errorFactory))}},hi=class extends He{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}};function ui(){return new Tt}function gi(e){return t=>0===e?ht():t.lift(new pi(e))}var pi=class{constructor(e){if(this.total=e,this.total<0)throw new Et}call(e,t){return t.subscribe(new mi(e,this.total))}},mi=class extends He{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){let t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}};function fi(e,t){let i=arguments.length>=2;return n=>n.pipe(e?Xt(((t,i)=>e(t,i,n))):Ge,gi(1),i?function(e=null){return t=>t.lift(new class{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new ai(e,this.defaultValue))}}(e))}(t):di((()=>new Tt)))}function yi(){return new Xe}function vi(){return e=>Qe()(function(e,t){return function(t){let i;i="function"==typeof e?e:function(){return e};let n=Object.create(t,it);return n.source=t,n.subjectFactory=i,n}}(yi)(e))}var xi=class extends He{constructor(e,t){super(e),this._skipCount=t,this._count=0,this._ring=new Array(t)}_next(e){let t=this._skipCount,i=this._count++;if(i<t)this._ring[i]=e;else{let n=i%t,r=this._ring,s=r[n];r[n]=e,this.destination.next(s)}}};function _i(e,t){return"function"==typeof t?i=>i.pipe(_i(((i,n)=>Vt(e(i,n)).pipe(At(((e,r)=>t(i,e,n,r))))))):t=>t.lift(new wi(e))}var wi=class{constructor(e){this.project=e}call(e,t){return t.subscribe(new Ci(e,this.project))}},Ci=class extends Lt{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t,i=this.index++;try{t=this.project(e,i)}catch(e){return void this.destination.error(e)}this._innerSub(t)}_innerSub(e){let t=this.innerSubscription;t&&t.unsubscribe();let i=new Nt(this),n=this.destination;n.add(i),this.innerSubscription=Ht(e,i),this.innerSubscription!==i&&n.add(this.innerSubscription)}_complete(){let{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}};function Si(e){return t=>t.lift(new bi(e))}var bi=class{constructor(e){this.notifier=e}call(e,t){let i=new Di(e),n=Ht(this.notifier,new Nt(i));return n&&!i.seenValue?(i.add(n),t.subscribe(i)):i}},Di=class extends Lt{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}};function Ei(e,t=!1){return i=>i.lift(new Ii(e,t))}var Ii=class{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new Ti(e,this.predicate,this.inclusive))}},Ti=class extends He{constructor(e,t,i){super(e),this.predicate=t,this.inclusive=i,this.index=0}_next(e){let t,i=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void i.error(e)}this.nextOrComplete(e,t)}nextOrComplete(e,t){let i=this.destination;t?i.next(e):(this.inclusive&&i.next(e),i.complete())}},Ai=class extends He{constructor(e,t,i,n){super(e),this._tapNext=bt,this._tapError=bt,this._tapComplete=bt,this._tapError=i||bt,this._tapComplete=n||bt,Ee(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||bt,this._tapError=t.error||bt,this._tapComplete=t.complete||bt)}_next(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}},Ri={leading:!0,trailing:!1};function ki(e,t=Ri){return i=>i.lift(new Oi(e,!!t.leading,!!t.trailing))}var Oi=class{constructor(e,t,i){this.durationSelector=e,this.leading=t,this.trailing=i}call(e,t){return t.subscribe(new Fi(e,this.durationSelector,this.leading,this.trailing))}},Fi=class extends Lt{constructor(e,t,i,n){super(e),this.destination=e,this.durationSelector=t,this._leading=i,this._trailing=n,this._hasValue=!1}_next(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))}send(){let{_hasValue:e,_sendValue:t}=this;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=void 0}throttle(e){let t=this.tryDurationSelector(e);t&&this.add(this._throttled=Ht(t,new Nt(this)))}tryDurationSelector(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}}throttlingDone(){let{_throttled:e,_trailing:t}=this;e&&e.unsubscribe(),this._throttled=void 0,t&&this.send()}notifyNext(){this.throttlingDone()}notifyComplete(){this.throttlingDone()}};function Pi(e,t=Ct,i=Ri){return n=>n.lift(new Mi(e,t,i.leading,i.trailing))}var Mi=class{constructor(e,t,i,n){this.duration=e,this.scheduler=t,this.leading=i,this.trailing=n}call(e,t){return t.subscribe(new Vi(e,this.duration,this.scheduler,this.leading,this.trailing))}},Vi=class extends He{constructor(e,t,i,n,r){super(e),this.duration=t,this.scheduler=i,this.leading=n,this.trailing=r,this._hasTrailingValue=!1,this._trailingValue=null}_next(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Ni,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){let e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}};function Ni(e){let{subscriber:t}=e;t.clearThrottle()}function Li(e){for(let t in e)if(e[t]===Li)return t;throw Error("Could not find renamed property on target object.")}function Hi(e,t){for(let i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function Bi(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Bi).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(null==t)return""+t;let i=t.indexOf("\n");return-1===i?t:t.substring(0,i)}function zi(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var Gi=Li({__forward_ref__:Li});function $i(e){return e.__forward_ref__=$i,e.toString=function(){return Bi(this())},e}function Wi(e){return Ki(e)?e():e}function Ki(e){return"function"==typeof e&&e.hasOwnProperty(Gi)&&e.__forward_ref__===$i}function ji(e){return e&&!!e.providers}var Ui="https://g.co/ng/security#xss",qi=class extends Error{constructor(e,t){super(function(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(e,t)),this.code=e}};function Yi(e){return"string"==typeof e?e:null==e?"":String(e)}function Xi(e,t){throw new qi(-201,!1)}function Zi(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Qi(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ji(e){return en(e,rn)||en(e,on)}function en(e,t){return e.hasOwnProperty(t)?e[t]:null}function tn(e){return e&&(e.hasOwnProperty(sn)||e.hasOwnProperty(an))?e[sn]:null}var nn,rn=Li({prov:Li}),sn=Li({inj:Li}),on=Li({ngInjectableDef:Li}),an=Li({ngInjectorDef:Li}),ln=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ln||{});function dn(e){let t=nn;return nn=e,t}function cn(e,t,i){let n=Ji(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:i&ln.Optional?null:void 0!==t?t:void Xi(Bi(e))}var hn,un=globalThis,gn={},pn="__NG_DI_FLAG__",mn="ngTempTokenPath",fn=/\n/gm,yn="__source";function vn(e){let t=hn;return hn=e,t}function xn(e,t=ln.Default){if(void 0===hn)throw new qi(-203,!1);return null===hn?cn(e,void 0,t):hn.get(e,t&ln.Optional?null:void 0,t)}function _n(e,t=ln.Default){return(nn||xn)(Wi(e),t)}function wn(e,t=ln.Default){return _n(e,Cn(t))}function Cn(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Sn(e){let t=[];for(let i=0;i<e.length;i++){let n=Wi(e[i]);if(Array.isArray(n)){if(0===n.length)throw new qi(900,!1);let e,i=ln.Default;for(let t=0;t<n.length;t++){let r=n[t],s=Dn(r);"number"==typeof s?-1===s?e=r.token:i|=s:e=r}t.push(_n(e,i))}else t.push(_n(n))}return t}function bn(e,t){return e[pn]=t,e.prototype[pn]=t,e}function Dn(e){return e[pn]}function En(e){return{toString:e}.toString()}var In=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(In||{}),Tn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Tn||{}),An={},Rn=[],kn=Li({cmp:Li}),On=Li({dir:Li}),Fn=Li({pipe:Li}),Pn=Li({mod:Li}),Mn=Li({fac:Li}),Vn=Li({__NG_ELEMENT_ID__:Li}),Nn=Li({__NG_ENV_ID__:Li});function Ln(e,t,i){let n=e.length;for(;;){let r=e.indexOf(t,i);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){let i=t.length;if(r+i===n||e.charCodeAt(r+i)<=32)return r}i=r+1}}function Hn(e,t,i){let n=0;for(;n<i.length;){let r=i[n];if("number"==typeof r){if(0!==r)break;n++;let s=i[n++],o=i[n++],a=i[n++];e.setAttribute(t,o,a,s)}else{let s=r,o=i[++n];zn(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),n++}}return n}function Bn(e){return 3===e||4===e||6===e}function zn(e){return 64===e.charCodeAt(0)}function Gn(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let i=-1;for(let n=0;n<t.length;n++){let r=t[n];"number"==typeof r?i=r:0===i||$n(e,i,r,null,-1===i||2===i?t[++n]:null)}}return e}function $n(e,t,i,n,r){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){let i=e[s++];if("number"==typeof i){if(i===t){o=-1;break}if(i>t){o=s-1;break}}}for(;s<e.length;){let t=e[s];if("number"==typeof t)break;if(t===i){if(null===n)return void(null!==r&&(e[s+1]=r));if(n===e[s+1])return void(e[s+2]=r)}s++,null!==n&&s++,null!==r&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,i),null!==n&&e.splice(s++,0,n),null!==r&&e.splice(s++,0,r)}var Wn="ng-template";function Kn(e,t,i){let n=0,r=!0;for(;n<e.length;){let s=e[n++];if("string"==typeof s&&r){let r=e[n++];if(i&&"class"===s&&-1!==Ln(r.toLowerCase(),t,0))return!0}else{if(1===s){for(;n<e.length&&"string"==typeof(s=e[n++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function jn(e){return 4===e.type&&e.value!==Wn}function Un(e,t,i){return t===(4!==e.type||i?e.value:Wn)}function qn(e,t,i){let n=4,r=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(Bn(e[t]))return t;return e.length}(r),o=!1;for(let a=0;a<t.length;a++){let l=t[a];if("number"!=typeof l){if(!o)if(4&n){if(n=2|1&n,""!==l&&!Un(e,l,i)||""===l&&1===t.length){if(Yn(n))return!1;o=!0}}else{let d=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!Kn(e.attrs,d,i)){if(Yn(n))return!1;o=!0}continue}let c=Xn(8&n?"class":l,r,jn(e),i);if(-1===c){if(Yn(n))return!1;o=!0;continue}if(""!==d){let e;e=c>s?"":r[c+1].toLowerCase();let t=8&n?e:null;if(t&&-1!==Ln(t,d,0)||2&n&&d!==e){if(Yn(n))return!1;o=!0}}}}else{if(!o&&!Yn(n)&&!Yn(l))return!1;if(o&&Yn(l))continue;o=!1,n=l|1&n}}return Yn(n)||o}function Yn(e){return 0==(1&e)}function Xn(e,t,i,n){if(null===t)return-1;let r=0;if(n||!i){let i=!1;for(;r<t.length;){let n=t[r];if(n===e)return r;if(3===n||6===n)i=!0;else{if(1===n||2===n){let e=t[++r];for(;"string"==typeof e;)e=t[++r];continue}if(4===n)break;if(0===n){r+=4;continue}}r+=i?1:2}return-1}return function(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){let n=e[i];if("number"==typeof n)return-1;if(n===t)return i;i++}return-1}(t,e)}function Zn(e,t,i=!1){for(let n=0;n<t.length;n++)if(qn(e,t[n],i))return!0;return!1}function Qn(e,t){e:for(let i=0;i<t.length;i++){let n=t[i];if(e.length===n.length){for(let t=0;t<e.length;t++)if(e[t]!==n[t])continue e;return!0}}return!1}function Jn(e,t){return e?":not("+t.trim()+")":t}function er(e){let t=e[0],i=1,n=2,r="",s=!1;for(;i<e.length;){let o=e[i];if("string"==typeof o)if(2&n){let t=e[++i];r+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&n?r+="."+o:4&n&&(r+=" "+o);else""!==r&&!Yn(o)&&(t+=Jn(s,r),r=""),n=o,s=s||!Yn(n);i++}return""!==r&&(t+=Jn(s,r)),t}function tr(e){return En((()=>{let t=hr(e),i=f(m({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===In.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Tn.Emulated,styles:e.styles||Rn,_:null,schemas:e.schemas||null,tView:null,id:""});ur(i);let n=e.dependencies;return i.directiveDefs=gr(n,!1),i.pipeDefs=gr(n,!0),i.id=function(e){let t=0,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let e of i)t=Math.imul(31,t)+e.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(i),i}))}function ir(e){return lr(e)||dr(e)}function nr(e){return null!==e}function rr(e){return En((()=>({type:e.type,bootstrap:e.bootstrap||Rn,declarations:e.declarations||Rn,imports:e.imports||Rn,exports:e.exports||Rn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null})))}function sr(e,t){if(null==e)return An;let i={};for(let n in e)if(e.hasOwnProperty(n)){let r=e[n],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),i[r]=n,t&&(t[r]=s)}return i}function or(e){return En((()=>{let t=hr(e);return ur(t),t}))}function ar(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function lr(e){return e[kn]||null}function dr(e){return e[On]||null}function cr(e){return e[Fn]||null}function hr(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||An,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Rn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:sr(e.inputs,t),outputs:sr(e.outputs)}}function ur(e){e.features?.forEach((t=>t(e)))}function gr(e,t){if(!e)return null;let i=t?cr:ir;return()=>("function"==typeof e?e():e).map((e=>i(e))).filter(nr)}var pr=0,mr=1,fr=2,yr=3,vr=4,xr=5,_r=6,wr=7,Cr=8,Sr=9,br=10,Dr=11,Er=12,Ir=13,Tr=14,Ar=15,Rr=16,kr=17,Or=18,Fr=19,Pr=20,Mr=21,Vr=22,Nr=23,Lr=24,Hr=25,Br=1,zr=2,Gr=7,$r=9,Wr=11;function Kr(e){return Array.isArray(e)&&"object"==typeof e[Br]}function jr(e){return Array.isArray(e)&&!0===e[Br]}function Ur(e){return 0!=(4&e.flags)}function qr(e){return e.componentOffset>-1}function Yr(e){return 1==(1&e.flags)}function Xr(e){return!!e.template}function Zr(e){return 0!=(512&e[fr])}function Qr(e,t){return e.hasOwnProperty(Mn)?e[Mn]:null}var Jr=null,es=!1;function ts(e){let t=Jr;return Jr=e,t}var is={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function ns(e){if(!cs(e)||e.dirty){if(!e.producerMustRecompute(e)&&!as(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function rs(e){e.dirty=!0,function(e){if(void 0===e.liveConsumerNode)return;let t=es;es=!0;try{for(let t of e.liveConsumerNode)t.dirty||rs(t)}finally{es=t}}(e),e.consumerMarkedDirty?.(e)}function ss(e){return e&&(e.nextProducerIndex=0),ts(e)}function os(e,t){if(ts(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(cs(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)ds(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function as(e){hs(e);for(let t=0;t<e.producerNode.length;t++){let i=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==i.version||(ns(i),n!==i.version))return!0}return!1}function ls(e){if(hs(e),cs(e))for(let t=0;t<e.producerNode.length;t++)ds(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ds(e,t){if(function(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),hs(e),1===e.liveConsumerNode.length)for(let t=0;t<e.producerNode.length;t++)ds(e.producerNode[t],e.producerIndexOfThis[t]);let i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[t],n=e.liveConsumerNode[t];hs(n),n.producerIndexOfThis[i]=t}}function cs(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function hs(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function us(e){let t=ts(null);try{return e()}finally{ts(t)}}var gs=()=>{},ps=f(m({},is),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:gs}),ms=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function fs(){return ys}function ys(e){return e.type.prototype.ngOnChanges&&(e.setInput=xs),vs}function vs(){let e=ws(this),t=e?.current;if(t){let i=e.previous;if(i===An)e.previous=t;else for(let e in t)i[e]=t[e];e.current=null,this.ngOnChanges(t)}}function xs(e,t,i,n){let r=this.declaredInputs[i],s=ws(e)||function(e,t){return e[_s]=t}(e,{previous:An,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new ms(l&&l.currentValue,t,a===An),e[n]=t}fs.ngInherit=!0;var _s="__ngSimpleChanges__";function ws(e){return e[_s]||null}var Cs=function(e,t,i){},Ss="svg";function bs(e){for(;Array.isArray(e);)e=e[pr];return e}function Ds(e,t){return bs(t[e])}function Es(e,t){return bs(t[e.index])}function Is(e,t){return e.data[t]}function Ts(e,t){return e[t]}function As(e,t){let i=t[e];return Kr(i)?i:i[pr]}function Rs(e,t){return null==t?null:e[t]}function ks(e){e[kr]=0}function Os(e){1024&e[fr]||(e[fr]|=1024,Ps(e,1))}function Fs(e){1024&e[fr]&&(e[fr]&=-1025,Ps(e,-1))}function Ps(e,t){let i=e[yr];if(null===i)return;i[xr]+=t;let n=i;for(i=i[yr];null!==i&&(1===t&&1===n[xr]||-1===t&&0===n[xr]);)i[xr]+=t,n=i,i=i[yr]}var Ms={lFrame:ro(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Vs(){return Ms.bindingsEnabled}function Ns(){return null!==Ms.skipHydrationRootTNode}function Ls(){return Ms.lFrame.lView}function Hs(){return Ms.lFrame.tView}function Bs(e){return Ms.lFrame.contextLView=e,e[Cr]}function zs(e){return Ms.lFrame.contextLView=null,e}function Gs(){let e=$s();for(;null!==e&&64===e.type;)e=e.parent;return e}function $s(){return Ms.lFrame.currentTNode}function Ws(e,t){let i=Ms.lFrame;i.currentTNode=e,i.isParent=t}function Ks(){return Ms.lFrame.isParent}function js(){Ms.lFrame.isParent=!1}function Us(){let e=Ms.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function qs(){return Ms.lFrame.bindingIndex++}function Ys(e){let t=Ms.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,i}function Xs(e,t){let i=Ms.lFrame;i.bindingIndex=i.bindingRootIndex=e,Zs(t)}function Zs(e){Ms.lFrame.currentDirectiveIndex=e}function Qs(){return Ms.lFrame.currentQueryIndex}function Js(e){Ms.lFrame.currentQueryIndex=e}function eo(e){let t=e[mr];return 2===t.type?t.declTNode:1===t.type?e[_r]:null}function to(e,t,i){if(i&ln.SkipSelf){let n=t,r=e;for(;!(n=n.parent,null!==n||i&ln.Host||(n=eo(r),null===n||(r=r[Tr],10&n.type))););if(null===n)return!1;t=n,e=r}let n=Ms.lFrame=no();return n.currentTNode=t,n.lView=e,!0}function io(e){let t=no(),i=e[mr];Ms.lFrame=t,t.currentTNode=i.firstChild,t.lView=e,t.tView=i,t.contextLView=e,t.bindingIndex=i.bindingStartIndex,t.inI18n=!1}function no(){let e=Ms.lFrame,t=null===e?null:e.child;return null===t?ro(e):t}function ro(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function so(){let e=Ms.lFrame;return Ms.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var oo=so;function ao(){let e=so();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function lo(){return Ms.lFrame.selectedIndex}function co(e){Ms.lFrame.selectedIndex=e}function ho(){let e=Ms.lFrame;return Is(e.tView,e.selectedIndex)}function uo(){Ms.lFrame.currentNamespace=Ss}function go(){Ms.lFrame.currentNamespace=null}var po=!0;function mo(){return po}function fo(e){po=e}function yo(e,t){for(let i=t.directiveStart,n=t.directiveEnd;i<n;i++){let t=e.data[i].type.prototype,{ngAfterContentInit:n,ngAfterContentChecked:r,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;n&&(e.contentHooks??=[]).push(-i,n),r&&((e.contentHooks??=[]).push(i,r),(e.contentCheckHooks??=[]).push(i,r)),s&&(e.viewHooks??=[]).push(-i,s),o&&((e.viewHooks??=[]).push(i,o),(e.viewCheckHooks??=[]).push(i,o)),null!=a&&(e.destroyHooks??=[]).push(i,a)}}function vo(e,t,i){wo(e,t,3,i)}function xo(e,t,i,n){(3&e[fr])===i&&wo(e,t,i,n)}function _o(e,t){let i=e[fr];(3&i)===t&&(i&=8191,i+=1,e[fr]=i)}function wo(e,t,i,n){let r=void 0!==n?65535&e[kr]:0,s=n??-1,o=t.length-1,a=0;for(let l=r;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=n&&a>=n)break}else t[l]<0&&(e[kr]+=65536),(a<s||-1==s)&&(So(e,i,t,l),e[kr]=(4294901760&e[kr])+l+2),l++}function Co(e,t){Cs(4,e,t);let i=ts(null);try{t.call(e)}finally{ts(i),Cs(5,e,t)}}function So(e,t,i,n){let r=i[n]<0,s=i[n+1],o=e[r?-i[n]:i[n]];r?e[fr]>>13<e[kr]>>16&&(3&e[fr])===t&&(e[fr]+=8192,Co(o,s)):Co(o,s)}var bo=-1,Do=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function Eo(e){return e!==bo}function Io(e){return 32767&e}function To(e,t){let i=function(e){return e>>16}(e),n=t;for(;i>0;)n=n[Tr],i--;return n}var Ao=!0;function Ro(e){let t=Ao;return Ao=e,t}var ko=255,Oo=5,Fo=0,Po={};function Mo(e,t){let i=No(e,t);if(-1!==i)return i;let n=t[mr];n.firstCreatePass&&(e.injectorIndex=t.length,Vo(n.data,e),Vo(t,null),Vo(n.blueprint,null));let r=Lo(e,t),s=e.injectorIndex;if(Eo(r)){let e=Io(r),i=To(r,t),n=i[mr].data;for(let r=0;r<8;r++)t[s+r]=i[e+r]|n[e+r]}return t[s+8]=r,s}function Vo(e,t){e.push(0,0,0,0,0,0,0,0,t)}function No(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Lo(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,n=null,r=t;for(;null!==r;){if(n=Jo(r),null===n)return bo;if(i++,r=r[Tr],-1!==n.injectorIndex)return n.injectorIndex|i<<16}return bo}function Ho(e,t,i){!function(e,t,i){let n;"string"==typeof i?n=i.charCodeAt(0)||0:i.hasOwnProperty(Vn)&&(n=i[Vn]),null==n&&(n=i[Vn]=Fo++);let r=n&ko,s=1<<r;t.data[e+(r>>Oo)]|=s}(e,t,i)}function Bo(e,t,i){if(i&ln.Optional||void 0!==e)return e;Xi()}function zo(e,t,i,n){if(i&ln.Optional&&void 0===n&&(n=null),!(i&(ln.Self|ln.Host))){let r=e[Sr],s=dn(void 0);try{return r?r.get(t,n,i&ln.Optional):cn(t,n,i&ln.Optional)}finally{dn(s)}}return Bo(n,0,i)}function Go(e,t,i,n=ln.Default,r){if(null!==e){if(2048&t[fr]&&!(n&ln.Self)){let r=function(e,t,i,n,r){let s=e,o=t;for(;null!==s&&null!==o&&2048&o[fr]&&!(512&o[fr]);){let e=$o(s,o,i,n|ln.Self,Po);if(e!==Po)return e;let t=s.parent;if(!t){let e=o[Pr];if(e){let t=e.get(i,Po,n);if(t!==Po)return t}t=Jo(o),o=o[Tr]}s=t}return r}(e,t,i,n,Po);if(r!==Po)return r}let r=$o(e,t,i,n,Po);if(r!==Po)return r}return zo(t,i,n,r)}function $o(e,t,i,n,r){let s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Vn)?e[Vn]:void 0;return"number"==typeof t?t>=0?t&ko:Xo:t}(i);if("function"==typeof s){if(!to(t,e,n))return n&ln.Host?Bo(r,0,n):zo(t,i,n,r);try{let e;if(e=s(n),null!=e||n&ln.Optional)return e;Xi()}finally{oo()}}else if("number"==typeof s){let r=null,o=No(e,t),a=bo,l=n&ln.Host?t[Ar][_r]:null;for((-1===o||n&ln.SkipSelf)&&(a=-1===o?Lo(e,t):t[o+8],a!==bo&&qo(n,!1)?(r=t[mr],o=Io(a),t=To(a,t)):o=-1);-1!==o;){let e=t[mr];if(Uo(s,o,e.data)){let e=Wo(o,t,i,r,n,l);if(e!==Po)return e}a=t[o+8],a!==bo&&qo(n,t[mr].data[o+8]===l)&&Uo(s,o,t)?(r=e,o=Io(a),t=To(a,t)):o=-1}}return r}function Wo(e,t,i,n,r,s){let o=t[mr],a=o.data[e+8],l=Ko(a,o,i,null==n?qr(a)&&Ao:n!=o&&0!=(3&a.type),r&ln.Host&&s===a);return null!==l?jo(t,o,l,a):Po}function Ko(e,t,i,n,r){let s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,d=e.directiveEnd,c=s>>20,h=r?a+c:d;for(let e=n?a:a+c;e<h;e++){let t=o[e];if(e<l&&i===t||e>=l&&t.type===i)return e}if(r){let e=o[l];if(e&&Xr(e)&&e.type===i)return l}return null}function jo(e,t,i,n){let r=e[i],s=t.data;if(function(e){return e instanceof Do}(r)){let o=r;o.resolving&&function(e,t){throw new qi(-200,`Circular dependency in DI detected for ${e}`)}(function(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Yi(e)}(s[i]));let a=Ro(o.canSeeViewProviders);o.resolving=!0;let l=o.injectImpl?dn(o.injectImpl):null;to(e,n,ln.Default);try{r=e[i]=o.factory(void 0,s,e,n),t.firstCreatePass&&i>=n.directiveStart&&function(e,t,i){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(n){let n=ys(t);(i.preOrderHooks??=[]).push(e,n),(i.preOrderCheckHooks??=[]).push(e,n)}r&&(i.preOrderHooks??=[]).push(0-e,r),s&&((i.preOrderHooks??=[]).push(e,s),(i.preOrderCheckHooks??=[]).push(e,s))}(i,s[i],t)}finally{null!==l&&dn(l),Ro(a),o.resolving=!1,oo()}}return r}function Uo(e,t,i){let n=1<<e;return!!(i[t+(e>>Oo)]&n)}function qo(e,t){return!(e&ln.Self||e&ln.Host&&t)}var Yo=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Go(this._tNode,this._lView,e,Cn(i),t)}};function Xo(){return new Yo(Gs(),Ls())}function Zo(e){return En((()=>{let t=e.prototype.constructor,i=t[Mn]||Qo(t),n=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==n;){let e=r[Mn]||Qo(r);if(e&&e!==i)return e;r=Object.getPrototypeOf(r)}return e=>new e}))}function Qo(e){return Ki(e)?()=>{let t=Qo(Wi(e));return t&&t()}:Qr(e)}function Jo(e){let t=e[mr],i=t.type;return 2===i?t.declTNode:1===i?e[_r]:null}var ea="__parameters__";function ta(e,t,i){return En((()=>{let n=function(e){return function(...t){if(e){let i=e(...t);for(let e in i)this[e]=i[e]}}}(t);function r(...e){if(this instanceof r)return n.apply(this,e),this;let t=new r(...e);return i.annotation=t,i;function i(e,i,n){let r=e.hasOwnProperty(ea)?e[ea]:Object.defineProperty(e,ea,{value:[]})[ea];for(;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(t),e}}return i&&(r.prototype=Object.create(i.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r}))}function ia(e,t){e.forEach((e=>Array.isArray(e)?ia(e,t):t(e)))}function na(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function ra(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function sa(e,t){let i=[];for(let n=0;n<e;n++)i.push(t);return i}function oa(e,t,i){let n=la(e,t);return n>=0?e[1|n]=i:(n=~n,function(e,t,i,n){let r=e.length;if(r==t)e.push(i,n);else if(1===r)e.push(n,e[0]),e[0]=i;else{for(r--,e.push(e[r-1],e[r]);r>t;){let t=r-2;e[r]=e[t],r--}e[t]=i,e[t+1]=n}}(e,n,t,i)),n}function aa(e,t){let i=la(e,t);if(i>=0)return e[1|i]}function la(e,t){return function(e,t,i){let n=0,r=e.length>>1;for(;r!==n;){let i=n+(r-n>>1),s=e[i<<1];if(t===s)return i<<1;s>t?r=i:n=i+1}return~(r<<1)}(e,t)}var da=bn(ta("Inject",(e=>({token:e}))),-1),ca=bn(ta("Optional"),8),ha=bn(ta("SkipSelf"),4);function ua(e){return 128==(128&e.flags)}var ga,pa=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(pa||{}),ma=/^>|^->|<!--|-->|--!>|<!-$/g,fa=/(<|>)/g,ya=new Map,va=0,xa="__ngContext__";function _a(e,t){Kr(t)?(e[xa]=t[Fr],function(e){ya.set(e[Fr],e)}(t)):e[xa]=t}function wa(e,t){return ga(e,t)}function Ca(e){let t=e[yr];return jr(t)?t[yr]:t}function Sa(e){return Da(e[Er])}function ba(e){return Da(e[vr])}function Da(e){for(;null!==e&&!jr(e);)e=e[vr];return e}function Ea(e,t,i,n,r){if(null!=n){let s,o=!1;jr(n)?s=n:Kr(n)&&(o=!0,n=n[pr]);let a=bs(n);0===e&&null!==i?null==r?Pa(t,i,a):Fa(t,i,a,r||null,!0):1===e&&null!==i?Fa(t,i,a,r||null,!0):2===e?function(e,t,i){let n=Va(e,t);n&&function(e,t,i,n){e.removeChild(t,i,n)}(e,n,t,i)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,i,n,r){let s=i[Gr];s!==bs(i)&&Ea(t,e,n,s,r);for(let r=Wr;r<i.length;r++){let o=i[r];qa(o[mr],o,e,t,n,s)}}(t,e,s,i,r)}}function Ia(e,t,i){return e.createElement(t,i)}function Ta(e,t){let i=e[$r],n=i.indexOf(t);t[yr],Fs(t),i.splice(n,1)}function Aa(e,t){if(e.length<=Wr)return;let i=Wr+t,n=e[i];if(n){let r=n[Rr];null!==r&&r!==e&&Ta(r,n),t>0&&(e[i-1][vr]=n[vr]);let s=ra(e,Wr+t);!function(e,t){qa(e,t,t[Dr],2,null,null),t[pr]=null,t[_r]=null}(n[mr],n);let o=s[Or];null!==o&&o.detachView(s[mr]),n[yr]=null,n[vr]=null,n[fr]&=-129}return n}function Ra(e,t){if(!(256&t[fr])){let i=t[Dr];t[Nr]&&ls(t[Nr]),t[Lr]&&ls(t[Lr]),i.destroyNode&&qa(e,t,i,3,null,null),function(e){let t=e[Er];if(!t)return ka(e[mr],e);for(;t;){let i=null;if(Kr(t))i=t[Er];else{let e=t[Wr];e&&(i=e)}if(!i){for(;t&&!t[vr]&&t!==e;)Kr(t)&&ka(t[mr],t),t=t[yr];null===t&&(t=e),Kr(t)&&ka(t[mr],t),i=t&&t[vr]}t=i}}(t)}}function ka(e,t){if(!(256&t[fr])){t[fr]&=-129,t[fr]|=256,function(e,t){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let e=0;e<i.length;e+=2){let n=t[i[e]];if(!(n instanceof Do)){let t=i[e+1];if(Array.isArray(t))for(let e=0;e<t.length;e+=2){let i=n[t[e]],r=t[e+1];Cs(4,i,r);try{r.call(i)}finally{Cs(5,i,r)}}else{Cs(4,n,t);try{t.call(n)}finally{Cs(5,n,t)}}}}}(e,t),function(e,t){let i=e.cleanup,n=t[wr];if(null!==i)for(let e=0;e<i.length-1;e+=2)if("string"==typeof i[e]){let t=i[e+3];t>=0?n[t]():n[-t].unsubscribe(),e+=2}else{let t=n[i[e+1]];i[e].call(t)}null!==n&&(t[wr]=null);let r=t[Mr];if(null!==r){t[Mr]=null;for(let e=0;e<r.length;e++)(0,r[e])()}}(e,t),1===t[mr].type&&t[Dr].destroy();let i=t[Rr];if(null!==i&&jr(t[yr])){i!==t[yr]&&Ta(i,t);let n=t[Or];null!==n&&n.detachView(e)}!function(e){ya.delete(e[Fr])}(t)}}function Oa(e,t,i){return function(e,t,i){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return i[pr];{let{componentOffset:t}=n;if(t>-1){let{encapsulation:i}=e.data[n.directiveStart+t];if(i===Tn.None||i===Tn.Emulated)return null}return Es(n,i)}}(e,t.parent,i)}function Fa(e,t,i,n,r){e.insertBefore(t,i,n,r)}function Pa(e,t,i){e.appendChild(t,i)}function Ma(e,t,i,n,r){null!==n?Fa(e,t,i,n,r):Pa(e,t,i)}function Va(e,t){return e.parentNode(t)}function Na(e,t,i){return Ga(e,t,i)}var La,Ha,Ba,za,Ga=function(e,t,i){return 40&e.type?Es(e,i):null};function $a(e,t,i,n){let r=Oa(e,n,t),s=t[Dr],o=Na(n.parent||t[_r],n,t);if(null!=r)if(Array.isArray(i))for(let e=0;e<i.length;e++)Ma(s,r,i[e],o,!1);else Ma(s,r,i,o,!1);void 0!==La&&La(s,n,t,i,r)}function Wa(e,t){if(null!==t){let i=t.type;if(3&i)return Es(t,e);if(4&i)return ja(-1,e[t.index]);if(8&i){let i=t.child;if(null!==i)return Wa(e,i);{let i=e[t.index];return jr(i)?ja(-1,i):bs(i)}}if(32&i)return wa(t,e)()||bs(e[t.index]);{let i=Ka(e,t);return null!==i?Array.isArray(i)?i[0]:Wa(Ca(e[Ar]),i):Wa(e,t.next)}}return null}function Ka(e,t){if(null!==t){let i=e[Ar][_r],n=t.projection;return i.projection[n]}return null}function ja(e,t){let i=Wr+e+1;if(i<t.length){let e=t[i],n=e[mr].firstChild;if(null!==n)return Wa(e,n)}return t[Gr]}function Ua(e,t,i,n,r,s,o){for(;null!=i;){let a=n[i.index],l=i.type;if(o&&0===t&&(a&&_a(bs(a),n),i.flags|=2),32!=(32&i.flags))if(8&l)Ua(e,t,i.child,n,r,s,!1),Ea(t,e,r,a,s);else if(32&l){let o,l=wa(i,n);for(;o=l();)Ea(t,e,r,o,s);Ea(t,e,r,a,s)}else 16&l?Ya(e,t,n,i,r,s):Ea(t,e,r,a,s);i=o?i.projectionNext:i.next}}function qa(e,t,i,n,r,s){Ua(i,n,e.firstChild,t,r,s,!1)}function Ya(e,t,i,n,r,s){let o=i[Ar],a=o[_r].projection[n.projection];if(Array.isArray(a))for(let i=0;i<a.length;i++)Ea(t,e,r,a[i],s);else{let i=a,l=o[yr];ua(n)&&(i.flags|=128),Ua(e,t,i,l,r,s,!0)}}function Xa(e,t,i){""===i?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i)}function Za(e,t,i){let{mergedAttrs:n,classes:r,styles:s}=i;null!==n&&Hn(e,t,n),null!==r&&Xa(e,t,r),null!==s&&function(e,t,i){e.setAttribute(t,"style",i)}(e,t,s)}function Qa(e){return function(){if(void 0===Ha&&(Ha=null,un.trustedTypes))try{Ha=un.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ha}()?.createHTML(e)||e}function Ja(){if(void 0!==Ba)return Ba;if(typeof document<"u")return document;throw new qi(210,!1)}function el(e){return function(){if(void 0===za&&(za=null,un.trustedTypes))try{za=un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return za}()?.createHTML(e)||e}var tl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ui})`}},il=class extends tl{getTypeName(){return"HTML"}},nl=class extends tl{getTypeName(){return"Style"}},rl=class extends tl{getTypeName(){return"Script"}},sl=class extends tl{getTypeName(){return"URL"}},ol=class extends tl{getTypeName(){return"ResourceURL"}};function al(e){return e instanceof tl?e.changingThisBreaksApplicationSecurity:e}function ll(e,t){let i=function(e){return e instanceof tl&&e.getTypeName()||null}(e);if(null!=i&&i!==t){if("ResourceURL"===i&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${i} (see ${Ui})`)}return i===t}var dl=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=(new window.DOMParser).parseFromString(Qa(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}},cl=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Qa(e),t}},hl=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ul(e){return(e=String(e)).match(hl)?e:"unsafe:"+e}function gl(e){let t={};for(let i of e.split(","))t[i]=!0;return t}function pl(...e){let t={};for(let i of e)for(let e in i)i.hasOwnProperty(e)&&(t[e]=!0);return t}var ml,fl=gl("area,br,col,hr,img,wbr"),yl=gl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),vl=gl("rp,rt"),xl=pl(vl,yl),_l=pl(yl,gl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wl=pl(vl,gl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Cl=pl(fl,_l,wl,xl),Sl=gl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bl=gl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Dl=gl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),El=pl(Sl,bl,Dl),Il=gl("script,style,template"),Tl=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){let t=e.nodeName.toLowerCase();if(!Cl.hasOwnProperty(t))return this.sanitizedSomething=!0,!Il.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let e=0;e<i.length;e++){let t=i.item(e),n=t.name,r=n.toLowerCase();if(!El.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let s=t.value;Sl[r]&&(s=ul(s)),this.buf.push(" ",n,'="',kl(s),'"')}return this.buf.push(">"),!0}endElement(e){let t=e.nodeName.toLowerCase();Cl.hasOwnProperty(t)&&!fl.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(kl(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}},Al=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rl=/([^\#-~ |!])/g;function kl(e){return e.replace(/&/g,"&amp;").replace(Al,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Rl,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ol(e,t){let i=null;try{ml=ml||function(e){let t=new cl(e);return function(){try{return!!(new window.DOMParser).parseFromString(Qa(""),"text/html")}catch{return!1}}()?new dl(t):t}(e);let n=t?String(t):"";i=ml.getInertBodyElement(n);let r=5,s=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=i.innerHTML,i=ml.getInertBodyElement(n)}while(n!==s);return Qa((new Tl).sanitizeChildren(Fl(i)||i))}finally{if(i){let e=Fl(i)||i;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function Fl(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Pl=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Pl||{});function Ml(e){let t=Nl();return t?el(t.sanitize(Pl.HTML,e)||""):ll(e,"HTML")?el(al(e)):Ol(Ja(),Yi(e))}function Vl(e){let t=Nl();return t?t.sanitize(Pl.URL,e)||"":ll(e,"URL")?al(e):ul(Yi(e))}function Nl(){let e=Ls();return e&&e[br].sanitizer}var Ll=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.prov=Zi({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},Hl=new Ll("ENVIRONMENT_INITIALIZER"),Bl=new Ll("INJECTOR",-1),zl=new Ll("INJECTOR_DEF_TYPES"),Gl=class{get(e,t=gn){if(t===gn){let t=new Error(`NullInjectorError: No provider for ${Bi(e)}!`);throw t.name="NullInjectorError",t}return t}};function $l(...e){return{providers:Wl(0,e),fromNgModule:!0}}function Wl(e,...t){let i,n=[],r=new Set,s=e=>{n.push(e)};return ia(t,(e=>{let t=e;jl(t,s,[],r)&&(i||=[],i.push(t))})),void 0!==i&&Kl(i,s),n}function Kl(e,t){for(let i=0;i<e.length;i++){let{ngModule:n,providers:r}=e[i];Ul(r,(e=>{t(e,n)}))}}function jl(e,t,i,n){if(!(e=Wi(e)))return!1;let r=null,s=tn(e),o=!s&&lr(e);if(s||o){if(o&&!o.standalone)return!1;r=e}else{let t=e.ngModule;if(s=tn(t),!s)return!1;r=t}let a=n.has(r);if(o){if(a)return!1;if(n.add(r),o.dependencies){let e="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(let r of e)jl(r,t,i,n)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let e;n.add(r);try{ia(s.imports,(r=>{jl(r,t,i,n)&&(e||=[],e.push(r))}))}finally{}void 0!==e&&Kl(e,t)}if(!a){let e=Qr(r)||(()=>new r);t({provide:r,useFactory:e,deps:Rn},r),t({provide:zl,useValue:r,multi:!0},r),t({provide:Hl,useValue:()=>_n(r),multi:!0},r)}let o=s.providers;if(null!=o&&!a){let i=e;Ul(o,(e=>{t(e,i)}))}}}return r!==e&&void 0!==e.providers}function Ul(e,t){for(let i of e)ji(i)&&(i=i.providers),Array.isArray(i)?Ul(i,t):t(i)}var ql=Li({provide:String,useValue:Li});function Yl(e){return null!==e&&"object"==typeof e&&ql in e}function Xl(e){return"function"==typeof e}var Zl,Ql=new Ll("Set Injector scope."),Jl={},ed={};function td(){return void 0===Zl&&(Zl=new Gl),Zl}var id=class{},nd=class extends id{get destroyed(){return this._destroyed}constructor(e,t,i,n){super(),this.parent=t,this.source=i,this.scopes=n,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ad(e,(e=>this.processProvider(e))),this.records.set(Bl,od(void 0,this)),n.has("environment")&&this.records.set(id,od(void 0,this));let r=this.records.get(Ql);null!=r&&"string"==typeof r.value&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(zl.multi,Rn,ln.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let e of this._ngOnDestroyHooks)e.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=vn(this),i=dn(void 0);try{return e()}finally{vn(t),dn(i)}}get(e,t=gn,i=ln.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Nn))return e[Nn](this);i=Cn(i);let n=vn(this),r=dn(void 0);try{if(!(i&ln.SkipSelf)){let t=this.records.get(e);if(void 0===t){let i=function(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ll}(e)&&Ji(e);t=i&&this.injectableDefInScope(i)?od(rd(e),Jl):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}let n=i&ln.Self?td():this.parent;return t=i&ln.Optional&&t===gn?null:t,n.get(e,t)}catch(t){if("NullInjectorError"===t.name){if((t[mn]=t[mn]||[]).unshift(Bi(e)),n)throw t;return function(e,t,i,n){let r=e[mn];throw t[yn]&&r.unshift(t[yn]),e.message=function(e,t,i,n=null){e=e&&"\n"===e.charAt(0)&&""==e.charAt(1)?e.slice(2):e;let r=Bi(t);if(Array.isArray(t))r=t.map(Bi).join(" -> ");else if("object"==typeof t){let e=[];for(let i in t)if(t.hasOwnProperty(i)){let n=t[i];e.push(i+":"+("string"==typeof n?JSON.stringify(n):Bi(n)))}r=`{${e.join(", ")}}`}return`${i}${n?"("+n+")":""}[${r}]: ${e.replace(fn,"\n  ")}`}("\n"+e.message,r,i,n),e.ngTokenPath=r,e[mn]=null,e}(t,e,"R3InjectorError",this.source)}throw t}finally{dn(r),vn(n)}}resolveInjectorInitializers(){let e=vn(this),t=dn(void 0);try{let e=this.get(Hl.multi,Rn,ln.Self);for(let t of e)t()}finally{vn(e),dn(t)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(Bi(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new qi(205,!1)}processProvider(e){let t=Xl(e=Wi(e))?e:Wi(e&&e.provide),i=function(e){return Yl(e)?od(void 0,e.useValue):od(sd(e),Jl)}(e);if(Xl(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=od(void 0,Jl,!0),i.factory=()=>Sn(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Jl&&(t.value=ed,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Wi(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}};function rd(e){let t=Ji(e),i=null!==t?t.factory:Qr(e);if(null!==i)return i;if(e instanceof Ll)throw new qi(204,!1);if(e instanceof Function)return function(e){let t=e.length;if(t>0)throw sa(t,"?"),new qi(204,!1);let i=function(e){return e&&(e[rn]||e[on])||null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new qi(204,!1)}function sd(e,t,i){let n;if(Xl(e)){let t=Wi(e);return Qr(t)||rd(t)}if(Yl(e))n=()=>Wi(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...Sn(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))n=()=>_n(Wi(e.useExisting));else{let t=Wi(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Qr(t)||rd(t);n=()=>new t(...Sn(e.deps))}return n}function od(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function ad(e,t){for(let i of e)Array.isArray(i)?ad(i,t):i&&ji(i)?ad(i.providers,t):t(i)}var ld=new Ll("AppId",{providedIn:"root",factory:()=>dd}),dd="ng",cd=new Ll("Platform Initializer"),hd=new Ll("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ud=new Ll("AnimationModuleType"),gd=new Ll("CSP nonce",{providedIn:"root",factory:()=>Ja().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),pd=(e,t,i)=>null;function md(e,t,i=!1){return pd(e,t,i)}var fd=class{},yd=class{},vd=(()=>{let e=class{};return e.NULL=new class{resolveComponentFactory(e){throw function(e){let t=Error(`No component factory found for ${Bi(e)}.`);return t.ngComponent=e,t}(e)}},e})();function xd(){return _d(Gs(),Ls())}function _d(e,t){return new wd(Es(e,t))}var wd=(()=>{let e=class{constructor(e){this.nativeElement=e}};return e.__NG_ELEMENT_ID__=xd,e})();function Cd(e){return e instanceof wd?e.nativeElement:e}var Sd=class{},bd=(()=>{let e=class{constructor(){this.destroyNode=null}};return e.__NG_ELEMENT_ID__=()=>function(){let e=Ls(),t=As(Gs().index,e);return(Kr(t)?t:e)[Dr]}(),e})(),Dd=(()=>{let e=class{};return e.prov=Zi({token:e,providedIn:"root",factory:()=>null}),e})(),Ed=new class{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}("16.2.8"),Id={};function Td(e,t=null,i=null,n){let r=Ad(e,t,i,n);return r.resolveInjectorInitializers(),r}function Ad(e,t=null,i=null,n,r=new Set){let s=[i||Rn,$l(e)];return n=n||("object"==typeof e?void 0:Bi(e)),new nd(s,t||td(),n||null,r)}var Rd=(()=>{let e=class{static create(e,t){if(Array.isArray(e))return Td({name:""},t,e,"");{let t=e.name??"";return Td({name:t},e.parent,e.providers,t)}}};return e.THROW_IF_NOT_FOUND=gn,e.NULL=new Gl,e.prov=Zi({token:e,providedIn:"any",factory:()=>_n(Bl)}),e.__NG_ELEMENT_ID__=-1,e})();function kd(e){return e.ngOriginalError}var Od=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&kd(e);for(;t&&kd(t);)t=kd(t);return t||null}};function Fd(e){return t=>{setTimeout(e,void 0,t)}}var Pd=class extends Xe{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let n=e,r=t||(()=>null),s=i;if(e&&"object"==typeof e){let t=e;n=t.next?.bind(t),r=t.error?.bind(t),s=t.complete?.bind(t)}this.__isAsync&&(r=Fd(r),n&&(n=Fd(n)),s&&(s=Fd(s)));let o=super.subscribe({next:n,error:r,complete:s});return e instanceof Ve&&e.add(o),o}};function Md(...e){}var Vd=class e{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pd(!1),this.onMicrotaskEmpty=new Pd(!1),this.onStable=new Pd(!1),this.onError=new Pd(!1),typeof Zone>"u")throw new qi(908,!1);Zone.assertZonePatched();let n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=!i&&t,n.shouldCoalesceRunChangeDetection=i,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let e="function"==typeof un.requestAnimationFrame,t=un[e?"requestAnimationFrame":"setTimeout"],i=un[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&i){let e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);let n=i[Zone.__symbol__("OriginalDelegate")];n&&(i=n)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(e){let t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(un,(()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",(()=>{e.lastRequestAnimationFrameId=-1,Hd(e),e.isCheckStableRunning=!0,Ld(e),e.isCheckStableRunning=!1}),void 0,(()=>{}),(()=>{}))),e.fakeTopEventTask.invoke()})),Hd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,n,r,s,o,a)=>{if(function(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return i.invokeTask(r,s,o,a);try{return Bd(e),i.invokeTask(r,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),zd(e)}},onInvoke:(i,n,r,s,o,a,l)=>{try{return Bd(e),i.invoke(r,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),zd(e)}},onHasTask:(t,i,n,r)=>{t.hasTask(n,r),i===n&&("microTask"==r.change?(e._hasPendingMicrotasks=r.microTask,Hd(e),Ld(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,i,n,r)=>(t.handleError(n,r),e.runOutsideAngular((()=>e.onError.emit(r))),!1)})}(n)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!e.isInAngularZone())throw new qi(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new qi(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,n){let r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+n,e,Nd,Md,Md);try{return r.runTask(s,t,i)}finally{r.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},Nd={};function Ld(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((()=>e.onStable.emit(null)))}finally{e.isStable=!0}}}function Hd(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Bd(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function zd(e){e._nesting--,Ld(e)}var Gd=new Ll("",{providedIn:"root",factory:$d});function $d(){let e=wn(Vd),t=!0;return Yt(new We((i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular((()=>{i.next(t),i.complete()}))})),new We((i=>{let n;e.runOutsideAngular((()=>{n=e.onStable.subscribe((()=>{Vd.assertNotInAngularZone(),queueMicrotask((()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))}))}))}));let r=e.onUnstable.subscribe((()=>{Vd.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular((()=>{i.next(!1)})))}));return()=>{n.unsubscribe(),r.unsubscribe()}})).pipe(vi()))}function Wd(e){return e.ownerDocument}var Kd=(()=>{let e=class{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}};return e.prov=Zi({token:e,providedIn:"root",factory:()=>new e}),e})();function jd(e){for(;e;){e[fr]|=64;let t=Ca(e);if(Zr(e)&&!t)return e;e=t}return null}var Ud=new Ll("",{providedIn:"root",factory:()=>!1}),qd=null;function Yd(e,t){return e[t]??Jd()}function Xd(e,t){let i=Jd();i.producerNode?.length&&(e[t]=qd,i.lView=e,qd=Qd())}var Zd=f(m({},is),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{jd(e.lView)},lView:null});function Qd(){return Object.create(Zd)}function Jd(){return qd??=Qd(),qd}var ec={};function tc(e){ic(Hs(),Ls(),lo()+e,!1)}function ic(e,t,i,n){if(!n)if(3==(3&t[fr])){let n=e.preOrderCheckHooks;null!==n&&vo(t,n,i)}else{let n=e.preOrderHooks;null!==n&&xo(t,n,0,i)}co(i)}function nc(e,t=ln.Default){let i=Ls();return null===i?_n(e,t):Go(Gs(),i,Wi(e),t)}function rc(e,t,i,n,r,s,o,a,l,d,c){let h=t.blueprint.slice();return h[pr]=r,h[fr]=140|n,(null!==d||e&&2048&e[fr])&&(h[fr]|=2048),ks(h),h[yr]=h[Tr]=e,h[Cr]=i,h[br]=o||e&&e[br],h[Dr]=a||e&&e[Dr],h[Sr]=l||e&&e[Sr]||null,h[_r]=s,h[Fr]=va++,h[Vr]=c,h[Pr]=d,h[Ar]=2==t.type?e[Ar]:h,h}function sc(e,t,i,n,r){let s=e.data[t];if(null===s)s=function(e,t,i,n,r){let s=$s(),o=Ks(),a=o?s:s&&s.parent,l=e.data[t]=function(e,t,i,n,r,s){let o=t?t.injectorIndex:-1,a=0;return Ns()&&(a|=128),{type:i,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a,i,t,n,r);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,t,i,n,r),Ms.lFrame.inI18n&&(s.flags|=32);else if(64&s.type){s.type=i,s.value=n,s.attrs=r;let e=function(){let e=Ms.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===e?-1:e.injectorIndex}return Ws(s,!0),s}function oc(e,t,i,n){if(0===i)return-1;let r=t.length;for(let r=0;r<i;r++)t.push(n),e.blueprint.push(n),e.data.push(null);return r}function ac(e,t,i,n,r){let s=Yd(t,Nr),o=lo(),a=2&n;try{co(-1),a&&t.length>Hr&&ic(e,t,Hr,!1),Cs(a?2:0,r);let o=a?s:null,l=ss(o);try{null!==o&&(o.dirty=!1),i(n,r)}finally{os(o,l)}}finally{a&&null===t[Nr]&&Xd(t,Nr),co(o),Cs(a?3:1,r)}}function lc(e,t,i){if(Ur(t)){let n=ts(null);try{let n=t.directiveStart,r=t.directiveEnd;for(let t=n;t<r;t++){let n=e.data[t];n.contentQueries&&n.contentQueries(1,i[t],t)}}finally{ts(n)}}}function dc(e,t,i){Vs()&&(function(e,t,i,n){let r=i.directiveStart,s=i.directiveEnd;qr(i)&&function(e,t,i){let n=Es(t,e),r=hc(i),s=e[br].rendererFactory,o=16;i.signals?o=4096:i.onPush&&(o=64);let a=Ac(e,rc(e,r,null,o,n,t,null,s.createRenderer(n,i),null,null,null));e[t.index]=a}(t,i,e.data[r+i.componentOffset]),e.firstCreatePass||Mo(i,t),_a(n,t);let o=i.initialInputs;for(let n=r;n<s;n++){let s=e.data[n],a=jo(t,e,n,i);_a(a,t),null!==o&&bc(0,n-r,a,s,0,o),Xr(s)&&(As(i.index,t)[Cr]=jo(t,e,n,i))}}(e,t,i,Es(i,t)),64==(64&i.flags)&&xc(e,t,i))}function cc(e,t,i=Es){let n=t.localNames;if(null!==n){let r=t.index+1;for(let s=0;s<n.length;s+=2){let o=n[s+1],a=-1===o?i(t,e):e[o];e[r++]=a}}}function hc(e){let t=e.tView;return null===t||t.incompleteFirstPass?e.tView=uc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function uc(e,t,i,n,r,s,o,a,l,d,c){let h=Hr+n,u=h+r,g=function(e,t){let i=[];for(let n=0;n<t;n++)i.push(n<e?null:ec);return i}(h,u),p="function"==typeof d?d():d;return g[mr]={type:e,blueprint:g,template:i,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:u,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:c}}var gc=e=>null;function pc(e,t,i,n){for(let r in e)if(e.hasOwnProperty(r)){i=null===i?{}:i;let s=e[r];null===n?mc(i,t,r,s):n.hasOwnProperty(r)&&mc(i,t,n[r],s)}return i}function mc(e,t,i,n){e.hasOwnProperty(i)?e[i].push(t,n):e[i]=[t,n]}function fc(e,t,i,n,r,s,o,a){let l,d=Es(t,i),c=t.inputs;!a&&null!=c&&(l=c[n])?(Pc(e,i,l,n,r),qr(t)&&function(e,t){let i=As(t,e);16&i[fr]||(i[fr]|=64)}(i,t.index)):3&t.type?(n=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),r=null!=o?o(r,t.value||"",n):r,s.setProperty(d,n,r)):t.type}function yc(e,t,i,n){if(Vs()){let r,s,o=null===n?null:{"":-1},a=function(e,t){let i=e.directiveRegistry,n=null,r=null;if(i)for(let s=0;s<i.length;s++){let o=i[s];if(Zn(t,o.selectors,!1))if(n||(n=[]),Xr(o))if(null!==o.findHostDirectiveDefs){let i=[];r=r||new Map,o.findHostDirectiveDefs(o,i,r),n.unshift(...i,o),wc(e,t,i.length)}else n.unshift(o),wc(e,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,n,r),n.push(o)}return null===n?null:[n,r]}(e,i);null===a?r=s=null:[r,s]=a,null!==r&&vc(e,t,i,r,o,s),o&&function(e,t,i){if(t){let n=e.localNames=[];for(let e=0;e<t.length;e+=2){let r=i[t[e+1]];if(null==r)throw new qi(-301,!1);n.push(t[e],r)}}}(i,n,o)}i.mergedAttrs=Gn(i.mergedAttrs,i.attrs)}function vc(e,t,i,n,r,s){for(let r=0;r<n.length;r++)Ho(Mo(i,t),e,n[r].type);!function(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}(i,e.data.length,n.length);for(let e=0;e<n.length;e++){let t=n[e];t.providersResolver&&t.providersResolver(t)}let o=!1,a=!1,l=oc(e,t,n.length,null);for(let s=0;s<n.length;s++){let d=n[s];i.mergedAttrs=Gn(i.mergedAttrs,d.hostAttrs),Sc(e,i,t,l,d),Cc(l,d,r),null!==d.contentQueries&&(i.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(i.flags|=64);let c=d.type.prototype;!o&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((e.preOrderHooks??=[]).push(i.index),o=!0),!a&&(c.ngOnChanges||c.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(i.index),a=!0),l++}!function(e,t,i){let n=t.directiveStart,r=t.directiveEnd,s=e.data,o=t.attrs,a=[],l=null,d=null;for(let e=n;e<r;e++){let n=s[e],r=i?i.get(n):null,c=r?r.inputs:null,h=r?r.outputs:null;l=pc(n.inputs,e,l,c),d=pc(n.outputs,e,d,h);let u=null===l||null===o||jn(t)?null:Ec(l,e,o);a.push(u)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=d}(e,i,s)}function xc(e,t,i){let n=i.directiveStart,r=i.directiveEnd,s=i.index,o=Ms.lFrame.currentDirectiveIndex;try{co(s);for(let i=n;i<r;i++){let n=e.data[i],r=t[i];Zs(i),(null!==n.hostBindings||0!==n.hostVars||null!==n.hostAttrs)&&_c(n,r)}}finally{co(-1),Zs(o)}}function _c(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function wc(e,t,i){t.componentOffset=i,(e.components??=[]).push(t.index)}function Cc(e,t,i){if(i){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)i[t.exportAs[n]]=e;Xr(t)&&(i[""]=e)}}function Sc(e,t,i,n,r){e.data[n]=r;let s=r.factory||(r.factory=Qr(r.type)),o=new Do(s,Xr(r),nc);e.blueprint[n]=o,i[n]=o,function(e,t,i,n,r){let s=r.hostBindings;if(s){let r=e.hostBindingOpCodes;null===r&&(r=e.hostBindingOpCodes=[]);let o=~t.index;(function(e){let t=e.length;for(;t>0;){let i=e[--t];if("number"==typeof i&&i<0)return i}return 0})(r)!=o&&r.push(o),r.push(i,n,s)}}(e,t,n,oc(e,i,r.hostVars,ec),r)}function bc(e,t,i,n,r,s){let o=s[t];if(null!==o)for(let e=0;e<o.length;)Dc(n,i,o[e++],o[e++],o[e++])}function Dc(e,t,i,n,r){let s=ts(null);try{let s=e.inputTransforms;null!==s&&s.hasOwnProperty(n)&&(r=s[n].call(t,r)),null!==e.setInput?e.setInput(t,r,i,n):t[n]=r}finally{ts(s)}}function Ec(e,t,i){let n=null,r=0;for(;r<i.length;){let s=i[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===n&&(n=[]);let o=e[s];for(let e=0;e<o.length;e+=2)if(o[e]===t){n.push(s,o[e+1],i[r+1]);break}}r+=2}else r+=2;else r+=4}return n}function Ic(e,t,i,n){return[e,!0,!1,t,null,0,n,i,null,null,null]}function Tc(e,t){let i=e.contentQueries;if(null!==i)for(let n=0;n<i.length;n+=2){let r=i[n],s=i[n+1];if(-1!==s){let i=e.data[s];Js(r),i.contentQueries(2,t[s],s)}}}function Ac(e,t){return e[Er]?e[Ir][vr]=t:e[Er]=t,e[Ir]=t,t}function Rc(e,t,i){Js(0);let n=ts(null);try{t(e,i)}finally{ts(n)}}function kc(e){return e[wr]||(e[wr]=[])}function Oc(e){return e.cleanup||(e.cleanup=[])}function Fc(e,t){let i=e[Sr],n=i?i.get(Od,null):null;n&&n.handleError(t)}function Pc(e,t,i,n,r){for(let s=0;s<i.length;){let o=i[s++],a=i[s++],l=t[o];Dc(e.data[o],l,n,a,r)}}function Mc(e,t,i){let n=Ds(t,e);!function(e,t,i){e.setValue(t,i)}(e[Dr],n,i)}function Vc(e,t){let i=As(t,e),n=i[mr];!function(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])}(n,i);let r=i[pr];null!==r&&null===i[Vr]&&(i[Vr]=md(r,i[Sr])),Nc(n,i,i[Cr])}function Nc(e,t,i){io(t);try{let n=e.viewQuery;null!==n&&Rc(1,n,i);let r=e.template;null!==r&&ac(e,t,r,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Tc(e,t),e.staticViewQueries&&Rc(2,e.viewQuery,i);let s=e.components;null!==s&&function(e,t){for(let i=0;i<t.length;i++)Vc(e,t[i])}(t,s)}catch(t){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),t}finally{t[fr]&=-5,ao()}}var Lc=(()=>{let e=class{constructor(){this.all=new Set,this.queue=new Map}create(e,t,i){let n=typeof Zone>"u"?null:Zone.current,r=function(e,t,i){let n=Object.create(ps);i&&(n.consumerAllowSignalWrites=!0),n.fn=e,n.schedule=t;let r=e=>{n.cleanupFn=e};return n.ref={notify:()=>rs(n),run:()=>{if(n.dirty=!1,n.hasRun&&!as(n))return;n.hasRun=!0;let e=ss(n);try{n.cleanupFn(),n.cleanupFn=gs,n.fn(r)}finally{os(n,e)}},cleanup:()=>n.cleanupFn()},n.ref}(e,(e=>{this.all.has(e)&&this.queue.set(e,n)}),i);this.all.add(r),r.notify();let s,o=()=>{r.cleanup(),s?.(),this.all.delete(r),this.queue.delete(r)};return s=t?.onDestroy(o),{destroy:o}}flush(){if(0!==this.queue.size)for(let[e,t]of this.queue)this.queue.delete(e),t?t.run((()=>e.run())):e.run()}get isQueueEmpty(){return 0===this.queue.size}};return e.prov=Zi({token:e,providedIn:"root",factory:()=>new e}),e})();function Hc(e,t,i){let n=i?e.styles:null,r=i?e.classes:null,s=0;if(null!==t)for(let e=0;e<t.length;e++){let i=t[e];"number"==typeof i?s=i:1==s?r=zi(r,i):2==s&&(n=zi(n,i+": "+t[++e]+";"))}i?e.styles=n:e.stylesWithoutHost=n,i?e.classes=r:e.classesWithoutHost=r}function Bc(e,t,i,n,r=!1){for(;null!==i;){let s=t[i.index];null!==s&&n.push(bs(s)),jr(s)&&zc(s,n);let o=i.type;if(8&o)Bc(e,t,i.child,n);else if(32&o){let e,r=wa(i,t);for(;e=r();)n.push(e)}else if(16&o){let e=Ka(t,i);if(Array.isArray(e))n.push(...e);else{let i=Ca(t[Ar]);Bc(i[mr],i,e,n,!0)}}i=r?i.projectionNext:i.next}return n}function zc(e,t){for(let i=Wr;i<e.length;i++){let n=e[i],r=n[mr].firstChild;null!==r&&Bc(n[mr],n,r,t)}e[Gr]!==e[pr]&&t.push(e[Gr])}function Gc(e,t,i,n=!0){let r=t[br],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{$c(e,t,e.template,i)}catch(e){throw n&&Fc(t,e),e}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function $c(e,t,i,n){let r=t[fr];if(256!=(256&r)){t[br].effectManager?.flush(),io(t);try{ks(t),function(e){Ms.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&ac(e,t,i,2,n);let s=3==(3&r);if(s){let i=e.preOrderCheckHooks;null!==i&&vo(t,i,null)}else{let i=e.preOrderHooks;null!==i&&xo(t,i,0,null),_o(t,0)}if(function(e){for(let t=Sa(e);null!==t;t=ba(t)){if(!t[zr])continue;let e=t[$r];for(let t=0;t<e.length;t++){let i=e[t];i[yr],Os(i)}}}(t),Wc(t,2),null!==e.contentQueries&&Tc(e,t),s){let i=e.contentCheckHooks;null!==i&&vo(t,i)}else{let i=e.contentHooks;null!==i&&xo(t,i,1),_o(t,1)}!function(e,t){let i=e.hostBindingOpCodes;if(null===i)return;let n=Yd(t,Lr);try{for(let e=0;e<i.length;e++){let r=i[e];if(r<0)co(~r);else{let s=r,o=i[++e],a=i[++e];Xs(o,s),n.dirty=!1;let l=ss(n);try{a(2,t[s])}finally{os(n,l)}}}}finally{null===t[Lr]&&Xd(t,Lr),co(-1)}}(e,t);let o=e.components;null!==o&&Uc(t,o,0);let a=e.viewQuery;if(null!==a&&Rc(2,a,n),s){let i=e.viewCheckHooks;null!==i&&vo(t,i)}else{let i=e.viewHooks;null!==i&&xo(t,i,2),_o(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[fr]&=-73,Fs(t)}finally{ao()}}}function Wc(e,t){for(let i=Sa(e);null!==i;i=ba(i))for(let e=Wr;e<i.length;e++)jc(i[e],t)}function Kc(e,t,i){jc(As(t,e),i)}function jc(e,t){if(!function(e){return 128==(128&e[fr])}(e))return;let i=e[mr],n=e[fr];if(80&n&&0===t||1024&n||2===t)$c(i,e,i.template,e[Cr]);else if(e[xr]>0){Wc(e,1);let t=i.components;null!==t&&Uc(e,t,1)}}function Uc(e,t,i){for(let n=0;n<t.length;n++)Kc(e,t[n],i)}var qc=class{get rootNodes(){let e=this._lView,t=e[mr];return Bc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Cr]}set context(e){this._lView[Cr]=e}get destroyed(){return 256==(256&this._lView[fr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[yr];if(jr(e)){let t=e[8],i=t?t.indexOf(this):-1;i>-1&&(Aa(e,i),ra(t,i))}this._attachedToViewContainer=!1}Ra(this._lView[mr],this._lView)}onDestroy(e){!function(e,t){if(256==(256&e[fr]))throw new qi(911,!1);null===e[Mr]&&(e[Mr]=[]),e[Mr].push(t)}(this._lView,e)}markForCheck(){jd(this._cdRefInjectingView||this._lView)}detach(){this._lView[fr]&=-129}reattach(){this._lView[fr]|=128}detectChanges(){Gc(this._lView[mr],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new qi(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(e,t){qa(e,t,t[Dr],2,null,null)}(this._lView[mr],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new qi(902,!1);this._appRef=e}},Yc=class extends qc{constructor(e){super(e),this._view=e}detectChanges(){let e=this._view;Gc(e[mr],e,e[Cr],!1)}checkNoChanges(){}get context(){return null}},Xc=class extends vd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=lr(e);return new Qc(t,this.ngModule)}};function Zc(e){let t=[];for(let i in e)if(e.hasOwnProperty(i)){let n=e[i];t.push({propName:n,templateName:i})}return t}var Qc=class extends yd{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=Zc(e.inputs);if(null!==t)for(let e of i)t.hasOwnProperty(e.propName)&&(e.transform=t[e.propName]);return i}get outputs(){return Zc(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function(e){return e.map(er).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,n){let r=(n=n||this.ngModule)instanceof id?n:n?.injector;r&&null!==this.componentDef.getStandaloneInjector&&(r=this.componentDef.getStandaloneInjector(r)||r);let s=r?new class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Cn(i);let n=this.injector.get(e,Id,i);return n!==Id||t===Id?n:this.parentInjector.get(e,t,i)}}(e,r):e,o=s.get(Sd,null);if(null===o)throw new qi(407,!1);let a={rendererFactory:o,sanitizer:s.get(Dd,null),effectManager:s.get(Lc,null),afterRenderEventManager:s.get(Kd,null)},l=o.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",c=i?function(e,t,i,n){let r=n.get(Ud,!1)||i===Tn.ShadowDom,s=e.selectRootElement(t,r);return function(e){gc(e)}(s),s}(l,i,this.componentDef.encapsulation,s):Ia(l,d,function(e){let t=e.toLowerCase();return"svg"===t?Ss:"math"===t?"math":null}(d)),h=this.componentDef.onPush?576:528,u=this.componentDef.signals?4608:h,g=null;null!==c&&(g=md(c,s,!0));let p,m,f=uc(0,null,null,1,0,null,null,null,null,null,null),y=rc(null,f,null,u,null,null,a,l,s,null,g);io(y);try{let e,n=this.componentDef,r=null;n.findHostDirectiveDefs?(e=[],r=new Map,n.findHostDirectiveDefs(n,e,r),e.push(n)):e=[n];let s=function(e,t){let i=e[mr],n=Hr;return e[n]=t,sc(i,n,2,"#host",null)}(y,c),o=function(e,t,i,n,r,s,o){let a=r[mr];!function(e,t,i,n){for(let i of e)t.mergedAttrs=Gn(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Hc(t,t.mergedAttrs,!0),null!==i&&Za(n,i,t))}(n,e,t,o);let l=null;null!==t&&(l=md(t,r[Sr]));let d=s.rendererFactory.createRenderer(t,i),c=16;i.signals?c=4096:i.onPush&&(c=64);let h=rc(r,hc(i),null,c,r[e.index],e,s,d,null,null,l);return a.firstCreatePass&&wc(a,e,n.length-1),Ac(r,h),r[e.index]=h}(s,c,n,e,y,a,l);m=Is(f,Hr),c&&function(e,t,i,n){if(n)Hn(e,i,["ng-version",Ed.full]);else{let{attrs:n,classes:r}=function(e){let t=[],i=[],n=1,r=2;for(;n<e.length;){let s=e[n];if("string"==typeof s)2===r?""!==s&&t.push(s,e[++n]):8===r&&i.push(s);else{if(!Yn(r))break;r=s}n++}return{attrs:t,classes:i}}(t.selectors[0]);n&&Hn(e,i,n),r&&r.length>0&&Xa(e,i,r.join(" "))}}(l,n,c,i),void 0!==t&&function(e,t,i){let n=e.projection=[];for(let e=0;e<t.length;e++){let t=i[e];n.push(null!=t?Array.from(t):null)}}(m,this.ngContentSelectors,t),p=function(e,t,i,n,r,s){let o=Gs(),a=r[mr],l=Es(o,r);vc(a,r,o,i,null,n);for(let e=0;e<i.length;e++)_a(jo(r,a,o.directiveStart+e,o),r);xc(a,r,o),l&&_a(l,r);let d=jo(r,a,o.directiveStart+o.componentOffset,o);if(e[Cr]=r[Cr]=d,null!==s)for(let e of s)e(d,t);return lc(a,o,e),d}(o,n,e,r,y,[eh]),Nc(f,y,null)}finally{ao()}return new Jc(this.componentType,p,_d(m,y),y,m)}},Jc=class extends fd{constructor(e,t,i,n,r){super(),this.location=i,this._rootLView=n,this._tNode=r,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Yc(n),this.componentType=e}setInput(e,t){let i,n=this._tNode.inputs;if(null!==n&&(i=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let n=this._rootLView;Pc(n[mr],n,i,e,t),this.previousInputValues.set(e,t),jd(As(this._tNode.index,n))}}get injector(){return new Yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function eh(){let e=Gs();yo(Ls()[mr],e)}function th(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0,n=[e];for(;t;){let r;if(Xr(e))r=t.cmp||t.dir;else{if(t.cmp)throw new qi(903,!1);r=t.dir}if(r){if(i){n.push(r);let t=e;t.inputs=ih(e.inputs),t.inputTransforms=ih(e.inputTransforms),t.declaredInputs=ih(e.declaredInputs),t.outputs=ih(e.outputs);let i=r.hostBindings;i&&sh(e,i);let s=r.viewQuery,o=r.contentQueries;if(s&&nh(e,s),o&&rh(e,o),Hi(e.inputs,r.inputs),Hi(e.declaredInputs,r.declaredInputs),Hi(e.outputs,r.outputs),null!==r.inputTransforms&&(null===t.inputTransforms&&(t.inputTransforms={}),Hi(t.inputTransforms,r.inputTransforms)),Xr(r)&&r.data.animation){let t=e.data;t.animation=(t.animation||[]).concat(r.data.animation)}}let t=r.features;if(t)for(let n=0;n<t.length;n++){let r=t[n];r&&r.ngInherit&&r(e),r===th&&(i=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,i=null;for(let n=e.length-1;n>=0;n--){let r=e[n];r.hostVars=t+=r.hostVars,r.hostAttrs=Gn(r.hostAttrs,i=Gn(i,r.hostAttrs))}}(n)}function ih(e){return e===An?{}:e===Rn?[]:e}function nh(e,t){let i=e.viewQuery;e.viewQuery=i?(e,n)=>{t(e,n),i(e,n)}:t}function rh(e,t){let i=e.contentQueries;e.contentQueries=i?(e,n,r)=>{t(e,n,r),i(e,n,r)}:t}function sh(e,t){let i=e.hostBindings;e.hostBindings=i?(e,n)=>{t(e,n),i(e,n)}:t}function oh(e){return!!ah(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function ah(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function lh(e,t,i){return e[t]=i}function dh(e,t){return e[t]}function ch(e,t,i){let n=e[t];return!Object.is(n,i)&&(e[t]=i,!0)}function hh(e,t,i,n){let r=ch(e,t,i);return ch(e,t+1,n)||r}function uh(e,t,i,n,r){let s=hh(e,t,i,n);return ch(e,t+2,r)||s}function gh(e,t,i,n,r,s){let o=hh(e,t,i,n);return hh(e,t+2,r,s)||o}function ph(e,t,i,n){let r=Ls();return ch(r,qs(),t)&&(Hs(),function(e,t,i,n,r,s){let o=Es(e,t);!function(e,t,i,n,r,s,o){if(null==s)e.removeAttribute(t,r,i);else{let a=null==o?Yi(s):o(s,n||"",r);e.setAttribute(t,r,a,i)}}(t[Dr],o,s,e.value,i,n,r)}(ho(),r,e,t,i,n)),ph}function mh(e,t,i,n){return ch(e,qs(),i)?t+Yi(i)+n:ec}function fh(e,t,i,n,r,s){let o=hh(e,Ms.lFrame.bindingIndex,i,r);return Ys(2),o?t+Yi(i)+n+Yi(r)+s:ec}function yh(e,t,i,n,r,s,o,a){let l=Ls(),d=Hs(),c=e+Hr,h=d.firstCreatePass?function(e,t,i,n,r,s,o,a,l){let d=t.consts,c=sc(t,e,4,o||null,Rs(d,a));yc(t,i,c,Rs(d,l)),yo(t,c);let h=c.tView=uc(2,c,n,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,d,null);return null!==t.queries&&(t.queries.template(t,c),h.queries=t.queries.embeddedTView(c)),c}(c,d,l,t,i,n,r,s,o):d.data[c];Ws(h,!1);let u=vh(d,l,h,e);mo()&&$a(d,l,u,h),_a(u,l),Ac(l,l[c]=Ic(u,l,u,h)),Yr(h)&&dc(d,l,h),null!=o&&cc(l,h,a)}new RegExp("^(\\d+)*(b|h)*(.*)");var vh=function(e,t,i,n){return fo(!0),t[Dr].createComment("")};function xh(e){return Ts(Ms.lFrame.contextLView,Hr+e)}function _h(e,t,i){let n=Ls();return ch(n,qs(),t)&&fc(Hs(),ho(),n,e,t,n[Dr],i,!1),_h}function wh(e,t,i,n,r){let s=r?"class":"style";Pc(e,i,t.inputs[s],s,n)}function Ch(e,t,i,n){let r=Ls(),s=Hs(),o=Hr+e,a=r[Dr],l=s.firstCreatePass?function(e,t,i,n,r,s){let o=t.consts,a=sc(t,e,2,n,Rs(o,r));return yc(t,i,a,Rs(o,s)),null!==a.attrs&&Hc(a,a.attrs,!1),null!==a.mergedAttrs&&Hc(a,a.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,a),a}(o,s,r,t,i,n):s.data[o],d=Dh(s,r,l,a,t,e);r[o]=d;let c=Yr(l);return Ws(l,!0),Za(a,d,l),32!=(32&l.flags)&&mo()&&$a(s,r,d,l),0===Ms.lFrame.elementDepthCount&&_a(d,r),Ms.lFrame.elementDepthCount++,c&&(dc(s,r,l),lc(s,l,r)),null!==n&&cc(r,l),Ch}function Sh(){let e=Gs();Ks()?js():(e=e.parent,Ws(e,!1));let t=e;(function(e){return Ms.skipHydrationRootTNode===e})(t)&&(Ms.skipHydrationRootTNode=null),Ms.lFrame.elementDepthCount--;let i=Hs();return i.firstCreatePass&&(yo(i,e),Ur(e)&&i.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(8&e.flags)}(t)&&wh(i,t,Ls(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&wh(i,t,Ls(),t.stylesWithoutHost,!1),Sh}function bh(e,t,i,n){return Ch(e,t,i,n),Sh(),bh}var Dh=(e,t,i,n,r,s)=>(fo(!0),Ia(n,r,Ms.lFrame.currentNamespace));function Eh(e,t,i){let n=Ls(),r=Hs(),s=e+Hr,o=r.firstCreatePass?function(e,t,i,n,r){let s=t.consts,o=Rs(s,n),a=sc(t,e,8,"ng-container",o);return null!==o&&Hc(a,o,!0),yc(t,i,a,Rs(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,n,t,i):r.data[s];Ws(o,!0);let a=Ah(r,n,o,e);return n[s]=a,mo()&&$a(r,n,a,o),_a(a,n),Yr(o)&&(dc(r,n,o),lc(r,o,n)),null!=i&&cc(n,o),Eh}function Ih(){let e=Gs(),t=Hs();return Ks()?js():(e=e.parent,Ws(e,!1)),t.firstCreatePass&&(yo(t,e),Ur(e)&&t.queries.elementEnd(e)),Ih}function Th(e,t,i){return Eh(e,t,i),Ih(),Th}var Ah=(e,t,i,n)=>(fo(!0),function(e,t){return e.createComment(function(e){return e.replace(ma,(e=>e.replace(fa,"$1")))}(t))}(t[Dr],""));function Rh(){return Ls()}function kh(e){return!!e&&"function"==typeof e.then}function Oh(e){return!!e&&"function"==typeof e.subscribe}function Fh(e,t,i,n){let r=Ls(),s=Hs(),o=Gs();return function(e,t,i,n,r,s,o){let a=Yr(n),l=e.firstCreatePass&&Oc(e),d=t[Cr],c=kc(t),h=!0;if(3&n.type||o){let u=Es(n,t),g=o?o(u):u,p=c.length,m=o?e=>o(bs(e[n.index])):n.index,f=null;if(!o&&a&&(f=function(e,t,i,n){let r=e.cleanup;if(null!=r)for(let e=0;e<r.length-1;e+=2){let s=r[e];if(s===i&&r[e+1]===n){let i=t[wr],n=r[e+2];return i.length>n?i[n]:null}"string"==typeof s&&(e+=2)}return null}(e,t,r,n.index)),null!==f)(f.__ngLastListenerFn__||f).__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,h=!1;else{s=Mh(n,t,d,s,!1);let e=i.listen(g,r,s);c.push(s,e),l&&l.push(r,m,p,p+1)}}else s=Mh(n,t,d,s,!1);let u,g=n.outputs;if(h&&null!==g&&(u=g[r])){let e=u.length;if(e)for(let i=0;i<e;i+=2){let e=u[i],o=u[i+1],a=t[e][o].subscribe(s),d=c.length;c.push(s,a),l&&l.push(r,n.index,d,-(d+1))}}}(s,r,r[Dr],o,e,t,n),Fh}function Ph(e,t,i,n){try{return Cs(6,t,i),!1!==i(n)}catch(t){return Fc(e,t),!1}finally{Cs(7,t,i)}}function Mh(e,t,i,n,r){return function s(o){if(o===Function)return n;jd(e.componentOffset>-1?As(e.index,t):t);let a=Ph(t,i,n,o),l=s.__ngNextListenerFn__;for(;l;)a=Ph(t,i,l,o)&&a,l=l.__ngNextListenerFn__;return r&&!1===a&&o.preventDefault(),a}}function Vh(e=1){return function(e){return(Ms.lFrame.contextLView=function(e,t){for(;e>0;)t=t[Tr],e--;return t}(e,Ms.lFrame.contextLView))[Cr]}(e)}function Nh(e,t){let i=null,n=function(e){let t=e.attrs;if(null!=t){let e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(e);for(let r=0;r<t.length;r++){let s=t[r];if("*"!==s){if(null===n?Zn(e,s,!0):Qn(n,s))return r}else i=r}return i}function Lh(e){let t=Ls()[Ar][_r];if(!t.projection){let i=e?e.length:1,n=t.projection=sa(i,null),r=n.slice(),s=t.child;for(;null!==s;){let t=e?Nh(s,e):0;null!==t&&(r[t]?r[t].projectionNext=s:n[t]=s,r[t]=s),s=s.next}}}function Hh(e,t=0,i){let n=Ls(),r=Hs(),s=sc(r,Hr+e,16,null,i||null);null===s.projection&&(s.projection=t),js(),(!n[Vr]||Ns())&&32!=(32&s.flags)&&function(e,t,i){Ya(t[Dr],0,t,i,Oa(e,i,t),Na(i.parent||t[_r],i,t))}(r,n,s)}function Bh(e,t,i){return zh(e,"",t,"",i),Bh}function zh(e,t,i,n,r){let s=Ls(),o=mh(s,t,i,n);return o!==ec&&fc(Hs(),ho(),s,e,o,s[Dr],r,!1),zh}function Gh(e,t,i,n,r,s,o){let a=Ls(),l=fh(a,t,i,n,r,s);return l!==ec&&fc(Hs(),ho(),a,e,l,a[Dr],o,!1),Gh}function $h(e,t){return e<<17|t<<2}function Wh(e){return e>>17&32767}function Kh(e){return 2|e}function jh(e){return(131068&e)>>2}function Uh(e,t){return-131069&e|t<<2}function qh(e){return 1|e}function Yh(e,t,i,n,r){let s=e[i+1],o=null===t,a=n?Wh(s):jh(s),l=!1;for(;0!==a&&(!1===l||o);){let i=e[a],r=e[a+1];Xh(i,t)&&(l=!0,e[a+1]=n?qh(r):Kh(r)),a=n?Wh(r):jh(r)}l&&(e[i+1]=n?Kh(s):qh(s))}function Xh(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&la(e,t)>=0}var Zh={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Qh(e){return e.substring(Zh.key,Zh.keyEnd)}function Jh(e,t){let i=Zh.textEnd;return i===t?-1:(t=Zh.keyEnd=function(e,t,i){for(;t<i&&e.charCodeAt(t)>32;)t++;return t}(e,Zh.key=t,i),eu(e,t,i))}function eu(e,t,i){for(;t<i&&e.charCodeAt(t)<=32;)t++;return t}function tu(e,t,i){return su(e,t,i,!1),tu}function iu(e,t){return su(e,t,null,!0),iu}function nu(e){ou(hu,ru,e,!0)}function ru(e,t){for(let i=function(e){return function(e){Zh.key=0,Zh.keyEnd=0,Zh.value=0,Zh.valueEnd=0,Zh.textEnd=e.length}(e),Jh(e,eu(e,0,Zh.textEnd))}(t);i>=0;i=Jh(t,i))oa(e,Qh(t),!0)}function su(e,t,i,n){let r=Ls(),s=Hs(),o=Ys(2);s.firstUpdatePass&&lu(s,e,o,n),t!==ec&&ch(r,o,t)&&uu(s,s.data[lo()],r,r[Dr],e,r[o+1]=function(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Bi(al(e)))),e}(t,i),n,o)}function ou(e,t,i,n){let r=Hs(),s=Ys(2);r.firstUpdatePass&&lu(r,null,s,n);let o=Ls();if(i!==ec&&ch(o,s,i)){let a=r.data[lo()];if(mu(a,n)&&!au(r,s)){let e=n?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(i=zi(e,i||"")),wh(r,a,o,i,n)}else!function(e,t,i,n,r,s,o,a){r===ec&&(r=Rn);let l=0,d=0,c=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;null!==c||null!==h;){let u,g=l<r.length?r[l+1]:void 0,p=d<s.length?s[d+1]:void 0,m=null;c===h?(l+=2,d+=2,g!==p&&(m=h,u=p)):null===h||null!==c&&c<h?(l+=2,m=c):(d+=2,m=h,u=p),null!==m&&uu(e,t,i,n,m,u,o,a),c=l<r.length?r[l]:null,h=d<s.length?s[d]:null}}(r,a,o,o[Dr],o[s+1],o[s+1]=function(e,t,i){if(null==i||""===i)return Rn;let n=[],r=al(i);if(Array.isArray(r))for(let t=0;t<r.length;t++)e(n,r[t],!0);else if("object"==typeof r)for(let t in r)r.hasOwnProperty(t)&&e(n,t,r[t]);else"string"==typeof r&&t(n,r);return n}(e,t,i),n,s)}}function au(e,t){return t>=e.expandoStartIndex}function lu(e,t,i,n){let r=e.data;if(null===r[i+1]){let s=r[lo()],o=au(e,i);mu(s,n)&&null===t&&!o&&(t=!1),t=function(e,t,i,n){let r=function(e){let t=Ms.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),s=n?t.residualClasses:t.residualStyles;if(null===r)0===(n?t.classBindings:t.styleBindings)&&(i=cu(i=du(null,e,t,i,n),t.attrs,n),s=null);else{let o=t.directiveStylingLast;if(-1===o||e[o]!==r)if(i=du(r,e,t,i,n),null===s){let i=function(e,t,i){let n=i?t.classBindings:t.styleBindings;if(0!==jh(n))return e[Wh(n)]}(e,t,n);void 0!==i&&Array.isArray(i)&&(i=du(null,e,t,i[1],n),i=cu(i,t.attrs,n),function(e,t,i,n){e[Wh(i?t.classBindings:t.styleBindings)]=n}(e,t,n,i))}else s=function(e,t,i){let n,r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)n=cu(n,e[s].hostAttrs,i);return cu(n,t.attrs,i)}(e,t,n)}return void 0!==s&&(n?t.residualClasses=s:t.residualStyles=s),i}(r,s,t,n),function(e,t,i,n,r,s){let o=s?t.classBindings:t.styleBindings,a=Wh(o),l=jh(o);e[n]=i;let d,c=!1;if(Array.isArray(i)){let e=i;d=e[1],(null===d||la(e,d)>0)&&(c=!0)}else d=i;if(r)if(0!==l){let t=Wh(e[a+1]);e[n+1]=$h(t,a),0!==t&&(e[t+1]=Uh(e[t+1],n)),e[a+1]=function(e,t){return 131071&e|t<<17}(e[a+1],n)}else e[n+1]=$h(a,0),0!==a&&(e[a+1]=Uh(e[a+1],n)),a=n;else e[n+1]=$h(l,0),0===a?a=n:e[l+1]=Uh(e[l+1],n),l=n;c&&(e[n+1]=Kh(e[n+1])),Yh(e,d,n,!0),Yh(e,d,n,!1),function(e,t,i,n,r){let s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&la(s,t)>=0&&(i[n+1]=qh(i[n+1]))}(t,d,e,n,s),o=$h(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,i,o,n)}}function du(e,t,i,n,r){let s=null,o=i.directiveEnd,a=i.directiveStylingLast;for(-1===a?a=i.directiveStart:a++;a<o&&(s=t[a],n=cu(n,s.hostAttrs,r),s!==e);)a++;return null!==e&&(i.directiveStylingLast=a),n}function cu(e,t,i){let n=i?1:2,r=-1;if(null!==t)for(let s=0;s<t.length;s++){let o=t[s];"number"==typeof o?r=o:r===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),oa(e,o,!!i||t[++s]))}return void 0===e?null:e}function hu(e,t,i){let n=String(t);""!==n&&!n.includes(" ")&&oa(e,n,i)}function uu(e,t,i,n,r,s,o,a){if(!(3&t.type))return;let l=e.data,d=l[a+1],c=function(e){return 1==(1&e)}(d)?gu(l,t,i,r,jh(d),o):void 0;pu(c)||(pu(s)||function(e){return 2==(2&e)}(d)&&(s=gu(l,null,i,r,a,o)),function(e,t,i,n,r){if(t)r?e.addClass(i,n):e.removeClass(i,n);else{let t=-1===n.indexOf("-")?void 0:pa.DashCase;null==r?e.removeStyle(i,n,t):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),t|=pa.Important),e.setStyle(i,n,r,t))}}(n,o,Ds(lo(),i),r,s))}function gu(e,t,i,n,r,s){let o,a=null===t;for(;r>0;){let t=e[r],s=Array.isArray(t),l=s?t[1]:t,d=null===l,c=i[r+1];c===ec&&(c=d?Rn:void 0);let h=d?aa(c,n):l===n?c:void 0;if(s&&!pu(h)&&(h=aa(t,n)),pu(h)&&(o=h,a))return o;let u=e[r+1];r=a?Wh(u):jh(u)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(o=aa(e,n))}return o}function pu(e){return void 0!==e}function mu(e,t){return 0!=(e.flags&(t?8:16))}function fu(e,t=""){let i=Ls(),n=Hs(),r=e+Hr,s=n.firstCreatePass?sc(n,r,1,t,null):n.data[r],o=yu(n,i,s,t,e);i[r]=o,mo()&&$a(n,i,o,s),Ws(s,!1)}var yu=(e,t,i,n,r)=>(fo(!0),function(e,t){return e.createText(t)}(t[Dr],n));function vu(e){return xu("",e,""),vu}function xu(e,t,i){let n=Ls(),r=mh(n,e,t,i);return r!==ec&&Mc(n,lo(),r),xu}function _u(e,t,i,n,r){let s=Ls(),o=fh(s,e,t,i,n,r);return o!==ec&&Mc(s,lo(),o),_u}function wu(e,t,i){ou(oa,ru,mh(Ls(),e,t,i),!0)}function Cu(e,t,i){let n=Ls();return ch(n,qs(),t)&&fc(Hs(),ho(),n,e,t,n[Dr],i,!0),Cu}var Su=void 0,bu=["en",[["a","p"],["AM","PM"],Su],[["AM","PM"],Su,Su],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Su,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Su,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Su,"{1} 'at' {0}",Su],[".",",",";","%","+","-","E","","","","NaN",":"],["#,##0.###","#,##0%","#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}],Du={};function Eu(e){let t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),i=Iu(t);if(i)return i;let n=t.split("-")[0];if(i=Iu(n),i)return i;if("en"===n)return bu;throw new qi(701,!1)}function Iu(e){return e in Du||(Du[e]=un.ng&&un.ng.common&&un.ng.common.locales&&un.ng.common.locales[e]),Du[e]}var Tu=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Tu||{}),Au="en-US";function Ru(e,t,i,n,r){if(e=Wi(e),Array.isArray(e))for(let s=0;s<e.length;s++)Ru(e[s],t,i,n,r);else{let s=Hs(),o=Ls(),a=Gs(),l=Xl(e)?e:Wi(e.provide),d=sd(e),c=1048575&a.providerIndexes,h=a.directiveStart,u=a.providerIndexes>>20;if(Xl(e)||!e.multi){let n=new Do(d,r,nc),g=Fu(l,t,r?c:c+u,h);-1===g?(Ho(Mo(a,o),s,l),ku(s,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(n),o.push(n)):(i[g]=n,o[g]=n)}else{let g=Fu(l,t,c+u,h),p=Fu(l,t,c,c+u),m=g>=0&&i[g],f=p>=0&&i[p];if(r&&!f||!r&&!m){Ho(Mo(a,o),s,l);let c=function(e,t,i,n,r){let s=new Do(e,i,nc);return s.multi=[],s.index=t,s.componentProviders=0,Ou(s,r,n&&!i),s}(r?Mu:Pu,i.length,r,n,d);!r&&f&&(i[p].providerFactory=c),ku(s,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(c),o.push(c)}else ku(s,e,g>-1?g:p,Ou(i[r?p:g],d,!r&&n));!r&&n&&f&&i[p].componentProviders++}}}function ku(e,t,i,n){let r=Xl(t),s=function(e){return!!e.useClass}(t);if(r||s){let o=(s?Wi(t.useClass):t).prototype.ngOnDestroy;if(o){let s=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let e=s.indexOf(i);-1===e?s.push(i,[n,o]):s[e+1].push(n,o)}else s.push(i,o)}}}function Ou(e,t,i){return i&&e.componentProviders++,e.multi.push(t)-1}function Fu(e,t,i,n){for(let r=i;r<n;r++)if(t[r]===e)return r;return-1}function Pu(e,t,i,n){return Vu(this.multi,[])}function Mu(e,t,i,n){let r,s=this.multi;if(this.providerFactory){let e=this.providerFactory.componentProviders,t=jo(i,i[mr],this.providerFactory.index,n);r=t.slice(0,e),Vu(s,r);for(let i=e;i<t.length;i++)r.push(t[i])}else r=[],Vu(s,r);return r}function Vu(e,t){for(let i=0;i<e.length;i++){let n=e[i];t.push(n())}return t}function Nu(e,t=[]){return i=>{i.providersResolver=(i,n)=>function(e,t,i){let n=Hs();if(n.firstCreatePass){let r=Xr(e);Ru(i,n.data,n.blueprint,r,!0),Ru(t,n.data,n.blueprint,r,!1)}}(i,n?n(e):e,t)}}var Lu=class{},Hu=class{},Bu=class extends Lu{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xc(this);let n=function(e,t){let i=e[Pn]||null;return i}(e);this._bootstrapComponents=function(e){return e instanceof Function?e():e}(n.bootstrap),this._r3Injector=Ad(e,t,[{provide:Lu,useValue:this},{provide:vd,useValue:this.componentFactoryResolver},...i],Bi(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((e=>e())),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},zu=class extends Hu{constructor(e){super(),this.moduleType=e}create(e){return new Bu(this.moduleType,e,[])}},Gu=class extends Lu{constructor(e){super(),this.componentFactoryResolver=new Xc(this),this.instance=null;let t=new nd([...e.providers,{provide:Lu,useValue:this},{provide:vd,useValue:this.componentFactoryResolver}],e.parent||td(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}},$u=(()=>{let e=class{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let t=Wl(0,e.type),i=t.length>0?function(e,t,i=null){return new Gu({providers:e,parent:t,debugName:i,runEnvironmentInitializers:!0}).injector}([t],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}};return e.prov=Zi({token:e,providedIn:"environment",factory:()=>new e(_n(id))}),e})();function Wu(e){e.getStandaloneInjector=t=>t.get($u).getOrCreateStandaloneInjector(e)}function Ku(e,t,i){let n=Us()+e,r=Ls();return r[n]===ec?lh(r,n,i?t.call(i):t()):dh(r,n)}function ju(e,t,i,n){return ig(Ls(),Us(),e,t,i,n)}function Uu(e,t,i,n,r){return ng(Ls(),Us(),e,t,i,n,r)}function qu(e,t,i,n,r,s){return rg(Ls(),Us(),e,t,i,n,r,s)}function Yu(e,t,i,n,r,s,o){return sg(Ls(),Us(),e,t,i,n,r,s,o)}function Xu(e,t,i,n,r,s,o,a){let l=Us()+e,d=Ls(),c=gh(d,l,i,n,r,s);return ch(d,l+4,o)||c?lh(d,l+5,a?t.call(a,i,n,r,s,o):t(i,n,r,s,o)):dh(d,l+5)}function Zu(e,t,i,n,r,s,o,a,l){let d=Us()+e,c=Ls(),h=gh(c,d,i,n,r,s);return hh(c,d+4,o,a)||h?lh(c,d+6,l?t.call(l,i,n,r,s,o,a):t(i,n,r,s,o,a)):dh(c,d+6)}function Qu(e,t,i,n,r,s,o,a,l,d){let c=Us()+e,h=Ls(),u=gh(h,c,i,n,r,s);return uh(h,c+4,o,a,l)||u?lh(h,c+7,d?t.call(d,i,n,r,s,o,a,l):t(i,n,r,s,o,a,l)):dh(h,c+7)}function Ju(e,t,i,n,r,s,o,a,l,d,c){let h=Us()+e,u=Ls(),g=gh(u,h,i,n,r,s);return gh(u,h+4,o,a,l,d)||g?lh(u,h+8,c?t.call(c,i,n,r,s,o,a,l,d):t(i,n,r,s,o,a,l,d)):dh(u,h+8)}function eg(e,t,i,n){return og(Ls(),Us(),e,t,i,n)}function tg(e,t){let i=e[t];return i===ec?void 0:i}function ig(e,t,i,n,r,s){let o=t+i;return ch(e,o,r)?lh(e,o+1,s?n.call(s,r):n(r)):tg(e,o+1)}function ng(e,t,i,n,r,s,o){let a=t+i;return hh(e,a,r,s)?lh(e,a+2,o?n.call(o,r,s):n(r,s)):tg(e,a+2)}function rg(e,t,i,n,r,s,o,a){let l=t+i;return uh(e,l,r,s,o)?lh(e,l+3,a?n.call(a,r,s,o):n(r,s,o)):tg(e,l+3)}function sg(e,t,i,n,r,s,o,a,l){let d=t+i;return gh(e,d,r,s,o,a)?lh(e,d+4,l?n.call(l,r,s,o,a):n(r,s,o,a)):tg(e,d+4)}function og(e,t,i,n,r,s){let o=t+i,a=!1;for(let t=0;t<r.length;t++)ch(e,o++,r[t])&&(a=!0);return a?lh(e,o,n.apply(s,r)):tg(e,o)}function ag(e,t){let i,n=Hs(),r=e+Hr;n.firstCreatePass?(i=function(e,t){if(t)for(let i=t.length-1;i>=0;i--){let n=t[i];if(e===n.name)return n}}(t,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let s=i.factory||(i.factory=Qr(i.type)),o=dn(nc);try{let e=Ro(!1),t=s();return Ro(e),function(e,t,i,n){i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=n}(n,Ls(),r,t),t}finally{dn(o)}}function lg(e,t,i){let n=e+Hr,r=Ls(),s=Ts(r,n);return gg(r,n)?ig(r,Us(),t,s.transform,i,s):s.transform(i)}function dg(e,t,i,n){let r=e+Hr,s=Ls(),o=Ts(s,r);return gg(s,r)?ng(s,Us(),t,o.transform,i,n,o):o.transform(i,n)}function cg(e,t,i,n,r){let s=e+Hr,o=Ls(),a=Ts(o,s);return gg(o,s)?rg(o,Us(),t,a.transform,i,n,r,a):a.transform(i,n,r)}function hg(e,t,i,n,r,s){let o=e+Hr,a=Ls(),l=Ts(a,o);return gg(a,o)?sg(a,Us(),t,l.transform,i,n,r,s,l):l.transform(i,n,r,s)}function ug(e,t,i){let n=e+Hr,r=Ls(),s=Ts(r,n);return gg(r,n)?og(r,Us(),t,s.transform,i,s):s.transform.apply(s,i)}function gg(e,t){return e[mr].data[t].pure}function pg(){return this._results[Symbol.iterator]()}var mg=class e{get changes(){return this._changes||(this._changes=new Pd)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;let i=e.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=pg)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){let i=this;i.dirty=!1;let n=function(e){return e.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function(e,t,i){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],s=t[n];if(i&&(r=i(r),s=i(s)),s!==r)return!1}return!0}(i._results,n,t))&&(i._results=n,i.length=n.length,i.last=n[this.length-1],i.first=n[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}};function fg(e,t,i,n=!0){let r=t[mr];if(function(e,t,i,n){let r=Wr+n,s=i.length;n>0&&(i[r-1][vr]=t),n<s-Wr?(t[vr]=i[r],na(i,Wr+n,t)):(i.push(t),t[vr]=null),t[yr]=i;let o=t[Rr];null!==o&&i!==o&&function(e,t){let i=e[$r],n=t[yr][yr][Ar];t[Ar]!==n&&(e[zr]=!0),null===i?e[$r]=[t]:i.push(t)}(o,t);let a=t[Or];null!==a&&a.insertView(e),t[fr]|=128}(r,t,e,i),n){let n=ja(i,e),s=t[Dr],o=Va(s,e[Gr]);null!==o&&function(e,t,i,n,r,s){n[pr]=r,n[_r]=t,qa(e,n,i,1,r,s)}(r,e[_r],s,t,o,n)}}var yg=(()=>{let e=class{};return e.__NG_ELEMENT_ID__=_g,e})(),vg=yg,xg=class extends vg{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let n=function(e,t,i,n){let r=t.tView,s=rc(e,r,i,4096&e[fr]?4096:16,null,t,null,null,null,n?.injector??null,n?.hydrationInfo??null),o=e[t.index];s[Rr]=o;let a=e[Or];return null!==a&&(s[Or]=a.createEmbeddedView(r)),Nc(r,s,i),s}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:i});return new qc(n)}};function _g(){return wg(Gs(),Ls())}function wg(e,t){return 4&e.type?new xg(t,e,_d(e,t)):null}var Cg=(()=>{let e=class{};return e.__NG_ELEMENT_ID__=Sg,e})();function Sg(){return Tg(Gs(),Ls())}var bg=Cg,Dg=class extends bg{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return _d(this._hostTNode,this._hostLView)}get injector(){return new Yo(this._hostTNode,this._hostLView)}get parentInjector(){let e=Lo(this._hostTNode,this._hostLView);if(Eo(e)){let t=To(e,this._hostLView),i=Io(e),n=t[mr].data[i+8];return new Yo(n,t)}return new Yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Eg(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Wr}createEmbeddedView(e,t,i){let n,r;"number"==typeof i?n=i:null!=i&&(n=i.index,r=i.injector);let s=(this._lContainer,e.ssrId,null),o=e.createEmbeddedViewImpl(t||{},r,s),a=!!s&&!ua(this._hostTNode);return this.insertImpl(o,n,a),o}createComponent(e,t,i,n,r){let s,o=e&&!function(e){return"function"==typeof e}(e);if(o)s=t;else{let e=t||{};s=e.index,i=e.injector,n=e.projectableNodes,r=e.environmentInjector||e.ngModuleRef}let a=o?e:new Qc(lr(e)),l=i||this.parentInjector;if(!r&&null==a.ngModule){let e=(o?l:this.parentInjector).get(id,null);e&&(r=e)}let d=lr(a.componentType??{}),c=(this._lContainer,d?.id,null),h=c?.firstChild??null,u=a.create(l,n,h,r),g=!!c&&!ua(this._hostTNode);return this.insertImpl(u.hostView,s,g),u}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){let n=e._lView;if(n[mr],function(e){return jr(e[yr])}(n)){let t=this.indexOf(e);if(-1!==t)this.detach(t);else{let t=n[yr],i=new Dg(t,t[_r],t[yr]);i.detach(i.indexOf(e))}}let r=this._adjustIndex(t),s=this._lContainer;return fg(s,n,r,!i),e.attachToViewContainerRef(),na(Ig(s),r,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Eg(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=Aa(this._lContainer,t);i&&(ra(Ig(this._lContainer),t),Ra(i[mr],i))}detach(e){let t=this._adjustIndex(e,-1),i=Aa(this._lContainer,t);return i&&null!=ra(Ig(this._lContainer),t)?new qc(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function Eg(e){return e[8]}function Ig(e){return e[8]||(e[8]=[])}function Tg(e,t){let i,n=t[e.index];return jr(n)?i=n:(i=Ic(n,t,null,e),t[e.index]=i,Ac(t,i)),Ag(i,t,e,n),new Dg(i,e,t)}var Ag=function(e,t,i,n){if(e[Gr])return;let r;r=8&i.type?bs(n):function(e,t){let i=e[Dr],n=i.createComment(""),r=Es(t,e);return Fa(i,Va(i,r),n,function(e,t){return e.nextSibling(t)}(i,r),!1),n}(t,i),e[Gr]=r},Rg=class e{constructor(e){this.queryList=e,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},kg=class e{constructor(e=[]){this.queries=e}createEmbeddedView(t){let i=t.queries;if(null!==i){let n=null!==t.contentQueries?t.contentQueries[0]:i.length,r=[];for(let e=0;e<n;e++){let t=i.getByIndex(e),n=this.queries[t.indexInDeclarationView];r.push(n.clone())}return new e(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Kg(e,t).matches&&this.queries[t].setDirty()}},Og=class{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}},Fg=class e{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(t){let i=null;for(let e=0;e<this.length;e++){let n=null!==i?i.length:0,r=this.getByIndex(e).embeddedTView(t,n);r&&(r.indexInDeclarationView=e,null!==i?i.push(r):i=[r])}return null!==i?new e(i):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Pg=class e{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(t,i){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,i),new e(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){let t=this._declarationNodeIndex,i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let n=0;n<i.length;n++){let r=i[n];this.matchTNodeWithReadOption(e,t,Mg(t,r)),this.matchTNodeWithReadOption(e,t,Ko(t,e,r,!1,!1))}else i===yg?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ko(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){let n=this.metadata.read;if(null!==n)if(n===wd||n===Cg||n===yg&&4&t.type)this.addMatch(t.index,-2);else{let i=Ko(t,e,n,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}};function Mg(e,t){let i=e.localNames;if(null!==i)for(let e=0;e<i.length;e+=2)if(i[e]===t)return i[e+1];return null}function Vg(e,t,i,n){return-1===i?function(e,t){return 11&e.type?_d(e,t):4&e.type?wg(e,t):null}(t,e):-2===i?function(e,t,i){return i===wd?_d(t,e):i===yg?wg(t,e):i===Cg?Tg(t,e):void 0}(e,t,n):jo(e,e[mr],i,t)}function Ng(e,t,i,n){let r=t[Or].queries[n];if(null===r.matches){let n=e.data,s=i.matches,o=[];for(let e=0;e<s.length;e+=2){let r=s[e];if(r<0)o.push(null);else{let a=n[r];o.push(Vg(t,a,s[e+1],i.metadata.read))}}r.matches=o}return r.matches}function Lg(e,t,i,n){let r=e.queries.getByIndex(i),s=r.matches;if(null!==s){let o=Ng(e,t,r,i);for(let e=0;e<s.length;e+=2){let i=s[e];if(i>0)n.push(o[e/2]);else{let r=s[e+1],o=t[-i];for(let e=Wr;e<o.length;e++){let t=o[e];t[Rr]===t[yr]&&Lg(t[mr],t,r,n)}if(null!==o[$r]){let e=o[$r];for(let t=0;t<e.length;t++){let i=e[t];Lg(i[mr],i,r,n)}}}}}return n}function Hg(e){let t=Ls(),i=Hs(),n=Qs();Js(n+1);let r=Kg(i,n);if(e.dirty&&function(e){return 4==(4&e[fr])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{let s=r.crossesNgTemplate?Lg(i,t,n,[]):Ng(i,t,r,n);e.reset(s,Cd),e.notifyOnChanges()}return!0}return!1}function Bg(e,t,i){let n=Hs();n.firstCreatePass&&(Wg(n,new Og(e,t,i),-1),2==(2&t)&&(n.staticViewQueries=!0)),$g(n,Ls(),t)}function zg(e,t,i,n){let r=Hs();if(r.firstCreatePass){let s=Gs();Wg(r,new Og(t,i,n),s.index),function(e,t){let i=e.contentQueries||(e.contentQueries=[]);t!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,t)}(r,e),2==(2&i)&&(r.staticContentQueries=!0)}$g(r,Ls(),i)}function Gg(){return function(e,t){return e[Or].queries[t].queryList}(Ls(),Qs())}function $g(e,t,i){let n=new mg(4==(4&i));(function(e,t,i,n){let r=kc(t);r.push(i),e.firstCreatePass&&Oc(e).push(n,r.length-1)})(e,t,n,n.destroy),null===t[Or]&&(t[Or]=new kg),t[Or].queries.push(new Rg(n))}function Wg(e,t,i){null===e.queries&&(e.queries=new Fg),e.queries.track(new Pg(t,i))}function Kg(e,t){return e.queries.getByIndex(t)}function jg(e,t){return wg(e,t)}var Ug,qg=new Ll("Application Initializer"),Yg=(()=>{let e=class{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),this.appInits=wn(qg,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let e=[];for(let t of this.appInits){let i=t();if(kh(i))e.push(i);else if(Oh(i)){let t=new Promise(((e,t)=>{i.subscribe({complete:e,error:t})}));e.push(t)}}let t=()=>{this.done=!0,this.resolve()};Promise.all(e).then((()=>{t()})).catch((e=>{this.reject(e)})),0===e.length&&t(),this.initialized=!0}};return e.fac=function(t){return new(t||e)},e.prov=Zi({token:e,factory:e.fac,providedIn:"root"}),e})(),Xg=new Ll("LocaleId",{providedIn:"root",factory:()=>wn(Xg,ln.Optional|ln.SkipSelf)||typeof $localize<"u"&&$localize.locale||Au}),Zg=new Ll("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),Qg=(()=>{let e=class{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new rt(!1)}add(){this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}};return e.fac=function(t){return new(t||e)},e.prov=Zi({token:e,factory:e.fac,providedIn:"root"}),e})(),Jg=(new Ll("compilerOptions"),new Ll("")),ep=new Ll(""),tp=(()=>{let e=class{constructor(e,t,i){this._ngZone=e,this.registry=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ug||(function(e){Ug=e}(i),i.addToWindow(t)),this._watchAngularEvents(),e.run((()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")}))}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular((()=>{this._ngZone.onStable.subscribe({next:()=>{Vd.assertNotInAngularZone(),queueMicrotask((()=>{this._isZoneStable=!0,this._runCallbacksIfReady()}))}})}))}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask((()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1}));else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter((t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1))),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((e=>({source:e.source,creationLocation:e.creationLocation,data:e.data}))):[]}addCallback(e,t,i){let n=-1;t&&t>0&&(n=setTimeout((()=>{this._callbacks=this._callbacks.filter((e=>e.timeoutId!==n)),e(this._didWork,this.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:n,updateCb:i})}whenStable(e,t,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,t,i){return[]}};return e.fac=function(t){return new(t||e)(_n(Vd),_n(ip),_n(ep))},e.prov=Zi({token:e,factory:e.fac}),e})(),ip=(()=>{let e=class{constructor(){this._applications=new Map}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Ug?.findTestabilityInTree(this,e,t)??null}};return e.fac=function(t){return new(t||e)},e.prov=Zi({token:e,factory:e.fac,providedIn:"platform"}),e})(),np=null,rp=new Ll("AllowMultipleToken"),sp=new Ll("PlatformDestroyListeners"),op=new Ll("appBootstrapListener");function ap(e,t,i=[]){let n=`Platform: ${t}`,r=new Ll(n);return(t=[])=>{let s=lp();if(!s||s.injector.get(rp,!1)){let s=[...i,...t,{provide:r,useValue:!0}];e?e(s):function(e){if(np&&!np.get(rp,!1))throw new qi(400,!1);np=e;let t=e.get(dp);(function(e){e.get(cd,null)?.forEach((e=>e()))})(e)}(function(e=[],t){return Rd.create({name:t,providers:[{provide:Ql,useValue:"platform"},{provide:sp,useValue:new Set([()=>np=null])},...e]})}(s,n))}return function(e){let t=lp();if(!t)throw new qi(401,!1);return t}()}}function lp(){return np?.get(dp)??null}var dp=(()=>{let e=class{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){let i=function(e="zone.js",t){return"noop"===e?new class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pd,this.onMicrotaskEmpty=new Pd,this.onStable=new Pd,this.onError=new Pd}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,n){return e.apply(t,i)}}:"zone.js"===e?new Vd(t):e}(t?.ngZone,function(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:t?.ngZoneEventCoalescing,runCoalescing:t?.ngZoneRunCoalescing}));return i.run((()=>{let t=function(e,t,i){return new Bu(e,t,i)}(e.moduleType,this.injector,[{provide:Vd,useFactory:()=>i},{provide:Hl,multi:!0,useFactory:()=>{let e=wn(mp,{optional:!0});return()=>e.initialize()}},{provide:gp,useFactory:pp},{provide:Gd,useFactory:$d}]),n=t.injector.get(Od,null);return i.runOutsideAngular((()=>{let e=i.onError.subscribe({next:e=>{n.handleError(e)}});t.onDestroy((()=>{up(this._modules,t),e.unsubscribe()}))})),function(e,t,i){try{let n=i();return kh(n)?n.catch((i=>{throw t.runOutsideAngular((()=>e.handleError(i))),i})):n}catch(i){throw t.runOutsideAngular((()=>e.handleError(i))),i}}(n,i,(()=>{let e=t.injector.get(Yg);return e.runInitializers(),e.donePromise.then((()=>(function(e){(function(e,t){null==e&&function(e,t,i,n){throw new Error(`ASSERTION ERROR: ${e} [Expected=> null != ${t} <=Actual]`)}(t,e)})(e,"Expected localeId to be defined"),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}(t.injector.get(Xg,Au)||Au),this._moduleDoBootstrap(t),t)))}))}))}bootstrapModule(e,t=[]){let i=cp({},t);return function(e,t,i){let n=new zu(i);return Promise.resolve(n)}(this.injector,0,e).then((e=>this.bootstrapModuleFactory(e,i)))}_moduleDoBootstrap(e){let t=e.injector.get(hp);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((e=>t.bootstrap(e)));else{if(!e.instance.ngDoBootstrap)throw new qi(-403,!1);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new qi(404,!1);this._modules.slice().forEach((e=>e.destroy())),this._destroyListeners.forEach((e=>e()));let e=this._injector.get(sp,null);e&&(e.forEach((e=>e())),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};return e.fac=function(t){return new(t||e)(_n(Rd))},e.prov=Zi({token:e,factory:e.fac,providedIn:"platform"}),e})();function cp(e,t){return Array.isArray(t)?t.reduce(cp,e):m(m({},e),t)}var hp=(()=>{let e=class{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=wn(gp),this.zoneIsStable=wn(Gd),this.componentTypes=[],this.components=[],this.isStable=wn(Qg).hasPendingTasks.pipe(_i((e=>e?ft(!1):this.zoneIsStable)),(e=>e.lift(new class{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new li(e,this.compare,this.keySelector))}}(void 0,void 0))),vi()),this._injector=wn(id)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,t){let i,n=e instanceof yd;if(!this._injector.get(Yg).done)throw!n&&function(e){let t=lr(e)||dr(e)||cr(e);null!==t&&t.standalone}(e),new qi(405,!1);i=n?e:this._injector.get(vd).resolveComponentFactory(e),this.componentTypes.push(i.componentType);let r=function(e){return e.isBoundToModule}(i)?void 0:this._injector.get(Lu),s=t||i.selector,o=i.create(Rd.NULL,[],s,r),a=o.location.nativeElement,l=o.injector.get(Jg,null);return l?.registerApplication(a),o.onDestroy((()=>{this.detachView(o.hostView),up(this.components,o),l?.unregisterApplication(a)})),this._loadComponent(o),o}tick(){if(this._runningTick)throw new qi(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){let t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){let t=e;up(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let t=this._injector.get(op,[]);t.push(...this._bootstrapListeners),t.forEach((t=>t(e)))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach((e=>e())),this._views.slice().forEach((e=>e.destroy()))}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>up(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new qi(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};return e.fac=function(t){return new(t||e)},e.prov=Zi({token:e,factory:e.fac,providedIn:"root"}),e})();function up(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}var gp=new Ll("",{providedIn:"root",factory:()=>wn(Od).handleError.bind(void 0)});function pp(){let e=wn(Vd),t=wn(Od);return i=>e.runOutsideAngular((()=>t.handleError(i)))}var mp=(()=>{let e=class{constructor(){this.zone=wn(Vd),this.applicationRef=wn(hp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run((()=>{this.applicationRef.tick()}))}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};return e.fac=function(t){return new(t||e)},e.prov=Zi({token:e,factory:e.fac,providedIn:"root"}),e})(),fp=(()=>{let e=class{};return e.__NG_ELEMENT_ID__=yp,e})();function yp(e){return function(e,t,i){if(qr(e)&&!i){let i=As(e.index,t);return new qc(i,i)}if(47&e.type){let e=t[Ar];return new qc(e,t)}return null}(Gs(),Ls(),16==(16&e))}var vp=class{constructor(){}supports(e){return oh(e)}create(e){return new _p(e)}},xp=(e,t)=>t,_p=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||xp}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,n=0,r=null;for(;t||i;){let s=!i||t&&t.currentIndex<Sp(i,n,r)?t:i,o=Sp(s,n,r),a=s.currentIndex;if(s===i)n--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)n++;else{r||(r=[]);let e=o-n,t=a-n;if(e!=t){for(let i=0;i<e;i++){let n=i<r.length?r[i]:r[i]=0,s=n+i;t<=s&&s<e&&(r[i]=n+1)}r[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!oh(e))throw new qi(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,i,n,r=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)i=e[t],n=this._trackByFn(t,i),null!==r&&Object.is(r.trackById,n)?(s&&(r=this._verifyReinsertion(r,i,n,t)),Object.is(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,n,t),s=!0),r=r._next}else t=0,function(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{let i,n=e[Symbol.iterator]();for(;!(i=n.next()).done;)t(i.value)}}(e,(e=>{n=this._trackByFn(t,e),null!==r&&Object.is(r.trackById,n)?(s&&(r=this._verifyReinsertion(r,e,n,t)),Object.is(r.item,e)||this._addIdentityChange(r,e)):(r=this._mismatch(r,e,n,t),s=!0),r=r._next,t++})),this.length=t;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,n){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,n)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,n))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,n)):e=this._addAfter(new wp(t,i),r,n),e}_verifyReinsertion(e,t,i,n){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?e=this._reinsertAfter(r,e._prev,n):e.currentIndex!=n&&(e.currentIndex=n,this._addToMoves(e,n)),e}_truncate(e){for(;null!==e;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);let n=e._prevRemoved,r=e._nextRemoved;return null===n?this._removalsHead=r:n._nextRemoved=r,null===r?this._removalsTail=n:r._prevRemoved=n,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let n=null===t?this._itHead:t._next;return e._next=n,e._prev=t,null===n?this._itTail=e:n._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Cp),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Cp),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},wp=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Cp=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new class{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}},this.map.set(t,i)),i.add(e)}get(e,t){let i=e,n=this.map.get(i);return n?n.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}};function Sp(e,t,i){let n=e.previousIndex;if(null===n)return n;let r=0;return i&&n<i.length&&(r=i[n]),n+t+r}var bp=class{constructor(){}supports(e){return e instanceof Map||ah(e)}create(){return new Dp}},Dp=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||ah(e)))throw new qi(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,((e,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{let n=this._getOrCreateRecordForKey(i,e);t=this._insertBeforeOrAppend(t,n)}})),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let n=i._prev,r=i._next;return n&&(n._next=r),r&&(r._prev=n),i._next=null,i._prev=null,i}let i=new Ep(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((i=>t(e[i],i)))}},Ep=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Ip(){return new Tp([new vp])}var Tp=(()=>{let e=class e{constructor(e){this.factories=e}static create(t,i){if(null!=i){let e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||Ip()),deps:[[e,new ha,new ca]]}}find(e){let t=this.factories.find((t=>t.supports(e)));if(null!=t)return t;throw new qi(901,!1)}};return e.prov=Zi({token:e,providedIn:"root",factory:Ip}),e})();function Ap(){return new Rp([new bp])}var Rp=(()=>{let e=class e{constructor(e){this.factories=e}static create(t,i){if(i){let e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||Ap()),deps:[[e,new ha,new ca]]}}find(e){let t=this.factories.find((t=>t.supports(e)));if(t)return t;throw new qi(901,!1)}};return e.prov=Zi({token:e,providedIn:"root",factory:Ap}),e})(),kp=ap(null,"core",[]),Op=(()=>{let e=class{constructor(e){}};return e.fac=function(t){return new(t||e)(_n(hp))},e.mod=rr({type:e}),e.inj=Qi({}),e})();function Fp(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function Pp(e,t){let i=lr(e),n=t.elementInjector||td();return new Qc(i).create(n,t.projectableNodes,t.hostElement,t.environmentInjector)}function Mp(e){let t=lr(e);if(!t)return null;let i=new Qc(t);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var Vp=null;function Np(){return Vp}var Lp=class{},Hp=new Ll("DocumentToken"),Bp={ADP:[void 0,void 0,0],AFN:[void 0,"",0],ALL:[void 0,void 0,0],AMD:[void 0,"",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,""],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,""],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN",""],COP:[void 0,"$",2],CRC:[void 0,"",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E"],ESP:[void 0,"",0],EUR:[""],FJD:[void 0,"$"],FKP:[void 0,""],GBP:[""],GEL:[void 0,""],GHS:[void 0,"GH"],GIP:[void 0,""],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:[""],INR:[""],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["",void 0,0],KHR:[void 0,""],KMF:[void 0,"CF",0],KPW:[void 0,"",0],KRW:["",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,""],LAK:[void 0,"",0],LBP:[void 0,"L",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,""],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[""],PKR:[void 0,"Rs",2],PLN:[void 0,"z"],PYG:[void 0,"",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,""],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,""],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,""],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"",0],THB:[void 0,""],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,""],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,""],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:[""],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},zp=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(zp||{}),Gp=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Gp||{}),$p=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}($p||{}),Wp=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Wp||{}),Kp=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e.Infinity=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}(Kp||{});function jp(e){return Eu(e)[Tu.FirstDayOfWeek]}function Up(e,t){return em(Eu(e)[Tu.DateFormat],t)}function qp(e,t){return em(Eu(e)[Tu.TimeFormat],t)}function Yp(e,t){return em(Eu(e)[Tu.DateTimeFormat],t)}function Xp(e,t){let i=Eu(e),n=i[Tu.NumberSymbols][t];if(typeof n>"u"){if(t===Kp.CurrencyDecimal)return i[Tu.NumberSymbols][Kp.Decimal];if(t===Kp.CurrencyGroup)return i[Tu.NumberSymbols][Kp.Group]}return n}function Zp(e,t){return Eu(e)[Tu.NumberFormats][t]}function Qp(e){return function(e){return Eu(e)[Tu.CurrencyCode]||null}(e)}function Jp(e){if(!e[Tu.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Tu.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function em(e,t){for(let i=t;i>-1;i--)if(typeof e[i]<"u")return e[i];throw new Error("Locale data API: locale data undefined")}function tm(e){let[t,i]=e.split(":");return{hours:+t,minutes:+i}}function im(e,t,i="en"){let n=function(e){return Eu(e)[Tu.Currencies]}(i)[e]||Bp[e]||[],r=n[1];return"narrow"===t&&"string"==typeof r?r:n[0]||e}var nm=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,rm={},sm=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,om=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(om||{}),am=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(am||{}),lm=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(lm||{});function dm(e,t,i,n){let r=function(e){if(bm(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[t,i=1,n=1]=e.split("-").map((e=>+e));return cm(t,i-1,n)}let t,i=parseFloat(e);if(!isNaN(e-i))return new Date(i);if(t=e.match(nm))return function(e){let t=new Date(0),i=0,n=0,r=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(i=Number(e[9]+e[10]),n=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let o=Number(e[4]||0)-i,a=Number(e[5]||0)-n,l=Number(e[6]||0),d=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return s.call(t,o,a,l,d),t}(t)}let t=new Date(e);if(!bm(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=hm(i,t)||t;let s,o=[];for(;t;){if(s=sm.exec(t),!s){o.push(t);break}{o=o.concat(s.slice(1));let e=o.pop();if(!e)break;t=e}}let a=r.getTimezoneOffset();n&&(a=Sm(n,a),r=function(e,t,i){let n=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(Sm(t,n)-n))}(r,n));let l="";return o.forEach((e=>{let t=function(e){if(Cm[e])return Cm[e];let t;switch(e){case"G":case"GG":case"GGG":t=mm(lm.Eras,$p.Abbreviated);break;case"GGGG":t=mm(lm.Eras,$p.Wide);break;case"GGGGG":t=mm(lm.Eras,$p.Narrow);break;case"y":t=pm(am.FullYear,1,0,!1,!0);break;case"yy":t=pm(am.FullYear,2,0,!0,!0);break;case"yyy":t=pm(am.FullYear,3,0,!1,!0);break;case"yyyy":t=pm(am.FullYear,4,0,!1,!0);break;case"Y":t=wm(1);break;case"YY":t=wm(2,!0);break;case"YYY":t=wm(3);break;case"YYYY":t=wm(4);break;case"M":case"L":t=pm(am.Month,1,1);break;case"MM":case"LL":t=pm(am.Month,2,1);break;case"MMM":t=mm(lm.Months,$p.Abbreviated);break;case"MMMM":t=mm(lm.Months,$p.Wide);break;case"MMMMM":t=mm(lm.Months,$p.Narrow);break;case"LLL":t=mm(lm.Months,$p.Abbreviated,Gp.Standalone);break;case"LLLL":t=mm(lm.Months,$p.Wide,Gp.Standalone);break;case"LLLLL":t=mm(lm.Months,$p.Narrow,Gp.Standalone);break;case"w":t=_m(1);break;case"ww":t=_m(2);break;case"W":t=_m(1,!0);break;case"d":t=pm(am.Date,1);break;case"dd":t=pm(am.Date,2);break;case"c":case"cc":t=pm(am.Day,1);break;case"ccc":t=mm(lm.Days,$p.Abbreviated,Gp.Standalone);break;case"cccc":t=mm(lm.Days,$p.Wide,Gp.Standalone);break;case"ccccc":t=mm(lm.Days,$p.Narrow,Gp.Standalone);break;case"cccccc":t=mm(lm.Days,$p.Short,Gp.Standalone);break;case"E":case"EE":case"EEE":t=mm(lm.Days,$p.Abbreviated);break;case"EEEE":t=mm(lm.Days,$p.Wide);break;case"EEEEE":t=mm(lm.Days,$p.Narrow);break;case"EEEEEE":t=mm(lm.Days,$p.Short);break;case"a":case"aa":case"aaa":t=mm(lm.DayPeriods,$p.Abbreviated);break;case"aaaa":t=mm(lm.DayPeriods,$p.Wide);break;case"aaaaa":t=mm(lm.DayPeriods,$p.Narrow);break;case"b":case"bb":case"bbb":t=mm(lm.DayPeriods,$p.Abbreviated,Gp.Standalone,!0);break;case"bbbb":t=mm(lm.DayPeriods,$p.Wide,Gp.Standalone,!0);break;case"bbbbb":t=mm(lm.DayPeriods,$p.Narrow,Gp.Standalone,!0);break;case"B":case"BB":case"BBB":t=mm(lm.DayPeriods,$p.Abbreviated,Gp.Format,!0);break;case"BBBB":t=mm(lm.DayPeriods,$p.Wide,Gp.Format,!0);break;case"BBBBB":t=mm(lm.DayPeriods,$p.Narrow,Gp.Format,!0);break;case"h":t=pm(am.Hours,1,-12);break;case"hh":t=pm(am.Hours,2,-12);break;case"H":t=pm(am.Hours,1);break;case"HH":t=pm(am.Hours,2);break;case"m":t=pm(am.Minutes,1);break;case"mm":t=pm(am.Minutes,2);break;case"s":t=pm(am.Seconds,1);break;case"ss":t=pm(am.Seconds,2);break;case"S":t=pm(am.FractionalSeconds,1);break;case"SS":t=pm(am.FractionalSeconds,2);break;case"SSS":t=pm(am.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=fm(om.Short);break;case"ZZZZZ":t=fm(om.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=fm(om.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=fm(om.Long);break;default:return null}return Cm[e]=t,t}(e);l+=t?t(r,i,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),l}function cm(e,t,i){let n=new Date(0);return n.setFullYear(e,t,i),n.setHours(0,0,0),n}function hm(e,t){let i=function(e){return Eu(e)[Tu.LocaleId]}(e);if(rm[i]=rm[i]||{},rm[i][t])return rm[i][t];let n="";switch(t){case"shortDate":n=Up(e,Wp.Short);break;case"mediumDate":n=Up(e,Wp.Medium);break;case"longDate":n=Up(e,Wp.Long);break;case"fullDate":n=Up(e,Wp.Full);break;case"shortTime":n=qp(e,Wp.Short);break;case"mediumTime":n=qp(e,Wp.Medium);break;case"longTime":n=qp(e,Wp.Long);break;case"fullTime":n=qp(e,Wp.Full);break;case"short":let t=hm(e,"shortTime"),i=hm(e,"shortDate");n=um(Yp(e,Wp.Short),[t,i]);break;case"medium":let r=hm(e,"mediumTime"),s=hm(e,"mediumDate");n=um(Yp(e,Wp.Medium),[r,s]);break;case"long":let o=hm(e,"longTime"),a=hm(e,"longDate");n=um(Yp(e,Wp.Long),[o,a]);break;case"full":let l=hm(e,"fullTime"),d=hm(e,"fullDate");n=um(Yp(e,Wp.Full),[l,d])}return n&&(rm[i][t]=n),n}function um(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,i){return null!=t&&i in t?t[i]:e}))),e}function gm(e,t,i="-",n,r){let s="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,s=i));let o=String(e);for(;o.length<t;)o="0"+o;return n&&(o=o.slice(o.length-t)),s+o}function pm(e,t,i=0,n=!1,r=!1){return function(s,o){let a=function(e,t){switch(e){case am.FullYear:return t.getFullYear();case am.Month:return t.getMonth();case am.Date:return t.getDate();case am.Hours:return t.getHours();case am.Minutes:return t.getMinutes();case am.Seconds:return t.getSeconds();case am.FractionalSeconds:return t.getMilliseconds();case am.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((i>0||a>-i)&&(a+=i),e===am.Hours)0===a&&-12===i&&(a=12);else if(e===am.FractionalSeconds)return function(e,t){return gm(e,3).substring(0,t)}(a,t);let l=Xp(o,Kp.MinusSign);return gm(a,t,l,n,r)}}function mm(e,t,i=Gp.Format,n=!1){return function(r,s){return function(e,t,i,n,r,s){switch(i){case lm.Months:return function(e,t,i){let n=Eu(e),r=em([n[Tu.MonthsFormat],n[Tu.MonthsStandalone]],t);return em(r,i)}(t,r,n)[e.getMonth()];case lm.Days:return function(e,t,i){let n=Eu(e),r=em([n[Tu.DaysFormat],n[Tu.DaysStandalone]],t);return em(r,i)}(t,r,n)[e.getDay()];case lm.DayPeriods:let o=e.getHours(),a=e.getMinutes();if(s){let e=function(e){let t=Eu(e);return Jp(t),(t[Tu.ExtraData][2]||[]).map((e=>"string"==typeof e?tm(e):[tm(e[0]),tm(e[1])]))}(t),i=function(e,t,i){let n=Eu(e);Jp(n);let r=em([n[Tu.ExtraData][0],n[Tu.ExtraData][1]],t)||[];return em(r,i)||[]}(t,r,n),s=e.findIndex((e=>{if(Array.isArray(e)){let[t,i]=e,n=o>=t.hours&&a>=t.minutes,r=o<i.hours||o===i.hours&&a<i.minutes;if(t.hours<i.hours){if(n&&r)return!0}else if(n||r)return!0}else if(e.hours===o&&e.minutes===a)return!0;return!1}));if(-1!==s)return i[s]}return function(e,t,i){let n=Eu(e),r=em([n[Tu.DayPeriodsFormat],n[Tu.DayPeriodsStandalone]],t);return em(r,i)}(t,r,n)[o<12?0:1];case lm.Eras:return function(e,t){return em(Eu(e)[Tu.Eras],t)}(t,n)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${i}`)}}(r,s,e,t,i,n)}}function fm(e){return function(t,i,n){let r=-1*n,s=Xp(i,Kp.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case om.Short:return(r>=0?"+":"")+gm(o,2,s)+gm(Math.abs(r%60),2,s);case om.ShortGMT:return"GMT"+(r>=0?"+":"")+gm(o,1,s);case om.Long:return"GMT"+(r>=0?"+":"")+gm(o,2,s)+":"+gm(Math.abs(r%60),2,s);case om.Extended:return 0===n?"Z":(r>=0?"+":"")+gm(o,2,s)+":"+gm(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}var ym=0,vm=4;function xm(e){return cm(e.getFullYear(),e.getMonth(),e.getDate()+(vm-e.getDay()))}function _m(e,t=!1){return function(i,n){let r;if(t){let e=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,t=i.getDate();r=1+Math.floor((t+e)/7)}else{let e=xm(i),t=function(e){let t=cm(e,ym,1).getDay();return cm(e,0,1+(t<=vm?vm:vm+7)-t)}(e.getFullYear()),n=e.getTime()-t.getTime();r=1+Math.round(n/6048e5)}return gm(r,e,Xp(n,Kp.MinusSign))}}function wm(e,t=!1){return function(i,n){return gm(xm(i).getFullYear(),e,Xp(n,Kp.MinusSign),t)}}var Cm={};function Sm(e,t){e=e.replace(/:/g,"");let i=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(i)?t:i}function bm(e){return e instanceof Date&&!isNaN(e.valueOf())}var Dm=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Em=22,Im=".",Tm="0",Am=";",Rm=",",km="#";function Om(e,t,i,n,r,s,o=!1){let a="",l=!1;if(isFinite(e)){let d=function(e){let t,i,n,r,s,o=Math.abs(e)+"",a=0;for((i=o.indexOf(Im))>-1&&(o=o.replace(Im,"")),(n=o.search(/e/i))>0?(i<0&&(i=n),i+=+o.slice(n+1),o=o.substring(0,n)):i<0&&(i=o.length),n=0;o.charAt(n)===Tm;n++);if(n===(s=o.length))t=[0],i=1;else{for(s--;o.charAt(s)===Tm;)s--;for(i-=n,t=[],r=0;n<=s;n++,r++)t[r]=Number(o.charAt(n))}return i>Em&&(t=t.splice(0,Em-1),a=i-1,i=1),{digits:t,exponent:a,integerLen:i}}(e);o&&(d=function(e){if(0===e.digits[0])return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(d));let c=t.minInt,h=t.minFrac,u=t.maxFrac;if(s){let e=s.match(Dm);if(null===e)throw new Error(`${s} is not a valid digit info`);let t=e[1],i=e[3],n=e[5];null!=t&&(c=Nm(t)),null!=i&&(h=Nm(i)),null!=n?u=Nm(n):null!=i&&h>u&&(u=h)}!function(e,t,i){if(t>i)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${i}).`);let n=e.digits,r=n.length-e.integerLen,s=Math.min(Math.max(t,r),i),o=s+e.integerLen,a=n[o];if(o>0){n.splice(Math.max(e.integerLen,o));for(let e=o;e<n.length;e++)n[e]=0}else{r=Math.max(0,r),e.integerLen=1,n.length=Math.max(1,o=s+1),n[0]=0;for(let e=1;e<o;e++)n[e]=0}if(a>=5)if(o-1<0){for(let t=0;t>o;t--)n.unshift(0),e.integerLen++;n.unshift(1),e.integerLen++}else n[o-1]++;for(;r<Math.max(0,s);r++)n.push(0);let l=0!==s,d=t+e.integerLen,c=n.reduceRight((function(e,t,i,n){return t+=e,n[i]=t<10?t:t-10,l&&(0===n[i]&&i>=d?n.pop():l=!1),t>=10?1:0}),0);c&&(n.unshift(c),e.integerLen++)}(d,h,u);let g=d.digits,p=d.integerLen,m=d.exponent,f=[];for(l=g.every((e=>!e));p<c;p++)g.unshift(0);for(;p<0;p++)g.unshift(0);p>0?f=g.splice(p,g.length):(f=g,g=[0]);let y=[];for(g.length>=t.lgSize&&y.unshift(g.splice(-t.lgSize,g.length).join(""));g.length>t.gSize;)y.unshift(g.splice(-t.gSize,g.length).join(""));g.length&&y.unshift(g.join("")),a=y.join(Xp(i,n)),f.length&&(a+=Xp(i,r)+f.join("")),m&&(a+=Xp(i,Kp.Exponential)+"+"+m)}else a=Xp(i,Kp.Infinity);return a=e<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function Fm(e,t,i,n,r){let s=Vm(Zp(t,zp.Currency),Xp(t,Kp.MinusSign));return s.minFrac=function(e){let t,i=Bp[e];return i&&(t=i[2]),"number"==typeof t?t:2}(n),s.maxFrac=s.minFrac,Om(e,s,t,Kp.CurrencyGroup,Kp.CurrencyDecimal,r).replace("",i).replace("","").trim()}function Pm(e,t,i){return Om(e,Vm(Zp(t,zp.Percent),Xp(t,Kp.MinusSign)),t,Kp.Group,Kp.Decimal,i,!0).replace(new RegExp("%","g"),Xp(t,Kp.PercentSign))}function Mm(e,t,i){return Om(e,Vm(Zp(t,zp.Decimal),Xp(t,Kp.MinusSign)),t,Kp.Group,Kp.Decimal,i)}function Vm(e,t="-"){let i={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=e.split(Am),r=n[0],s=n[1],o=-1!==r.indexOf(Im)?r.split(Im):[r.substring(0,r.lastIndexOf(Tm)+1),r.substring(r.lastIndexOf(Tm)+1)],a=o[0],l=o[1]||"";i.posPre=a.substring(0,a.indexOf(km));for(let e=0;e<l.length;e++){let t=l.charAt(e);t===Tm?i.minFrac=i.maxFrac=e+1:t===km?i.maxFrac=e+1:i.posSuf+=t}let d=a.split(Rm);if(i.gSize=d[1]?d[1].length:0,i.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,s){let e=r.length-i.posPre.length-i.posSuf.length,t=s.indexOf(km);i.negPre=s.substring(0,t).replace(/'/g,""),i.negSuf=s.slice(t+e).replace(/'/g,"")}else i.negPre=t+i.posPre,i.negSuf=i.posSuf;return i}function Nm(e){let t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var Lm=/\s+/,Hm=[],Bm=(()=>{let e=class{constructor(e,t,i,n){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=i,this._renderer=n,this.initialClasses=Hm,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Lm):Hm}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Lm):e}ngDoCheck(){for(let e of this.initialClasses)this._updateState(e,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let t of e)this._updateState(t,!0);else if(null!=e)for(let t of Object.keys(e))this._updateState(t,!!e[t]);this._applyStateDiff()}_updateState(e,t){let i=this.stateMap.get(e);void 0!==i?(i.enabled!==t&&(i.changed=!0,i.enabled=t),i.touched=!0):this.stateMap.set(e,{enabled:t,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let t=e[0],i=e[1];i.changed?(this._toggleClass(t,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(t,!1),this.stateMap.delete(t)),i.touched=!1}}_toggleClass(e,t){(e=e.trim()).length>0&&e.split(Lm).forEach((e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)}))}};return e.fac=function(t){return new(t||e)(nc(Tp),nc(Rp),nc(wd),nc(bd))},e.dir=or({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})(),zm=(()=>{let e=class{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,t,i){this._viewContainer=e,this._template=t,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let t=this._viewContainer;e.forEachOperation(((e,i,n)=>{if(null==e.previousIndex)t.createEmbeddedView(this._template,new class{constructor(e,t,i,n){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}(e.item,this._ngForOf,-1,-1),null===n?void 0:n);else if(null==n)t.remove(null===i?void 0:i);else if(null!==i){let r=t.get(i);t.move(r,n),Gm(r,e)}}));for(let e=0,i=t.length;e<i;e++){let n=t.get(e).context;n.index=e,n.count=i,n.ngForOf=this._ngForOf}e.forEachIdentityChange((e=>{Gm(t.get(e.currentIndex),e)}))}static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)(nc(Cg),nc(yg),nc(Tp))},e.dir=or({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function Gm(e,t){e.context.$implicit=t.item}var $m=(()=>{let e=class{constructor(e,t){this._viewContainer=e,this._context=new Wm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Km("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Km("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)(nc(Cg),nc(yg))},e.dir=or({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})(),Wm=class{constructor(){this.$implicit=null,this.ngIf=null}};function Km(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Bi(t)}'.`)}var jm=class{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},Um=(()=>{let e=class{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){let t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(let t of this._defaultViews)t.enforceState(e)}}};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),e})(),qm=(()=>{let e=class{constructor(e,t,i){this.ngSwitch=i,i._addCase(),this._view=new jm(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}};return e.fac=function(t){return new(t||e)(nc(Cg),nc(yg),nc(Um,9))},e.dir=or({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),e})(),Ym=(()=>{let e=class{constructor(e,t,i){i._addDefault(new jm(e,t))}};return e.fac=function(t){return new(t||e)(nc(Cg),nc(yg),nc(Um,9))},e.dir=or({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),e})(),Xm=(()=>{let e=class{constructor(e,t,i){this._ngEl=e,this._differs=t,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){let[i,n]=e.split("."),r=-1===i.indexOf("-")?void 0:pa.DashCase;null!=t?this._renderer.setStyle(this._ngEl.nativeElement,i,n?`${t}${n}`:t,r):this._renderer.removeStyle(this._ngEl.nativeElement,i,r)}_applyChanges(e){e.forEachRemovedItem((e=>this._setStyle(e.key,null))),e.forEachAddedItem((e=>this._setStyle(e.key,e.currentValue))),e.forEachChangedItem((e=>this._setStyle(e.key,e.currentValue)))}};return e.fac=function(t){return new(t||e)(nc(wd),nc(Rp),nc(bd))},e.dir=or({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),Zm=(()=>{let e=class{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){let e=this._viewContainerRef;if(this._viewRef&&e.remove(e.indexOf(this._viewRef)),this.ngTemplateOutlet){let{ngTemplateOutlet:t,ngTemplateOutletContext:i,ngTemplateOutletInjector:n}=this;this._viewRef=e.createEmbeddedView(t,i,n?{injector:n}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}};return e.fac=function(t){return new(t||e)(nc(Cg))},e.dir=or({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[fs]}),e})();function Qm(e,t){return new qi(2100,!1)}var Jm=new class{createSubscription(e,t){return e.then(t,(e=>{throw e}))}dispose(e){}},ef=new class{createSubscription(e,t){return us((()=>e.subscribe({next:t,error:e=>{throw e}})))}dispose(e){us((()=>e.unsubscribe()))}},tf=(()=>{let e=class{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,(t=>this._updateLatestValue(e,t)))}_selectStrategy(e){if(kh(e))return Jm;if(Oh(e))return ef;throw Qm()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}};return e.fac=function(t){return new(t||e)(nc(fp,16))},e.pipe=ar({name:"async",type:e,pure:!1,standalone:!0}),e})(),nf=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,rf=(()=>{let e=class{transform(e){if(null==e)return null;if("string"!=typeof e)throw Qm();return e.replace(nf,(e=>e[0].toUpperCase()+e.slice(1).toLowerCase()))}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"titlecase",type:e,pure:!0,standalone:!0}),e})(),sf=new Ll("DATE_PIPE_DEFAULT_TIMEZONE"),of=new Ll("DATE_PIPE_DEFAULT_OPTIONS"),af=(()=>{let e=class{constructor(e,t,i){this.locale=e,this.defaultTimezone=t,this.defaultOptions=i}transform(e,t,i,n){if(null==e||""===e||e!=e)return null;try{let r=t??this.defaultOptions?.dateFormat??"mediumDate",s=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return dm(e,r,n||this.locale,s)}catch(e){throw Qm(0,e.message)}}};return e.fac=function(t){return new(t||e)(nc(Xg,16),nc(sf,24),nc(of,24))},e.pipe=ar({name:"date",type:e,pure:!0,standalone:!0}),e})(),lf=(()=>{let e=class{constructor(e){this._locale=e}transform(e,t,i){if(!hf(e))return null;i=i||this._locale;try{return Mm(uf(e),i,t)}catch(e){throw Qm(0,e.message)}}};return e.fac=function(t){return new(t||e)(nc(Xg,16))},e.pipe=ar({name:"number",type:e,pure:!0,standalone:!0}),e})(),df=(()=>{let e=class{constructor(e){this._locale=e}transform(e,t,i){if(!hf(e))return null;i=i||this._locale;try{return Pm(uf(e),i,t)}catch(e){throw Qm(0,e.message)}}};return e.fac=function(t){return new(t||e)(nc(Xg,16))},e.pipe=ar({name:"percent",type:e,pure:!0,standalone:!0}),e})(),cf=(()=>{let e=class{constructor(e,t="USD"){this._locale=e,this._defaultCurrencyCode=t}transform(e,t=this._defaultCurrencyCode,i="symbol",n,r){if(!hf(e))return null;r=r||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let s=t||this._defaultCurrencyCode;"code"!==i&&(s="symbol"===i||"symbol-narrow"===i?im(s,"symbol"===i?"wide":"narrow",r):i);try{return Fm(uf(e),r,s,t,n)}catch(e){throw Qm(0,e.message)}}};return e.fac=function(t){return new(t||e)(nc(Xg,16),nc(Zg,16))},e.pipe=ar({name:"currency",type:e,pure:!0,standalone:!0}),e})();function hf(e){return!(null==e||""===e||e!=e)}function uf(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}var gf=(()=>{let e=class{};return e.fac=function(t){return new(t||e)},e.mod=rr({type:e}),e.inj=Qi({}),e})(),pf="browser";function mf(e){return"server"===e}var ff=class{},yf=class e{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach((e=>{let t=e.indexOf(":");if(t>0){let i=e.slice(0,t),n=i.toLowerCase(),r=e.slice(t+1).trim();this.maybeSetNormalizedName(i,n),this.headers.has(n)?this.headers.get(n).push(r):this.headers.set(n,[r])}}))}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach(((e,t)=>{this.setHeaderEntries(t,e)}))):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach((([e,t])=>{this.setHeaderEntries(e,t)}))}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((e=>this.applyUpdate(e))),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach((t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))}))}clone(t){let i=new e;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);let n=("a"===e.op?this.headers.get(t):void 0)||[];n.push(...i),this.headers.set(t,n);break;case"d":let r=e.value;if(r){let e=this.headers.get(t);if(!e)return;e=e.filter((e=>-1===r.indexOf(e))),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map((e=>e.toString())),n=e.toLowerCase();this.headers.set(n,i),this.maybeSetNormalizedName(e,n)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach((t=>e(this.normalizedNames.get(t),this.headers.get(t))))}},vf=/%(\d[a-f0-9])/gi,xf={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _f(e){return encodeURIComponent(e).replace(vf,((e,t)=>xf[t]??e))}function wf(e){return`${e}`}var Cf=class e{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new class{encodeKey(e){return _f(e)}encodeValue(e){return _f(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}},e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){let i=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach((e=>{let n=e.indexOf("="),[r,s]=-1==n?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,n)),t.decodeValue(e.slice(n+1))],o=i.get(r)||[];o.push(s),i.set(r,o)})),i}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach((t=>{let i=e.fromObject[t],n=Array.isArray(i)?i.map(wf):[wf(i)];this.map.set(t,n)}))):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach((i=>{let n=e[i];Array.isArray(n)?n.forEach((e=>{t.push({param:i,value:e,op:"a"})})):t.push({param:i,value:n,op:"a"})})),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map((e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map((e=>t+"="+this.encoder.encodeValue(e))).join("&")})).filter((e=>""!==e)).join("&")}clone(t){let i=new e({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(t),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((e=>this.map.set(e,this.cloneFrom.map.get(e)))),this.updates.forEach((e=>{switch(e.op){case"a":case"s":let t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(wf(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[],i=t.indexOf(wf(e.value));-1!==i&&t.splice(i,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}})),this.cloneFrom=this.updates=null)}};function Sf(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function bf(e){return typeof Blob<"u"&&e instanceof Blob}function Df(e){return typeof FormData<"u"&&e instanceof FormData}var Ef=class e{constructor(e,t,i,n){let r;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==i?i:null,r=n):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new yf),this.context||(this.context=new class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}),this.params){let e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{let i=t.indexOf("?"),n=-1===i?"?":i<t.length-1?"&":"";this.urlWithParams=t+n+e}}else this.params=new Cf,this.urlWithParams=t}serializeBody(){return null===this.body?null:Sf(this.body)||bf(this.body)||Df(this.body)||function(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Cf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Df(this.body)?null:bf(this.body)?this.body.type||null:Sf(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Cf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){let i=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,l=t.headers||this.headers,d=t.params||this.params,c=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce(((e,i)=>e.set(i,t.setHeaders[i])),l)),t.setParams&&(d=Object.keys(t.setParams).reduce(((e,i)=>e.set(i,t.setParams[i])),d)),new e(i,n,s,{params:d,headers:l,context:c,reportProgress:a,responseType:r,withCredentials:o})}},If=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(If||{}),Tf=class{constructor(e,t=200,i="OK"){this.headers=e.headers||new yf,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Af=class e extends Tf{constructor(e={}){super(e),this.type=If.Response,this.body=void 0!==e.body?e.body:null}clone(t={}){return new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};function Rf(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var kf,Of=(()=>{let e=class{constructor(e){this.handler=e}request(e,t,i={}){let n;if(e instanceof Ef)n=e;else{let r,s;r=i.headers instanceof yf?i.headers:new yf(i.headers),i.params&&(s=i.params instanceof Cf?i.params:new Cf({fromObject:i.params})),n=new Ef(e,t,void 0!==i.body?i.body:null,{headers:r,context:i.context,params:s,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}let r=ft(n).pipe(function(e,t){return Bt(e,void 0,1)}((e=>this.handler.handle(e))));if(e instanceof Ef||"events"===i.observe)return r;let s=r.pipe(Xt((e=>e instanceof Af)));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return s.pipe(At((e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return s.pipe(At((e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return s.pipe(At((e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));default:return s.pipe(At((e=>e.body)))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new Cf).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,i={}){return this.request("PATCH",e,Rf(i,t))}post(e,t,i={}){return this.request("POST",e,Rf(i,t))}put(e,t,i={}){return this.request("PUT",e,Rf(i,t))}};return e.fac=function(t){return new(t||e)(_n(ff))},e.prov=Zi({token:e,factory:e.fac}),e})(),Ff=class extends Lp{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Pf=class e extends Ff{static makeCurrent(){!function(e){Vp||(Vp=e)}(new e)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){let t=(Mf=Mf||document.querySelector("base"))?Mf.getAttribute("href"):null;return null==t?null:function(e){(kf=kf||document.createElement("a")).setAttribute("href",e);let t=kf.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){Mf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(let i of e.split(";")){let e=i.indexOf("="),[n,r]=-1==e?[i,""]:[i.slice(0,e),i.slice(e+1)];if(n.trim()===t)return decodeURIComponent(r)}return null}(document.cookie,e)}},Mf=null,Vf=(()=>{let e=class{build(){return new XMLHttpRequest}};return e.fac=function(t){return new(t||e)},e.prov=Zi({token:e,factory:e.fac}),e})(),Nf=new Ll("EventManagerPlugins"),Lf=(()=>{let e=class{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach((e=>{e.manager=this})),this._plugins=e.slice().reverse()}addEventListener(e,t,i){return this._findPluginFor(t).addEventListener(e,t,i)}getZone(){return this._zone}_findPluginFor(e){let t=this._eventNameToPlugin.get(e);if(t)return t;if(t=this._plugins.find((t=>t.supports(e))),!t)throw new qi(5101,!1);return this._eventNameToPlugin.set(e,t),t}};return e.fac=function(t){return new(t||e)(_n(Nf),_n(Vd))},e.prov=Zi({token:e,factory:e.fac}),e})(),Hf=class{constructor(e){this._doc=e}},Bf="ng-app-id",zf=(()=>{let e=class{constructor(e,t,i,n={}){this.doc=e,this.appId=t,this.nonce=i,this.platformId=n,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=mf(n),this.resetHostNodes()}addStyles(e){for(let t of e)1===this.changeUsageCount(t,1)&&this.onStyleAdded(t)}removeStyles(e){for(let t of e)this.changeUsageCount(t,-1)<=0&&this.onStyleRemoved(t)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach((e=>e.remove())),e.clear());for(let e of this.getAllStyles())this.onStyleRemoved(e);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let t of this.getAllStyles())this.addStyleToHost(e,t)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let t of this.hostNodes)this.addStyleToHost(t,e)}onStyleRemoved(e){let t=this.styleRef;t.get(e)?.elements?.forEach((e=>e.remove())),t.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Bf}="${this.appId}"]`);if(e?.length){let t=new Map;return e.forEach((e=>{null!=e.textContent&&t.set(e.textContent,e)})),t}return null}changeUsageCount(e,t){let i=this.styleRef;if(i.has(e)){let n=i.get(e);return n.usage+=t,n.usage}return i.set(e,{usage:t,elements:[]}),t}getStyleElement(e,t){let i=this.styleNodesInDOM,n=i?.get(t);if(n?.parentNode===e)return i.delete(t),n.removeAttribute(Bf),n;{let e=this.doc.createElement("style");return this.nonce&&e.setAttribute("nonce",this.nonce),e.textContent=t,this.platformIsServer&&e.setAttribute(Bf,this.appId),e}}addStyleToHost(e,t){let i=this.getStyleElement(e,t);e.appendChild(i);let n=this.styleRef,r=n.get(t)?.elements;r?r.push(i):n.set(t,{elements:[i],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}};return e.fac=function(t){return new(t||e)(_n(Hp),_n(ld),_n(gd,8),_n(hd))},e.prov=Zi({token:e,factory:e.fac}),e})(),Gf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$f=/%COMP%/g,Wf="%COMP%",Kf=`_nghost-${Wf}`,jf=`_ngcontent-${Wf}`,Uf=new Ll("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function qf(e,t){return t.map((t=>t.replace($f,e)))}var Yf=(()=>{let e=class{constructor(e,t,i,n,r,s,o,a=null){this.eventManager=e,this.sharedStylesHost=t,this.appId=i,this.removeStylesOnCompDestroy=n,this.doc=r,this.platformId=s,this.ngZone=o,this.nonce=a,this.rendererByCompId=new Map,this.platformIsServer=mf(s),this.defaultRenderer=new Xf(e,r,o,this.platformIsServer)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;this.platformIsServer&&t.encapsulation===Tn.ShadowDom&&(t=f(m({},t),{encapsulation:Tn.Emulated}));let i=this.getOrCreateRenderer(e,t);return i instanceof ey?i.applyToHost(e):i instanceof Jf&&i.applyStyles(),i}getOrCreateRenderer(e,t){let i=this.rendererByCompId,n=i.get(t.id);if(!n){let r=this.doc,s=this.ngZone,o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(t.encapsulation){case Tn.Emulated:n=new ey(o,a,t,this.appId,l,r,s,d);break;case Tn.ShadowDom:return new Qf(o,a,e,t,r,s,this.nonce,d);default:n=new Jf(o,a,t,l,r,s,d)}i.set(t.id,n)}return n}ngOnDestroy(){this.rendererByCompId.clear()}};return e.fac=function(t){return new(t||e)(_n(Lf),_n(zf),_n(ld),_n(Uf),_n(Hp),_n(hd),_n(Vd),_n(gd))},e.prov=Zi({token:e,factory:e.fac}),e})(),Xf=class{constructor(e,t,i,n){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Gf[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Zf(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Zf(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new qi(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,n){if(n){t=n+":"+t;let r=Gf[n];r?e.setAttributeNS(r,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let n=Gf[i];n?e.removeAttributeNS(n,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,n){n&(pa.DashCase|pa.Important)?e.style.setProperty(t,i,n&pa.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&pa.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Np().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded((()=>e(t))):e(t))&&t.preventDefault()}}};function Zf(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}var Qf=class extends Xf{constructor(e,t,i,n,r,s,o,a){super(e,r,s,a),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=qf(n.id,n.styles);for(let e of l){let t=document.createElement("style");o&&t.setAttribute("nonce",o),t.textContent=e,this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Jf=class extends Xf{constructor(e,t,i,n,r,s,o,a){super(e,r,s,o),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=n,this.styles=a?qf(a,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ey=class extends Jf{constructor(e,t,i,n,r,s,o,a){let l=n+"-"+i.id;super(e,t,i,r,s,o,a,l),this.contentAttr=function(e){return jf.replace($f,e)}(l),this.hostAttr=function(e){return Kf.replace($f,e)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},ty=(()=>{let e=class extends Hf{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,i){return e.addEventListener(t,i,!1),()=>this.removeEventListener(e,t,i)}removeEventListener(e,t,i){return e.removeEventListener(t,i)}};return e.fac=function(t){return new(t||e)(_n(Hp))},e.prov=Zi({token:e,factory:e.fac}),e})(),iy=["alt","control","meta","shift"],ny={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ry={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},sy=(()=>{let e=class e extends Hf{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,i,n){let r=e.parseEventName(i),s=e.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular((()=>Np().onAndCancel(t,r.domEventName,s)))}static parseEventName(t){let i=t.toLowerCase().split("."),n=i.shift();if(0===i.length||"keydown"!==n&&"keyup"!==n)return null;let r=e._normalizeKey(i.pop()),s="",o=i.indexOf("code");if(o>-1&&(i.splice(o,1),s="code."),iy.forEach((e=>{let t=i.indexOf(e);t>-1&&(i.splice(t,1),s+=e+".")})),s+=r,0!=i.length||0===r.length)return null;let a={};return a.domEventName=n,a.fullKey=s,a}static matchEventFullKeyCode(e,t){let i=ny[e.key]||e.key,n="";return t.indexOf("code.")>-1&&(i=e.code,n="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),iy.forEach((t=>{t!==i&&(0,ry[t])(e)&&(n+=t+".")})),n+=i,n===t)}static eventCallback(t,i,n){return r=>{e.matchEventFullKeyCode(r,t)&&n.runGuarded((()=>i(r)))}}static _normalizeKey(e){return"esc"===e?"escape":e}};return e.fac=function(t){return new(t||e)(_n(Hp))},e.prov=Zi({token:e,factory:e.fac}),e})(),oy=[{provide:hd,useValue:pf},{provide:cd,useValue:function(){Pf.makeCurrent()},multi:!0},{provide:Hp,useFactory:function(){return function(e){Ba=e}(document),document},deps:[]}],ay=ap(kp,"browser",oy),ly=new Ll(""),dy=[{provide:ep,useClass:class{addToWindow(e){un.getAngularTestability=(t,i=!0)=>{let n=e.findTestabilityInTree(t,i);if(null==n)throw new qi(5103,!1);return n},un.getAllAngularTestabilities=()=>e.getAllTestabilities(),un.getAllAngularRootElements=()=>e.getAllRootElements(),un.frameworkStabilizers||(un.frameworkStabilizers=[]),un.frameworkStabilizers.push((e=>{let t=un.getAllAngularTestabilities(),i=t.length,n=!1,r=function(t){n=n||t,i--,0==i&&e(n)};t.forEach((e=>{e.whenStable(r)}))}))}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Np().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:Jg,useClass:tp,deps:[Vd,ip,ep]},{provide:tp,useClass:tp,deps:[Vd,ip,ep]}],cy=[{provide:Ql,useValue:"root"},{provide:Od,useFactory:function(){return new Od},deps:[]},{provide:Nf,useClass:ty,multi:!0,deps:[Hp,Vd,hd]},{provide:Nf,useClass:sy,multi:!0,deps:[Hp]},Yf,zf,Lf,{provide:Sd,useExisting:Yf},{provide:class{},useClass:Vf,deps:[]},[]],hy=(()=>{let e=class e{constructor(e){}static withServerTransition(t){return{ngModule:e,providers:[{provide:ld,useValue:t.appId}]}}};return e.fac=function(t){return new(t||e)(_n(ly,12))},e.mod=rr({type:e}),e.inj=Qi({providers:[...cy,...dy],imports:[gf,Op]}),e})(),uy=new Ll("HammerGestureConfig"),gy=(()=>{let e=class{constructor(){this.events=[],this.overrides={}}buildHammer(e){let t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(let e in this.overrides)t.get(e).set(this.overrides[e]);return t}};return e.fac=function(t){return new(t||e)},e.prov=Zi({token:e,factory:e.fac}),e})(),py=(()=>{let e=class{};return e.fac=function(t){return new(t||e)},e.prov=Zi({token:e,factory:function(t){let i=null;return i=t?new(t||e):_n(my),i},providedIn:"root"}),e})(),my=(()=>{let e=class extends py{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case Pl.NONE:return t;case Pl.HTML:return ll(t,"HTML")?al(t):Ol(this._doc,String(t)).toString();case Pl.STYLE:return ll(t,"Style")?al(t):t;case Pl.SCRIPT:if(ll(t,"Script"))return al(t);throw new qi(5200,!1);case Pl.URL:return ll(t,"URL")?al(t):ul(String(t));case Pl.RESOURCE_URL:if(ll(t,"ResourceURL"))return al(t);throw new qi(5201,!1);default:throw new qi(5202,!1)}}bypassSecurityTrustHtml(e){return function(e){return new il(e)}(e)}bypassSecurityTrustStyle(e){return function(e){return new nl(e)}(e)}bypassSecurityTrustScript(e){return function(e){return new rl(e)}(e)}bypassSecurityTrustUrl(e){return function(e){return new sl(e)}(e)}bypassSecurityTrustResourceUrl(e){return function(e){return new ol(e)}(e)}};return e.fac=function(t){return new(t||e)(_n(Hp))},e.prov=Zi({token:e,factory:function(e){let t=null;return t=e?new e:function(e){return new my(e.get(Hp))}(_n(Rd)),t},providedIn:"root"}),e})(),fy=class{},yy=class{},vy="*";function xy(e,t){return{type:7,name:e,definitions:t,options:{}}}function _y(e,t=null){return{type:4,styles:t,timings:e}}function wy(e,t=null){return{type:2,steps:e,options:t}}function Cy(e){return{type:6,styles:e,offset:null}}function Sy(e){return{type:5,steps:e}}function by(e,t,i=null){return{type:1,expr:e,animation:t,options:i}}function Dy(e,t=null){return{type:8,animation:e,options:t}}function Ey(e,t=null){return{type:10,animation:e,options:t}}var Iy=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach((e=>e())),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask((()=>this._onFinish()))}_onStart(){this._onStartFns.forEach((e=>e())),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((e=>e())),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((e=>e())),t.length=0}},Ty=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,n=0,r=this.players.length;0==r?queueMicrotask((()=>this._onFinish())):this.players.forEach((e=>{e.onDone((()=>{++t==r&&this._onFinish()})),e.onDestroy((()=>{++i==r&&this._onDestroy()})),e.onStart((()=>{++n==r&&this._onStart()}))})),this.totalTime=this.players.reduce(((e,t)=>Math.max(e,t.totalTime)),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach((e=>e())),this._onDoneFns=[])}init(){this.players.forEach((e=>e.init()))}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((e=>e())),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((e=>e.play()))}pause(){this.players.forEach((e=>e.pause()))}restart(){this.players.forEach((e=>e.restart()))}finish(){this._onFinish(),this.players.forEach((e=>e.finish()))}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((e=>e.destroy())),this._onDestroyFns.forEach((e=>e())),this._onDestroyFns=[])}reset(){this.players.forEach((e=>e.reset())),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach((e=>{let i=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(i)}))}getPosition(){let e=this.players.reduce(((e,t)=>null===e||t.totalTime>e.totalTime?t:e),null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach((e=>{e.beforeDestroy&&e.beforeDestroy()}))}triggerCallback(e){let t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((e=>e())),t.length=0}},Ay=function(e){return e[e.Quad="cubic-bezier(0.550, 0.085, 0.680, 0.530)"]="Quad",e[e.Cubic="cubic-bezier(0.550, 0.055, 0.675, 0.190)"]="Cubic",e[e.Quart="cubic-bezier(0.895, 0.030, 0.685, 0.220)"]="Quart",e[e.Quint="cubic-bezier(0.755, 0.050, 0.855, 0.060)"]="Quint",e[e.Sine="cubic-bezier(0.470, 0.000, 0.745, 0.715)"]="Sine",e[e.Expo="cubic-bezier(0.950, 0.050, 0.795, 0.035)"]="Expo",e[e.Circ="cubic-bezier(0.600, 0.040, 0.980, 0.335)"]="Circ",e[e.Back="cubic-bezier(0.600, -0.280, 0.735, 0.045)"]="Back",e}(Ay||{}),Ry=function(e){return e[e.Quad="cubic-bezier(0.250, 0.460, 0.450, 0.940)"]="Quad",e[e.Cubic="cubic-bezier(0.215, 0.610, 0.355, 1.000)"]="Cubic",e[e.Quart="cubic-bezier(0.165, 0.840, 0.440, 1.000)"]="Quart",e[e.Quint="cubic-bezier(0.230, 1.000, 0.320, 1.000)"]="Quint",e[e.Sine="cubic-bezier(0.390, 0.575, 0.565, 1.000)"]="Sine",e[e.Expo="cubic-bezier(0.190, 1.000, 0.220, 1.000)"]="Expo",e[e.Circ="cubic-bezier(0.075, 0.820, 0.165, 1.000)"]="Circ",e[e.Back="cubic-bezier(0.175, 0.885, 0.320, 1.275)"]="Back",e}(Ry||{}),ky=function(e){return e[e.Quad="cubic-bezier(0.455, 0.030, 0.515, 0.955)"]="Quad",e[e.Cubic="cubic-bezier(0.645, 0.045, 0.355, 1.000)"]="Cubic",e[e.Quart="cubic-bezier(0.770, 0.000, 0.175, 1.000)"]="Quart",e[e.Quint="cubic-bezier(0.860, 0.000, 0.070, 1.000)"]="Quint",e[e.Sine="cubic-bezier(0.445, 0.050, 0.550, 0.950)"]="Sine",e[e.Expo="cubic-bezier(1.000, 0.000, 0.000, 1.000)"]="Expo",e[e.Circ="cubic-bezier(0.785, 0.135, 0.150, 0.860)"]="Circ",e[e.Back="cubic-bezier(0.680, -0.550, 0.265, 1.550)"]="Back",e}(ky||{}),Oy=[Cy({opacity:"{{startOpacity}}"}),_y("{{duration}} {{delay}} {{easing}}",Cy({opacity:"{{endOpacity}}"}))],Fy=Dy(Oy,{params:{delay:"0s",duration:"350ms",easing:Ry.Sine,endOpacity:1,startOpacity:0}}),Py=Dy(Oy,{params:{delay:"0s",duration:"350ms",easing:Ry.Sine,endOpacity:0,startOpacity:1}}),My=[Cy({backfaceVisibility:"hidden",transformStyle:"preserve-3d"}),_y("{{duration}} {{delay}} {{easing}}",Sy([Cy({offset:0,transform:"translateZ({{startDistance}})\n                rotate3d({{rotateX}}, {{rotateY}}, {{rotateZ}}, {{startAngle}}deg)"}),Cy({offset:1,transform:"translateZ({{endDistance}})\n                rotate3d({{rotateX}}, {{rotateY}}, {{rotateZ}}, {{endAngle}}deg)"})]))],Vy={delay:"0s",duration:"600ms",easing:Ry.Quad,endAngle:180,endDistance:"0px",rotateX:1,rotateY:0,rotateZ:0,startAngle:0,startDistance:"0px"},Ny=Dy(My,{params:m({},Vy)}),Ly=Dy(My,{params:f(m({},Vy),{endAngle:-180})}),Hy=Dy(My,{params:f(m({},Vy),{rotateX:0,rotateY:1})}),By=Dy(My,{params:f(m({},Vy),{endAngle:-180,rotateX:0,rotateY:1})}),zy=Dy(My,{params:f(m({},Vy),{endDistance:"170px"})}),Gy=Dy(My,{params:f(m({},Vy),{endDistance:"-170px"})}),$y=Dy(My,{params:f(m({},Vy),{endDistance:"170px",rotateX:0,rotateY:1})}),Wy=Dy(My,{params:f(m({},Vy),{endDistance:"-170px",rotateX:0,rotateY:1})}),Ky=[Cy({opacity:"{{startOpacity}}",transform:"rotate3d({{rotateX}},{{rotateY}},{{rotateZ}},{{startAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}),_y("{{duration}} {{delay}} {{easing}}",Cy({offset:0,opacity:"{{endOpacity}}",transform:"rotate3d({{rotateX}},{{rotateY}},{{rotateZ}},{{endAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}))],jy={delay:"0s",duration:"600ms",easing:Ry.Quad,endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,xPos:"center",yPos:"center"},Uy=f(m({},jy),{easing:Ay.Quad,endOpacity:0,startOpacity:1}),qy=Dy(Ky,{params:m({},jy)}),Yy=Dy(Ky,{params:m({},Uy)}),Xy=Dy(Ky,{params:f(m({},jy),{xPos:"top"})}),Zy=Dy(Ky,{params:f(m({},Uy),{xPos:"top"})}),Qy=Dy(Ky,{params:f(m({},jy),{xPos:"right"})}),Jy=Dy(Ky,{params:f(m({},Uy),{xPos:"right"})}),ev=Dy(Ky,{params:f(m({},jy),{xPos:"bottom"})}),tv=Dy(Ky,{params:f(m({},Uy),{xPos:"bottom"})}),iv=Dy(Ky,{params:f(m({},jy),{xPos:"left"})}),nv=Dy(Ky,{params:f(m({},Uy),{xPos:"left"})}),rv=Dy(Ky,{params:f(m({},jy),{xPos:"right",yPos:"top"})}),sv=Dy(Ky,{params:f(m({},Uy),{xPos:"right",yPos:"top"})}),ov=Dy(Ky,{params:f(m({},jy),{xPos:"right",yPos:"bottom"})}),av=Dy(Ky,{params:f(m({},Uy),{xPos:"right",yPos:"bottom"})}),lv=Dy(Ky,{params:f(m({},jy),{xPos:"left",yPos:"bottom"})}),dv=Dy(Ky,{params:f(m({},Uy),{xPos:"left",yPos:"bottom"})}),cv=Dy(Ky,{params:f(m({},jy),{xPos:"left",yPos:"top"})}),hv=Dy(Ky,{params:f(m({},Uy),{xPos:"left",yPos:"top"})}),uv=Dy(Ky,{params:f(m({},jy),{rotateX:1,rotateY:1,rotateZ:0})}),gv=Dy(Ky,{params:f(m({},Uy),{rotateX:1,rotateY:1,rotateZ:0})}),pv=Dy(Ky,{params:f(m({},jy),{rotateX:-1,rotateY:1,rotateZ:0})}),mv=Dy(Ky,{params:f(m({},Uy),{rotateX:-1,rotateY:1,rotateZ:0})}),fv=Dy(Ky,{params:f(m({},jy),{rotateX:0,rotateY:1,rotateZ:0})}),yv=Dy(Ky,{params:f(m({},Uy),{rotateX:0,rotateY:1,rotateZ:0})}),vv=Dy(Ky,{params:f(m({},jy),{rotateX:1,rotateY:0,rotateZ:0})}),xv=Dy(Ky,{params:f(m({},Uy),{rotateX:1,rotateY:0,rotateZ:0})}),_v=[_y("{{duration}} {{delay}} {{easing}}",Sy([Cy({offset:0,transform:"rotate(0deg) translate{{direction}}(0)",transformOrigin:"{{xPos}} {{yPos}}"}),Cy({offset:.1,transform:"rotate({{endAngle}}deg) translate{{direction}}(-{{startDistance}})"}),Cy({offset:.2,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),Cy({offset:.3,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),Cy({offset:.4,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),Cy({offset:.5,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),Cy({offset:.6,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),Cy({offset:.7,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),Cy({offset:.8,transform:"rotate(-{{endAngle}}deg) translate{{direction}}({{endDistance}})"}),Cy({offset:.9,transform:"rotate({{endAngle}}deg) translate{{direction}}(-{{endDistance}})"}),Cy({offset:1,transform:"rotate(0deg) translate{{direction}}(0)",transformOrigin:"{{xPos}} {{yPos}}"})]))],wv={delay:"0s",direction:"X",duration:"800ms",easing:ky.Quad,endAngle:0,endDistance:"8px",startAngle:0,startDistance:"10px",xPos:"center",yPos:"center"},Cv=Dy(_v,{params:f(m({},wv),{direction:"X"})}),Sv=Dy(_v,{params:f(m({},wv),{direction:"Y"})}),bv=Dy(_v,{params:f(m({},wv),{endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",yPos:"top"})}),Dv=Dy(_v,{params:f(m({},wv),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",yPos:"bottom"})}),Ev=Dy(_v,{params:f(m({},wv),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"center"})}),Iv=Dy(_v,{params:f(m({},wv),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"center"})}),Tv=Dy(_v,{params:f(m({},wv),{direction:"Y",endAngle:8,endDistance:"0",startAngle:10,startDistance:"0",xPos:"center",yPos:"center"})}),Av=Dy(_v,{params:f(m({},wv),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"top"})}),Rv=Dy(_v,{params:f(m({},wv),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"bottom"})}),kv=Dy(_v,{params:f(m({},wv),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"bottom"})}),Ov=Dy(_v,{params:f(m({},wv),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"top"})}),Fv=[Cy({animationTimingFunction:"ease-out",transform:"scale(1)",transformOrigin:"center center"}),_y("{{duration}} {{delay}} {{easing}}",Sy([Cy({animationTimingFunction:"ease-in",offset:.1,transform:"scale(0.91)"}),Cy({animationTimingFunction:"ease-out",offset:.17,transform:"scale(0.98)"}),Cy({animationTimingFunction:"ease-in",offset:.33,transform:"scale(0.87)"}),Cy({animationTimingFunction:"ease-out",offset:.45,transform:"scale(1)"})]))],Pv=[_y("{{duration}} {{delay}} {{easing}}",Sy([Cy({offset:0,transform:"scale({{fromScale}})"}),Cy({offset:.5,transform:"scale({{toScale}})"}),Cy({offset:1,transform:"scale({{fromScale}})"})]))],Mv={delay:"0s",duration:".5s",easing:"ease-in-out",fromScale:1,toScale:1.1},Vv=[_y("{{duration}} {{delay}} {{easing}}",Sy([Cy({offset:0,opacity:.8,transform:"scale({{fromScale}})"}),Cy({offset:.8,opacity:0,transform:"scale({{midScale}})"}),Cy({offset:1,opacity:0,transform:"scale({{toScale}})"})]))],Nv=Dy(Pv,{params:m({},Mv)}),Lv=Dy(Pv,{params:f(m({},Mv),{toScale:.9})}),Hv=Dy(Fv,{params:m({},{delay:"0s",duration:"1.5s",easing:"ease-in-out"})}),Bv=Dy(Vv,{params:m({},{delay:"0s",duration:".8s",easing:"ease-in-out",fromScale:.2,midScale:1.2,toScale:2.2})}),zv=[Cy({opacity:"{{startOpacity}}",transform:"scale{{direction}}({{fromScale}})",transformOrigin:"{{xPos}} {{yPos}}"}),_y("{{duration}} {{delay}} {{easing}}",Cy({opacity:"{{endOpacity}}",transform:"scale{{direction}}({{toScale}})",transformOrigin:"{{xPos}} {{yPos}}"}))],Gv={delay:"0s",direction:"",duration:"350ms",easing:Ry.Quad,endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"50%",yPos:"50%"},$v=f(m({},Gv),{easing:Ry.Sine,endOpacity:0,fromScale:1,startOpacity:1,toScale:.5}),Wv=Dy(zv,{params:Gv}),Kv=Dy(zv,{params:f(m({},Gv),{xPos:"0",yPos:"100%"})}),jv=Dy(zv,{params:f(m({},Gv),{direction:"Y",fromScale:.4})}),Uv=Dy(zv,{params:f(m({},Gv),{xPos:"50%",yPos:"0"})}),qv=Dy(zv,{params:f(m({},Gv),{xPos:"0",yPos:"50%"})}),Yv=Dy(zv,{params:f(m({},Gv),{direction:"Y",fromScale:.4,xPos:"100%",yPos:"0"})}),Xv=Dy(zv,{params:f(m({},Gv),{xPos:"100%",yPos:"0"})}),Zv=Dy(zv,{params:f(m({},Gv),{xPos:"0",yPos:"0"})}),Qv=Dy(zv,{params:f(m({},Gv),{direction:"Y",fromScale:.4,xPos:"0",yPos:"100%"})}),Jv=Dy(zv,{params:f(m({},Gv),{xPos:"100%",yPos:"50%"})}),ex=Dy(zv,{params:f(m({},Gv),{direction:"X",fromScale:.4})}),tx=Dy(zv,{params:f(m({},Gv),{xPos:"100%",yPos:"100%"})}),ix=Dy(zv,{params:f(m({},Gv),{direction:"X",fromScale:.4,xPos:"0",yPos:"0"})}),nx=Dy(zv,{params:f(m({},Gv),{xPos:"50%",yPos:"100%"})}),rx=Dy(zv,{params:f(m({},Gv),{direction:"X",fromScale:.4,xPos:"100%",yPos:"100%"})}),sx=Dy(zv,{params:$v}),ox=Dy(zv,{params:f(m({},$v),{xPos:"0",yPos:"100%"})}),ax=Dy(zv,{params:f(m({},$v),{xPos:"100%",yPos:"100%"})}),lx=Dy(zv,{params:f(m({},$v),{direction:"Y",toScale:.3})}),dx=Dy(zv,{params:f(m({},$v),{direction:"Y",toScale:.3,xPos:"100%",yPos:"0"})}),cx=Dy(zv,{params:f(m({},$v),{direction:"Y",toScale:.3,xPos:"0",yPos:"100%"})}),hx=Dy(zv,{params:f(m({},$v),{xPos:"50%",yPos:"0"})}),ux=Dy(zv,{params:f(m({},$v),{xPos:"0",yPos:"50%"})}),gx=Dy(zv,{params:f(m({},$v),{xPos:"100%",yPos:"0"})}),px=Dy(zv,{params:f(m({},$v),{xPos:"0",yPos:"0"})}),mx=Dy(zv,{params:f(m({},$v),{xPos:"100%",yPos:"50%"})}),fx=Dy(zv,{params:f(m({},$v),{xPos:"50%",yPos:"100%"})}),yx=Dy(zv,{params:f(m({},$v),{direction:"X",toScale:.3})}),vx=Dy(zv,{params:f(m({},$v),{direction:"X",toScale:.3,xPos:"0",yPos:"0"})}),xx=Dy(zv,{params:f(m({},$v),{direction:"X",toScale:.3,xPos:"100%",yPos:"100%"})}),_x=[Cy({opacity:"{{startOpacity}}",transform:"{{fromPosition}}"}),_y("{{duration}} {{delay}} {{easing}}",Cy({opacity:"{{endOpacity}}",transform:"{{toPosition}}"}))],wx={delay:"0s",duration:"350ms",easing:Ry.Quad,endOpacity:1,fromPosition:"translateY(-500px)",startOpacity:0,toPosition:"translateY(0)"},Cx={delay:"0s",duration:"350ms",easing:Ay.Quad,endOpacity:0,fromPosition:"translateY(0)",startOpacity:1,toPosition:"translateY(-500px)"},Sx=Dy(_x,{params:wx}),bx=Dy(_x,{params:{delay:"0s",duration:"350ms",easing:Ry.Quad,endOpacity:1,fromPosition:"translateX(-500px)",startOpacity:0,toPosition:"translateY(0)"}}),Dx=Dy(_x,{params:{delay:"0s",duration:"350ms",easing:Ry.Quad,endOpacity:1,fromPosition:"translateX(500px)",startOpacity:0,toPosition:"translateY(0)"}}),Ex=Dy(_x,{params:{delay:"0s",duration:"350ms",easing:Ry.Quad,endOpacity:1,fromPosition:"translateY(500px)",startOpacity:0,toPosition:"translateY(0)"}}),Ix=Dy(_x,{params:f(m({},wx),{fromPosition:"translateY(-500px) translateX(500px)",toPosition:"translateY(0) translateX(0)"})}),Tx=Dy(_x,{params:f(m({},wx),{fromPosition:"translateY(-500px) translateX(-500px)",toPosition:"translateY(0) translateX(0)"})}),Ax=Dy(_x,{params:f(m({},wx),{fromPosition:"translateY(500px) translateX(500px)",toPosition:"translateY(0) translateX(0)"})}),Rx=Dy(_x,{params:f(m({},wx),{fromPosition:"translateY(500px) translateX(-500px)",toPosition:"translateY(0) translateX(0)"})}),kx=Dy(_x,{params:Cx}),Ox=Dy(_x,{params:f(m({},Cx),{toPosition:"translateX(500px)"})}),Fx=Dy(_x,{params:{delay:"0s",duration:"350ms",easing:Ay.Quad,endOpacity:0,fromPosition:"translateY(0)",startOpacity:1,toPosition:"translateY(500px)"}}),Px=Dy(_x,{params:f(m({},Cx),{toPosition:"translateX(-500px)"})}),Mx=Dy(_x,{params:f(m({},Cx),{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(-500px) translateX(500px)"})}),Vx=Dy(_x,{params:f(m({},Cx),{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(500px) translateX(500px)"})}),Nx=Dy(_x,{params:f(m({},Cx),{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(500px) translateX(-500px)"})}),Lx=Dy(_x,{params:f(m({},Cx),{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(-500px) translateX(-500px)"})}),Hx=[Cy({opacity:"{{startOpacity}}",transform:"rotate{{direction}}({{startAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}),_y("{{duration}} {{delay}} {{easing}}",Cy({opacity:"{{endOpacity}}",transform:"rotate{{direction}}({{endAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}))],Bx={delay:"0s",direction:"X",duration:".5s",easing:Ry.Back,endAngle:0,endOpacity:1,startAngle:-100,startOpacity:0,xPos:"top",yPos:"center"},zx=f(m({},Bx),{duration:".55s",easing:Ay.Back,endAngle:70,endOpacity:0,startAngle:0,startOpacity:1}),Gx=Dy(Hx,{params:m({},Bx)}),$x=Dy(Hx,{params:f(m({},Bx),{direction:"Y",xPos:"center",yPos:"right"})}),Wx=Dy(Hx,{params:f(m({},Bx),{startAngle:100,xPos:"bottom"})}),Kx=Dy(Hx,{params:f(m({},Bx),{direction:"Y",startAngle:100,xPos:"center",yPos:"left"})}),jx=Dy(Hx,{params:f(m({},Bx),{duration:".6s",startAngle:70})}),Ux=Dy(Hx,{params:f(m({},Bx),{direction:"Y",duration:".6s",startAngle:70,xPos:"center",yPos:"right"})}),qx=Dy(Hx,{params:f(m({},Bx),{duration:".6s",startAngle:-70,xPos:"bottom"})}),Yx=Dy(Hx,{params:f(m({},Bx),{direction:"Y",duration:".6s",startAngle:-70,xPos:"center",yPos:"left"})}),Xx=Dy(Hx,{params:m({},zx)}),Zx=Dy(Hx,{params:f(m({},zx),{direction:"Y",xPos:"center",yPos:"right"})}),Qx=Dy(Hx,{params:f(m({},zx),{endAngle:-70,xPos:"bottom"})}),Jx=Dy(Hx,{params:f(m({},zx),{direction:"Y",endAngle:-70,xPos:"center",yPos:"left"})}),e_=Dy(Hx,{params:f(m({},zx),{duration:".45s",endAngle:-100})}),t_=Dy(Hx,{params:f(m({},zx),{direction:"Y",duration:".45s",endAngle:-100,xPos:"center",yPos:"right"})}),i_=Dy(Hx,{params:f(m({},zx),{duration:".45s",endAngle:100,xPos:"bottom"})}),n_=Dy(Hx,{params:f(m({},zx),{direction:"Y",duration:".45s",endAngle:100,xPos:"center",yPos:"left"})}),r_=[Cy({opacity:"{{ startOpacity }}",height:"{{ startHeight }}",paddingBlock:"{{ startPadding }}"}),_y("{{duration}} {{delay}} {{easing}}",Cy({opacity:"{{ endOpacity }}",height:"{{ endHeight }}",paddingBlock:"{{ endPadding }}"}))],s_={delay:"0s",duration:"350ms",easing:Ay.Quad,startOpacity:0,endOpacity:1,startHeight:"",endHeight:"",startPadding:"",endPadding:""},o_=Dy(r_,{params:f(m({},s_),{easing:Ry.Quad,startOpacity:0,endOpacity:1,startHeight:"0px",endHeight:"*",startPadding:"0px",endPadding:"*"})}),a_=Dy(r_,{params:f(m({},s_),{easing:Ry.Quad,startOpacity:1,endOpacity:0,startHeight:"*",endHeight:"0px",startPadding:"*",endPadding:"0px"})}),l_=(()=>{let e=class{constructor(){this.navs={}}add(e,t){this.navs[e]=t}remove(e){delete this.navs[e]}get(e){if(e)return this.navs[e]}toggle(e,...t){if(this.navs[e])return this.navs[e].toggle(...t)}open(e,...t){if(this.navs[e])return this.navs[e].open(...t)}close(e,...t){if(this.navs[e])return this.navs[e].close(...t)}};return e.fac=function(t){return new(t||e)},e.prov=Zi({token:e,factory:e.fac,providedIn:"root"}),e})(),d_=(()=>{let e=class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}};return e.fac=function(t){return new(t||e)(nc(bd),nc(wd))},e.dir=or({type:e}),e})(),c_=(()=>{let e=class extends d_{};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.dir=or({type:e,features:[th]}),e})(),h_=new Ll("NgValueAccessor"),u_={provide:h_,useExisting:$i((()=>p_)),multi:!0},g_=new Ll("CompositionEventMode"),p_=(()=>{let e=class extends d_{constructor(e,t,i){super(e,t),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){let e=Np()?Np().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){let t=e??"";this.setProperty("value",t)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}};return e.fac=function(t){return new(t||e)(nc(bd),nc(wd),nc(g_,8))},e.dir=or({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&Fh("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[Nu([u_]),th]}),e})();function m_(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function f_(e){return null!=e&&"number"==typeof e.length}var y_=new Ll("NgValidators"),v_=new Ll("NgAsyncValidators"),x_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,__=class{static min(e){return w_(e)}static max(e){return C_(e)}static required(e){return S_(e)}static requiredTrue(e){return function(e){return!0===e.value?null:{required:!0}}(e)}static email(e){return b_(e)}static minLength(e){return D_(e)}static maxLength(e){return E_(e)}static pattern(e){return I_(e)}static nullValidator(e){return null}static compose(e){return P_(e)}static composeAsync(e){return V_(e)}};function w_(e){return t=>{if(m_(t.value)||m_(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}function C_(e){return t=>{if(m_(t.value)||m_(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}function S_(e){return m_(e.value)?{required:!0}:null}function b_(e){return m_(e.value)||x_.test(e.value)?null:{email:!0}}function D_(e){return t=>m_(t.value)||!f_(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}function E_(e){return t=>f_(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function I_(e){if(!e)return T_;let t,i;return"string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),e=>{if(m_(e.value))return null;let n=e.value;return t.test(n)?null:{pattern:{requiredPattern:i,actualValue:n}}}}function T_(e){return null}function A_(e){return null!=e}function R_(e){return kh(e)?Vt(e):e}function k_(e){let t={};return e.forEach((e=>{t=null!=e?m(m({},t),e):t})),0===Object.keys(t).length?null:t}function O_(e,t){return t.map((t=>t(e)))}function F_(e){return e.map((e=>function(e){return!e.validate}(e)?e:t=>e.validate(t)))}function P_(e){if(!e)return null;let t=e.filter(A_);return 0==t.length?null:function(e){return k_(O_(e,t))}}function M_(e){return null!=e?P_(F_(e)):null}function V_(e){if(!e)return null;let t=e.filter(A_);return 0==t.length?null:function(e){return function(...e){if(1===e.length){let t=e[0];if(ke(t))return $t(t,null);if(Oe(t)&&Object.getPrototypeOf(t)===Object.prototype){let e=Object.keys(t);return $t(e.map((e=>t[e])),e)}}if("function"==typeof e[e.length-1]){let t=e.pop();return $t(e=1===e.length&&ke(e[0])?e[0]:e,null).pipe(At((e=>t(...e))))}return $t(e,null)}(O_(e,t).map(R_)).pipe(At(k_))}}function N_(e){return null!=e?V_(F_(e)):null}function L_(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function H_(e){return e._rawValidators}function B_(e){return e._rawAsyncValidators}function z_(e){return e?Array.isArray(e)?e:[e]:[]}function G_(e,t){return Array.isArray(e)?e.includes(t):e===t}function $_(e,t){let i=z_(t);return z_(e).forEach((e=>{G_(i,e)||i.push(e)})),i}function W_(e,t){return z_(t).filter((t=>!G_(e,t)))}var K_=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=M_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=N_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach((e=>e())),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}},j_=class extends K_{get formDirective(){return null}get path(){return null}},U_=class extends K_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},q_=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Y_=(f(m({},{"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"}),{"[class.ng-submitted]":"isSubmitted"}),(()=>{let e=class extends q_{constructor(e){super(e)}};return e.fac=function(t){return new(t||e)(nc(U_,2))},e.dir=or({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&iu("ng-untouched",t.isUntouched)("ng-touched",t.isTouched)("ng-pristine",t.isPristine)("ng-dirty",t.isDirty)("ng-valid",t.isValid)("ng-invalid",t.isInvalid)("ng-pending",t.isPending)},features:[th]}),e})()),X_=(()=>{let e=class extends q_{constructor(e){super(e)}};return e.fac=function(t){return new(t||e)(nc(j_,10))},e.dir=or({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&iu("ng-untouched",t.isUntouched)("ng-touched",t.isTouched)("ng-pristine",t.isPristine)("ng-dirty",t.isDirty)("ng-valid",t.isValid)("ng-invalid",t.isInvalid)("ng-pending",t.isPending)("ng-submitted",t.isSubmitted)},features:[th]}),e})(),Z_="VALID",Q_="INVALID",J_="PENDING",ew="DISABLED";function tw(e){return(nw(e)?e.validators:e)||null}function iw(e,t){return(nw(t)?t.asyncValidators:e)||null}function nw(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var rw=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Z_}get invalid(){return this.status===Q_}get pending(){return this.status==J_}get disabled(){return this.status===ew}get enabled(){return this.status!==ew}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators($_(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($_(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(W_(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(W_(e,this._rawAsyncValidators))}hasValidator(e){return G_(this._rawValidators,e)}hasAsyncValidator(e){return G_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild((e=>e.markAllAsTouched()))}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild((e=>{e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild((e=>{e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=J_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ew,this.errors=null,this._forEachChild((t=>{t.disable(f(m({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(f(m({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((e=>e(!0)))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Z_,this._forEachChild((t=>{t.enable(f(m({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(f(m({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((e=>e(!1)))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Z_||this.status===J_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild((t=>t._updateTreeValidity(e))),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ew:Z_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=J_,this._hasOwnPendingAsyncValidator=!0;let t=R_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe((t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce(((e,t)=>e&&e._find(t)),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Pd,this.statusChanges=new Pd}_calculateStatus(){return this._allControlsDisabled()?ew:this.errors?Q_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(J_)?J_:this._anyControlsHaveStatus(Q_)?Q_:Z_}_anyControlsHaveStatus(e){return this._anyControls((t=>t.status===e))}_anyControlsDirty(){return this._anyControls((e=>e.dirty))}_anyControlsTouched(){return this._anyControls((e=>e.touched))}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){nw(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function(e){return Array.isArray(e)?M_(e):e||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function(e){return Array.isArray(e)?N_(e):e||null}(this._rawAsyncValidators)}},sw=class extends rw{constructor(e,t,i){super(tw(t),iw(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange((()=>{})),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange((()=>{})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function(e,t,i){e._forEachChild(((e,t)=>{if(void 0===i[t])throw new qi(1002,"")}))})(this,0,e),Object.keys(e).forEach((i=>{(function(e,t,i){let n=e.controls;if(!Object.keys(n).length)throw new qi(1e3,"");if(!n[i])throw new qi(1001,"")})(this,0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach((i=>{let n=this.controls[i];n&&n.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild(((i,n)=>{i.reset(e[n],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},((e,t,i)=>(e[i]=t.getRawValue(),e)))}_syncPendingControls(){let e=this._reduceChildren(!1,((e,t)=>!!t._syncPendingControls()||e));return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach((t=>{let i=this.controls[t];i&&e(i,t)}))}_setUpControls(){this._forEachChild((e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}))}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},((e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e)))}_reduceChildren(e,t){let i=e;return this._forEachChild(((e,n)=>{i=t(i,e,n)})),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}},ow=new Ll("CallSetDisabledState",{providedIn:"root",factory:()=>aw}),aw="always";function lw(e,t,i=aw){hw(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===i)&&t.valueAccessor.setDisabledState?.(e.disabled),function(e,t){t.valueAccessor.registerOnChange((i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&gw(e,t)}))}(e,t),function(e,t){let i=(e,i)=>{t.valueAccessor.writeValue(e),i&&t.viewToModelUpdate(e)};e.registerOnChange(i),t._registerOnDestroy((()=>{e._unregisterOnChange(i)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&gw(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){let i=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(i),t._registerOnDestroy((()=>{e._unregisterOnDisabledChange(i)}))}}(e,t)}function dw(e,t,i=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),uw(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange((()=>{})))}function cw(e,t){e.forEach((e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)}))}function hw(e,t){let i=H_(e);null!==t.validator?e.setValidators(L_(i,t.validator)):"function"==typeof i&&e.setValidators([i]);let n=B_(e);null!==t.asyncValidator?e.setAsyncValidators(L_(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);let r=()=>e.updateValueAndValidity();cw(t._rawValidators,r),cw(t._rawAsyncValidators,r)}function uw(e,t){let i=!1;if(null!==e){if(null!==t.validator){let n=H_(e);if(Array.isArray(n)&&n.length>0){let r=n.filter((e=>e!==t.validator));r.length!==n.length&&(i=!0,e.setValidators(r))}}if(null!==t.asyncValidator){let n=B_(e);if(Array.isArray(n)&&n.length>0){let r=n.filter((e=>e!==t.asyncValidator));r.length!==n.length&&(i=!0,e.setAsyncValidators(r))}}}let n=()=>{};return cw(t._rawValidators,n),cw(t._rawAsyncValidators,n),i}function gw(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function pw(e,t){if(!e.hasOwnProperty("model"))return!1;let i=e.model;return!!i.isFirstChange()||!Object.is(t,i.currentValue)}function mw(e,t){if(!t)return null;let i,n,r;return Array.isArray(t),t.forEach((e=>{e.constructor===p_?i=e:function(e){return Object.getPrototypeOf(e.constructor)===c_}(e)?n=e:r=e})),r||n||i||null}function fw(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function yw(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}var vw=class extends rw{constructor(e=null,t,i){super(tw(t),iw(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nw(t)&&(t.nonNullable||t.initialValueIsDefault)&&(yw(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach((e=>e(this.value,!1!==t.emitViewToModelChange))),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){yw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},xw={provide:U_,useExisting:$i((()=>ww))},_w=Promise.resolve(),ww=(()=>{let e=class extends U_{constructor(e,t,i,n,r,s){super(),this._changeDetectorRef=r,this.callSetDisabledState=s,this.control=new vw,this._registered=!1,this.name="",this.update=new Pd,this._parent=e,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=mw(0,n)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let t=e.name.previousValue;this.formDirective.removeControl({name:t,path:this._getPath(t)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),pw(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){lw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){_w.then((()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()}))}_updateDisabled(e){let t=e.isDisabled.currentValue,i=0!==t&&Fp(t);_w.then((()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()}))}_getPath(e){return this._parent?function(e,t){return[...t.path,e]}(e,this._parent):[e]}};return e.fac=function(t){return new(t||e)(nc(j_,9),nc(y_,10),nc(v_,10),nc(h_,10),nc(fp,8),nc(ow,8))},e.dir=or({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Nu([xw]),th,fs]}),e})(),Cw={provide:h_,useExisting:$i((()=>Sw)),multi:!0},Sw=(()=>{let e=class extends c_{writeValue(e){let t=e??"";this.setProperty("value",t)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.dir=or({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&Fh("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[Nu([Cw]),th]}),e})(),bw=(()=>{let e=class{};return e.fac=function(t){return new(t||e)},e.mod=rr({type:e}),e.inj=Qi({}),e})(),Dw=new Ll("NgModelWithFormControlWarning"),Ew={provide:U_,useExisting:$i((()=>Iw))},Iw=(()=>{let e=class extends U_{set isDisabled(e){}constructor(e,t,i,n,r){super(),this._ngModelWarningConfig=n,this.callSetDisabledState=r,this.update=new Pd,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(t),this.valueAccessor=mw(0,i)}ngOnChanges(e){if(this._isControlChanged(e)){let t=e.form.previousValue;t&&dw(t,this,!1),lw(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}pw(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&dw(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}};return e._ngModelWarningSentOnce=!1,e.fac=function(t){return new(t||e)(nc(y_,10),nc(v_,10),nc(h_,10),nc(Dw,8),nc(ow,8))},e.dir=or({type:e,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Nu([Ew]),th,fs]}),e})(),Tw={provide:j_,useExisting:$i((()=>Aw))},Aw=(()=>{let e=class extends j_{constructor(e,t,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Pd,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(uw(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange((()=>{})))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let t=this.form.get(e.path);return lw(t,e,this.callSetDisabledState),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){dw(e.control||null,e,!1),function(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,function(e,t){e._syncPendingControls(),t.forEach((e=>{let t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}))}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach((e=>{let t=e.control,i=this.form.get(e.path);t!==i&&(dw(t||null,e),(e=>e instanceof vw)(i)&&(lw(i,e,this.callSetDisabledState),e.control=i))})),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let t=this.form.get(e.path);(function(e,t){hw(e,t)})(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let t=this.form.get(e.path);t&&function(e,t){return uw(e,t)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange((()=>{}))}_updateValidators(){hw(this.form,this),this._oldForm&&uw(this._oldForm,this)}_checkFormPresent(){this.form}};return e.fac=function(t){return new(t||e)(nc(y_,10),nc(v_,10),nc(ow,8))},e.dir=or({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&Fh("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Nu([Tw]),th,fs]}),e})();function Rw(e){return"number"==typeof e?e:parseInt(e,10)}function kw(e){return"number"==typeof e?e:parseFloat(e)}var Ow=(()=>{let e=class{constructor(){this._validator=T_}ngOnChanges(e){if(this.inputName in e){let t=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(t),this._validator=this._enabled?this.createValidator(t):T_,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,features:[fs]}),e})(),Fw={provide:y_,useExisting:$i((()=>Pw)),multi:!0},Pw=(()=>{let e=class extends Ow{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>kw(e),this.createValidator=e=>C_(e)}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.dir=or({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&ph("max",t._enabled?t.max:null)},inputs:{max:"max"},features:[Nu([Fw]),th]}),e})(),Mw={provide:y_,useExisting:$i((()=>Vw)),multi:!0},Vw=(()=>{let e=class extends Ow{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>kw(e),this.createValidator=e=>w_(e)}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.dir=or({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&ph("min",t._enabled?t.min:null)},inputs:{min:"min"},features:[Nu([Mw]),th]}),e})(),Nw={provide:y_,useExisting:$i((()=>Lw)),multi:!0},Lw=(()=>{let e=class extends Ow{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Fp,this.createValidator=e=>S_}enabled(e){return e}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.dir=or({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&ph("required",t._enabled?"":null)},inputs:{required:"required"},features:[Nu([Nw]),th]}),e})(),Hw={provide:y_,useExisting:$i((()=>Bw)),multi:!0},Bw=(()=>{let e=class extends Ow{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=Fp,this.createValidator=e=>b_}enabled(e){return e}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.dir=or({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[Nu([Hw]),th]}),e})(),zw={provide:y_,useExisting:$i((()=>Gw)),multi:!0},Gw=(()=>{let e=class extends Ow{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>Rw(e),this.createValidator=e=>D_(e)}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.dir=or({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&ph("minlength",t._enabled?t.minlength:null)},inputs:{minlength:"minlength"},features:[Nu([zw]),th]}),e})(),$w={provide:y_,useExisting:$i((()=>Ww)),multi:!0},Ww=(()=>{let e=class extends Ow{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>Rw(e),this.createValidator=e=>E_(e)}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.dir=or({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&ph("maxlength",t._enabled?t.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Nu([$w]),th]}),e})(),Kw={provide:y_,useExisting:$i((()=>jw)),multi:!0},jw=(()=>{let e=class extends Ow{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=e=>e,this.createValidator=e=>I_(e)}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.dir=or({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&ph("pattern",t._enabled?t.pattern:null)},inputs:{pattern:"pattern"},features:[Nu([Kw]),th]}),e})(),Uw=(()=>{let e=class{};return e.fac=function(t){return new(t||e)},e.mod=rr({type:e}),e.inj=Qi({imports:[bw]}),e})(),qw=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:ow,useValue:t.callSetDisabledState??aw}]}}};return e.fac=function(t){return new(t||e)},e.mod=rr({type:e}),e.inj=Qi({imports:[Uw]}),e})(),Yw=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:Dw,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ow,useValue:t.callSetDisabledState??aw}]}}};return e.fac=function(t){return new(t||e)},e.mod=rr({type:e}),e.inj=Qi({imports:[Uw]}),e})(),Xw="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,Zw="object"==typeof self&&self&&self.Object===Object&&self,Qw=Xw||Zw||Function("return this")(),Jw=Qw.Symbol,eC=Object.prototype,tC=eC.hasOwnProperty,iC=eC.toString,nC=Jw?Jw.toStringTag:void 0,rC=Object.prototype.toString,sC=Jw?Jw.toStringTag:void 0,oC=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":sC&&sC in Object(e)?function(e){var t=tC.call(e,nC),i=e[nC];try{e[nC]=void 0;var n=!0}catch{}var r=iC.call(e);return n&&(t?e[nC]=i:delete e[nC]),r}(e):function(e){return rC.call(e)}(e)},aC=function(e){return null!=e&&"object"==typeof e},lC=Array.isArray,dC=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},cC=function(e){return e},hC=function(e){if(!dC(e))return!1;var t=oC(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},uC=Qw["__core-js_shared__"],gC=function(){var e=/[^.]+$/.exec(uC&&uC.keys&&uC.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),pC=Function.prototype.toString,mC=/^\[object .+?Constructor\]$/,fC=Function.prototype,yC=Object.prototype,vC=fC.toString,xC=yC.hasOwnProperty,_C=RegExp("^"+vC.call(xC).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wC=function(e){return!(!dC(e)||function(e){return!!gC&&gC in e}(e))&&(hC(e)?_C:mC).test(function(e){if(null!=e){try{return pC.call(e)}catch{}try{return e+""}catch{}}return""}(e))},CC=function(e,t){var i=function(e,t){return e?.[t]}(e,t);return wC(i)?i:void 0},SC=Object.create,bC=function(){function e(){}return function(t){if(!dC(t))return{};if(SC)return SC(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}(),DC=bC,EC=Date.now,IC=function(e){return function(){return e}},TC=function(){try{var e=CC(Object,"defineProperty");return e({},"",{}),e}catch{}}(),AC=TC,RC=AC?function(e,t){return AC(e,"toString",{configurable:!0,enumerable:!1,value:IC(t),writable:!0})}:cC,kC=function(e){var t=0,i=0;return function(){var n=EC(),r=16-(n-i);if(i=n,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(RC),OC=/^(?:0|[1-9]\d*)$/,FC=function(e,t){var i=typeof e;return!!(t=t??9007199254740991)&&("number"==i||"symbol"!=i&&OC.test(e))&&e>-1&&e%1==0&&e<t},PC=function(e,t,i){"__proto__"==t&&AC?AC(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i},MC=function(e,t){return e===t||e!=e&&t!=t},VC=Object.prototype.hasOwnProperty,NC=function(e,t,i){var n=e[t];(!VC.call(e,t)||!MC(n,i)||void 0===i&&!(t in e))&&PC(e,t,i)},LC=Math.max,HC=function(e,t){return kC(function(e,t,i){return t=LC(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,s=LC(n.length-t,0),o=Array(s);++r<s;)o[r]=n[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=n[r];return a[t]=i(o),function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}(e,this,a)}}(e,t,cC),e+"")},BC=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},zC=function(e){return null!=e&&BC(e.length)&&!hC(e)},GC=Object.prototype,$C=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||GC)},WC=function(e){return aC(e)&&"[object Arguments]"==oC(e)},KC=Object.prototype,jC=KC.hasOwnProperty,UC=KC.propertyIsEnumerable,qC=WC(function(){return arguments}())?WC:function(e){return aC(e)&&jC.call(e,"callee")&&!UC.call(e,"callee")},YC=qC,XC="object"==typeof exports&&exports&&!exports.nodeType&&exports,ZC=XC&&e&&!e.nodeType&&e,QC=ZC&&ZC.exports===XC?Qw.Buffer:void 0,JC=(QC?QC.isBuffer:void 0)||function(){return!1},eS={};eS["[object Float32Array]"]=eS["[object Float64Array]"]=eS["[object Int8Array]"]=eS["[object Int16Array]"]=eS["[object Int32Array]"]=eS["[object Uint8Array]"]=eS["[object Uint8ClampedArray]"]=eS["[object Uint16Array]"]=eS["[object Uint32Array]"]=!0,eS["[object Arguments]"]=eS["[object Array]"]=eS["[object ArrayBuffer]"]=eS["[object Boolean]"]=eS["[object DataView]"]=eS["[object Date]"]=eS["[object Error]"]=eS["[object Function]"]=eS["[object Map]"]=eS["[object Number]"]=eS["[object Object]"]=eS["[object RegExp]"]=eS["[object Set]"]=eS["[object String]"]=eS["[object WeakMap]"]=!1;var tS="object"==typeof exports&&exports&&!exports.nodeType&&exports,iS=tS&&e&&!e.nodeType&&e,nS=iS&&iS.exports===tS&&Xw.process,rS=function(){try{return iS&&iS.require&&iS.require("util").types||nS&&nS.binding&&nS.binding("util")}catch{}}(),sS=rS&&rS.isTypedArray,oS=sS?function(e){return function(t){return e(t)}}(sS):function(e){return aC(e)&&BC(e.length)&&!!eS[oC(e)]},aS=Object.prototype.hasOwnProperty,lS=function(e,t){var i=lC(e),n=!i&&YC(e),r=!i&&!n&&JC(e),s=!i&&!n&&!r&&oS(e),o=i||n||r||s,a=o?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],l=a.length;for(var d in e)(t||aS.call(e,d))&&(!o||!("length"==d||r&&("offset"==d||"parent"==d)||s&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||FC(d,l)))&&a.push(d);return a},dS=Object.prototype.hasOwnProperty,cS=function(e){if(!dC(e))return function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}(e);var t=$C(e),i=[];for(var n in e)"constructor"==n&&(t||!dS.call(e,n))||i.push(n);return i},hS=function(e){return zC(e)?lS(e,!0):cS(e)},uS=CC(Object,"create"),gS=Object.prototype.hasOwnProperty,pS=Object.prototype.hasOwnProperty;function mS(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}mS.prototype.clear=function(){this.__data__=uS?uS(null):{},this.size=0},mS.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},mS.prototype.get=function(e){var t=this.__data__;if(uS){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return gS.call(t,e)?t[e]:void 0},mS.prototype.has=function(e){var t=this.__data__;return uS?void 0!==t[e]:pS.call(t,e)},mS.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=uS&&void 0===t?"__lodash_hash_undefined__":t,this};var fS=mS,yS=function(e,t){for(var i=e.length;i--;)if(MC(e[i][0],t))return i;return-1},vS=Array.prototype.splice;function xS(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}xS.prototype.clear=function(){this.__data__=[],this.size=0},xS.prototype.delete=function(e){var t=this.__data__,i=yS(t,e);return!(i<0||(i==t.length-1?t.pop():vS.call(t,i,1),--this.size,0))},xS.prototype.get=function(e){var t=this.__data__,i=yS(t,e);return i<0?void 0:t[i][1]},xS.prototype.has=function(e){return yS(this.__data__,e)>-1},xS.prototype.set=function(e,t){var i=this.__data__,n=yS(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this};var _S=xS,wS=CC(Qw,"Map"),CS=function(e,t){var i=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?i["string"==typeof t?"string":"hash"]:i.map};function SS(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}SS.prototype.clear=function(){this.size=0,this.__data__={hash:new fS,map:new(wS||_S),string:new fS}},SS.prototype.delete=function(e){var t=CS(this,e).delete(e);return this.size-=t?1:0,t},SS.prototype.get=function(e){return CS(this,e).get(e)},SS.prototype.has=function(e){return CS(this,e).has(e)},SS.prototype.set=function(e,t){var i=CS(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this};var bS=SS,DS=function(e,t){return function(i){return e(t(i))}}(Object.getPrototypeOf,Object),ES=Function.prototype,IS=Object.prototype,TS=ES.toString,AS=IS.hasOwnProperty,RS=TS.call(Object);function kS(e){var t=this.__data__=new _S(e);this.size=t.size}kS.prototype.clear=function(){this.__data__=new _S,this.size=0},kS.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},kS.prototype.get=function(e){return this.__data__.get(e)},kS.prototype.has=function(e){return this.__data__.has(e)},kS.prototype.set=function(e,t){var i=this.__data__;if(i instanceof _S){var n=i.__data__;if(!wS||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new bS(n)}return i.set(e,t),this.size=i.size,this};var OS=kS,FS="object"==typeof exports&&exports&&!exports.nodeType&&exports,PS=FS&&e&&!e.nodeType&&e,MS=PS&&PS.exports===FS?Qw.Buffer:void 0,VS=MS?MS.allocUnsafe:void 0,NS=Qw.Uint8Array,LS=function(e,t){var i=t?function(e){var t=new e.constructor(e.byteLength);return new NS(t).set(new NS(e)),t}(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)},HS=function(e){return function(t,i,n){for(var r=-1,s=Object(t),o=n(t),a=o.length;a--;){var l=o[e?a:++r];if(!1===i(s[l],l,s))break}return t}}(),BS=function(e,t,i){(void 0!==i&&!MC(e[t],i)||void 0===i&&!(t in e))&&PC(e,t,i)},zS=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},GS=function(e){return function(e,t,i,n){var r=!i;i||(i={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=n?n(i[a],e[a],a,i,e):void 0;void 0===l&&(l=e[a]),r?PC(i,a,l):NC(i,a,l)}return i}(e,hS(e))},$S=function(e,t,i,n,r,s,o){var a=zS(e,i),l=zS(t,i),d=o.get(l);if(d)BS(e,i,d);else{var c=s?s(a,l,i+"",e,t,o):void 0,h=void 0===c;if(h){var u=lC(l),g=!u&&JC(l),p=!u&&!g&&oS(l);c=l,u||g||p?lC(a)?c=a:function(e){return aC(e)&&zC(e)}(a)?c=function(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}(a):g?(h=!1,c=function(e,t){if(t)return e.slice();var i=e.length,n=VS?VS(i):new e.constructor(i);return e.copy(n),n}(l,!0)):p?(h=!1,c=LS(l,!0)):c=[]:function(e){if(!aC(e)||"[object Object]"!=oC(e))return!1;var t=DS(e);if(null===t)return!0;var i=AS.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&TS.call(i)==RS}(l)||YC(l)?(c=a,YC(a)?c=GS(a):(!dC(a)||hC(a))&&(c=function(e){return"function"!=typeof e.constructor||$C(e)?{}:DC(DS(e))}(l))):h=!1}h&&(o.set(l,c),r(c,l,n,s,o),o.delete(l)),BS(e,i,c)}},WS=function e(t,i,n,r,s){t!==i&&HS(i,(function(o,a){if(s||(s=new OS),dC(o))$S(t,i,a,n,e,r,s);else{var l=r?r(zS(t,a),o,a+"",t,i,s):void 0;void 0===l&&(l=o),BS(t,a,l)}}),hS)},KS=function(e){return HC((function(t,i){var n=-1,r=i.length,s=r>1?i[r-1]:void 0,o=r>2?i[2]:void 0;for(s=e.length>3&&"function"==typeof s?(r--,s):void 0,o&&function(e,t,i){if(!dC(i))return!1;var n=typeof t;return!!("number"==n?zC(i)&&FC(t,i.length):"string"==n&&t in i)&&MC(i[t],e)}(i[0],i[1],o)&&(s=r<3?void 0:s,r=1),t=Object(t);++n<r;){var a=i[n];a&&e(t,a,n,s)}return t}))}((function(e,t,i,n){WS(e,t,i,n)})),jS=KS,US={},qS=0,YS=!1,XS=e=>(e=>{if(US.hasOwnProperty(e)){let t=US[e];delete US[e],t()}})(e.data),ZS=()=>window.ResizeObserver,QS=(e,t)=>{let i=[];if(!e)return i;let n=e.length;for(;n--;)i[n]=t?tb(e[n]):e[n];return i},JS=(e,t)=>{let i=[];if(!e)return i;for(let n of e){let e=tb(n);Array.isArray(n[t])&&(e[t]=JS(e[t],t)),i.push(e)}return i},eb=(e,t)=>jS(e,t,((e,t)=>{if(Array.isArray(t))return t})),tb=e=>{if(rb(e))return new Date(e.getTime());if(Array.isArray(e))return[...e];if(e instanceof Map||e instanceof Set)return e;if(nb(e)){let t={};for(let i of Object.keys(e))"externalObject"!==i&&(t[i]=tb(e[i]));return t}return e},ib=e=>rb(e)?isNaN(e.getTime())?null:e:e?new Date(e):null,nb=e=>!(!e||"[object Object]"!==e.toString()),rb=e=>e instanceof Date,sb=(e,t)=>rb(e)&&rb(t)?e.getTime()===t.getTime():e===t,ob=(()=>{let e=class{constructor(e){this.platformId=e,this.isBrowser=function(e){return e===pf}(this.platformId),this.isIOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.isFirefox=this.isBrowser&&/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent),this.isEdge=this.isBrowser&&/Edge[\/\s](\d+\.\d+)/.test(navigator.userAgent),this.isChromium=this.isBrowser&&(/Chrom|e?ium/g.test(navigator.userAgent)||/Google Inc/g.test(navigator.vendor))&&!/Edge/g.test(navigator.userAgent),this.KEYMAP={ENTER:"Enter",SPACE:" ",ESCAPE:"Escape",ARROW_DOWN:"ArrowDown",ARROW_UP:"ArrowUp",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",END:"End",HOME:"Home",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",F2:"F2",TAB:"Tab",SEMICOLON:";",DELETE:"Delete",BACKSPACE:"Backspace",CONTROL:"Control",X:"x",Y:"y",Z:"z"}}getNodeSizeViaRange(e,t,i){let n,r=null;if(this.isFirefox||(r=t.style.overflow,t.style.overflow="visible"),i){let e=i.style;n=[e.width,e.minWidth,e.flexBasis],e.width="",e.minWidth="",e.flexBasis=""}e.selectNodeContents(t);let s=t.getBoundingClientRect().width/t.offsetWidth,o=e.getBoundingClientRect().width/s;return this.isFirefox||(t.style.overflow=r),i&&(i.style.width=n[0],i.style.minWidth=n[1],i.style.flexBasis=n[2]),o}isActivationKey(e){return e.key===this.KEYMAP.ENTER||e.key===this.KEYMAP.SPACE}isFilteringKeyCombo(e){return e.key===this.KEYMAP.ESCAPE||e.ctrlKey&&e.shiftKey&&"l"===e.key.toLowerCase()}isLeftClick(e){return 0===e.button}isNavigationKey(e){return[this.KEYMAP.HOME,this.KEYMAP.END,this.KEYMAP.SPACE,this.KEYMAP.ARROW_DOWN,this.KEYMAP.ARROW_LEFT,this.KEYMAP.ARROW_RIGHT,this.KEYMAP.ARROW_UP].includes(e)}};return e.fac=function(t){return new(t||e)(_n(hd))},e.prov=Zi({token:e,factory:e.fac,providedIn:"root"}),e})(),ab=e=>{let t=[];return e.forEach((e=>{if(t.push(e),e.children){let i=Array.isArray(e.children)?e.children:e.children.toArray();t=t.concat(ab(i))}})),t},lb=new Set(["arrowleft","left","arrowright","right","home","end"]),db=new Set(["down","up","left","right","arrowdown","arrowup","arrowleft","arrowright","home","end","space","spacebar"," "]),cb=new Set("up down arrowup arrowdown home end".split(" ")),hb=new Set("right down arrowright arrowdown".split(" ")),ub=new Set("left up arrowleft arrowup".split(" ")),gb=new Set(["+","add","","","="]),pb=new Set([...Array.from(db),...Array.from(gb),"enter","f2","escape","esc","pagedown","pageup"]),mb=new Set([...Array.from(db),"escape","esc","l",""]),fb=e=>new We((t=>{let i=new(ZS())((e=>{t.next(e)}));return i.observe(e),()=>i.disconnect()})),yb=(e,t)=>{if(!t)return!e;if(e.size!==t.size)return!1;let i=!0,n=Array.from(t.keys());for(let r of n)if(i=!!e.has(r)&&e.get(r)===t.get(r),!i)break;return i},vb=(e,t)=>{let i=t?.split(".")??[],n=e[i.shift()];return i.forEach((e=>{n&&(n=n[e])})),n},xb=(e,t,i,n)=>{let r=0,s=()=>{let o=Math.min(r+t,e);for(;r<o;++r)i(r);r<e?function(e,...t){if(window.setImmediate)return window.setImmediate(e);YS||(YS=!0,window.addEventListener("message",XS,!1)),US[++qS]=()=>{e.apply(void 0,t)};let i=window.location;window.postMessage(qS+"",i.protocol+"//"+i.host)}(s):n()};s()},_b=e=>wb.get(e)??e,wb=new Map([[Fy,Fy],[Py,Py],[Ny,Ly],[Ly,Ny],[By,Hy],[Hy,By],[zy,Gy],[Gy,zy],[$y,Wy],[Wy,$y],[o_,o_],[a_,a_],[Hv,Hv],[Nv,Lv],[Lv,Nv],[Bv,Bv],[Cv,Cv],[Sv,Sv],[bv,bv],[Dv,Dv],[Ev,Ev],[Iv,Iv],[Tv,Tv],[Av,Av],[Rv,Rv],[kv,kv],[Ov,Ov],[qy,qy],[Yy,Yy],[Xy,ev],[Zy,tv],[Qy,iv],[Jy,nv],[iv,Qy],[nv,Jy],[ev,Xy],[tv,Zy],[rv,lv],[sv,dv],[ov,cv],[av,hv],[lv,rv],[dv,sv],[cv,ov],[hv,av],[uv,uv],[gv,gv],[pv,pv],[mv,mv],[fv,fv],[yv,yv],[vv,vv],[xv,xv],[Uv,nx],[hx,fx],[Jv,qv],[mx,ux],[nx,Uv],[fx,hx],[qv,Jv],[ux,mx],[Wv,Wv],[sx,sx],[Xv,Kv],[gx,ox],[tx,Zv],[ax,px],[Kv,Xv],[ox,gx],[Zv,tx],[px,ax],[Yv,Qv],[dx,cx],[Qv,Yv],[cx,dx],[jv,jv],[lx,lx],[ex,ex],[yx,yx],[ix,rx],[vx,xx],[rx,ix],[xx,vx],[Sx,Ex],[kx,Fx],[Dx,bx],[Ox,Px],[Ex,Sx],[Fx,kx],[bx,Dx],[Px,Ox],[Ix,Rx],[Mx,Nx],[Ax,Tx],[Vx,Lx],[Rx,Ix],[Nx,Mx],[Tx,Ax],[Lx,Vx],[Gx,Wx],[Xx,Qx],[$x,Kx],[Zx,Jx],[Kx,$x],[Jx,Zx],[Wx,Gx],[Qx,Xx],[jx,qx],[e_,i_],[Ux,Yx],[t_,n_],[qx,jx],[i_,e_],[Yx,Ux],[n_,t_]]),Cb=[By,Hy,$y,Wy,Qy,Jy,iv,nv,rv,sv,ov,av,lv,dv,cv,hv,Jv,mx,qv,ux,Xv,gx,tx,ax,Kv,ox,Zv,px,ix,vx,rx,xx,Dx,Ox,bx,Px,Ix,Mx,Ax,Vx,Rx,Nx,Tx,Lx,$x,Zx,Kx,Jx,Ux,t_,Yx,n_],Sb=[Ny,Ly,zy,Gy,o_,a_,Xy,Zy,ev,tv,rv,sv,ov,av,lv,dv,cv,hv,Uv,hx,nx,fx,Xv,gx,tx,ax,Kv,ox,Zv,px,Yv,dx,Qv,cx,Sx,kx,Ex,Fx,Ix,Mx,Ax,Vx,Rx,Nx,Tx,Lx,Gx,Xx,Wx,Qx,jx,e_,qx,i_],bb=(e,t,i,n)=>null==e||""===e?"":dm(e,t,i,n),Db=new cf(void 0).transform,Eb=e=>{let t=parseFloat(getComputedStyle(globalThis.document?.documentElement).getPropertyValue("--ig-base-font-size"));return Number(e)/t},Ib=function(e){return e[e.None=0]="None",e[e.IncorrectPageIndex=1]="IncorrectPageIndex",e[e.IncorrectRecordsPerPage=2]="IncorrectRecordsPerPage",e}(Ib||{}),Tb=function(e){return e.ADD="add",e.DELETE="delete",e.UPDATE="update",e}(Tb||{}),Ab=function(e){return e.UNDO="undo",e.REDO="redo",e.CLEAR="clear",e.ADD="add",e.END="endPending",e}(Ab||{}),Rb=function(e){return e[e.None=0]="None",e[e.Asc=1]="Asc",e[e.Desc=2]="Desc",e}(Rb||{}),kb=(()=>{let e=class{constructor(){}static instance(){return this._instance||(this._instance=new this)}sort(e,t,i,n,r,s,o){let a=t,l=i===Rb.Desc?-1:1;return this.arraySort(e,((e,t)=>this.compareObjects(e,t,a,l,n,r,s,o)))}compareValues(e,t){let i=null==t;return null==e?i?0:-1:i||e>t?1:e<t?-1:0}compareObjects(e,t,i,n,r,s,o,a){let l=s.call(this,e,i,o,a),d=s.call(this,t,i,o,a);return r&&(l=l&&l.toLowerCase?l.toLowerCase():l,d=d&&d.toLowerCase?d.toLowerCase():d),n*this.compareValues(l,d)}arraySort(e,t){return e.sort(t)}};return e._instance=null,e})(),Ob=(e,t,i)=>e.length===t.length&&e.every(((e,n)=>{let r=i.find((t=>t.fieldName===e.fieldName)).groupingComparer||kb.instance().compareValues;return e.fieldName===t[n].fieldName&&0===r(e.value,t[n].value)})),Fb=e=>{let t=[];if(void 0!==e&&e.expression)for(t.push({fieldName:e.expression.fieldName,value:e.value});e.groupParent;)e=e.groupParent,t.unshift({fieldName:e.expression.fieldName,value:e.value});return t},Pb="date",Mb="time",Vb="dateTime",Nb="string",Lb=class{sort(e,t,i){return this.sortDataRecursive(e,t,0,i)}groupDataRecursive(e,t,i,n,r,s=null,o=[],a={data:[],metadata:[]}){let l=t.expressions,d=t.expansion,c=0,h=[];for(;c<e.length;){let u=s?s.getColumnByName(l[i].fieldName):null,g=u?.dataType===Pb||u?.dataType===Vb,p=u?.dataType===Mb||u?.dataType===Vb,m=u?.dataType===Nb,f=this.groupedRecordsByExpression(e,c,l[i],g,p,m),y={expression:l[i],level:i,records:QS(f),value:this.getFieldValue(f[0],l[i].fieldName,g,p),groupParent:n,groups:[],height:s?s.renderedRowHeight:null,column:u};n?n.groups.push(y):o.push(y);let v,x=Fb(y),_=d.find((e=>Ob(e.hierarchy||[{fieldName:y.expression.fieldName,value:y.value}],x,l))),w=_?_.expanded:t.defaultExpanded;if(h.push(y),r.push(null),a.data.push(y),a.metadata.push(null),i<l.length-1)v=this.groupDataRecursive(f,t,i+1,y,w?r:[],s,o,a),w&&(h=h.concat(v));else{for(let e of f)a.metadata.push(y),a.data.push(e);w&&(r.push(...a.metadata.slice(a.metadata.length-f.length)),h.push(...a.data.slice(a.data.length-f.length)))}c+=f.length}return h}getFieldValue(e,t,i=!1,n=!1){let r=vb(e,t),s=ib(r);return s&&i&&n?r=s:s&&i&&!n?r=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0,0):s&&n&&!i&&(r=new Date((new Date).setHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()))),r}groupedRecordsByExpression(e,t,i,n=!1,r=!1,s,o){let a=[],l=i.fieldName,d=e.length,c=e[t],h=this.getFieldValue(c,l,n,r);a.push(c),t++;let u=i.groupingComparer||o||kb.instance().compareValues;for(let o=t;o<d;o++){let t=e[o],d=this.getFieldValue(t,l,n,r);if(i.ignoreCase&&s&&(d=d?.toString().toLowerCase(),h=h?.toString().toLowerCase()),0!==u(d,h,t,c))break;a.push(t)}return a}sortDataRecursive(e,t,i=0,n){let r,s,o,a,l=t.length,d=e.length;if((i=i||0)>=l||d<=1)return e;let c=t[i];c.strategy||(c.strategy=kb.instance());let h=n?.getColumnByName(c.fieldName),u=h?.dataType===Pb||h?.dataType===Vb,g=h?.dataType===Mb||h?.dataType===Vb,p=h?.dataType===Nb;if(e=c.strategy.sort(e,c.fieldName,c.dir,c.ignoreCase,this.getFieldValue,u,g,n),i===l-1)return e;for(r=0;r<d;r++){for(o=this.groupedRecordsByExpression(e,r,c,u,g,p,h?.groupingComparer),a=o.length,a>1&&(o=this.sortDataRecursive(o,t,i+1,n)),s=0;s<a;s++)e[r+s]=o[s];r+=a-1}return e}},Hb=class extends Lb{groupBy(e,t,i,n,r={data:[],metadata:[]}){let s=[],o=this.groupDataRecursive(e,t,0,null,s,i,n,r);return i?.groupingPerformedSubject.next(),{data:o,metadata:s}}},Bb=(()=>{let e=class e{constructor(){}static instance(){return this._instance||(this._instance=new e)}sort(e){return e}};return e._instance=null,e})(),zb=class extends Lb{getFieldValue(e,t,i=!1,n=!1){return super.getFieldValue(e.data,t,i,n)}},Gb=class{clone(e){return tb(e)}},$b={String:"string",Number:"number",Boolean:"boolean",Date:"date",DateTime:"dateTime",Time:"time",Currency:"currency",Percent:"percent",Image:"image"},Wb=$b,Kb=class e{static sort(e,t,i=new Lb,n){return i.sort(e,t,n)}static treeGridSort(t,i,n=new zb,r,s){let o=[];return t.forEach((t=>{let a=e.cloneTreeGridRecord(t);a.parent=r,a.children&&(a.children=e.treeGridSort(a.children,i,n,a,s)),o.push(a)})),o=e.sort(o,i,n,s),o}static cloneTreeGridRecord(e){return{key:e.key,data:e.data,children:e.children,isFilteredOutParent:e.isFilteredOutParent,level:e.level,expanded:e.expanded}}static group(e,t,i=new Hb,n=null,r=[],s={data:[],metadata:[]}){return r.splice(0,r.length),i.groupBy(e,t,n,r,s)}static page(e,t,i){if(!t)return e;let n=void 0!==i?i:e.length,r=t.index,s=[],o=void 0!==i&&t.recordsPerPage>i?i:t.recordsPerPage;return t.metadata={countPages:0,countRecords:n,error:Ib.None},r<0||isNaN(r)?(t.metadata.error=Ib.IncorrectPageIndex,s):o<=0||isNaN(o)?(t.metadata.error=Ib.IncorrectRecordsPerPage,s):(t.metadata.countPages=Math.ceil(n/o),n?r>=t.metadata.countPages?(t.metadata.error=Ib.IncorrectPageIndex,s):e.slice(r*o,(r+1)*o):e)}static correctPagingState(e,t){let i=Math.ceil(t/e.recordsPerPage)-1;!isNaN(i)&&e.index>i&&(e.index=i)}static getHierarchy(e){return Fb(e)}static isHierarchyMatch(e,t,i){return Ob(e,t,i)}static mergeTransactions(e,t,i,n=new Gb,r=!1){return e.forEach(((r,s)=>{let o=i?r[i]:r,a=t.find((e=>e.id===o));a&&a.type===Tb.UPDATE&&(e[s]=eb(n.clone(e[s]),a.newValue))})),r&&t.filter((e=>e.type===Tb.DELETE)).forEach((t=>{let n=i?e.findIndex((e=>e[i]===t.id)):e.findIndex((e=>e===t.id));0<=n&&n<e.length&&e.splice(n,1)})),e.push(...t.filter((e=>e.type===Tb.ADD)).map((e=>e.newValue))),e}static mergeHierarchicalTransactions(e,t,i,n,r=new Gb,s=!1){for(let o of t)if(o.path){let t=this.findParentFromPath(e,n,i,o.path),a=t?t[i]:e;switch(o.type){case Tb.ADD:t&&!t[i]&&(t[i]=a=[]),a.push(o.newValue);break;case Tb.UPDATE:let e=a.findIndex((e=>e[n]===o.id));-1!==e&&(a[e]=eb(r.clone(a[e]),o.newValue));break;case Tb.DELETE:if(s){let e=a.findIndex((e=>e[n]===o.id));-1!==e&&a.splice(e,1)}}}else e.push(o.newValue);return e}static parseValue(e,t){return(e===Wb.Number||e===Wb.Currency||e===Wb.Percent)&&(t=parseFloat(t)),t}static findParentFromPath(e,t,i,n){let r,s=e;for(let e of n){if(r=s&&s.find((i=>i[t]===e)),!r)break;s=r[i]}return r}},jb=class e{static getKeysFromData(t){let i=t.length;if(0===i)return[];let n=t[0],r=t[Math.floor(i/2)],s=t[i-1],o=Object.keys(n),a=Object.keys(r),l=Object.keys(s),d=new Set(o.concat(a).concat(l));return e.isSpecialData(n)?["Column 1"]:Array.from(d)}static saveBlobToFile(e,t){let i=document.createElement("a"),n=window.URL.createObjectURL(e);i.download=t,i.href=n,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}static stringToArrayBuffer(e){let t=new ArrayBuffer(e.length),i=new Uint8Array(t);for(let t=0;t!==e.length;++t)i[t]=255&e.charCodeAt(t);return t}static isSpecialData(e){return"string"==typeof e||"number"==typeof e||e instanceof Date}static hasValue(e){return null!=e}static isNullOrWhitespaces(e){return null==e||!e.trim()}static sanitizeValue(e){return this.hasValue(e)?String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):""}},Ub=function(e){return e[e.Regular=0]="Regular",e[e.Advanced=1]="Advanced",e}(Ub||{}),qb=class e{constructor(e,t){this.filteringOperands=[],this.operator=e,this.fieldName=t}static empty(e){return!e||!e.filteringOperands||!e.filteringOperands.length}find(e){let t=this.findIndex(e);return t>-1?this.filteringOperands[t]:null}findIndex(t){let i;for(let n=0;n<this.filteringOperands.length;n++)if(i=this.filteringOperands[n],i instanceof e){if(this.isFilteringExpressionsTreeForColumn(i,t))return n}else if(i.fieldName===t)return n;return-1}isFilteringExpressionsTreeForColumn(t,i){if(t.fieldName===i)return!0;for(let n of t.filteringOperands)return n instanceof e?this.isFilteringExpressionsTreeForColumn(n,i):n.fieldName===i;return!1}},Yb=function(e){return e[e.And=0]="And",e[e.Or=1]="Or",e}(Yb||{}),Xb=class{static filter(e,t,i){return t.strategy||(t.strategy=new Jb),t.strategy.filter(e,t.expressionsTree,t.advancedExpressionsTree,i)}},Zb=class{findMatchByExpression(e,t,i,n,r){let s=t.condition,o=this.getFieldValue(e,t.fieldName,i,n,r);return s.logic(o,t.searchVal,t.ignoreCase)}matchRecord(e,t,i){if(t){if(t instanceof qb){let n,r=t,s=r.operator;if(r.filteringOperands&&r.filteringOperands.length){for(let t of r.filteringOperands){if(n=this.matchRecord(e,t,i),!n&&s===Yb.And)return!1;if(n&&s===Yb.Or)return!0}return n}return!0}{let n=t,r=i&&i.getColumnByName(n.fieldName),s=!!r&&("date"===r.dataType||"dateTime"===r.dataType),o=!!r&&"time"===r.dataType;return this.findMatchByExpression(e,n,s,o,i)}}return!0}getFilterItems(e,t){let i=e.grid.gridAPI.filterDataByExpressions(t);i=e.grid.gridAPI.sortDataByExpressions(i,[{fieldName:e.field,dir:Rb.Asc,ignoreCase:e.sortingIgnoreCase}]);let n=e.field,r=i.map((t=>{let i=vb(t,n),r=e.formatter&&this.shouldFormatFilterValues(e);return i=r?e.formatter(i,t):i,{value:i,label:this.getFilterItemLabel(e,i,!r,t)}}));return r=this.getUniqueFilterItems(e,r),Promise.resolve(r)}getFilterItemLabel(e,t,i,n){if(e.formatter)return i?e.formatter(t,n):t;let{display:r,format:s,digitsInfo:o,currencyCode:a,timezone:l}=e.pipeArgs,d=e.grid.locale;switch(e.dataType){case Wb.Date:case Wb.DateTime:case Wb.Time:return bb(t,s,d,l);case Wb.Currency:return Db(t,a||Qp(d),r,o,d);case Wb.Number:return Mm(t,d,o);case Wb.Percent:return Pm(t,d,o);default:return t}}getUniqueFilterItems(e,t){let i=t.reduce(((t,i)=>{let n=i.value;if(e.dataType===Wb.String&&e.filteringIgnoreCase)n=n?.toString().toLowerCase();else if(e.dataType===Wb.DateTime)n=i.value?.toString(),i.value=n&&new Date(n);else if(e.dataType===Wb.Time){let e=n&&new Date(n);n=e?(new Date).setHours(e.getHours(),e.getMinutes(),e.getSeconds()):n,i.value=n&&new Date(n)}else if(e.dataType===Wb.Date){let e=n&&new Date(n);n=e?new Date(e.getFullYear(),e.getMonth(),e.getDate()).toISOString():n,i.value=e}return t.has(n)?t:t.set(n,i)}),new Map);return Array.from(i.values())}shouldFormatFilterValues(e){return!1}},Qb=(()=>{let e=class e extends Zb{getFieldValue(e,t){return e}static instance(){return this._instance||(this._instance=new e)}filter(e,t,i){return e}};return e._instance=null,e})(),Jb=(()=>{let e=class extends Zb{constructor(){super()}static instance(){return this._instance||(this._instance=new this)}filter(e,t,i,n){let r,s,o=e.length,a=[];if(qb.empty(t)&&qb.empty(i)||!o)return e;for(r=0;r<o;r++)s=e[r],this.matchRecord(s,t,n)&&this.matchRecord(s,i,n)&&a.push(s);return a}getFieldValue(e,t,i=!1,n=!1,r){let s=r?.getColumnByName(t),o=vb(e,t);return o=s?.formatter&&this.shouldFormatFilterValues(s)?s.formatter(o,e):o&&(i||n)?ib(o):o,o}};return e._instance=null,e})(),eD=class extends Zb{constructor(e){super(),this.hierarchicalFilterFields=e}filter(e,t,i,n){return this.filterImpl(e,t,i,void 0,n)}getFieldValue(e,t,i=!1,n=!1,r){let s=r?.getColumnByName(t),o=e,a=this.isHierarchicalFilterField(t)?this.getHierarchicalFieldValue(o,t):vb(o.data,t);return a=s?.formatter&&this.shouldFormatFilterValues(s)?s.formatter(a,e.data):a&&(i||n)?ib(a):a,a}getHierarchicalFieldValue(e,t){let i=vb(e.data,t);return e.parent?`${this.getHierarchicalFieldValue(e.parent,t)}${i?`.[${i}]`:""}`:`[${i}]`}filterImpl(e,t,i,n,r){let s,o,a=e.length,l=[];if(qb.empty(t)&&qb.empty(i)||!a)return e;for(s=0;s<a;s++){if(o=Kb.cloneTreeGridRecord(e[s]),o.parent=n,o.children){let e=this.filterImpl(o.children,t,i,o,r);o.children=e.length>0?e:null}this.matchRecord(o,t,r)&&this.matchRecord(o,i,r)?l.push(o):o.children&&o.children.length>0&&(o.isFilteredOutParent=!0,l.push(o))}return l}isHierarchicalFilterField(e){return this.hierarchicalFilterFields&&-1!==this.hierarchicalFilterFields.indexOf(e)}getFilterItems(e,t){if(!this.isHierarchicalFilterField(e.field))return super.getFilterItems(e,t);let i=e.grid.gridAPI.filterTreeDataByExpressions(t);i=Kb.treeGridSort(i,[{fieldName:e.field,dir:Rb.Asc,ignoreCase:e.sortingIgnoreCase}],e.grid.sortStrategy,null,e.grid);let n=this.getHierarchicalFilterItems(i,e);return Promise.resolve(n)}getHierarchicalFilterItems(e,t,i){return e?.map((e=>{let n=vb(e.data,t.field),r=t.formatter&&this.shouldFormatFilterValues(t);n=r?t.formatter(n,e.data):n;let s={value:i?n||0===n?`${i.value}.[${n}]`:n:`[${n}]`};return s.label=this.getFilterItemLabel(t,n,!r,e.data),s.children=this.getHierarchicalFilterItems(e.children,t,s),s}))}},tD="quickFilter",iD="excelStyleFilter",nD="top",rD="bottom",sD="rootLevelOnly",oD="childLevelsOnly",aD="rootAndChildLevels",lD="none",dD="single",cD="multiple",hD="multipleCascade",uD="Alphabetical",gD="DisplayOrder",pD=function(e){return e[e.Start=0]="Start",e[e.End=1]="End",e}(pD||{}),mD=function(e){return e[e.Top=0]="Top",e[e.Bottom=1]="Bottom",e}(mD||{}),fD=function(e){return e[e.Local=0]="Local",e[e.Remote=1]="Remote",e}(fD||{}),yD=function(e){return e[e.Grid=0]="Grid",e[e.TreeGrid=1]="TreeGrid",e}(yD||{}),vD=function(e){return e.GroupedRecord="GroupedRecord",e.TreeGridRecord="TreeGridRecord",e.DataRecord="DataRecord",e.HierarchicalGridRecord="HierarchicalGridRecord",e.HeaderRecord="HeaderRecord",e.SummaryRecord="SummaryRecord",e.PivotGridRecord="PivotGridRecord",e}(vD||{}),xD=function(e){return e.RowHeader="RowHeader",e.ColumnHeader="ColumnHeader",e.MultiRowHeader="MultiRowHeader",e.MultiColumnHeader="MultiColumnHeader",e}(xD||{}),_D=class{get columnIndex(){return this._columnIndex}set columnIndex(e){this._columnIndex=e,this.userSetIndex=!0}constructor(e){this.userSetIndex=!1,this.header=e.header,this.field=e.field,this.cancel=e.cancel,this.skipFormatter=e.skipFormatter,this.grid=e.grid,this.owner=e.owner,this._columnIndex=e.columnIndex}},wD="default",CD="igxGridRootSummary",SD="grid-parent",bD="GRID_LEVEL_COL",DD=8.43,ED="grid-child-",ID=class{constructor(){this.exportEnded=new Pd,this.rowExporting=new Pd,this.columnExporting=new Pd,this._sort=null,this._ownersMap=new Map,this._setChildSummaries=!1,this.summaries=new Map,this.rowIslandCounter=-1,this.flatRecords=[],this.pivotGridColumns=[],this.pivotGridKeyValueMap=new Map}export(e,t){if(null==t)throw Error("No options provided!");this.options=t,this.locale=e.locale;let i=e.columns;this.options.ignoreMultiColumnHeaders&&(i=i.filter((e=>void 0===e.children)));let n=this.getColumns(i),r=e.nativeElement.tagName.toLowerCase();if(/^ig.-hierarchical-grid$/.test(r)){this._ownersMap.set(e,n);let t=e.childLayoutList;for(let i of t)this.mapHierarchicalGridColumns(i,e.data[0])}else/^ig.-pivot-grid$/.test(r)?(this.pivotGridColumns=[],this.isPivotGridExport=!0,this.pivotGridKeyValueMap=new Map,this.pivotGridRowDimensionsMap=new Map,e.pivotConfiguration.rows.filter((e=>e.enabled)).forEach((e=>{this.addToRowDimensionsMap(e,e.memberName)})),this._ownersMap.set(wD,n)):this._ownersMap.set(wD,n);this.summaries=this.prepareSummaries(e),this._setChildSummaries=this.summaries.size>1&&e.summaryCalculationMode!==sD,this.addLevelColumns(),this.prepareData(e),this.addLevelData(),this.addPivotGridColumns(e),this.exportGridRecordsData(this.flatRecords,e)}exportData(e,t){if(null==t)throw Error("No options provided!");this.options=t;let i=e.map((e=>({data:e,type:vD.DataRecord,level:0})));this.exportGridRecordsData(i)}addToRowDimensionsMap(e,t){this.pivotGridRowDimensionsMap[e.memberName]=t,e.childLevel&&this.addToRowDimensionsMap(e.childLevel,t)}exportGridRecordsData(e,t){if(0===this._ownersMap.size){let t=e.filter((e=>e.type!==vD.SummaryRecord)).map((e=>e.data)),i=jb.getKeysFromData(t),n={columns:i.map((e=>({header:e,field:e,skip:!1,headerType:xD.ColumnHeader,level:0,columnSpan:1}))),columnWidths:new Array(i.length).fill(DD),indexOfLastPinnedColumn:-1,maxLevel:0};this._ownersMap.set(wD,n)}let i=!1;for(let[e,n]of this._ownersMap){let r=0,s=1,o=n.indexOfLastPinnedColumn;n.columns.forEach(((a,l)=>{if(!a.skip){let d={header:jb.isNullOrWhitespaces(a.header)?"Column"+s++:a.header,field:a.field,columnIndex:l,cancel:!1,skipFormatter:!1,grid:e===wD?t:e},c=new _D(d);if(this.columnExporting.emit(c),a.header=c.header,a.skip=c.cancel,a.skipFormatter=c.skipFormatter,c.userSetIndex&&(a.exportIndex=c.columnIndex,i=!0),a.skip){l<=o&&r++,this.calculateColumnSpans(a,n,a.columnSpan);let t=n.columns.filter((e=>!e.skip));t.length>0&&(this._ownersMap.get(e).maxLevel=t.sort(((e,t)=>t.level-e.level))[0].level)}this._sort&&this._sort.fieldName===a.field&&(a.skip?this._sort=null:this._sort.fieldName=a.header)}})),o-=r,i&&(n.columns=this.reorderColumns(n.columns))}let n=new Array,r=e[0]?.data,s=jb.isSpecialData(r);xb(e.length,100,(t=>{let i=e[t];this.exportRow(n,i,t,s)}),(()=>{this.exportDataImplementation(n,this.options,(()=>{this.resetDefaults()}))}))}calculateColumnSpans(e,t,i){e.headerType===xD.MultiColumnHeader&&e.skip&&t.columns.filter((t=>t.columnGroupParent===e.columnGroup)).forEach((e=>{e.headerType===xD.MultiColumnHeader?(e.columnSpan=0,e.columnGroupParent=null,e.skip=!0,this.calculateColumnSpans(e,t,e.columnSpan)):e.skip=!0}));let n=t.columns.filter((t=>null!==e.columnGroupParent&&t.columnGroup===e.columnGroupParent))[0];void 0!==n&&(n.columnSpan-=i,null!==n.columnGroupParent&&this.calculateColumnSpans(n,t,i),0===n.columnSpan&&(n.skip=!0))}exportRow(e,t,i,n){if(!n){let e=void 0===t.owner?wD:t.owner,i=this._ownersMap.get(e).columns;if(t.type!==vD.HeaderRecord){let e=i.filter((e=>e.headerType===xD.ColumnHeader&&!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex));t.data=e.reduce(((e,i)=>{if(!i.skip){let n=vb(t.data,i.field),r=i.formatter&&!i.skipFormatter&&t.type!==vD.GroupedRecord;"date"!==i.dataType&&"dateTime"!==i.dataType&&"time"!==i.dataType||t.type===vD.SummaryRecord||t.type===vD.GroupedRecord||n instanceof Date||r||null==n?"string"===i.dataType&&n instanceof Date&&(n=n.toString()):n=new Date(n);let s=r?i.formatter(n,t.data):n;this.isPivotGridExport&&!isNaN(parseFloat(s))&&(s=parseFloat(s)),e[i.field]=s}return e}),{})}else{let e=i.filter((e=>e.skip)).map((e=>e.header?e.header:e.field));t.data=t.data.filter((t=>-1===e.indexOf(t)))}}let r={rowData:t.data,rowIndex:i,cancel:!1};this.rowExporting.emit(r),r.cancel||e.push(t)}reorderColumns(e){let t=e.filter((e=>!e.skip)),i=t.length,n=t.filter((e=>!isNaN(e.exportIndex))).sort(((e,t)=>e.exportIndex-t.exportIndex)),r=n.map((e=>e.exportIndex));n.forEach((e=>{t.splice(t.indexOf(e),1)}));let s=new Array(i);if(n.length>Math.max(...r))return n.concat(t);r.forEach(((e,r)=>{if(e<0||e>=i)t.push(n[r]);else{let t=e;for(;t<i&&void 0!==s[t];)++t;s[t]=n[r]}}));for(let e=0;e<i;e++)void 0===s[e]&&(s[e]=t.splice(0,1)[0]);return s}prepareData(e){this.flatRecords=[];let t=e.nativeElement.tagName.toLowerCase(),i=e.filteringExpressionsTree&&e.filteringExpressionsTree.filteringOperands.length>0||e.advancedFilteringExpressionsTree&&e.advancedFilteringExpressionsTree.filteringOperands.length>0,n=e.groupingExpressions?e.groupingExpressions.concat(e.sortingExpressions||[]):e.sortingExpressions,r=n&&n.length>0,s=!1;switch(!0){case/^ig.-pivot-grid$/.test(t):this.preparePivotGridData(e);break;case/^ig.-hierarchical-grid$/.test(t):this.prepareHierarchicalGridData(e,i,r),s=!0;break;case/^ig.-tree-grid$/.test(t):this.prepareTreeGridData(e,i,r);break;default:this.prepareGridData(e,i,r)}this.summaries.size>0&&e.summaryCalculationMode!==oD&&(s?this.setSummaries(CD,0,!1,e):this.setSummaries(CD))}preparePivotGridData(e){for(let t of e.filteredSortedData){let e=Object.fromEntries(t.aggregationValues);t.dimensionValues.forEach(((t,i)=>{let n=this.pivotGridRowDimensionsMap[i];e[n]=t}));let i={data:e,level:t.level,type:vD.PivotGridRecord};this.flatRecords.push(i)}}prepareHierarchicalGridData(e,t,i){if(t&&this.options.ignoreFiltering||i&&this.options.ignoreSorting){let n=e.data;if(t&&!this.options.ignoreFiltering){let t={expressionsTree:e.filteringExpressionsTree,advancedExpressionsTree:e.advancedFilteringExpressionsTree,strategy:e.filterStrategy};n=Xb.filter(n,t,e)}i&&!this.options.ignoreSorting&&(this._sort=tb(e.sortingExpressions[0]),n=Kb.sort(n,e.sortingExpressions,e.sortStrategy,e)),this.addHierarchicalGridData(e,n)}else{let t=e.filteredSortedData;this.addHierarchicalGridData(e,t)}}addHierarchicalGridData(e,t){let i=e.childLayoutList,n=this._ownersMap.get(e).columns.map((e=>e.field));for(let r of t){let t=!!e.expansionStates.has(r)&&e.expansionStates.get(r),s={data:Object.keys(r).filter((e=>n.includes(e))).reduce(((e,t)=>(e[t]=r[t],e)),{}),level:0,type:vD.HierarchicalGridRecord,owner:e,hierarchicalOwner:SD};this.flatRecords.push(s);for(let n of i){let i={rowID:n.primaryKey?r[n.primaryKey]:r,rowIslandKey:n.key},s=e?.gridAPI.getChildGrid([i]),o=this.prepareIslandData(n,s,r[n.key])||[];this.getAllChildColumnsAndData(n,o,t,s)}}}prepareSummaries(e){let t=new Map;if(this.options.exportSummaries&&e.summaryService.summaryCacheMap.size>0){let i=e.summaryService.summaryCacheMap;switch(e.summaryCalculationMode){case oD:i.delete(CD);break;case sD:for(let e of i.keys())e!==CD&&i.delete(e)}t=i}return t}prepareIslandData(e,t,i){if(void 0!==t){let e=t.filteringExpressionsTree&&t.filteringExpressionsTree.filteringOperands.length>0||t.advancedFilteringExpressionsTree&&t.advancedFilteringExpressionsTree.filteringOperands.length>0,n=t.sortingExpressions&&t.sortingExpressions.length>0;if(e&&this.options.ignoreFiltering||n&&this.options.ignoreSorting){if(e&&!this.options.ignoreFiltering){let e={expressionsTree:t.filteringExpressionsTree,advancedExpressionsTree:t.advancedFilteringExpressionsTree,strategy:t.filterStrategy};i=Xb.filter(i,e,t)}n&&!this.options.ignoreSorting&&(this._sort=tb(t.sortingExpressions[0]),i=Kb.sort(i,t.sortingExpressions,t.sortStrategy,t))}else i=t.filteredSortedData}else{let t=e.filteringExpressionsTree&&e.filteringExpressionsTree.filteringOperands.length>0||e.advancedFilteringExpressionsTree&&e.advancedFilteringExpressionsTree.filteringOperands.length>0,n=e.sortingExpressions&&e.sortingExpressions.length>0;if(t&&!this.options.ignoreFiltering||n&&!this.options.ignoreSorting){if(t&&!this.options.ignoreFiltering){let t={expressionsTree:e.filteringExpressionsTree,advancedExpressionsTree:e.advancedFilteringExpressionsTree,strategy:e.filterStrategy};i=Xb.filter(i,t,e)}n&&!this.options.ignoreSorting&&(this._sort=tb(e.sortingExpressions[0]),i=Kb.sort(i,e.sortingExpressions,e.sortStrategy,e))}}return i}getAllChildColumnsAndData(e,t,i,n){let r=`${ED}${++this.rowIslandCounter}`,s={data:this._ownersMap.get(e).columns.filter((e=>e.headerType===xD.ColumnHeader)).map((e=>e.header?e.header:e.field)),level:e.level,type:vD.HeaderRecord,owner:e,hidden:!i,hierarchicalOwner:r};if(t&&t.length>0){this.flatRecords.push(s);for(let s of t){let t={data:s,level:e.level,type:vD.HierarchicalGridRecord,owner:e,hidden:!i,hierarchicalOwner:r};if(t.summaryKey=e.key,this.flatRecords.push(t),e.children.length>0){let t=void 0!==n&&!!n.expansionStates.has(s)&&n.expansionStates.get(s);for(let i of e.children){let r={rowID:i.primaryKey?s[i.primaryKey]:s,rowIslandKey:i.key},o=n?.gridAPI.getChildGrid([r]),a=this.prepareIslandData(e,o,s[i.key])||[];this.getAllChildColumnsAndData(i,a,t,o)}}}if(n){let t=this.prepareSummaries(n);for(let n of t.keys()){let s=t.get(n);this.setSummaries(e.key,e.level,!i,e,s,r)}}}}prepareGridData(e,t,i){let n={expressions:e.groupingExpressions,expansion:e.groupingExpansionState,defaultExpanded:e.groupsExpanded},r=e.groupingExpressions&&e.groupingExpressions.length>0;if(t&&this.options.ignoreFiltering||i&&this.options.ignoreSorting||r&&this.options.ignoreGrouping){let s=e.data;if(t&&!this.options.ignoreFiltering){let t={expressionsTree:e.filteringExpressionsTree,advancedExpressionsTree:e.advancedFilteringExpressionsTree,strategy:e.filterStrategy};s=Xb.filter(s,t,e)}if(i&&!this.options.ignoreSorting){let t=e.groupingExpressions?e.groupingExpressions.concat(e.sortingExpressions||[]):e.sortingExpressions;s=Kb.sort(s,t,e.sortStrategy,e)}if(r&&!this.options.ignoreGrouping){let t=[];Kb.group(QS(s),n,e.groupStrategy,e,t),s=t}r&&!this.options.ignoreGrouping?this.addGroupedData(e,s,n,!0):this.addFlatData(s)}else r?this.addGroupedData(e,e.groupsRecords,n,!0):this.addFlatData(e.filteredSortedData)}prepareTreeGridData(e,t,i){if(t&&this.options.ignoreFiltering||i&&this.options.ignoreSorting){let n=e.rootRecords;if(t&&!this.options.ignoreFiltering){let t={expressionsTree:e.filteringExpressionsTree,advancedExpressionsTree:e.advancedFilteringExpressionsTree,strategy:e.filterStrategy?e.filterStrategy:new eD};n=t.strategy.filter(n,t.expressionsTree,t.advancedExpressionsTree)}i&&!this.options.ignoreSorting&&(this._sort=tb(e.sortingExpressions[0]),n=Kb.treeGridSort(n,e.sortingExpressions,e.sortStrategy)),this.addTreeGridData(n)}else this.addTreeGridData(e.processedRootRecords)}addTreeGridData(e,t=!0,i){if(e)for(let n of e){let e={data:n.data,level:n.level,hidden:!t,type:vD.TreeGridRecord,summaryKey:n.key,hierarchicalOwner:0===n.level?SD:i};this.flatRecords.push(e),n.children&&this.getTreeGridChildData(n.children,n.key,n.level,n.expanded&&t)}}getTreeGridChildData(e,t,i,n=!0){let r=`${ED}${++this.rowIslandCounter}`,s=i,o=!n;for(let i of e)if(i.children&&i.children.length>0)this.addTreeGridData([i],n,r),s=i.level;else{let e={data:i.data,level:i.level,hidden:!n,type:vD.DataRecord,hierarchicalOwner:r};this._setChildSummaries&&(e.summaryKey=t),this.flatRecords.push(e),s=i.level,o=!n}this._setChildSummaries&&this.setSummaries(t,s,o,null,null,r)}addFlatData(e){if(e)for(let t of e){let e={data:t,type:vD.DataRecord,level:0};this.flatRecords.push(e)}}setSummaries(e,t=0,i=!1,n,r,s){let o=r??this.summaries.get(e);if(o){let r=[...o.values()].sort(((e,t)=>t.length-e.length))[0];for(let a=0;a<r.length;a++){let r={};for(let[e,t]of o){let i=t.map((e=>({label:e.label,value:e.summaryResult})));r[e]=i[a]}let l={data:r,type:vD.SummaryRecord,level:t,hidden:i,summaryKey:e,hierarchicalOwner:s};n&&(l.owner=n),this.flatRecords.push(l)}}}addGroupedData(e,t,i,n,r=!0,s=[]){if(!t)return;let o="",a=this._ownersMap.get(wD).columns.filter((e=>e.headerType===xD.ColumnHeader&&!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex))[0].field;for(let l of t){let t=l.value,d=n?SD:`${ED}${++this.rowIslandCounter}`,c=Fb(l),h=i.expansion.find((i=>Ob(i.hierarchy||[{fieldName:l.expression.fieldName,value:t}],c,e.groupingExpressions))),u=h?h.expanded:i.defaultExpanded;if(t instanceof Date){let i=6e4*t.getTimezoneOffset(),n=new Date(t-i).toISOString();t=new af(e.locale).transform(n)}let g=l.column&&l.column.header?l.column.header:l.expression.fieldName;t=null!==t?t:"";let p={data:{[a]:`${g}: ${t??"(Blank)"} (${l.records.length})`},level:l.level,hidden:!r,type:vD.GroupedRecord,hierarchicalOwner:d};this.flatRecords.push(p);let m="",f="";if(this._setChildSummaries&&(m=`'${l.expression.fieldName}': '${t}'`,s=s.filter((e=>e!==o)),o=m,s.push(m),f=`{ ${s.join(", ")} }`,p.summaryKey=f),l.groups.length>0)this.addGroupedData(e,l.groups,i,!1,u&&r,s);else{let e=l.records;for(let t of e){let e={data:t,level:l.level+1,hidden:!(u&&r),type:vD.DataRecord,hierarchicalOwner:d};f&&(e.summaryKey=f),this.flatRecords.push(e)}}this._setChildSummaries&&(this.setSummaries(f,l.level+1,!(u&&r),null,null,d),s.pop())}}getColumns(e){let t=[],i=[],n=[],r=-1,s=-1,o=0;return e.forEach((e=>{let a=jb.isNullOrWhitespaces(e.header)?e.field:e.header,l=!e.hidden||this.options.ignoreColumnsVisibility,d=this.options.ignoreColumnsOrder||this.options.ignoreColumnsVisibility?e.index:e.visibleIndex,c=Number(e.width?.slice(0,-2))||DD,h=this.options.ignoreMultiColumnHeaders?0:e.level,u=e.columnGroup,g=u?e.allChildren.filter((e=>!(e.columnGroup||!this.options.ignoreColumnsVisibility&&e.hidden))).length:1,p={header:jb.sanitizeValue(a),dataType:e.dataType,field:e.field,skip:!l,formatter:e.formatter,skipFormatter:!1,headerType:u?xD.MultiColumnHeader:xD.ColumnHeader,columnSpan:g,level:h,startIndex:d,pinnedIndex:e.pinned?e.hidden?NaN:e.grid.pinnedColumns.indexOf(e):Number.MAX_VALUE,columnGroupParent:e.parent?e.parent:null,columnGroup:u?e:null};"currency"===e.dataType&&(p.currencyCode=e.pipeArgs.currencyCode?e.pipeArgs.currencyCode:Qp(this.locale),p.displayFormat=e.pipeArgs.display?e.pipeArgs.display:"symbol",p.digitsInfo=e.pipeArgs.digitsInfo?e.pipeArgs.digitsInfo:"1.0-2"),"date"===e.dataType&&(p.dateFormat=Up(this.locale,Wp.Medium)),"dateTime"===e.dataType&&(p.dateFormat=Yp(this.locale,Wp.Medium)),this.options.ignoreColumnsOrder&&p.startIndex!==p.pinnedIndex&&(p.pinnedIndex=Number.MAX_VALUE),e.level>o&&!this.options.ignoreMultiColumnHeaders&&(o=e.level),-1!==d?(t.push(p),i.push(c),s=Math.max(s,t.indexOf(p))):n.push(p),e.pinned&&l&&p.headerType===xD.ColumnHeader&&r++})),n.forEach((e=>{t[++s]=e})),{columns:t,columnWidths:i,indexOfLastPinnedColumn:r,maxLevel:o}}mapHierarchicalGridColumns(e,t){let i,n;if(e.autoGenerate){n=t[e.key];let r=e.children.map((e=>e.key)),s=n.map((e=>{let t={};return Object.keys(e).map((i=>{r.includes(i)||(t[i]=e[i])})),t}));i=this.getAutoGeneratedColumns(s)}else{let t=e.columns;i=this.getColumns(t)}if(this._ownersMap.set(e,i),e.children.length>0)for(let t of e.children){let e=void 0!==n?n[0]:{};this.mapHierarchicalGridColumns(t,e)}}getAutoGeneratedColumns(e){let t=[],i=[];return Object.keys(e[0]).forEach(((e,n)=>{let r={header:e,field:e,dataType:"string",skip:!1,headerType:xD.ColumnHeader,columnSpan:1,level:0,startIndex:n,pinnedIndex:Number.MAX_VALUE};t.push(r),i.push(DD)})),{columns:t,columnWidths:i,indexOfLastPinnedColumn:-1,maxLevel:0}}addPivotGridColumns(e){if(!/^ig.-pivot-grid$/.test(e.nativeElement.tagName.toLowerCase()))return;let t=e.pivotConfiguration.rows.filter((e=>e.enabled)).map(((e,t)=>({name:e.memberName,level:t})));this.preparePivotGridColumns(t),this.pivotGridFilterFieldsCount=t.length;let i=this._ownersMap.get(wD);i.columns.unshift(...this.pivotGridColumns),i.columnWidths.unshift(...Array(this.pivotGridColumns.length).fill(200)),i.indexOfLastPinnedColumn=t.length-1,i.maxRowLevel=t.length,this._ownersMap.set(wD,i)}preparePivotGridColumns(e,t){if(0===e.length)return;let i=0,n=e[0],r=this.flatRecords.map((e=>e.data)),s={};if(r.forEach((e=>{let t=e[n.name];s[t]||(s[t]=[]),s[t].push(e)})),t){let e=[...this.pivotGridKeyValueMap.keys()],t=[...this.pivotGridKeyValueMap.values()];for(let i of Object.keys(s))s[i]=s[i].filter((i=>e.every((e=>Object.keys(i).includes(e)))&&t.every((e=>Object.values(i).includes(e))))),0===s[i].length&&delete s[i]}for(let r of Object.keys(s)){let o=s[r].length,a={rowSpan:o,field:r,header:r,startIndex:i,skip:!1,pinnedIndex:0,level:n.level,dataType:"string",headerType:s[r].length>1?xD.MultiRowHeader:xD.RowHeader};if(t?a.columnGroupParent=t:a.columnGroup=r,this.pivotGridColumns.push(a),e.length>1){this.pivotGridKeyValueMap.set(n.name,r);let t=e.filter((e=>e!==n));this.preparePivotGridColumns(t,r),this.pivotGridKeyValueMap.delete(n.name)}i+=o}}addLevelColumns(){this.options.exportSummaries&&this.summaries.size>0&&this._ownersMap.forEach((e=>{let t={header:bD,dataType:"number",field:bD,skip:!1,skipFormatter:!1,headerType:xD.ColumnHeader,columnSpan:1,level:0};e.columns.push(t),e.columnWidths.push(20)}))}addLevelData(){if(this.options.exportSummaries&&this.summaries.size>0)for(let e of this.flatRecords)(e.type===vD.DataRecord||e.type===vD.TreeGridRecord||e.type===vD.HierarchicalGridRecord)&&(e.data[bD]=e.level)}resetDefaults(){this._sort=null,this.flatRecords=[],this.options={},this._ownersMap.clear(),this.rowIslandCounter=0}},TD=class{constructor(e,t,i=[]){this._data=e,this.columns=i,this._headerRecord="",this._dataRecords="",this._eor="\r\n",this._escapeCharacters=["\r","\n","\r\n"],this._delimiterLength=1,this._isSpecialData=!1,this.setDelimiter(t)}prepareData(e){if(!this._data||0===this._data.length)return"";let t=[];return t=e||jb.getKeysFromData(this._data),0===t.length?"":(this._isSpecialData=jb.isSpecialData(this._data[0]),this._escapeCharacters.push(this._delimiter),this._headerRecord=this.processHeaderRecord(t,this._data.length),this._dataRecords=this.processDataRecords(this._data,t),this._headerRecord+this._dataRecords)}prepareDataAsync(e){let t=this.columns?.filter((e=>!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)),i=t&&t.length?t.map((e=>e.field)):jb.getKeysFromData(this._data);this._isSpecialData=jb.isSpecialData(this._data[0]),this._escapeCharacters.push(this._delimiter);let n=t&&t.length?t.map((e=>e.header??e.field)):i;this._headerRecord=this.processHeaderRecord(n,this._data.length),0!==i.length&&(this._data&&0!==this._data.length||0!==i.length)?this.processDataRecordsAsync(this._data,i,(t=>{e(this._headerRecord+t)})):e("")}processField(e,t){let i=jb.hasValue(e)?String(e):"";return t.some((e=>i.includes(e)))&&(i=`"${i}"`),i+this._delimiter}processHeaderRecord(e,t){let i="";for(let t of e)i+=this.processField(t,this._escapeCharacters);let n=i.slice(0,-this._delimiterLength);return t>0?n+this._eor:n}processRecord(e,t){let i=new Array(t.length);for(let n=0;n<t.length;n++){let r=void 0!==e[t[n]]?e[t[n]]:this._isSpecialData?e:"";i[n]=this.processField(r,this._escapeCharacters)}return i.join("").slice(0,-this._delimiterLength)+this._eor}processDataRecords(e,t){let i=new Array(e.length);for(let n=0;n<e.length;n++){let r=e[n];i[n]=this.processRecord(r,t)}return i.join("")}processDataRecordsAsync(e,t,i){let n=new Array(e.length);xb(e.length,1e3,(i=>{let r=e[i];n[i]=this.processRecord(r,t)}),(()=>{i(n.join(""))}))}setDelimiter(e){this._delimiter=e,this._delimiterLength=e.length}},AD=class{constructor(e,t){this._fileExtension=t,this.ignoreColumnsVisibility=!1,this.ignoreFiltering=!1,this.ignoreColumnsOrder=!1,this.ignoreSorting=!1,this.ignoreGrouping=!1,this.ignoreMultiColumnHeaders=!1,this.exportSummaries=!0,this.freezeHeaders=!1,this.alwaysExportHeaders=!0,this.setFileName(e)}setFileName(e){this._fileName=e+(!1===e.endsWith(this._fileExtension)?this._fileExtension:"")}get fileName(){return this._fileName}set fileName(e){this.setFileName(e)}},RD=class e extends AD{constructor(t,i){super(t,e.getExtensionFromFileType(i)),this.setFileType(i),this.setDelimiter()}static getExtensionFromFileType(e){let t="";switch(e){case kD.CSV:t=".csv";break;case kD.TSV:t=".tsv";break;case kD.TAB:t=".tab";break;default:throw Error("Unsupported CSV file type!")}return t}get valueDelimiter(){return this._valueDelimiter}set valueDelimiter(e){this.setDelimiter(e)}get fileType(){return this._fileType}set fileType(e){this.setFileType(e)}setFileType(t){if(null!=t&&t!==this._fileType){this._fileType=t;let i=e.getExtensionFromFileType(t);if(!this.fileName.endsWith(i)){let e="."+this.fileName.split(".").pop(),t=this.fileName.replace(e,i);this._fileExtension=i,this.fileName=t}}}setDelimiter(e){if(void 0!==e&&""!==e&&null!==e)this._valueDelimiter=e;else switch(this.fileType){case kD.CSV:this._valueDelimiter=",";break;case kD.TSV:case kD.TAB:this._valueDelimiter="\t"}}},kD=function(e){return e[e.CSV=0]="CSV",e[e.TSV=1]="TSV",e[e.TAB=2]="TAB",e}(kD||{}),OD=(()=>{let e=class extends ID{constructor(){super(...arguments),this.exportEnded=new Pd}exportDataImplementation(e,t,i){e=e.map((e=>e.data));let n=this._ownersMap.get(wD);new TD(e,t.valueDelimiter,n?.columns).prepareDataAsync((e=>{this._stringData=e,this.saveFile(t),this.exportEnded.emit({csvData:this._stringData}),i()}))}saveFile(e){switch(e.fileType){case kD.CSV:this.exportFile(this._stringData,e.fileName,"text/csv;charset=utf-8;");break;case kD.TSV:case kD.TAB:this.exportFile(this._stringData,e.fileName,"text/tab-separated-values;charset=utf-8;")}}exportFile(e,t,i){let n=new Blob([e?"\ufeff":"",e],{type:i});jb.saveBlobToFile(n,t)}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.prov=Zi({token:e,factory:e.fac,providedIn:"root"}),e})(),FD={},PD=Uint8Array,MD=Uint16Array,VD=Int32Array,ND=new PD([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),LD=new PD([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),HD=new PD([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),BD=function(e,t){for(var i=new MD(31),n=0;n<31;++n)i[n]=t+=1<<e[n-1];var r=new VD(i[30]);for(n=1;n<30;++n)for(var s=i[n];s<i[n+1];++s)r[s]=s-i[n]<<5|n;return{b:i,r}},zD=BD(ND,2),GD=zD.b,$D=zD.r;GD[28]=258,$D[258]=28;var WD,KD=BD(LD,0),jD=(KD.b,KD.r),UD=new MD(32768);for(XD=0;XD<32768;++XD)WD=(61680&(WD=(52428&(WD=(43690&XD)>>1|(21845&XD)<<1))>>2|(13107&WD)<<2))>>4|(3855&WD)<<4,UD[XD]=((65280&WD)>>8|(255&WD)<<8)>>1;var qD=function(e,t,i){for(var n=e.length,r=0,s=new MD(t);r<n;++r)e[r]&&++s[e[r]-1];var o,a=new MD(t);for(r=1;r<t;++r)a[r]=a[r-1]+s[r-1]<<1;if(i){o=new MD(1<<t);var l=15-t;for(r=0;r<n;++r)if(e[r])for(var d=r<<4|e[r],c=t-e[r],h=a[e[r]-1]++<<c,u=h|(1<<c)-1;h<=u;++h)o[UD[h]>>l]=d}else for(o=new MD(n),r=0;r<n;++r)e[r]&&(o[r]=UD[a[e[r]-1]++]>>15-e[r]);return o},YD=new PD(288);for(XD=0;XD<144;++XD)YD[XD]=8;for(XD=144;XD<256;++XD)YD[XD]=9;for(XD=256;XD<280;++XD)YD[XD]=7;for(XD=280;XD<288;++XD)YD[XD]=8;var XD,ZD=new PD(32);for(XD=0;XD<32;++XD)ZD[XD]=5;var QD=qD(YD,9,0),JD=qD(ZD,5,0),eE=function(e){return(e+7)/8|0},tE=function(e,t,i){return(null==t||t<0)&&(t=0),(null==i||i>e.length)&&(i=e.length),new PD(e.subarray(t,i))},iE=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],nE=function(e,t,i){var n=new Error(t||iE[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,nE),!i)throw n;return n},rE=function(e,t,i){i<<=7&t;var n=t/8|0;e[n]|=i,e[n+1]|=i>>8},sE=function(e,t,i){i<<=7&t;var n=t/8|0;e[n]|=i,e[n+1]|=i>>8,e[n+2]|=i>>16},oE=function(e,t){for(var i=[],n=0;n<e.length;++n)e[n]&&i.push({s:n,f:e[n]});var r=i.length,s=i.slice();if(!r)return{t:gE,l:0};if(1==r){var o=new PD(i[0].s+1);return o[i[0].s]=1,{t:o,l:1}}i.sort((function(e,t){return e.f-t.f})),i.push({s:-1,f:25001});var a=i[0],l=i[1],d=0,c=1,h=2;for(i[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=r-1;)a=i[i[d].f<i[h].f?d++:h++],l=i[d!=c&&i[d].f<i[h].f?d++:h++],i[c++]={s:-1,f:a.f+l.f,l:a,r:l};var u=s[0].s;for(n=1;n<r;++n)s[n].s>u&&(u=s[n].s);var g=new MD(u+1),p=aE(i[c-1],g,0);if(p>t){n=0;var m=0,f=p-t,y=1<<f;for(s.sort((function(e,t){return g[t.s]-g[e.s]||e.f-t.f}));n<r;++n){var v=s[n].s;if(!(g[v]>t))break;m+=y-(1<<p-g[v]),g[v]=t}for(m>>=f;m>0;){var x=s[n].s;g[x]<t?m-=1<<t-g[x]++-1:++n}for(;n>=0&&m;--n){var _=s[n].s;g[_]==t&&(--g[_],++m)}p=t}return{t:new PD(g),l:p}},aE=function(e,t,i){return-1==e.s?Math.max(aE(e.l,t,i+1),aE(e.r,t,i+1)):t[e.s]=i},lE=function(e){for(var t=e.length;t&&!e[--t];);for(var i=new MD(++t),n=0,r=e[0],s=1,o=function(e){i[n++]=e},a=1;a<=t;++a)if(e[a]==r&&a!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=e[a]}return{c:i.subarray(0,n),n:t}},dE=function(e,t){for(var i=0,n=0;n<t.length;++n)i+=e[n]*t[n];return i},cE=function(e,t,i){var n=i.length,r=eE(t+2);e[r]=255&n,e[r+1]=n>>8,e[r+2]=255^e[r],e[r+3]=255^e[r+1];for(var s=0;s<n;++s)e[r+s+4]=i[s];return 8*(r+4+n)},hE=function(e,t,i,n,r,s,o,a,l,d,c){rE(t,c++,i),++r[256];for(var h=oE(r,15),u=h.t,g=h.l,p=oE(s,15),m=p.t,f=p.l,y=lE(u),v=y.c,x=y.n,_=lE(m),w=_.c,C=_.n,S=new MD(19),b=0;b<v.length;++b)++S[31&v[b]];for(b=0;b<w.length;++b)++S[31&w[b]];for(var D=oE(S,7),E=D.t,I=D.l,T=19;T>4&&!E[HD[T-1]];--T);var A,R,k,O,F=d+5<<3,P=dE(r,YD)+dE(s,ZD)+o,M=dE(r,u)+dE(s,m)+o+14+3*T+dE(S,E)+2*S[16]+3*S[17]+7*S[18];if(l>=0&&F<=P&&F<=M)return cE(t,c,e.subarray(l,l+d));if(rE(t,c,1+(M<P)),c+=2,M<P){A=qD(u,g,0),R=u,k=qD(m,f,0),O=m;var V=qD(E,I,0);for(rE(t,c,x-257),rE(t,c+5,C-1),rE(t,c+10,T-4),c+=14,b=0;b<T;++b)rE(t,c+3*b,E[HD[b]]);c+=3*T;for(var N=[v,w],L=0;L<2;++L){var H=N[L];for(b=0;b<H.length;++b){var B=31&H[b];rE(t,c,V[B]),c+=E[B],B>15&&(rE(t,c,H[b]>>5&127),c+=H[b]>>12)}}}else A=QD,R=YD,k=JD,O=ZD;for(b=0;b<a;++b){var z=n[b];if(z>255){sE(t,c,A[257+(B=z>>18&31)]),c+=R[B+257],B>7&&(rE(t,c,z>>23&31),c+=ND[B]);var G=31&z;sE(t,c,k[G]),c+=O[G],G>3&&(sE(t,c,z>>5&8191),c+=LD[G])}else sE(t,c,A[z]),c+=R[z]}return sE(t,c,A[256]),c+R[256]},uE=new VD([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gE=new PD(0),pE=function(e,t,i,n,r,s){var o=s.z||e.length,a=new PD(n+o+5*(1+Math.ceil(o/7e3))+r),l=a.subarray(n,a.length-r),d=s.l,c=7&(s.r||0);if(t){c&&(l[0]=s.r>>3);for(var h=uE[t-1],u=h>>13,g=8191&h,p=(1<<i)-1,m=s.p||new MD(32768),f=s.h||new MD(p+1),y=Math.ceil(i/3),v=2*y,x=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<v)&p},_=new VD(25e3),w=new MD(288),C=new MD(32),S=0,b=0,D=s.i||0,E=0,I=s.w||0,T=0;D+2<o;++D){var A=x(D),R=32767&D,k=f[A];if(m[R]=k,f[A]=R,I<=D){var O=o-D;if((S>7e3||E>24576)&&(O>423||!d)){c=hE(e,l,0,_,w,C,b,E,T,D-T,c),E=S=b=0,T=D;for(var F=0;F<286;++F)w[F]=0;for(F=0;F<30;++F)C[F]=0}var P=2,M=0,V=g,N=R-k&32767;if(O>2&&A==x(D-N))for(var L=Math.min(u,O)-1,H=Math.min(32767,D),B=Math.min(258,O);N<=H&&--V&&R!=k;){if(e[D+P]==e[D+P-N]){for(var z=0;z<B&&e[D+z]==e[D+z-N];++z);if(z>P){if(P=z,M=N,z>L)break;var G=Math.min(N,z-2),$=0;for(F=0;F<G;++F){var W=D-N+F&32767,K=W-m[W]&32767;K>$&&($=K,k=W)}}}N+=(R=k)-(k=m[R])&32767}if(M){_[E++]=268435456|$D[P]<<18|jD[M];var j=31&$D[P],U=31&jD[M];b+=ND[j]+LD[U],++w[257+j],++C[U],I=D+P,++S}else _[E++]=e[D],++w[e[D]]}}for(D=Math.max(D,I);D<o;++D)_[E++]=e[D],++w[e[D]];c=hE(e,l,d,_,w,C,b,E,T,D-T,c),d||(s.r=7&c|l[c/8|0]<<3,c-=7,s.h=f,s.p=m,s.i=D,s.w=I)}else{for(D=s.w||0;D<o+d;D+=65535){var q=D+65535;q>=o&&(l[c/8|0]=d,q=o),c=cE(l,c+1,e.subarray(D,q))}s.i=o}return tE(a,0,n+eE(c)+r)},mE=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var i=t,n=9;--n;)i=(1&i&&-306674912)^i>>>1;e[t]=i}return e}(),fE=function(e,t,i,n,r){if(!r&&(r={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new PD(s.length+e.length);o.set(s),o.set(e,s.length),e=o,r.w=s.length}return pE(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,i,n,r)},yE=function(e,t){var i={};for(var n in e)i[n]=e[n];for(var n in t)i[n]=t[n];return i},vE=function(e,t,i){for(var n=e(),r=e.toString(),s=r.slice(r.indexOf("[")+1,r.lastIndexOf("]")).replace(/\s+/g,"").split(","),o=0;o<n.length;++o){var a=n[o],l=s[o];if("function"==typeof a){t+=";"+l+"=";var d=a.toString();if(a.prototype)if(-1!=d.indexOf("[native code]")){var c=d.indexOf(" ",8)+1;t+=d.slice(c,d.indexOf("(",c))}else for(var h in t+=d,a.prototype)t+=";"+l+".prototype."+h+"="+a.prototype[h].toString();else t+=d}else i[l]=a}return t},xE=[],_E=function(){return[PD,MD,VD,ND,LD,HD,$D,jD,QD,YD,JD,ZD,UD,uE,gE,qD,rE,sE,oE,aE,lE,dE,cE,hE,eE,tE,pE,fE,bE,wE]},wE=function(e){return postMessage(e,[e.buffer])},CE=function(e,t,i,n,r,s){var o=function(e,t,i,n){if(!xE[i]){for(var r="",s={},o=e.length-1,a=0;a<o;++a)r=vE(e[a],r,s);xE[i]={c:vE(e[o],r,s),e:s}}var l=yE({},xE[i].e);return function(e,t,i,n,r){var s=new Worker(FD[t]||(FD[t]=URL.createObjectURL(new Blob([e+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return s.onmessage=function(e){var t=e.data,i=t.$e$;if(i){var n=new Error(i[0]);n.code=i[1],n.stack=i[2],r(n,null)}else r(null,t)},s.postMessage(i,n),s}(xE[i].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",i,l,function(e){var t=[];for(var i in e)e[i].buffer&&t.push((e[i]=new e[i].constructor(e[i])).buffer);return t}(l),n)}(i,n,r,(function(e,t){o.terminate(),s(e,t)}));return o.postMessage([e,t],t.consume?[e.buffer]:[]),function(){o.terminate()}},SE=function(e,t,i){for(;i;++t)e[t]=i,i>>>=8};function bE(e,t){return fE(e,t||{},0,0)}var DE=function(e,t,i,n){for(var r in e){var s=e[r],o=t+r,a=n;Array.isArray(s)&&(a=yE(n,s[1]),s=s[0]),s instanceof PD?i[o]=[s,a]:(i[o+="/"]=[new PD(0),a],DE(s,o,i,n))}},EE=typeof TextEncoder<"u"&&new TextEncoder,IE=typeof TextDecoder<"u"&&new TextDecoder;try{IE.decode(gE,{stream:!0})}catch{}function TE(e,t){if(t){for(var i=new PD(e.length),n=0;n<e.length;++n)i[n]=e.charCodeAt(n);return i}if(EE)return EE.encode(e);var r=e.length,s=new PD(e.length+(e.length>>1)),o=0,a=function(e){s[o++]=e};for(n=0;n<r;++n){if(o+5>s.length){var l=new PD(o+8+(r-n<<1));l.set(s),s=l}var d=e.charCodeAt(n);d<128||t?a(d):d<2048?(a(192|d>>6),a(128|63&d)):d>55295&&d<57344?(a(240|(d=65536+(1047552&d)|1023&e.charCodeAt(++n))>>18),a(128|d>>12&63),a(128|d>>6&63),a(128|63&d)):(a(224|d>>12),a(128|d>>6&63),a(128|63&d))}return tE(s,0,o)}var AE=function(e){var t=0;if(e)for(var i in e){var n=e[i].length;n>65535&&nE(9),t+=n+4}return t},RE=function(e,t,i,n,r,s,o,a){var l=n.length,d=i.extra,c=a&&a.length,h=AE(d);SE(e,t,null!=o?33639248:67324752),t+=4,null!=o&&(e[t++]=20,e[t++]=i.os),e[t]=20,t+=2,e[t++]=i.flag<<1|(s<0&&8),e[t++]=r&&8,e[t++]=255&i.compression,e[t++]=i.compression>>8;var u=new Date(null==i.mtime?Date.now():i.mtime),g=u.getFullYear()-1980;if((g<0||g>119)&&nE(10),SE(e,t,g<<25|u.getMonth()+1<<21|u.getDate()<<16|u.getHours()<<11|u.getMinutes()<<5|u.getSeconds()>>1),t+=4,-1!=s&&(SE(e,t,i.crc),SE(e,t+4,s<0?-s-2:s),SE(e,t+8,i.size)),SE(e,t+12,l),SE(e,t+14,h),t+=16,null!=o&&(SE(e,t,c),SE(e,t+6,i.attrs),SE(e,t+10,o),t+=14),e.set(n,t),t+=l,h)for(var p in d){var m=d[p],f=m.length;SE(e,t,+p),SE(e,t+2,f),e.set(m,t+4),t+=4+f}return c&&(e.set(a,t),t+=c),t};var kE="function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout?setTimeout:function(e){e()},OE=function(e){return e[e.RootExcelFolder=0]="RootExcelFolder",e[e.RootRelsExcelFolder=1]="RootRelsExcelFolder",e[e.DocPropsExcelFolder=2]="DocPropsExcelFolder",e[e.XLExcelFolder=3]="XLExcelFolder",e[e.XLRelsExcelFolder=4]="XLRelsExcelFolder",e[e.ThemeExcelFolder=5]="ThemeExcelFolder",e[e.WorksheetsExcelFolder=6]="WorksheetsExcelFolder",e[e.WorksheetsRelsExcelFolder=7]="WorksheetsRelsExcelFolder",e[e.TablesExcelFolder=8]="TablesExcelFolder",e}(OE||{}),FE=function(e){return e[e.RootRelsFile=0]="RootRelsFile",e[e.AppFile=1]="AppFile",e[e.CoreFile=2]="CoreFile",e[e.WorkbookRelsFile=3]="WorkbookRelsFile",e[e.ThemeFile=4]="ThemeFile",e[e.WorksheetFile=5]="WorksheetFile",e[e.StyleFile=6]="StyleFile",e[e.WorkbookFile=7]="WorkbookFile",e[e.ContentTypesFile=8]="ContentTypesFile",e[e.SharedStringsFile=9]="SharedStringsFile",e[e.WorksheetRelsFile=10]="WorksheetRelsFile",e[e.TablesFile=11]="TablesFile",e}(FE||{}),PE=(()=>{let e=class e{static getRels(){return e.XML_STRING+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>'}static getApp(t){return e.XML_STRING+`<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>1</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="1" baseType="lpstr"><vt:lpstr>${t}</vt:lpstr></vt:vector></TitlesOfParts><Company></Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>16.0300</AppVersion></Properties>`}static getCore(){return e.XML_STRING+'<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator></dc:creator><cp:lastModifiedBy></cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">2015-06-05T18:17:20Z</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">2015-06-05T18:17:26Z</dcterms:modified></cp:coreProperties>'}static getTheme(){return e.XML_STRING+'<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="5B9BD5"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="4472C4"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Calibri Light" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=" Light"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=" Light"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=""/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=""/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>'}static getStyles(){return e.XML_STRING+'<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac x16r2" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:x16r2="http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"><numFmts count="5"><numFmt numFmtId="164" formatCode="&quot;$&quot;#,##0.00"/><numFmt numFmtId="165" formatCode="[$-809]#,##0.00"/><numFmt numFmtId="166" formatCode="[$-804]#,##0.00"/><numFmt numFmtId="167" formatCode="#,##0.00 [$-1]"/><numFmt numFmtId="168" formatCode="[$-411]#,##0.00"/></numFmts><fonts count="2" x14ac:knownFonts="1"><font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font><font><sz val="11"/><color rgb="FFB7B7B7"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts><fills count="3"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill><fill><patternFill patternType="solid"><fgColor rgb="FF0D1822"/><bgColor indexed="64"/></patternFill></fill></fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="13"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="14" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="0" xfId="0"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" applyAlignment="1"><alignment horizontal="center" vertical="center"/></xf><xf numFmtId="164" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="165" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="166" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="167" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="168" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="21" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="22" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="10" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles><dxfs count="0"/><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleLight16"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext><ext uri="{9260A510-F301-46a8-8635-F512D64BE5F5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:timelineStyles defaultTimelineStyle="TimeSlicerStyleLight1"/></ext></extLst></styleSheet>'}static getWorkbook(t){return e.XML_STRING+`<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><fileVersion appName="xl" lastEdited="6" lowestEdited="6" rupBuild="14420"/><workbookPr filterPrivacy="1" defaultThemeVersion="164011"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="22260" windowHeight="12645"/></bookViews><sheets><sheet name="${t}" sheetId="1" r:id="rId1"/></sheets><calcPr calcId="162913"/><extLst><ext uri="{140A7094-0E35-4892-8432-C4D2E57EDEB5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:workbookPr chartTrackingRefBase="1"/></ext></extLst></workbook>`}static getWorksheetRels(){return e.XML_STRING+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/table" Target="../tables/table1.xml"/></Relationships>'}static getWorkbookRels(t){let i=e.XML_STRING+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/>';return t&&(i+=e.SHARED_STRING_RELATIONSHIP),i+="</Relationships>",i}static getSheetXML(t,i,n,r,s,o=0,a){let l=o>0,d=s?'<tableParts count="1"><tablePart r:id="rId1"/></tableParts>':"",c=l?'<sheetPr><outlinePr summaryBelow="0"/></sheetPr>':"",h=l?`outlineLevelRow="${o}"`:"",u=a?"":`<dimension ref="${t}"/>`;return`${e.XML_STRING}\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">\n${c}\n${u}\n<sheetViews><sheetView tabSelected="1" workbookViewId="0">${i}</sheetView></sheetViews>\n<sheetFormatPr defaultRowHeight="15" ${h} x14ac:dyDescent="0.25"/>\n${n}\n${r}\n<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/>\n${d}</worksheet>`}static getSharedStringXML(t,i,n){return e.XML_STRING+'<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="'+t+'" uniqueCount="'+i+'">'+n+"</sst>"}static getContentTypesXML(t,i){let n=e.XML_STRING+'<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">\n            <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>\n            <Default Extension="xml" ContentType="application/xml"/>\n            <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>\n            <Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>\n            <Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/>\n            <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>\n            <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/>\n            <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/>';return n+=t?'\t<Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>':"",n+=i?'<Override PartName="/xl/tables/table1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"/>':"",n+="</Types>",n}static getTablesXML(t,i,n,r){return`${e.XML_STRING}<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="${i}" totalsRowShown="0">\n    <autoFilter ref="${t}"/>${r}${n}<tableStyleInfo name="TableStyleMedium2" showFirstColumn="0" showLastColumn="0" showRowStripes="1" showColumnStripes="0"/>\n</table>`}static getExcelColumn(e){let t="";for(;e>=0;){let i=e%26;t=String.fromCharCode(65+i)+t,e=Math.floor(e/26)-1}return t}};return e.XML_STRING='<?xml version="1.0" encoding="UTF-8"?>\r\n',e.SHARED_STRING_RELATIONSHIP='<Relationship Id="rId4" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" />',e})(),ME=(()=>{let e=class e{constructor(){this.maxOutlineLevel=0,this.sheetData="",this.dimension="",this.freezePane="",this.rowHeight="",this.mergeCellStr="",this.mergeCellsCounter=0,this.rowIndex=0,this.pivotGridRowHeadersMap=new Map,this.dimensionMap=new Map,this.hierarchicalDimensionMap=new Map,this.currentSummaryOwner="",this.currentHierarchicalOwner="",this.firstColumn=Number.MAX_VALUE,this.firstDataRow=Number.MAX_VALUE,this.currencyStyleMap=new Map([["USD",{styleXf:5,symbol:"$"}],["GBP",{styleXf:6,symbol:""}],["CNY",{styleXf:7,symbol:""}],["EUR",{styleXf:8,symbol:""}],["JPY",{styleXf:9,symbol:""}]])}writeElement(){}writeElementAsync(e,t){return _(this,null,(function*(){return new Promise((i=>{this.prepareDataAsync(t,((n,r)=>{let s=(!t.isEmpty||t.options.alwaysExportHeaders)&&t.options.exportAsTable;e["sheet1.xml"]=TE(PE.getSheetXML(this.dimension,this.freezePane,n,r,s,this.maxOutlineLevel,t.isHierarchical)),i()}))}))}))}prepareDataAsync(t,i){this.sheetData="";let n="",r=t.dataDictionary;if(this.rowIndex=0,!t.isEmpty||t.options.alwaysExportHeaders&&0!==t.owner.columns.length){let s=t.owner,o=t.isHierarchical,a=t.hasMultiColumnHeader,l=t.hasMultiRowHeader,d=s.columns.some((e=>void 0!==e.exportIndex)),c=t.options.rowHeight;this.isValidGrid=t.isHierarchical||t.isTreeGrid||t.isGroupedGrid,this.rowHeight=c?` ht="${c}" customHeight="1"`:"",this.sheetData+="<sheetData>";let h=[];for(let e=0;e<=s.maxRowLevel;e++)h=s.columns.filter((t=>t.level===e&&t.rowSpan>0&&!t.skip)),this.printHeaders(t,h,e,!0),this.rowIndex++;this.rowIndex=0;for(let e=0;e<=s.maxLevel;e++){this.rowIndex++;let i=this.pivotGridRowHeadersMap.get(this.rowIndex)??"";this.sheetData+=`<row r="${this.rowIndex}"${this.rowHeight}>${i}`;let n=s.columns.filter((e=>e.headerType!==xD.RowHeader&&e.headerType!==xD.MultiRowHeader));h=a?n.filter((t=>(t.level<e&&t.headerType!==xD.MultiColumnHeader||t.level===e)&&t.columnSpan>0&&!t.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)):d?n.filter((e=>!e.skip)):n.filter((e=>!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)),this.printHeaders(t,h,e,!1),this.sheetData+="</row>"}let u=t.options.ignoreMultiColumnHeaders?0:s.maxLevel,g=t.options.freezeHeaders?2+u:1;if(o){let e=t.options.columnWidth?t.options.columnWidth:20;if(n+=`<cols><col min="1" max="${t.columnCount}" width="${e}" customWidth="1"/>`,t.options.freezeHeaders){let e=PE.getExcelColumn(0)+g;this.freezePane=`<pane xSplit="0" ySplit="${g-1}"\n                         topLeftCell="${e}" activePane="topRight" state="frozen"/>`}}else{let i=t.hasSummaries?t.columnCount+1:t.columnCount-1;if(this.dimension="A1:"+PE.getExcelColumn(i)+t.rowCount,n+="<cols>",a)n+=`<col min="1" max="${t.columnCount}" width="15" customWidth="1"/>`;else for(let i=0;i<t.columnCount;i++){let s=r.columnWidths[i],o=void 0!==t.options.columnWidth?t.options.columnWidth:Math.max(s/96*14.4,e.MIN_WIDTH);o>0||(o=e.MIN_WIDTH),n+=`<col min="${i+1}" max="${i+1}" width="${o}" customWidth="1"/>`}let s=t.indexOfLastPinnedColumn,o=s+1,l=PE.getExcelColumn(o)+g;void 0===s||-1===s||t.options.ignorePinning||t.options.ignoreColumnsOrder?t.options.freezeHeaders&&(l=PE.getExcelColumn(0)+g,this.freezePane=`<pane xSplit="0" ySplit="${g-1}"\n                         topLeftCell="${l}" activePane="topRight" state="frozen"/>`):this.freezePane=`<pane xSplit="${o}" ySplit="${g-1}"\n                         topLeftCell="${l}" activePane="topRight" state="frozen"/>`}t.hasSummaries&&(n+=`<col min="${t.columnCount+2}" max="${t.columnCount+2}" hidden="1"/>`),n+="</cols>",this.processDataRecordsAsync(t,(e=>{this.sheetData+=e,this.sheetData+="</sheetData>",(a||l)&&this.mergeCellsCounter>0&&(this.sheetData+=`<mergeCells count="${this.mergeCellsCounter}">${this.mergeCellStr}</mergeCells>`),i(n,this.sheetData)}))}else this.sheetData+="<sheetData/>",this.dimension="A1",i("",this.sheetData)}processDataRecordsAsync(e,t){let i=[],n=e.options.rowHeight;this.rowHeight=n?' ht="'+n+'" customHeight="1"':"";let r=e.isHierarchical,s=e.owner.columns.some((e=>void 0!==e.exportIndex)),o=[];xb(e.rowCount-e.multiColumnHeaderRows-1,1e3,(t=>{if(!e.isEmpty){if(r){let n=e.data[t];if(n.type===vD.HeaderRecord){let t=e.owners.get(n.owner);t.columns.some((e=>!e.skip&&e.headerType===xD.MultiColumnHeader))&&this.hGridPrintMultiColHeaders(e,i,n,t)}o=Object.keys(e.data[t].data)}else o=s?e.rootKeys:e.owner.columns.filter((e=>e.headerType===xD.ColumnHeader&&!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)).map((e=>e.field));i.push(this.processRow(e,t,o,r))}}),(()=>{t(i.join(""))}))}hGridPrintMultiColHeaders(e,t,i,n){for(let r=0;r<n.maxLevel;r++){let s=i.level,o=s>0?` outlineLevel="${s}"`:"";this.maxOutlineLevel=this.maxOutlineLevel<s?s:this.maxOutlineLevel;let a=i.hidden?' hidden="1"':"";this.rowIndex++;let l=`<row r="${this.rowIndex}"${this.rowHeight}${o}${a}>`,d=n.columns.filter((e=>(e.level<r&&e.headerType!==xD.MultiColumnHeader||e.level===r)&&e.columnSpan>0&&!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)),c=0+i.level;for(let t of d){if(t.level===r){let i;if(i=PE.getExcelColumn(c)+this.rowIndex,l+=`<c r="${i}" s="3" t="s"><v>${e.dataDictionary.saveValue(t.header,!0)}</v></c>`,r!==n.maxLevel){if(this.mergeCellsCounter++,this.mergeCellStr+=` <mergeCell ref="${i}:`,t.headerType===xD.ColumnHeader)i=PE.getExcelColumn(c)+(this.rowIndex+n.maxLevel-t.level);else for(let e=1;e<t.columnSpan;e++)i=PE.getExcelColumn(c+e)+this.rowIndex,l+=`<c r="${i}" s="3" />`;this.mergeCellStr+=`${i}" />`}}c+=t.columnSpan}l+="</row>",t.push(l)}}processRow(e,t,i,n){let r=e.data[t],s=new Array(e.columnCount+2),o=r.level,a=o>0?` outlineLevel="${o}"`:"";this.maxOutlineLevel=this.maxOutlineLevel<o?o:this.maxOutlineLevel;let l=r.hidden?' hidden="1"':"";this.rowIndex++;let d=this.pivotGridRowHeadersMap.get(this.rowIndex)??"";s[0]=`<row r="${this.rowIndex}"${this.rowHeight}${a}${l}>${d}`;let c=e.isSpecialData?[r.data]:i,h=r.type===vD.HierarchicalGridRecord||r.type===vD.DataRecord||r.type===vD.GroupedRecord||r.type===vD.TreeGridRecord;(h||r.type===vD.SummaryRecord)&&e.hasSummaries&&this.resolveSummaryDimensions(r,h,e.isGroupedGrid);for(let i=0;i<c.length;i++){let r=i+(n?o:e.isPivotGrid?e.owner.maxRowLevel:0),a=this.getCellData(e,t,r,c[i]);s[i+1]=a}return s[c.length+1]="</row>",s.join("")}getCellData(e,t,i,n){let r=e.dataDictionary,s=PE.getExcelColumn(i)+this.rowIndex,o=e.data[t],a=o.type===vD.HeaderRecord,l=o.type===vD.SummaryRecord,d=o.type===vD.GroupedRecord||o.type===vD.DataRecord||o.type===vD.HierarchicalGridRecord||o.type===vD.TreeGridRecord;this.firstDataRow=this.firstDataRow>this.rowIndex?this.rowIndex:this.firstDataRow;let c=e.isSpecialData?o.data:o.data[n];(c===bD||n===bD)&&(s=PE.getExcelColumn(e.columnCount+1)+this.rowIndex),e.hasSummaries&&(d||e.isGroupedGrid&&l)&&this.setSummaryCoordinates(s,n,o.hierarchicalOwner,e.isGroupedGrid&&l),o.summaryKey&&o.summaryKey===CD&&n!==bD&&e.isGroupedGrid&&(this.setRootSummaryStartCoordinate(i,n),this.firstColumn>i&&(this.setRootSummaryStartCoordinate(e.columnCount+1,bD),this.firstColumn=i));let h=Array.from(e.owners.values()).map((e=>e.columns)).find((e=>e.some((e=>e.field===n)))),u=h?h.find((e=>e.field===n)):void 0;if(null==c&&!e.hasSummaries)return`<c r="${s}" s="1"/>`;if(e.hasSummaries&&(d||a)||!e.hasSummaries){let e=r.saveValue(c,a),t=-1!==e,i=!t&&c instanceof Date,n=t?e:c;if(i){let e=6e4*n.getTimezoneOffset(),t=new Date(n-e).toISOString();n=t.substring(0,t.indexOf("."))}let o=t?' t="s"':i?' t="d"':"",l="time"===u?.dataType,d="dateTime"===u?.dataType;return`<c r="${s}"${o}${"percent"===u?.dataType?' s="12"':d?' s="11"':l?' s="10"':a?' s="3"':t?"":i?' s="2"':"currency"===u?.dataType?` s="${this.currencyStyleMap.get(u.currencyCode)?.styleXf||0}"`:' s="1"'}><v>${n}</v></c>`}{let t=`"${c??""}"`;if(l&&c){let i=this.isValidGrid?o.hierarchicalOwner??SD:null,a=e.isGroupedGrid?e.maxLevel:o.level;if(t=this.getSummaryFunction(c.label,n,i,a,u),!t){let e=`${c.label}: ${c.value}`;return`<c r="${s}" t="s" s="1"><v>${r.saveValue(e,!1)}</v></c>`}return`<c r="${s}"><f t="array" ref="${s}">${t}</f></c>`}return`<c r="${s}" s="1"><f>${t}</f></c>`}}resolveSummaryDimensions(e,t,i){this.isValidGrid&&""!==this.currentHierarchicalOwner&&this.currentHierarchicalOwner!==e.owner&&!this.hierarchicalDimensionMap.get(this.currentHierarchicalOwner)&&this.hierarchicalDimensionMap.set(this.currentHierarchicalOwner,new Map(this.dimensionMap)),t&&((this.currentSummaryOwner!==e.summaryKey||this.currentHierarchicalOwner!==e.hierarchicalOwner)&&this.dimensionMap.clear(),this.currentSummaryOwner=e.summaryKey,i&&""!==this.currentHierarchicalOwner&&e.hierarchicalOwner===SD&&this.hierarchicalDimensionMap.delete(SD),this.currentHierarchicalOwner=e.hierarchicalOwner)}setSummaryCoordinates(e,t,i,n){let r=this.hierarchicalDimensionMap.get(i)??this.dimensionMap;if(r.get(t))n?this.setEndCoordinates(r,!0):(r.get(t).endCoordinate=e,this.lastValidRow=r.get(t).endCoordinate.match(/[a-z]+|[^a-z]+/gi)[1]);else{let i={startCoordinate:e,endCoordinate:e};r.set(t,i)}if(this.isValidGrid&&!n&&i!==SD){let e=this.hierarchicalDimensionMap.get(SD);this.setEndCoordinates(e)}}setEndCoordinates(e,t=!1){for(let i of e.values()){let e=i.endCoordinate.match(/[a-z]+|[^a-z]+/gi)[0];i.endCoordinate=`${e}${t?this.lastValidRow:this.rowIndex}`}}getSummaryFunction(e,t,i,n,r){let s=i?this.hierarchicalDimensionMap.get(i):this.dimensionMap,o=s.get(t),a=s.get(bD),l="",d="",c="",h=this.currencyStyleMap.get(r.currencyCode);switch(e.toLowerCase()){case"count":return`"Count: "&amp;_xlfn.COUNTIF(${a.startCoordinate}:${a.endCoordinate}, ${n})`;case"min":return l=`_xlfn.MIN(_xlfn.IF(${a.startCoordinate}:${a.endCoordinate}=${n}, ${o.startCoordinate}:${o.endCoordinate}))`,d='"Min: "&amp;',c=d+("currency"===r.dataType&&h?`_xlfn.TEXT(${l}, "${h.symbol}#,##0.00")`:`${l}`),c;case"max":return l=`_xlfn.MAX(_xlfn.IF(${a.startCoordinate}:${a.endCoordinate}=${n}, ${o.startCoordinate}:${o.endCoordinate}))`,d='"Max: "&amp;',c=d+("currency"===r.dataType&&h?`_xlfn.TEXT(${l}, "${h.symbol}#,##0.00")`:`${l}`),c;case"sum":return l=`_xlfn.SUMIF(${a.startCoordinate}:${a.endCoordinate}, ${n}, ${o.startCoordinate}:${o.endCoordinate})`,d='"Sum: "&amp;',c=d+("currency"===r.dataType&&h?`_xlfn.TEXT(${l}, "${h.symbol}#,##0.00")`:`${l}`),c;case"avg":return l=`_xlfn.AVERAGEIF(${a.startCoordinate}:${a.endCoordinate}, ${n}, ${o.startCoordinate}:${o.endCoordinate})`,d='"Avg: "&amp;',c=d+("currency"===r.dataType&&h?`_xlfn.TEXT(${l}, "${h.symbol}#,##0.00")`:`${l}`),c;case"earliest":return`"Earliest: "&amp;_xlfn.TEXT(_xlfn.MIN(_xlfn.IF(${a.startCoordinate}:${a.endCoordinate}=${n}, ${o.startCoordinate}:${o.endCoordinate})), "m/d/yyyy")`;case"latest":return`"Latest: "&amp;_xlfn.TEXT(_xlfn.MAX(_xlfn.IF(${a.startCoordinate}:${a.endCoordinate}=${n}, ${o.startCoordinate}:${o.endCoordinate})), "m/d/yyyy")`}}setRootSummaryStartCoordinate(e,t){let i=PE.getExcelColumn(e)+this.firstDataRow,n=this.hierarchicalDimensionMap.get(SD);n.get(t).startCoordinate!==i&&(n.get(t).startCoordinate=i)}printHeaders(e,t,i,n){let r=0,s="",o=e.isHierarchical?' s="3"':"",a=e.dataDictionary,l=e.owner,d=n?l.maxRowLevel:l.maxLevel;for(let c of t){let t=n?c.rowSpan:c.columnSpan;if(c.level===i){let h,u=n?this.rowIndex:r+(l.maxRowLevel??0),g=n?r+l.maxLevel+2:this.rowIndex,p=a.saveValue(c.header,!0,!1);if(h=(c.field===bD?PE.getExcelColumn(e.columnCount+1):PE.getExcelColumn(u))+g,o=n&&c.rowSpan>1?' s="4"':o,s=`<c r="${h}"${o} t="s"><v>${p}</v></c>`,n?this.pivotGridRowHeadersMap.has(g)?this.pivotGridRowHeadersMap.set(g,this.pivotGridRowHeadersMap.get(g)+s):this.pivotGridRowHeadersMap.set(g,s):this.sheetData+=s,i!==d){if(this.mergeCellsCounter++,this.mergeCellStr+=` <mergeCell ref="${h}:`,c.headerType===xD.ColumnHeader){let e=n?d:r+(l.maxRowLevel??0),t=n?g:l.maxLevel+1;h=PE.getExcelColumn(e)+t}else for(let e=1;e<t;e++){let t=n?u:u+e,i=n?g+e:this.rowIndex;h=PE.getExcelColumn(t)+i,s=`<c r="${h}"${o} />`,n?this.pivotGridRowHeadersMap.set(i,s):this.sheetData+=s}this.mergeCellStr+=`${h}" />`}}r+=t}}};return e.MIN_WIDTH=8.43,e})(),VE=class{static getExcelFolder(e){switch(e){case OE.RootExcelFolder:return new class{get folderName(){return""}childFiles(){return[FE.ContentTypesFile]}childFolders(){return[OE.RootRelsExcelFolder,OE.DocPropsExcelFolder,OE.XLExcelFolder]}};case OE.RootRelsExcelFolder:return new class{get folderName(){return"_rels"}childFiles(){return[FE.RootRelsFile]}childFolders(){return[]}};case OE.DocPropsExcelFolder:return new class{get folderName(){return"docProps"}childFiles(){return[FE.AppFile,FE.CoreFile]}childFolders(){return[]}};case OE.XLExcelFolder:return new class{get folderName(){return"xl"}childFiles(e){let t=[FE.StyleFile,FE.WorkbookFile];return(!e.isEmpty||e.options.alwaysExportHeaders)&&t.push(FE.SharedStringsFile),t}childFolders(e){let t=[OE.XLRelsExcelFolder,OE.ThemeExcelFolder,OE.WorksheetsExcelFolder];return(!e.isEmpty||e.options.alwaysExportHeaders)&&e.options.exportAsTable&&t.push(OE.TablesExcelFolder),t}};case OE.XLRelsExcelFolder:return new class{get folderName(){return"_rels"}childFiles(){return[FE.WorkbookRelsFile]}childFolders(){return[]}};case OE.ThemeExcelFolder:return new class{get folderName(){return"theme"}childFiles(){return[FE.ThemeFile]}childFolders(){return[]}};case OE.WorksheetsExcelFolder:return new class{get folderName(){return"worksheets"}childFiles(){return[FE.WorksheetFile]}childFolders(e){return e.isEmpty&&!e.options.alwaysExportHeaders||!e.options.exportAsTable?[]:[OE.WorksheetsRelsExcelFolder]}};case OE.WorksheetsRelsExcelFolder:return new class{get folderName(){return"_rels"}childFiles(){return[FE.WorksheetRelsFile]}childFolders(){return[]}};case OE.TablesExcelFolder:return new class{get folderName(){return"tables"}childFiles(){return[FE.TablesFile]}childFolders(){return[]}};default:throw new Error("Unknown excel folder type!")}}static getExcelFile(e){switch(e){case FE.RootRelsFile:return new class{writeElement(e){e[".rels"]=TE(PE.getRels())}};case FE.AppFile:return new class{writeElement(e,t){e["app.xml"]=TE(PE.getApp(t.options.worksheetName))}};case FE.CoreFile:return new class{writeElement(e){e["core.xml"]=TE(PE.getCore())}};case FE.WorkbookRelsFile:return new class{writeElement(e,t){let i=!t.isEmpty||t.options.alwaysExportHeaders;e["workbook.xml.rels"]=TE(PE.getWorkbookRels(i))}};case FE.ThemeFile:return new class{writeElement(e){e["theme1.xml"]=TE(PE.getTheme())}};case FE.WorksheetFile:return new ME;case FE.StyleFile:return new class{writeElement(e){e["styles.xml"]=TE(PE.getStyles())}};case FE.WorkbookFile:return new class{writeElement(e,t){e["workbook.xml"]=TE(PE.getWorkbook(t.options.worksheetName))}};case FE.ContentTypesFile:return new class{writeElement(e,t){let i=!t.isEmpty||t.options.alwaysExportHeaders;e["[Content_Types].xml"]=TE(PE.getContentTypesXML(i,t.options.exportAsTable))}};case FE.SharedStringsFile:return new class{writeElement(e,t){let i=t.dataDictionary,n=i.getKeys(),r=new Array(n.length);for(let e of n)r[i.getSanitizedValue(e)]="<si><t>"+e+"</t></si>";e["sharedStrings.xml"]=TE(PE.getSharedStringXML(i.stringsCount,n.length,r.join("")))}};case FE.WorksheetRelsFile:return new class{writeElement(e){e["sheet1.xml.rels"]=TE(PE.getWorksheetRels())}};case FE.TablesFile:return new class{writeElement(e,t){let i=t.columnCount,n=PE.getExcelColumn(i-1)+t.rowCount,r="A1:"+n,s=t.isEmpty?"A1:"+PE.getExcelColumn(i-1)+(t.rowCount+1):r,o=t.owner.columns.some((e=>void 0!==e.exportIndex))?t.rootKeys:t.owner.columns.filter((e=>!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)).map((e=>e.header)),a="",l='<tableColumns count="'+i+'">';for(let e=0;e<i;e++)l+='<tableColumn id="'+(e+1)+'" name="'+o[e]+'"/>';if(l+="</tableColumns>",t.sort){let e=t.sort,i=PE.getExcelColumn(o.indexOf(e.fieldName));a=`<sortState ref="A2:${n}"><sortCondition descending="${e.dir-1}" ref="${i}1:${i}15"/></sortState>`}e["table1.xml"]=TE(PE.getTablesXML(r,s,l,a))}};default:throw Error("Unknown excel file type!")}}},NE=(()=>{let e=class e{constructor(e,t,i){this.hasNumberValues=!1,this.hasDateValues=!1,this._dictionary={},this._widthsDictionary={},this._counter=0,this.dirtyKeyCollections(),this._columnWidths=new Array(e),t?this._columnWidths.fill(t):this._columnWidths=i,this.stringsCount=0}get columnWidths(){return this._columnWidths}saveValue(e,t,i=!0){let n="",r=e instanceof Date,s=t||"number"!=typeof e&&e!==Number(e)&&!Number.isFinite(e)&&!r;return s?(n=i?jb.sanitizeValue(e):e,void 0===this._dictionary[n]&&(this._dictionary[n]=this._counter++,this.dirtyKeyCollections()),this.stringsCount++):r?this.hasDateValues=!0:this.hasNumberValues=!0,s?this.getSanitizedValue(n):-1}getValue(e){return this.getSanitizedValue(jb.sanitizeValue(e))}getSanitizedValue(e){return this._dictionary[e]}getKeys(){return this._keysAreValid||(this._keys=Object.keys(this._dictionary),this._keysAreValid=!0),this._keys}getTextWidth(t){if(void 0===this._widthsDictionary[t]){let i=this.getContext().measureText(t);this._widthsDictionary[t]=i.width+e.TEXT_PADDING}return this._widthsDictionary[t]}getContext(){if(!this._context){let t=document.createElement("canvas");this._context=t.getContext("2d"),this._context.font=e.DEFAULT_FONT}return this._context}dirtyKeyCollections(){this._keysAreValid=!1}};return e.DEFAULT_FONT="11pt Calibri",e.TEXT_PADDING=5,e})(),LE=(()=>{let e=class e extends ID{constructor(){super(...arguments),this.exportEnded=new Pd}static populateZipFileConfig(t,i,n){return _(this,null,(function*(){for(let r of i.childFolders(n)){let i=VE.getExcelFolder(r),s=t[i.folderName]={};yield e.populateZipFileConfig(s,i,n)}for(let e of i.childFiles(n)){let i=VE.getExcelFile(e);i instanceof ME?yield i.writeElementAsync(t,n):i.writeElement(t,n)}}))}exportDataImplementation(t,i,n){let r,s,o,a,l,d=t[0],c=d?.type===vD.HierarchicalGridRecord,h=d?.type===vD.PivotGridRecord,u=typeof d<"u"&&(c?t.some((e=>Object.keys(e.data).length>16384)):Object.keys(d.data).length>16384);if(t.length>1048576||u)throw Error("The Excel file can contain up to 1,048,576 rows and 16,384 columns.");if(typeof d<"u"){let e=0;if(t.forEach((t=>{e=Math.max(e,t.level)})),e>7)throw Error("Can create an outline of up to eight levels!");if(c)s=t.map((e=>this._ownersMap.get(e.owner).columns.filter((e=>!e.skip)).length+e.level)).sort(((e,t)=>t-e))[0],r=this._ownersMap.get(d.owner).columns.filter((e=>!e.skip)).map((e=>e.field)),l=this._ownersMap.get(d.owner);else{l=this._ownersMap.get(wD);let e=l.columns.filter((e=>e.field!==bD&&!e.skip&&e.headerType===xD.ColumnHeader));o=l.columnWidths,a=l.indexOfLastPinnedColumn,s=h?e.length+this.pivotGridFilterFieldsCount:e.length,r=e.map((e=>e.field))}}else{let e=Array.from(this._ownersMap.keys());l=this._ownersMap.get(e[0]),o=l.columnWidths,s=l.columns.filter((e=>e.field!==bD&&!e.skip&&e.headerType===xD.ColumnHeader)).length}let g=new class{constructor(e,t,i,n,r,s,o,a,l){this._data=e,this.options=t,this.sort=i,this.columnCount=n,this.rootKeys=r,this.indexOfLastPinnedColumn=s,this.columnWidths=o,this.owner=a,this.owners=l,this.initializeData()}get data(){return this._data}get rowCount(){return this._rowCount}get isEmpty(){return!this.rowCount||this.rowCount===this.owner.maxLevel+1||!this.columnCount||this.owner.columns.every((e=>e.skip))}get isSpecialData(){return this._isSpecialData}get dataDictionary(){return this._dataDictionary}get hasMultiColumnHeader(){return this._hasMultiColumnHeader}get hasSummaries(){return this._hasSummaries}get hasMultiRowHeader(){return this._hasMultiRowHeader}get isHierarchical(){return this._isHierarchical}get isTreeGrid(){return this._isTreeGrid}get isPivotGrid(){return this._isPivotGrid}get isGroupedGrid(){return this._data.some((e=>e.type===vD.GroupedRecord))}get maxLevel(){return[...new Set(this._data.map((e=>e.level)))].sort(((e,t)=>e>t?-1:1))[0]}get multiColumnHeaderRows(){return this.options.ignoreMultiColumnHeaders?0:Array.from(this.owners.values()).map((e=>e.maxLevel)).reduce(((e,t)=>e+t))}initializeData(){this._dataDictionary=new NE(this.columnCount,this.options.columnWidth,this.columnWidths),this._hasMultiColumnHeader=Array.from(this.owners.values()).some((e=>e.columns.some((e=>!e.skip&&e.headerType===xD.MultiColumnHeader)))),this._hasMultiRowHeader=Array.from(this.owners.values()).some((e=>e.columns.some((e=>!e.skip&&e.headerType===xD.MultiRowHeader)))),this._isHierarchical=this.data[0]?.type===vD.HierarchicalGridRecord||"string"!=typeof Array.from(this.owners.keys())[0],this._hasSummaries=this._data.filter((e=>e.type===vD.SummaryRecord)).length>0,this._isTreeGrid=this._data.filter((e=>e.type===vD.TreeGridRecord)).length>0,this._isPivotGrid=this.data[0]?.type===vD.PivotGridRecord;let e=this._hasMultiColumnHeader&&!this.options.ignoreMultiColumnHeaders;(this._isHierarchical||e||this._isPivotGrid)&&(this.options.exportAsTable=!1),this._data&&0!==this._data.length?(this._isSpecialData=jb.isSpecialData(this._data[0].data),this._rowCount=this._data.length+this.multiColumnHeaderRows+1):this._isHierarchical||(this._rowCount=this.owner.maxLevel+1)}}(t,i,this._sort,s,r,a,o,l,this._ownersMap),p=VE.getExcelFolder(OE.RootExcelFolder),m={};e.populateZipFileConfig(m,p,g).then((()=>{!function(e,t,i){i||(i=t,t={}),"function"!=typeof i&&nE(7);var n={};DE(e,"",n,t);var r=Object.keys(n),s=r.length,o=0,a=0,l=s,d=new Array(s),c=[],h=function(){for(var e=0;e<c.length;++e)c[e]()},u=function(e,t){kE((function(){i(e,t)}))};kE((function(){u=i}));var g=function(){var e=new PD(a+22),t=o,i=a-o;a=0;for(var n=0;n<l;++n){var r=d[n];try{var s=r.c.length;RE(e,a,r,r.f,r.u,s);var c=30+r.f.length+AE(r.extra),h=a+c;e.set(r.c,h),RE(e,o,r,r.f,r.u,s,a,r.m),o+=16+c+(r.m?r.m.length:0),a=h+s}catch(e){return u(e,null)}}(function(e,t,i,n,r){SE(e,t,101010256),SE(e,t+8,i),SE(e,t+10,i),SE(e,t+12,n),SE(e,t+16,r)})(e,o,d.length,i,t),u(null,e)};s||g();for(var p=function(e){var t=r[e],i=n[t],l=i[0],p=i[1],m=function(){var e=-1;return{p:function(t){for(var i=e,n=0;n<t.length;++n)i=mE[255&i^t[n]]^i>>>8;e=i},d:function(){return~e}}}(),f=l.length;m.p(l);var y=TE(t),v=y.length,x=p.comment,_=x&&TE(x),w=_&&_.length,C=AE(p.extra),S=0==p.level?0:8,b=function(i,n){if(i)h(),u(i,null);else{var r=n.length;d[e]=yE(p,{size:f,crc:m.d(),c:n,f:y,m:_,u:v!=t.length||_&&x.length!=w,compression:S}),o+=30+v+C+r,a+=76+2*(v+C)+(w||0)+r,--s||g()}};if(v>65535&&b(nE(11,0,1),null),S)if(f<16e4)try{b(null,bE(l,p))}catch(e){b(e,null)}else c.push(function(e,t,i){return i||(i=t,t={}),"function"!=typeof i&&nE(7),CE(e,t,[_E],(function(e){return wE(bE(e.data[0],e.data[1]))}),0,i)}(l,p,b));else b(null,l)},m=0;m<l;++m)p(m)}(m,((e,t)=>{this.saveFile(t,i.fileName),this.exportEnded.emit({xlsx:m}),n()}))}))}saveFile(e,t){let i=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});jb.saveBlobToFile(i,t)}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.prov=Zi({token:e,factory:e.fac,providedIn:"root"}),e})(),HE=class extends AD{constructor(e){super(e,".xlsx"),this.ignorePinning=!1,this.exportAsTable=!0}get columnWidth(){return this._columnWidth}set columnWidth(e){if(e<0)throw Error("Invalid value for column width!");this._columnWidth=e}get rowHeight(){return this._rowHeight}set rowHeight(e){if(e<0)throw Error("Invalid value for row height!");this._rowHeight=e}get worksheetName(){return void 0===this._worksheetName||null===this._worksheetName?"Sheet1":this._worksheetName}set worksheetName(e){this._worksheetName=e}},BE=(()=>{let e=class{constructor(e){this.builder=e}buildAnimation(e,t){if(!e)return null;let i=this.builder.build(e);return new class{get position(){return this._innerPlayer.getPosition()}set position(e){this.internalPlayer.setPosition(e)}constructor(e){this.internalPlayer=e,this.animationStart=new Pd,this.animationEnd=new Pd,this.internalPlayer.onDone((()=>this.onDone()));let t=this.internalPlayer._renderer;this._innerPlayer=t.engine.players[t.engine.players.length-1]}init(){this.internalPlayer.init()}play(){this.animationStart.emit({owner:this}),this.internalPlayer.play()}finish(){this.internalPlayer.finish()}reset(){this.internalPlayer.reset(),this.internalPlayer._started=!1}destroy(){this.internalPlayer.destroy()}hasStarted(){return this.internalPlayer.hasStarted()}onDone(){this.animationEnd.emit({owner:this})}}(i.create(t))}};return e.fac=function(t){return new(t||e)(_n(fy))},e.prov=Zi({token:e,factory:e.fac,providedIn:"root"}),e})(),zE=function(e){return e[e.Left=-1]="Left",e[e.Center=-.5]="Center",e[e.Right=0]="Right",e}(zE||{}),GE=function(e){return e[e.Top=-1]="Top",e[e.Middle=-.5]="Middle",e[e.Bottom=0]="Bottom",e}(GE||{}),$E=function(e){return e.Connected="connected",e.Auto="auto",e.Elastic="elastic",e}($E||{}),WE=function(e){return e.Above="above",e.Below="below",e.Before="before",e.After="after",e.Default="default",e}(WE||{}),KE=function(e){return e.Bottom="bottom",e.Top="top",e.Center="center",e}(KE||{}),jE=class{constructor(e,t){this.x=e,this.y=t}},UE=class e{static getTargetRect(e){let t={bottom:0,height:0,left:0,right:0,top:0,width:0};if(e instanceof HTMLElement)t=e.getBoundingClientRect();else if(e instanceof jE){let i=e;t={bottom:i.y,height:0,left:i.x,right:i.x,top:i.y,width:0}}return t}static getViewportRect(t){let i=t.documentElement.clientWidth,n=t.documentElement.clientHeight,r=e.getViewportScrollPosition(t);return{top:r.y,left:r.x,right:r.x+i,bottom:r.y+n,width:i,height:n}}static getViewportScrollPosition(e){let t=e.documentElement,i=t.getBoundingClientRect(),n=-i.left||e.body.scrollLeft||window.scrollX||t.scrollLeft||0,r=-i.top||e.body.scrollTop||window.scrollY||t.scrollTop||0;return new jE(n,r)}static cloneInstance(e){let t=Object.assign(Object.create(Object.getPrototypeOf(e)),e);return t.settings=tb(t.settings),t}},qE=class{constructor(e){this._defaultSettings={horizontalDirection:zE.Right,verticalDirection:GE.Bottom,horizontalStartPoint:zE.Left,verticalStartPoint:GE.Bottom,openAnimation:Yv,closeAnimation:dx,minSize:{width:0,height:0}},this.settings=Object.assign({},this._defaultSettings,e)}position(e,t,i,n,r){let s=r||this.settings.target,o=this.calculateElementRectangles(e,s);this.setStyle(e,o.targetRect,o.elementRect,{})}clone(){return UE.cloneInstance(this)}calculateElementRectangles(e,t){return{targetRect:UE.getTargetRect(t),elementRect:e.getBoundingClientRect()}}setStyle(e,t,i,n){let r=n.horizontalOffset?n.horizontalOffset:0,s=n.verticalOffset?n.verticalOffset:0,o=t.right+t.width*this.settings.horizontalStartPoint+r,a=t.bottom+t.height*this.settings.verticalStartPoint+s,l=e.parentElement.getBoundingClientRect();switch(e.style.right="",e.style.left="",e.style.bottom="",e.style.top="",this.settings.horizontalDirection){case zE.Left:e.style.right=`${Math.round(l.right-o)}px`;break;case zE.Center:e.style.left=`${Math.round(o-l.left-i.width/2)}px`;break;case zE.Right:e.style.left=`${Math.round(o-l.left)}px`}switch(this.settings.verticalDirection){case GE.Top:e.style.bottom=`${Math.round(l.bottom-a)}px`;break;case GE.Middle:e.style.top=`${Math.round(a-l.top-i.height/2)}px`;break;case GE.Bottom:e.style.top=`${Math.round(a-l.top)}px`}}},YE=class extends qE{position(e,t,i,n,r){let s=r||this.settings.target,o=super.calculateElementRectangles(e,s),a={};n&&(a.targetRect=o.targetRect,a.contentElementRect=o.elementRect,this._initialSettings=this._initialSettings||Object.assign({},this.settings),this.settings=Object.assign({},this._initialSettings),a.viewPortRect=UE.getViewportRect(i),this.updateViewPortFit(a),this.shouldFitInViewPort(a)&&this.fitInViewport(e,a)),this.setStyle(e,o.targetRect,o.elementRect,a)}updateViewPortFit(e){e.left=this.calculateLeft(e.targetRect,e.contentElementRect,this.settings.horizontalStartPoint,this.settings.horizontalDirection,e.horizontalOffset?e.horizontalOffset:0),e.right=e.left+e.contentElementRect.width,e.fitHorizontal={back:Math.round(e.left),forward:Math.round(e.viewPortRect.width-e.right)},e.top=this.calculateTop(e.targetRect,e.contentElementRect,this.settings.verticalStartPoint,this.settings.verticalDirection,e.verticalOffset?e.verticalOffset:0),e.bottom=e.top+e.contentElementRect.height,e.fitVertical={back:Math.round(e.top),forward:Math.round(e.viewPortRect.height-e.bottom)}}calculateLeft(e,t,i,n,r){return e.right+e.width*i+t.width*n+r}calculateTop(e,t,i,n,r){return e.bottom+e.height*i+t.height*n+r}shouldFitInViewPort(e){return e.fitHorizontal.back<0||e.fitHorizontal.forward<0||e.fitVertical.back<0||e.fitVertical.forward<0}},XE=class extends YE{fitInViewport(e,t){let i=[];if(t.fitHorizontal.back<0||t.fitHorizontal.forward<0)if(this.canFlipHorizontal(t))this.flipHorizontal(),this.flipAnimation(ZE.Horizontal);else{let e=this.horizontalPush(t);i.push(`translateX(${e}px)`)}if(t.fitVertical.back<0||t.fitVertical.forward<0)if(this.canFlipVertical(t))this.flipVertical(),this.flipAnimation(ZE.Vertical);else{let e=this.verticalPush(t);i.push(`translateY(${e}px)`)}e.style.transform=i.join(" ").trim()}canFlipHorizontal(e){let t=-1*(this.settings.horizontalStartPoint+1),i=-1*(this.settings.horizontalDirection+1),n=this.calculateLeft(e.targetRect,e.contentElementRect,t,i,0),r=n+e.contentElementRect.width;return 0<n&&r<e.viewPortRect.width}canFlipVertical(e){let t=-1*(this.settings.verticalStartPoint+1),i=-1*(this.settings.verticalDirection+1),n=this.calculateTop(e.targetRect,e.contentElementRect,t,i,0),r=n+e.contentElementRect.height;return 0<n&&r<e.viewPortRect.height}flipHorizontal(){switch(this.settings.horizontalDirection){case zE.Left:this.settings.horizontalDirection=zE.Right;break;case zE.Right:this.settings.horizontalDirection=zE.Left}switch(this.settings.horizontalStartPoint){case zE.Left:this.settings.horizontalStartPoint=zE.Right;break;case zE.Right:this.settings.horizontalStartPoint=zE.Left}}flipVertical(){switch(this.settings.verticalDirection){case GE.Top:this.settings.verticalDirection=GE.Bottom;break;case GE.Bottom:this.settings.verticalDirection=GE.Top}switch(this.settings.verticalStartPoint){case GE.Top:this.settings.verticalStartPoint=GE.Bottom;break;case GE.Bottom:this.settings.verticalStartPoint=GE.Top}}horizontalPush(e){let t=e.left,i=e.right-e.viewPortRect.width;return t<0?Math.abs(t):i>0?-Math.min(i,t):0}verticalPush(e){let t=e.top,i=e.bottom-e.viewPortRect.height;return t<0?Math.abs(t):i>0?-Math.min(i,t):0}flipAnimation(e){this.settings.openAnimation&&(this.settings.openAnimation=this.updateAnimation(this.settings.openAnimation,e)),this.settings.closeAnimation&&(this.settings.closeAnimation=this.updateAnimation(this.settings.closeAnimation,e))}updateAnimation(e,t){switch(t){case ZE.Horizontal:if((e=>Cb.includes(e))(e))return _b(e);break;case ZE.Vertical:if((e=>Sb.includes(e))(e))return _b(e)}return e}},ZE=function(e){return e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical",e}(ZE||{}),QE=class{constructor(e){this._defaultSettings={horizontalDirection:zE.Center,verticalDirection:GE.Middle,horizontalStartPoint:zE.Center,verticalStartPoint:GE.Middle,openAnimation:Fy,closeAnimation:Py,minSize:{width:0,height:0}},this.settings=Object.assign({},this._defaultSettings,e)}position(e){e.classList.add("igx-overlay__content--relative"),e.parentElement.classList.add("igx-overlay__wrapper--flex"),this.setPosition(e)}clone(){return UE.cloneInstance(this)}setPosition(e){switch(this.settings.horizontalDirection){case zE.Left:e.parentElement.style.justifyContent="flex-start";break;case zE.Center:e.parentElement.style.justifyContent="center";break;case zE.Right:e.parentElement.style.justifyContent="flex-end"}switch(this.settings.verticalDirection){case GE.Top:e.parentElement.style.alignItems="flex-start";break;case GE.Middle:e.parentElement.style.alignItems="center";break;case GE.Bottom:e.parentElement.style.alignItems="flex-end"}}},JE=class extends QE{constructor(e){super(e)}position(e){e.classList.add("igx-overlay__content--relative"),e.parentElement.classList.add("igx-overlay__wrapper--flex-container"),this.setPosition(e)}},eI=class extends YE{fitInViewport(e,t){e.classList.add("igx-overlay__content--elastic");let i=[];if(t.fitHorizontal.back<0||t.fitHorizontal.forward<0){let n=Math.max(0,t.contentElementRect.width-this.settings.minSize.width),r=Math.max(0,-t.fitHorizontal.back),s=Math.max(0,-t.fitHorizontal.forward),o=Math.min(n,r+s);if(e.style.width=t.contentElementRect.width-o+"px",this.settings.horizontalDirection===zE.Center){let e=r*o/(r+s);e>0&&i.push(`translateX(${e}px)`)}}if(t.fitVertical.back<0||t.fitVertical.forward<0){let n=Math.max(0,t.contentElementRect.height-this.settings.minSize.height),r=Math.max(0,-t.fitVertical.back),s=Math.max(0,-t.fitVertical.forward),o=Math.min(n,r+s);if(e.style.height=t.contentElementRect.height-o+"px",this.settings.verticalDirection===GE.Middle){let e=r*o/(r+s);e>0&&i.push(`translateY(${e}px)`)}}e.style.transform=i.join(" ").trim()}},tI=class{constructor(){}},iI=class extends tI{constructor(){super()}initialize(){}attach(){}detach(){}},nI=(()=>{let e=class{constructor(e,t,i,n,r,s,o){this._factoryResolver=e,this._appRef=t,this._injector=i,this.document=n,this._zone=r,this.platformUtil=s,this.animationService=o,this.opening=new Pd,this.opened=new Pd,this.closing=new Pd,this.closed=new Pd,this.contentAppending=new Pd,this.contentAppended=new Pd,this.animationStarting=new Pd,this._componentId=0,this._overlayInfos=[],this.destroy$=new Xe,this._cursorStyleIsSet=!1,this._defaultSettings={excludeFromOutsideClick:[],positionStrategy:new QE,scrollStrategy:new iI,modal:!0,closeOnOutsideClick:!0,closeOnEscape:!1},this.repositionAll=()=>{for(let e=this._overlayInfos.length;e--;)this.reposition(this._overlayInfos[e].id)},this.documentClicked=e=>{for(let t=this._overlayInfos.length;t--;){let i=this._overlayInfos[t];if(i.settings.modal)return;if(i.settings.closeOnOutsideClick){let t=e.composed?e.composedPath()[0]:e.target,n=i.elementRef.nativeElement;if((i.settings.excludeFromOutsideClick?[...i.settings.excludeFromOutsideClick,n]:[n]).some((e=>e.contains(t))))return;i.closeAnimationPlayer?.hasStarted()||this._hide(i.id,e)}}},this._document=this.document}static createAbsoluteOverlaySettings(e,t){let i=this.createAbsolutePositionSettings(e);return{positionStrategy:t?new JE(i):new QE(i),scrollStrategy:new iI,modal:!1,closeOnOutsideClick:!0,outlet:t}}static createRelativeOverlaySettings(e,t,i){let n=this.createRelativePositionSettings(t);return{target:e,positionStrategy:this.createPositionStrategy(i,n),scrollStrategy:new iI,modal:!1,closeOnOutsideClick:!0}}static createAbsolutePositionSettings(e){let t;switch(e){case KE.Bottom:t={horizontalDirection:zE.Center,verticalDirection:GE.Bottom,openAnimation:Ex,closeAnimation:Fx};break;case KE.Top:t={horizontalDirection:zE.Center,verticalDirection:GE.Top,openAnimation:Sx,closeAnimation:kx};break;case KE.Center:default:t={horizontalDirection:zE.Center,verticalDirection:GE.Middle,openAnimation:Fy,closeAnimation:Py}}return t}static createRelativePositionSettings(e){let t;switch(e){case WE.Above:t={horizontalStartPoint:zE.Center,verticalStartPoint:GE.Top,horizontalDirection:zE.Center,verticalDirection:GE.Top,openAnimation:Qv,closeAnimation:cx};break;case WE.Below:t={horizontalStartPoint:zE.Center,verticalStartPoint:GE.Bottom,horizontalDirection:zE.Center,verticalDirection:GE.Bottom,openAnimation:Yv,closeAnimation:dx};break;case WE.After:t={horizontalStartPoint:zE.Right,verticalStartPoint:GE.Middle,horizontalDirection:zE.Right,verticalDirection:GE.Middle,openAnimation:ix,closeAnimation:vx};break;case WE.Before:t={horizontalStartPoint:zE.Left,verticalStartPoint:GE.Middle,horizontalDirection:zE.Left,verticalDirection:GE.Middle,openAnimation:rx,closeAnimation:xx};break;case WE.Default:default:t={horizontalStartPoint:zE.Left,verticalStartPoint:GE.Bottom,horizontalDirection:zE.Right,verticalDirection:GE.Bottom,openAnimation:Yv,closeAnimation:dx}}return t}static createPositionStrategy(e,t){switch(e){case $E.Connected:return new qE(t);case $E.Elastic:return new eI(t);case $E.Auto:default:return new XE(t)}}attach(e,t,i){let n=this.getOverlayInfo(e,this.getUserViewContainerOrModuleRef(t,i));if(!n)return console.warn("Overlay was not able to attach provided component!"),null;n.id=(this._componentId++).toString(),n.visible=!1;let r=Object.assign({},this._defaultSettings,this.getUserOverlaySettings(t,i)),s={id:n.id,elementRef:n.elementRef,componentRef:n.componentRef,settings:r};this.contentAppending.emit(s),n.settings=s.settings,this._overlayInfos.push(n),n.hook=this.placeElementHook(n.elementRef.nativeElement);let o=n.elementRef.nativeElement.getBoundingClientRect();return n.initialSize={width:o.width,height:o.height},this.moveElementToOverlay(n),this.contentAppended.emit({id:n.id,componentRef:n.componentRef}),n.settings.scrollStrategy.initialize(this._document,this,n.id),n.settings.scrollStrategy.attach(),this.addOutsideClickListener(n),this.addResizeHandler(),this.addCloseOnEscapeListener(n),this.buildAnimationPlayers(n),n.id}detach(e){let t=this.getOverlayById(e);t?(t.detached=!0,this.finishAnimations(t),t.settings.scrollStrategy.detach(),this.removeOutsideClickListener(t),this.removeResizeHandler(),this.cleanUp(t)):console.warn("igxOverlay.detach was called with wrong id: ",e)}detachAll(){for(let e=this._overlayInfos.length;e--;)this.detach(this._overlayInfos[e].id)}show(e,t){let i=this.getOverlayById(e);if(!i)return void console.warn("igxOverlay.show was called with wrong id: ",e);let n={id:e,componentRef:i.componentRef,cancel:!1};this.opening.emit(n),!n.cancel&&(this.updateSize(i),i.settings.positionStrategy.position(i.elementRef.nativeElement.parentElement,{width:i.initialSize.width,height:i.initialSize.height},this._document,!0,i.settings.target),this.addModalClasses(i),i.settings.positionStrategy.settings.openAnimation?this.playOpenAnimation(i):(i.wrapperElement.style.visibility="",i.visible=!0,this.opened.emit({id:i.id,componentRef:i.componentRef})))}hide(e,t){this._hide(e,t)}hideAll(){for(let e=this._overlayInfos.length;e--;)this.hide(this._overlayInfos[e].id)}reposition(e){let t=this.getOverlayById(e);if(!t||!t.settings)return void console.warn("Wrong id provided in overlay.reposition method. Id: ",e);if(!t.visible)return;let i=t.elementRef.nativeElement.parentElement,n=i.getBoundingClientRect();t.settings.positionStrategy.position(i,{width:n.width,height:n.height},this._document,!1,t.settings.target)}setOffset(e,t,i){let n=this.getOverlayById(e);if(!n)return;n.transformX+=t,n.transformY+=i;let r=`translate(${n.transformX}px, ${n.transformY}px)`;n.elementRef.nativeElement.parentElement.style.transform=r}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}getOverlayById(e){return e?this._overlayInfos.find((t=>t.id===e)):null}_hide(e,t){let i=this.getOverlayById(e);if(!i)return void console.warn("igxOverlay.hide was called with wrong id: ",e);let n={id:e,componentRef:i.componentRef,cancel:!1,event:t};this.closing.emit(n),!n.cancel&&(this.removeModalClasses(i),i.settings.positionStrategy.settings.closeAnimation?this.playCloseAnimation(i,t):this.closeDone(i))}getUserOverlaySettings(e,t){let i;return!e||e instanceof Cg?(t&&!("injector"in t&&"componentFactoryResolver"in t)&&(i=t),i):(i=e,i)}getUserViewContainerOrModuleRef(e,t){let i;return e instanceof Cg&&(i=e),t&&"injector"in t&&"componentFactoryResolver"in t&&(i=t),i}getOverlayInfo(e,t){let i={ngZone:this._zone,transformX:0,transformY:0};if(e instanceof wd)i.elementRef=e;else{let n;if(t instanceof Cg)n=t.createComponent(e);else{let i,r=t?t.componentFactoryResolver:this._factoryResolver;try{i=r.resolveComponentFactory(e)}catch(e){return console.error(e),null}let s=t?t.injector:this._injector;n=i.create(s),this._appRef.attachView(n.hostView)}n.onDestroy&&n.onDestroy((()=>{!i.detached&&-1!==this._overlayInfos.indexOf(i)&&this.detach(i.id)}));let r=n.location.nativeElement;i.elementRef={nativeElement:r},i.componentRef=n}return i}placeElementHook(e){if(!e.parentElement)return null;let t=this._document.createElement("div");return t.style.display="none",e.parentElement.insertBefore(t,e),t}moveElementToOverlay(e){e.wrapperElement=this.getWrapperElement();let t=this.getContentElement(e.wrapperElement,e.settings.modal);this.getOverlayElement(e).appendChild(e.wrapperElement),t.appendChild(e.elementRef.nativeElement)}getWrapperElement(){let e=this._document.createElement("div");return e.classList.add("igx-overlay__wrapper"),e}getContentElement(e,t){let i=this._document.createElement("div");return t?(i.classList.add("igx-overlay__content--modal"),i.addEventListener("click",(e=>{e.stopPropagation()}))):i.classList.add("igx-overlay__content"),i.addEventListener("scroll",(e=>{e.stopPropagation()})),e.style.visibility="hidden",e.appendChild(i),i}getOverlayElement(e){return e.settings.outlet?e.settings.outlet.nativeElement||e.settings.outlet:(this._overlayElement||(this._overlayElement=this._document.createElement("div"),this._overlayElement.classList.add("igx-overlay"),this._document.body.appendChild(this._overlayElement)),this._overlayElement)}updateSize(e){e.componentRef&&(e.componentRef.changeDetectorRef.detectChanges(),e.initialSize=e.elementRef.nativeElement.getBoundingClientRect()),0!==e.initialSize.width&&(e.elementRef.nativeElement.parentElement.style.width=e.initialSize.width+"px")}closeDone(e){e.visible=!1,e.wrapperElement&&(e.wrapperElement.style.visibility="hidden"),e.closeAnimationDetaching||this.closed.emit({id:e.id,componentRef:e.componentRef,event:e.event}),delete e.event}cleanUp(e){let t=e.elementRef.nativeElement,i=this.getOverlayElement(e);i.contains(t)&&i.removeChild(t.parentNode.parentNode),e.componentRef&&(this._appRef.detachView(e.componentRef.hostView),e.componentRef.destroy(),delete e.componentRef),e.hook&&(e.hook.parentElement.insertBefore(e.elementRef.nativeElement,e.hook),e.hook.parentElement.removeChild(e.hook),delete e.hook);let n=this._overlayInfos.indexOf(e);this._overlayInfos.splice(n,1),0===this._overlayInfos.length&&(this._overlayElement&&this._overlayElement.parentElement&&(this._overlayElement.parentElement.removeChild(this._overlayElement),this._overlayElement=null),this.removeCloseOnEscapeListener()),delete e.elementRef,delete e.settings,delete e.initialSize,e.openAnimationDetaching=!0,e.openAnimationPlayer?.destroy(),delete e.openAnimationPlayer,e.closeAnimationDetaching=!0,e.closeAnimationPlayer?.destroy(),delete e.closeAnimationPlayer,delete e.ngZone,delete e.wrapperElement,e=null}playOpenAnimation(e){if(!e.openAnimationPlayer?.hasStarted()){if(e.closeAnimationPlayer?.hasStarted()){let t=e.closeAnimationPlayer.position;e.closeAnimationPlayer.reset(),e.openAnimationPlayer.init(),e.openAnimationPlayer.position=1-t}this.animationStarting.emit({id:e.id,animationPlayer:e.openAnimationPlayer,animationType:"open"}),e.wrapperElement.style.visibility="",e.visible=!0,e.openAnimationPlayer.play()}}playCloseAnimation(e,t){if(!e.closeAnimationPlayer?.hasStarted()){if(e.openAnimationPlayer?.hasStarted()){let t=e.openAnimationPlayer.position;e.openAnimationPlayer.reset(),e.closeAnimationPlayer.init(),e.closeAnimationPlayer.position=1-t}this.animationStarting.emit({id:e.id,animationPlayer:e.closeAnimationPlayer,animationType:"close"}),e.event=t,e.closeAnimationPlayer.play()}}applyAnimationParams(e,t){if(!t)return void(e.style.transitionDuration="0ms");if(!t.options||!t.options.params)return;let i=t.options.params;i.duration&&(e.style.transitionDuration=i.duration),i.easing&&(e.style.transitionTimingFunction=i.easing)}addOutsideClickListener(e){e.settings.closeOnOutsideClick&&(e.settings.modal?Wt(e.elementRef.nativeElement.parentElement.parentElement,"click").pipe(Si(this.destroy$)).subscribe((t=>this._hide(e.id,t))):this._overlayInfos.filter((e=>e.settings.closeOnOutsideClick&&!e.settings.modal)).length-this._overlayInfos.filter((e=>e.settings.closeOnOutsideClick&&!e.settings.modal&&e.closeAnimationPlayer?.hasStarted())).length==1&&(this.platformUtil.isIOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._document.addEventListener("click",this.documentClicked,!0)))}removeOutsideClickListener(e){if(!1===e.settings.modal){let t=!0;this._overlayInfos.forEach((i=>{!1===i.settings.modal&&i.id!==e.id&&(t=!1)})),t&&(this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorOriginalValue="",this._cursorStyleIsSet=!1),this._document.removeEventListener("click",this.documentClicked,!0))}}addResizeHandler(){let e=this._overlayInfos.filter((e=>e.closeAnimationPlayer?.hasStarted())).length;this._overlayInfos.length-e==1&&this._document.defaultView.addEventListener("resize",this.repositionAll)}removeResizeHandler(){let e=this._overlayInfos.filter((e=>e.closeAnimationPlayer?.hasStarted())).length;this._overlayInfos.length-e==1&&this._document.defaultView.removeEventListener("resize",this.repositionAll)}addCloseOnEscapeListener(e){e.settings.closeOnEscape&&!this._keyPressEventListener&&(this._keyPressEventListener=Wt(this._document,"keydown").pipe(Xt((e=>"Escape"===e.key||"Esc"===e.key))).subscribe((e=>{let t=this._overlayInfos.filter((e=>e.visible));if(t.length<1)return;let i=t[t.length-1];i.visible&&i.settings.closeOnEscape&&this.hide(i.id,e)})))}removeCloseOnEscapeListener(){this._keyPressEventListener&&(this._keyPressEventListener.unsubscribe(),this._keyPressEventListener=null)}addModalClasses(e){if(e.settings.modal){let t=e.elementRef.nativeElement.parentElement.parentElement;t.classList.remove("igx-overlay__wrapper"),this.applyAnimationParams(t,e.settings.positionStrategy.settings.openAnimation),requestAnimationFrame((()=>{t.classList.add("igx-overlay__wrapper--modal")}))}}removeModalClasses(e){if(e.settings.modal){let t=e.elementRef.nativeElement.parentElement.parentElement;this.applyAnimationParams(t,e.settings.positionStrategy.settings.closeAnimation),t.classList.remove("igx-overlay__wrapper--modal"),t.classList.add("igx-overlay__wrapper")}}buildAnimationPlayers(e){e.settings.positionStrategy.settings.openAnimation&&(e.openAnimationPlayer=this.animationService.buildAnimation(e.settings.positionStrategy.settings.openAnimation,e.elementRef.nativeElement),e.openAnimationPlayer.animationEnd.pipe(Si(this.destroy$)).subscribe((()=>this.openAnimationDone(e)))),e.settings.positionStrategy.settings.closeAnimation&&(e.closeAnimationPlayer=this.animationService.buildAnimation(e.settings.positionStrategy.settings.closeAnimation,e.elementRef.nativeElement),e.closeAnimationPlayer.animationEnd.pipe(Si(this.destroy$)).subscribe((()=>this.closeAnimationDone(e))))}openAnimationDone(e){e.openAnimationDetaching||this.opened.emit({id:e.id,componentRef:e.componentRef}),e.openAnimationPlayer&&e.openAnimationPlayer.reset(),e.closeAnimationPlayer?.hasStarted()&&e.closeAnimationPlayer.reset()}closeAnimationDone(e){e.closeAnimationPlayer&&e.closeAnimationPlayer.reset(),e.openAnimationPlayer?.hasStarted()&&e.openAnimationPlayer.reset(),this.closeDone(e)}finishAnimations(e){e.openAnimationPlayer?.hasStarted()&&e.openAnimationPlayer.finish(),e.closeAnimationPlayer?.hasStarted()&&e.closeAnimationPlayer.finish()}};return e.fac=function(t){return new(t||e)(_n(vd),_n(hp),_n(Rd),_n(Hp),_n(Vd),_n(ob),_n(BE))},e.prov=Zi({token:e,factory:e.fac,providedIn:"root"}),e})(),rI=class extends tI{constructor(e){super(),this._initialized=!1,this.onScroll=e=>{let t=this._overlayService.getOverlayById(this._id);t&&(t.elementRef.nativeElement.contains(e.target)||this._overlayService.reposition(this._id))},this._scrollContainer=e}initialize(e,t,i){this._initialized||(this._overlayService=t,this._id=i,this._document=e,this._zone=t.getOverlayById(i).ngZone,this._initialized=!0)}attach(){this._zone?this._zone.runOutsideAngular((()=>{this.addScrollEventListener()})):this.addScrollEventListener()}detach(){this._scrollContainer?this._scrollContainer.removeEventListener("scroll",this.onScroll,!0):this._document?.removeEventListener("scroll",this.onScroll,!0),this._initialized=!1}addScrollEventListener(){this._scrollContainer?this._scrollContainer.addEventListener("scroll",this.onScroll,!0):this._document.addEventListener("scroll",this.onScroll,!0)}},sI=class extends tI{constructor(e){super(),this._initialized=!1,this.onScroll=e=>{this._sourceElement||(this._sourceElement=e.target,this.initialScrollTop=this._sourceElement.scrollTop,this.initialScrollLeft=this._sourceElement.scrollLeft),!this._overlayInfo.elementRef.nativeElement.contains(this._sourceElement)&&(Math.abs(this._sourceElement.scrollTop-this.initialScrollTop)>this._threshold||Math.abs(this._sourceElement.scrollLeft-this.initialScrollLeft)>this._threshold)&&this._overlayService.hide(this._id)},this._scrollContainer=e,this._threshold=10}initialize(e,t,i){this._initialized||(this._overlayService=t,this._id=i,this._document=e,this._initialized=!0,this._overlayInfo=t.getOverlayById(i))}attach(){this._scrollContainer?(this._scrollContainer.addEventListener("scroll",this.onScroll),this._sourceElement=this._scrollContainer):this._document.addEventListener("scroll",this.onScroll,!0)}detach(){this._scrollContainer?this._scrollContainer.removeEventListener("scroll",this.onScroll):this._document.removeEventListener("scroll",this.onScroll,!0),this._sourceElement=null,this._initialized=!1}},oI=class{constructor(){this.onStateUpdate=new Pd,this._isPending=!1,this._pendingTransactions=[],this._pendingStates=new Map,this._cloneStrategy=new Gb}get cloneStrategy(){return this._cloneStrategy}set cloneStrategy(e){e&&(this._cloneStrategy=e)}get canRedo(){return!1}get canUndo(){return!1}get enabled(){return this._isPending}add(e,t){this._isPending&&(this.updateState(this._pendingStates,e,t),this._pendingTransactions.push(e))}getTransactionLog(e){return[]}undo(){}redo(){}getAggregatedChanges(e){let t=[];return this._pendingStates.forEach(((i,n)=>{let r=e?this.getAggregatedValue(n,e):i.value;t.push({id:n,newValue:r,type:i.type})})),t}getState(e){return this._pendingStates.get(e)}getAggregatedValue(e,t){let i=this._pendingStates.get(e);return i?t&&i.recordRef?this.updateValue(i):i.value:null}commit(e,t){}clear(e){this._pendingStates.clear(),this._pendingTransactions=[]}startPending(){this._isPending=!0}endPending(e){this._isPending=!1,this._pendingStates.clear(),this._pendingTransactions=[]}updateState(e,t,i){let n=e.get(t.id);n?nb(n.value)?eb(n.value,t.newValue):n.value=t.newValue:(n={value:this.cloneStrategy.clone(t.newValue),recordRef:i,type:t.type},e.set(t.id,n)),this.cleanState(t.id,e)}updateValue(e){return this.mergeValues(e.recordRef,e.value)}mergeValues(e,t){return nb(e)||nb(t)?eb(this.cloneStrategy.clone(e),t):t||e}cleanState(e,t){let i=t.get(e);if(i&&i.value&&i.recordRef)if(nb(i.recordRef)){for(let e of Object.keys(i.value))JSON.stringify(i.recordRef[e])===JSON.stringify(i.value[e])&&delete i.value[e];i.type!==Tb.DELETE&&0===Object.keys(i.value).length&&t.delete(e)}else i.recordRef===i.value&&t.delete(e)}},aI=class extends oI{constructor(){super(...arguments),this._transactions=[],this._redoStack=[],this._undoStack=[],this._states=new Map}get canUndo(){return this._undoStack.length>0}get canRedo(){return this._redoStack.length>0}add(e,t){let i=this._isPending?this._pendingStates:this._states;this.verifyAddedTransaction(i,e,t),this.addTransaction(e,i,t)}getTransactionLog(e){return void 0!==e?this._transactions.filter((t=>t.id===e)):[...this._transactions]}getAggregatedChanges(e){let t=[];return this._states.forEach(((i,n)=>{let r=e?this.mergeValues(i.recordRef,i.value):i.value;t.push({id:n,newValue:r,type:i.type})})),t}getState(e,t=!1){return t?this._pendingStates.get(e):this._states.get(e)}get enabled(){return!0}getAggregatedValue(e,t){let i=this._states.get(e),n=super.getState(e);if(!i&&!n)return null;let r=super.getAggregatedValue(e,!1),s=i&&i.value,o=this.mergeValues(s,r);if(t){let e=i?i.recordRef:n.recordRef;o=this.mergeValues(e,o)}return o}endPending(e){if(this._isPending=!1,e){let e=[];for(let t of this._pendingTransactions){let i=this._pendingStates.get(t.id);this._transactions.push(t),this.updateState(this._states,t,i.recordRef),e.push({transaction:t,recordRef:i.recordRef})}this._undoStack.push(e),this._redoStack=[],this.onStateUpdate.emit({origin:Ab.END,actions:e})}super.endPending(e)}commit(e,t){if(void 0!==t){let i=this.getState(t);i&&this.updateRecord(e,i)}else this._states.forEach((t=>{this.updateRecord(e,t)}));this.clear(t)}clear(e){void 0!==e?(this._transactions=this._transactions.filter((t=>t.id!==e)),this._states.delete(e),this._undoStack=this._undoStack.map((t=>t.filter((t=>t.transaction.id!==e)))).filter((e=>e.length>0))):(this._transactions=[],this._states.clear(),this._undoStack=[]),this._redoStack=[],this.onStateUpdate.emit({origin:Ab.CLEAR,actions:[]})}undo(){if(this._undoStack.length<=0)return;let e=this._undoStack.pop();this._transactions.splice(this._transactions.length-e.length),this._redoStack.push(e),this._states.clear();for(let e of this._undoStack)for(let t of e)this.updateState(this._states,t.transaction,t.recordRef);this.onStateUpdate.emit({origin:Ab.UNDO,actions:e})}redo(){if(this._redoStack.length>0){let e=this._redoStack.pop();for(let t of e)this.updateState(this._states,t.transaction,t.recordRef),this._transactions.push(t.transaction);this._undoStack.push(e),this.onStateUpdate.emit({origin:Ab.REDO,actions:e})}}addTransaction(e,t,i){if(this.updateState(t,e,i),(this._isPending?this._pendingTransactions:this._transactions).push(e),!this._isPending){let t=[{transaction:e,recordRef:i}];this._undoStack.push(t),this._redoStack=[],this.onStateUpdate.emit({origin:Ab.ADD,actions:t})}}verifyAddedTransaction(e,t,i){let n=e.get(t.id);switch(t.type){case Tb.ADD:if(n)throw new Error(`Cannot add this transaction. Transaction with id: ${t.id} has been already added.`);break;case Tb.DELETE:case Tb.UPDATE:if(n&&n.type===Tb.DELETE)throw new Error(`Cannot add this transaction. Transaction with id: ${t.id} has been already deleted.`);if(!n&&!i&&!this._isPending)throw new Error(`Cannot add this transaction. This is first transaction of type ${t.type} for id ${t.id}. For first transaction of this type recordRef is mandatory.`)}}updateState(e,t,i){let n=e.get(t.id);if(n)switch(t.type){case Tb.DELETE:n.type===Tb.ADD?e.delete(t.id):n.type===Tb.UPDATE&&(n.value=t.newValue,n.type=Tb.DELETE);break;case Tb.UPDATE:nb(n.value)?(n.type===Tb.ADD&&(n.value=this.mergeValues(n.value,t.newValue)),n.type===Tb.UPDATE&&eb(n.value,t.newValue)):n.value=t.newValue}else n={value:this.cloneStrategy.clone(t.newValue),recordRef:i,type:t.type},e.set(t.id,n);this.cleanState(t.id,e)}updateRecord(e,t){let i=e.findIndex((e=>JSON.stringify(e)===JSON.stringify(t.recordRef||{})));switch(t.type){case Tb.ADD:e.push(t.value);break;case Tb.DELETE:0<=i&&i<e.length&&e.splice(i,1);break;case Tb.UPDATE:0<=i&&i<e.length&&(e[i]=this.updateValue(t))}}},lI=class extends aI{getAggregatedChanges(e){let t=[];return this._states.forEach(((i,n)=>{let r=e?this.mergeValues(i.recordRef,i.value):this.cloneStrategy.clone(i.value);this.clearArraysFromObject(r),t.push({id:n,path:i.path,newValue:r,type:i.type})})),t}commit(e,t,i,n){if(void 0!==i){let r=this.getAggregatedChanges(!0);void 0!==n&&(r=r.filter((e=>e.id===n))),Kb.mergeHierarchicalTransactions(e,r,i,t,this.cloneStrategy,!0),this.clear(n)}else super.commit(e,t)}updateState(e,t,i){if(super.updateState(e,t,i),!t.path)return;let n=e.get(t.id);n&&(n.path=t.path),t.type===Tb.DELETE&&e.forEach(((i,n)=>{if(i.path&&-1!==i.path.indexOf(t.id))switch(i.type){case Tb.ADD:e.delete(n);break;case Tb.UPDATE:e.get(n).type=Tb.DELETE,e.get(n).value=null}}))}clearArraysFromObject(e){if(e)for(let t of Object.keys(e))Array.isArray(e[t])&&delete e[t]}},dI=(()=>{let e=class{create(e){return"Base"===e?new aI:new oI}};return e.fac=function(t){return new(t||e)},e.prov=Zi({token:e,factory:e.fac,providedIn:"root"}),e})(),cI=(()=>{let e=class extends dI{create(e){return"Base"===e?new lI:new oI}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.prov=Zi({token:e,factory:e.fac,providedIn:"root"}),e})(),hI=function(e){return e[e.Up=-1]="Up",e[e.Down=1]="Down",e}(hI||{}),uI="escape",gI="enter",pI="space",mI=new Ll("IgxDropDownBaseToken"),fI=(()=>{let e=class{constructor(e){this.dropdown=e,this._target=null}get target(){return this._target}set target(e){this._target=e||this.dropdown}handleKeyDown(e){if(e){let t=e.key.toLowerCase();if(this.target.collapsed)return;if(-1===["esc","escape","enter","space","spacebar"," ","arrowup","up","arrowdown","down","home","end"].indexOf(t))return;switch(e.preventDefault(),e.stopPropagation(),t){case"esc":case"escape":this.target.onItemActionKey(uI,e);break;case"enter":this.target.onItemActionKey(gI,e);break;case"space":case"spacebar":case" ":this.target.onItemActionKey(pI,e);break;case"arrowup":case"up":this.onArrowUpKeyDown();break;case"arrowdown":case"down":this.onArrowDownKeyDown();break;case"home":this.onHomeKeyDown();break;case"end":this.onEndKeyDown();break;default:return}}}onArrowDownKeyDown(){this.target.navigateNext()}onArrowUpKeyDown(){this.target.navigatePrev()}onEndKeyDown(){this.target.navigateLast()}onHomeKeyDown(){this.target.navigateFirst()}};return e.fac=function(t){return new(t||e)(nc(mI,10))},e.dir=or({type:e,selectors:[["","igxDropDownItemNavigation",""]],hostBindings:function(e,t){1&e&&Fh("keydown",(function(e){return t.handleKeyDown(e)}))},inputs:{target:["igxDropDownItemNavigation","target"]},standalone:!0}),e})(),yI=function(e){return e[e.START=0]="START",e[e.END=1]="END",e}(yI||{}),vI=(()=>{let e=class{constructor(){this.isPositionStart=!1,this.isPositionEnd=!1,this._position=yI.START}set position(e){let t=yI[e.toUpperCase()];void 0!==t&&(this._position=t,this._applyPosition(this._position))}get position(){return this._position.toString()}ngOnInit(){this._applyPosition(this._position)}_applyPosition(e){switch(this.isPositionStart=this.isPositionEnd=!1,e){case yI.START:this.isPositionStart=!0;break;case yI.END:this.isPositionEnd=!0}}};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["igx-hint"],["","igxHint",""]],hostVars:4,hostBindings:function(e,t){2&e&&iu("igx-input-group__hint-item--start",t.isPositionStart)("igx-input-group__hint-item--end",t.isPositionEnd)},inputs:{position:"position"},standalone:!0}),e})(),xI=class{},_I=["required","pattern","minlength","maxlength","min","max","step"],wI=function(e){return e[e.INITIAL=0]="INITIAL",e[e.VALID=1]="VALID",e[e.INVALID=2]="INVALID",e}(wI||{}),CI=(()=>{let e=class{constructor(e,t,i,n,r,s){this.inputGroup=e,this.ngModel=t,this.formControl=i,this.element=n,this.cdr=r,this.renderer=s,this.isInput=!1,this.isTextArea=!1,this._valid=wI.INITIAL,this._disabled=!1}get ngControl(){return this.ngModel?this.ngModel:this.formControl}set value(e){this.nativeElement.value=e??"",this.updateValidityState()}get value(){return this.nativeElement.value}set disabled(e){this._disabled=this.inputGroup.disabled=!(""!==e&&!e),this.focused&&this._disabled&&(this.inputGroup.isFocused=!1)}get disabled(){return this._disabled}set required(e){this.nativeElement.required=this.inputGroup.isRequired=""===e||e}get required(){let e;return this.ngControl&&(this.ngControl.control.validator||this.ngControl.control.asyncValidator)&&(e=this.ngControl.control.validator({})),e&&e.required||this.nativeElement.hasAttribute("required")}onFocus(){this.inputGroup.isFocused=!0}onBlur(){this.inputGroup.isFocused=!1,this.updateValidityState()}onInput(){this.checkNativeValidity()}change(e){if("file"===this.type){let t=e.target.files,i=[];if(t)for(let e of Array.from(t))i.push(e);this._fileNames=(i||[]).map((e=>e.name)).join(", "),this.required&&t?.length>0&&(this._valid=wI.INITIAL)}}get fileNames(){return this._fileNames}clear(){this.ngControl?.control?.setValue(""),this.nativeElement.value=null,this._fileNames=""}ngAfterViewInit(){this.inputGroup.hasPlaceholder=this.nativeElement.hasAttribute("placeholder"),this.ngControl&&null!==this.ngControl.disabled&&(this.disabled=this.ngControl.disabled),this.inputGroup.disabled=this.inputGroup.disabled||this.nativeElement.hasAttribute("disabled"),this.inputGroup.isRequired=this.nativeElement.hasAttribute("required"),this.ngControl||(this._valid=wI.INITIAL),this.required&&!this.inputGroup.isRequired&&(this.inputGroup.isRequired=this.required),this.renderer.setAttribute(this.nativeElement,"aria-required",this.required.toString()),"textarea"===this.nativeElement.tagName.toLowerCase()?this.isTextArea=!0:this.isInput=!0,this.ngControl&&(this._statusChanges$=this.ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this)),this._valueChanges$=this.ngControl.valueChanges.subscribe(this.onValueChanged.bind(this))),this.cdr.detectChanges()}ngOnDestroy(){this._statusChanges$&&this._statusChanges$.unsubscribe(),this._valueChanges$&&this._valueChanges$.unsubscribe()}focus(){this.nativeElement.focus()}get nativeElement(){return this.element.nativeElement}onStatusChanged(){this.disabled!==this.ngControl.disabled&&(this.disabled=this.ngControl.disabled),this.updateValidityState()}onValueChanged(){this._fileNames&&!this.value&&(this._fileNames="")}updateValidityState(){if(this.ngControl){if(!this.disabled&&this.isTouchedOrDirty)if(this.hasValidators){let e=this.ngControl.control.validator({});this.inputGroup.isRequired=e&&e.required,this.focused?this._valid=this.ngControl.valid?wI.VALID:wI.INVALID:this._valid=this.ngControl.valid?wI.INITIAL:wI.INVALID}else this.inputGroup.isRequired=!1,this._valid=this.ngControl.valid?wI.INITIAL:wI.INVALID;else this._valid=wI.INITIAL;this.renderer.setAttribute(this.nativeElement,"aria-required",this.required.toString());let e=this.valid===wI.INVALID;this.renderer.setAttribute(this.nativeElement,"aria-invalid",e.toString())}else this.checkNativeValidity()}get isTouchedOrDirty(){return this.ngControl.control.touched||this.ngControl.control.dirty}get hasValidators(){return!!this.ngControl.control.validator||!!this.ngControl.control.asyncValidator}get hasPlaceholder(){return this.nativeElement.hasAttribute("placeholder")}get placeholder(){return this.nativeElement.placeholder}_hasValidators(){for(let e of _I)if(this.nativeElement.hasAttribute(e))return!0;return!1}get focused(){return this.inputGroup.isFocused}get valid(){return this._valid}set valid(e){this._valid=e}get isValid(){return this.valid!==wI.INVALID}checkNativeValidity(){!this.disabled&&this._hasValidators()&&(this._valid=this.nativeElement.checkValidity()?this.focused?wI.VALID:wI.INITIAL:wI.INVALID)}get type(){return this.nativeElement.type}};return e.fac=function(t){return new(t||e)(nc(xI),nc(ww,10),nc(U_,10),nc(wd),nc(fp),nc(bd))},e.dir=or({type:e,selectors:[["","igxInput",""]],hostVars:5,hostBindings:function(e,t){1&e&&Fh("focus",(function(){return t.onFocus()}))("blur",(function(){return t.onBlur()}))("input",(function(){return t.onInput()}))("change",(function(e){return t.change(e)})),2&e&&(Cu("disabled",t.disabled),iu("igx-input-group__input",t.isInput)("igx-input-group__textarea",t.isTextArea))},inputs:{value:"value",disabled:"disabled",required:"required"},exportAs:["igxInput"],standalone:!0}),e})(),SI=0,bI=(()=>{let e=class{constructor(){this.defaultClass=!0,this.id="igx-label-"+SI++}};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","igxLabel",""]],hostVars:3,hostBindings:function(e,t){2&e&&(ph("id",t.id),iu("igx-input-group__label",t.defaultClass))},inputs:{id:"id"},standalone:!0}),e})(),DI=(()=>{let e=class{};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["igx-prefix"],["","igxPrefix",""],["","igxStart",""]],standalone:!0}),e})(),EI=(()=>{let e=class{};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["igx-suffix"],["","igxSuffix",""],["","igxEnd",""]],standalone:!0}),e})(),II="comfortable",TI="cosy",AI="compact",RI=new Ll("DisplayDensity"),kI=(()=>{let e=class{get displayDensity(){switch(this.size){case"1":return AI;case"2":return TI;default:return this._displayDensity??this.displayDensityOptions?.displayDensity??II}}set displayDensity(e){let t=this._displayDensity;if(this._displayDensity=e,t!==this._displayDensity){let e={oldDensity:t,newDensity:this._displayDensity};this.densityChanged.emit(e)}}get size(){return globalThis.document?.defaultView.getComputedStyle(this._host.nativeElement).getPropertyValue("--ig-size").trim()}constructor(e,t){this.displayDensityOptions=e,this._host=t,this.densityChanged=new Pd,this.oldDisplayDensityOptions={displayDensity:II},Object.assign(this.oldDisplayDensityOptions,e)}ngOnInit(){this.initialDensity=this._displayDensity}ngDoCheck(){if(!this._displayDensity&&this.displayDensityOptions&&this.oldDisplayDensityOptions.displayDensity!==this.displayDensityOptions.displayDensity){let e={oldDensity:this.oldDisplayDensityOptions.displayDensity,newDensity:this.displayDensityOptions.displayDensity};this.densityChanged.emit(e),this.oldDisplayDensityOptions=Object.assign(this.oldDisplayDensityOptions,this.displayDensityOptions)}}getComponentDensityClass(e){switch(this._displayDensity||this.oldDisplayDensityOptions.displayDensity){case TI:return`${e}--${TI}`;case AI:return`${e}--${AI}`;default:return e}}getComponentSizeStyles(){switch(this._displayDensity||this.oldDisplayDensityOptions.displayDensity){case AI:return"var(--ig-size, var(--ig-size-small))";case TI:return"var(--ig-size, var(--ig-size-medium))";default:return"var(--ig-size, var(--ig-size-large))"}}};return e.fac=function(t){return new(t||e)(nc(RI,8),nc(wd))},e.dir=or({type:e,selectors:[["","igxDisplayDensityBase",""]],inputs:{displayDensity:"displayDensity"},outputs:{densityChanged:"densityChanged"},standalone:!0}),e})(),OI={igx_grid_groupByArea_message:"Drag a column header and drop it here to group by that column.",igx_grid_groupByArea_select_message:"Select all rows in the group with field name {0} and value {1}.",igx_grid_groupByArea_deselect_message:"Deselect all rows in the group with field name {0} and value {1}.",igx_grid_emptyFilteredGrid_message:"No records found.",igx_grid_emptyGrid_message:"Grid has no data.",igx_grid_filter:"Filter",igx_grid_filter_row_close:"Close",igx_grid_filter_row_reset:"Reset",igx_grid_filter_row_placeholder:"Add filter value",igx_grid_filter_row_boolean_placeholder:"All",igx_grid_filter_row_date_placeholder:"Pick up date",igx_grid_filter_row_time_placeholder:"Pick up time",igx_grid_filter_operator_and:"And",igx_grid_filter_operator_or:"Or",igx_grid_complex_filter:"Complex Filter",igx_grid_filter_contains:"Contains",igx_grid_filter_doesNotContain:"Does Not Contain",igx_grid_filter_startsWith:"Starts With",igx_grid_filter_endsWith:"Ends With",igx_grid_filter_equals:"Equals",igx_grid_filter_doesNotEqual:"Does Not Equal",igx_grid_filter_empty:"Empty",igx_grid_filter_notEmpty:"Not Empty",igx_grid_filter_null:"Null",igx_grid_filter_notNull:"Not Null",igx_grid_filter_before:"Before",igx_grid_filter_after:"After",igx_grid_filter_at:"At",igx_grid_filter_not_at:"Not At",igx_grid_filter_at_before:"At or Before",igx_grid_filter_at_after:"At or After",igx_grid_filter_today:"Today",igx_grid_filter_yesterday:"Yesterday",igx_grid_filter_thisMonth:"This Month",igx_grid_filter_lastMonth:"Last Month",igx_grid_filter_nextMonth:"Next Month",igx_grid_filter_thisYear:"This Year",igx_grid_filter_lastYear:"Last Year",igx_grid_filter_nextYear:"Next Year",igx_grid_filter_greaterThan:"Greater Than",igx_grid_filter_lessThan:"Less Than",igx_grid_filter_greaterThanOrEqualTo:"Greater Than Or Equal To",igx_grid_filter_lessThanOrEqualTo:"Less Than Or Equal To",igx_grid_filter_true:"True",igx_grid_filter_false:"False",igx_grid_filter_all:"All",igx_grid_filter_condition_placeholder:"Select filter",igx_grid_summary_count:"Count",igx_grid_summary_min:"Min",igx_grid_summary_max:"Max",igx_grid_summary_sum:"Sum",igx_grid_summary_average:"Avg",igx_grid_summary_earliest:"Earliest",igx_grid_summary_latest:"Latest",igx_grid_excel_filter_moving_left:"move left",igx_grid_excel_filter_moving_left_short:"left",igx_grid_excel_filter_moving_right:"move right",igx_grid_excel_filter_moving_right_short:"right",igx_grid_excel_filter_moving_header:"move",igx_grid_excel_filter_sorting_asc:"ascending",igx_grid_excel_filter_sorting_asc_short:"asc",igx_grid_excel_filter_sorting_desc:"descending",igx_grid_excel_filter_sorting_desc_short:"desc",igx_grid_excel_filter_sorting_header:"sort",igx_grid_excel_filter_clear:"Clear column filters",igx_grid_excel_custom_dialog_add:"add filter",igx_grid_excel_custom_dialog_clear:"Clear filter",igx_grid_excel_custom_dialog_header:"Custom auto-filter on column: ",igx_grid_excel_cancel:"cancel",igx_grid_excel_apply:"apply",igx_grid_excel_search_placeholder:"Search",igx_grid_excel_select_all:"Select All",igx_grid_excel_select_all_search_results:"Select all search results",igx_grid_excel_add_to_filter:"Add current selection to filter",igx_grid_excel_blanks:"(Blanks)",igx_grid_excel_hide:"Hide column",igx_grid_excel_show:"Show column",igx_grid_excel_pin:"Pin column",igx_grid_excel_unpin:"Unpin column",igx_grid_excel_select:"Select column",igx_grid_excel_deselect:"Deselect column",igx_grid_excel_text_filter:"Text filter",igx_grid_excel_number_filter:"Number filter",igx_grid_excel_date_filter:"Date filter",igx_grid_excel_boolean_filter:"Boolean filter",igx_grid_excel_currency_filter:"Currency filter",igx_grid_excel_custom_filter:"Custom filter...",igx_grid_excel_no_matches:"No matches",igx_grid_excel_matches_count:"{0} matches.",igx_grid_advanced_filter_title:"Advanced Filtering",igx_grid_advanced_filter_and_group:'"And" Group',igx_grid_advanced_filter_or_group:'"Or" Group',igx_grid_advanced_filter_end_group:"End Group",igx_grid_advanced_filter_create_and_group:'Create "And" Group',igx_grid_advanced_filter_create_or_group:'Create "Or" Group',igx_grid_advanced_filter_and_label:"and",igx_grid_advanced_filter_or_label:"or",igx_grid_advanced_filter_add_condition:"Condition",igx_grid_advanced_filter_ungroup:"Ungroup",igx_grid_advanced_filter_delete:"Delete",igx_grid_advanced_filter_delete_filters:"Delete filters",igx_grid_advanced_filter_initial_text:'Start with creating a group of conditions linked with "And" or "Or"',igx_grid_advanced_filter_column_placeholder:"Select column",igx_grid_advanced_filter_value_placeholder:"Value",igx_grid_pinned_row_indicator:"Pinned",igx_grid_hiding_check_all_label:"Show All",igx_grid_hiding_uncheck_all_label:"Hide All",igx_grid_pinning_check_all_label:"Pin All",igx_grid_pinning_uncheck_all_label:"Unpin All",igx_grid_row_edit_btn_done:"Done",igx_grid_row_edit_btn_cancel:"Cancel",igx_grid_toolbar_actions_filter_prompt:"Filter columns list ...",igx_grid_toolbar_pinning_button_tooltip:"Open column pinning dropdown",igx_grid_toolbar_hiding_button_tooltip:"Open column hiding dropdown",igx_grid_toolbar_pinning_title:"Pinned columns",igx_grid_toolbar_hiding_title:"Visible columns",igx_grid_toolbar_advanced_filtering_button_tooltip:"Open advanced filtering dialog",igx_grid_toolbar_advanced_filtering_button_label:"Advanced filtering",igx_grid_toolbar_exporter_button_tooltip:"Open exporter dropdown",igx_grid_toolbar_exporter_button_label:"Export",igx_grid_toolbar_exporter_excel_entry_text:"Export to Excel",igx_grid_toolbar_exporter_csv_entry_text:"Export to CSV",igx_grid_snackbar_addrow_label:"Row added",igx_grid_snackbar_addrow_actiontext:"SHOW",igx_grid_actions_edit_label:"Edit",igx_grid_actions_add_label:"Add",igx_grid_add_row_label:"ADD ROW",igx_grid_actions_add_child_label:"Add Child",igx_grid_actions_delete_label:"Delete",igx_grid_actions_pin_label:"Pin",igx_grid_actions_unpin_label:"Unpin",igx_grid_actions_jumpUp_label:"Jump up",igx_grid_actions_jumpDown_label:"Jump down",igx_grid_pivot_date_dimension_total:"All Periods",igx_grid_pivot_aggregate_count:"Count",igx_grid_pivot_aggregate_min:"Minimum",igx_grid_pivot_aggregate_max:"Maximum",igx_grid_pivot_aggregate_sum:"Sum",igx_grid_pivot_aggregate_avg:"Average",igx_grid_pivot_aggregate_date_latest:"Latest Date",igx_grid_pivot_aggregate_date_earliest:"Earliest Date",igx_grid_pivot_aggregate_time_latest:"Latest Time",igx_grid_pivot_aggregate_time_earliest:"Earliest Time",igx_grid_pivot_empty_row_drop_area:"Drop Row Fields here.",igx_grid_pivot_empty_column_drop_area:"Drop Column Fields here.",igx_grid_pivot_empty_filter_drop_area:"Drop Filter Fields here.",igx_grid_pivot_empty_value_drop_area:"Drop Value Fields here.",igx_grid_pivot_row_drop_chip:"Drop here to use as row",igx_grid_pivot_column_drop_chip:"Drop here to use as column",igx_grid_pivot_filter_drop_chip:"Drop here to use as filter",igx_grid_pivot_value_drop_chip:"Drop here to use as value",igx_grid_pivot_empty_message:"Pivot grid has no dimensions and values.",igx_grid_pivot_selector_filters:"Filters",igx_grid_pivot_selector_rows:"Rows",igx_grid_pivot_selector_columns:"Columns",igx_grid_pivot_selector_values:"Values",igx_grid_pivot_selector_panel_empty:"Drop Items Here",igx_grid_required_validation_error:"This field is required",igx_grid_min_validation_error:"A value of at least {0} should be entered",igx_grid_max_validation_error:"A value no more than {0} should be entered",igx_grid_min_length_validation_error:"Entry should be at least {0} character(s) long",igx_grid_max_length_validation_error:"Entry should be no more than {0} character(s) long",igx_grid_email_validation_error:"A valid email address should be entered",igx_grid_pattern_validation_error:"Entry does not match the required pattern",igx_grid_pivot_no_aggregator:"No valid aggregator found for {0}. Please set either a valid aggregatorName or aggregator."},FI={GridResStrings:tb(OI),PaginatorResStrings:tb({igx_paginator_label:"Items per page",igx_paginator_pager_text:"of",igx_paginator_first_page_button_text:"Go to first page",igx_paginator_previous_page_button_text:"Previous page",igx_paginator_last_page_button_text:"Go to last page",igx_paginator_next_page_button_text:"Next page"}),TimePickerResStrings:tb({igx_time_picker_ok:"OK",igx_time_picker_cancel:"Cancel",igx_time_picker_change_time:"Change Time",igx_time_picker_choose_time:"Choose Time"}),CalendarResStrings:tb({igx_calendar_previous_month:"Previous Month",igx_calendar_next_month:"Next Month",igx_calendar_select_month:"Select Month",igx_calendar_select_year:"Select Year",igx_calendar_range_start:"Range start",igx_calendar_range_end:"Range end",igx_calendar_selected_month_is:"Selected month is ",igx_calendar_first_picker_of:"First picker of {0} starts from",igx_calendar_multi_selection:"Multi selection calendar with {0} date pickers",igx_calendar_range_selection:"Range selection calendar with {0} date pickers",igx_calendar_single_selection:"Calendar with {0} date pickers",igx_calendar_singular_multi_selection:"Multi selection calendar",igx_calendar_singular_range_selection:"Range selection calendar",igx_calendar_singular_single_selection:"Calendar"}),ChipResStrings:tb({igx_chip_remove:"remove chip",igx_chip_select:"select chip"}),ComboResStrings:tb({igx_combo_empty_message:"The list is empty"}),DatePickerResourceStrings:tb({igx_date_picker_change_date:"Change Date",igx_date_picker_choose_date:"Choose Date"}),DateRangePickerResStrings:tb({igx_date_range_picker_date_separator:"to",igx_date_range_picker_done_button:"Done"}),CarouselResStrings:tb({igx_carousel_of:"of",igx_carousel_slide:"slide",igx_carousel_previous_slide:"previous slide",igx_carousel_next_slide:"next slide"}),ListResStrings:tb({igx_list_no_items:"There are no items in the list.",igx_list_loading:"Loading data from the server..."}),InputResStrings:tb({igx_input_upload_button:"Upload File",igx_input_file_placeholder:"No file chosen"}),TreeResStrings:tb({igx_expand:"Expand",igx_collapse:"Collapse"}),ActionStripResourceStrings:tb({igx_action_strip_button_more_title:"More"}),QueryBuilderResStrings:tb({igx_query_builder_date_placeholder:"Pick up date",igx_query_builder_time_placeholder:"Pick up time",igx_query_builder_filter_operator_and:"And",igx_query_builder_filter_operator_or:"Or",igx_query_builder_filter_contains:"Contains",igx_query_builder_filter_doesNotContain:"Does Not Contain",igx_query_builder_filter_startsWith:"Starts With",igx_query_builder_filter_endsWith:"Ends With",igx_query_builder_filter_equals:"Equals",igx_query_builder_filter_doesNotEqual:"Does Not Equal",igx_query_builder_filter_empty:"Empty",igx_query_builder_filter_notEmpty:"Not Empty",igx_query_builder_filter_null:"Null",igx_query_builder_filter_notNull:"Not Null",igx_query_builder_filter_before:"Before",igx_query_builder_filter_after:"After",igx_query_builder_filter_at:"At",igx_query_builder_filter_not_at:"Not At",igx_query_builder_filter_at_before:"At or Before",igx_query_builder_filter_at_after:"At or After",igx_query_builder_filter_today:"Today",igx_query_builder_filter_yesterday:"Yesterday",igx_query_builder_filter_thisMonth:"This Month",igx_query_builder_filter_lastMonth:"Last Month",igx_query_builder_filter_nextMonth:"Next Month",igx_query_builder_filter_thisYear:"This Year",igx_query_builder_filter_lastYear:"Last Year",igx_query_builder_filter_nextYear:"Next Year",igx_query_builder_filter_greaterThan:"Greater Than",igx_query_builder_filter_lessThan:"Less Than",igx_query_builder_filter_greaterThanOrEqualTo:"Greater Than Or Equal To",igx_query_builder_filter_lessThanOrEqualTo:"Less Than Or Equal To",igx_query_builder_filter_true:"True",igx_query_builder_filter_false:"False",igx_query_builder_filter_all:"All",igx_query_builder_title:"Query Builder",igx_query_builder_and_group:'"And" Group',igx_query_builder_or_group:'"Or" Group',igx_query_builder_end_group:"End Group",igx_query_builder_and_label:"and",igx_query_builder_or_label:"or",igx_query_builder_add_condition:"Condition",igx_query_builder_create_and_group:'Create "And" Group',igx_query_builder_create_or_group:'Create "Or" Group',igx_query_builder_ungroup:"Ungroup",igx_query_builder_delete:"Delete",igx_query_builder_delete_filters:"Delete filters",igx_query_builder_initial_text:'Start with creating a group of conditions linked with "And" or "Or"',igx_query_builder_column_placeholder:"Select column",igx_query_builder_condition_placeholder:"Select filter",igx_query_builder_value_placeholder:"Value"}),BannerResourceStrings:tb({igx_banner_button_dismiss:"Dismiss"})},PI="flat",MI="raised",VI="outlined",NI="icon",LI="fab",HI=(()=>{let e=class extends kI{set selected(e){this._selected!==e&&(this._selected=e,this._renderer.setAttribute(this.nativeElement,"data-selected",e.toString()))}get selected(){return this._selected}constructor(e,t,i){super(i,e),this.element=e,this._renderer=t,this._displayDensityOptions=i,this.buttonClick=new Pd,this.buttonSelected=new Pd,this.role="button",this._cssClass="igx-button",this._disabled=!1,this._selected=!1}ngAfterContentInit(){this.nativeElement.addEventListener("click",(()=>{this.buttonSelected.emit({button:this})}))}onClick(e){this.buttonClick.emit(e)}get nativeElement(){return this.element.nativeElement}set type(e){let t=e||PI;this._type!==t&&(this._type=t)}set color(e){this._color=e||this.nativeElement.style.color,this._renderer.setStyle(this.nativeElement,"color",this._color)}set background(e){this._backgroundColor=e||this._backgroundColor,this._renderer.setStyle(this.nativeElement,"background",this._backgroundColor)}set label(e){this._label=e||this._label,this._renderer.setAttribute(this.nativeElement,"aria-label",this._label)}get disabled(){return this._disabled}set disabled(e){this._disabled=""===e||e}get flat(){return this._type===PI}get raised(){return this._type===MI}get outlined(){return this._type===VI}get icon(){return this._type===NI}get fab(){return this._type===LI}get componentSize(){return this.getComponentSizeStyles()}get disabledAttribute(){return this._disabled?this._disabled:null}select(){this.selected=!0}deselect(){this.selected=!1}};return e.fac=function(t){return new(t||e)(nc(wd),nc(bd),nc(RI,8))},e.dir=or({type:e,selectors:[["","igxButton",""]],hostVars:18,hostBindings:function(e,t){1&e&&Fh("click",(function(e){return t.onClick(e)})),2&e&&(ph("role",t.role)("disabled",t.disabledAttribute),tu("--component-size",t.componentSize),iu("igx-button",t._cssClass)("igx-button--disabled",t.disabled)("igx-button--flat",t.flat)("igx-button--raised",t.raised)("igx-button--outlined",t.outlined)("igx-button--icon",t.icon)("igx-button--fab",t.fab))},inputs:{selected:"selected",type:["igxButton","type"],color:["igxButtonColor","color"],background:["igxButtonBackground","background"],label:["igxLabel","label"],disabled:"disabled"},outputs:{buttonClick:"buttonClick",buttonSelected:"buttonSelected"},standalone:!0,features:[th]}),e})(),BI=new Ll("InputGroupType"),zI=(()=>{let e=class{constructor(e,t,i,n){this._sanitizer=e,this._httpClient=t,this._platformUtil=i,this._document=n,this._family="material-icons",this._familyAliases=new Map,this._cachedSvgIcons=new Map,this._iconLoaded=new Xe,this.iconLoaded=this._iconLoaded.asObservable(),this._platformUtil?.isBrowser&&(this._domParser=new DOMParser)}get defaultFamily(){return this._family}set defaultFamily(e){this._family=e}registerFamilyAlias(e,t=e){return this._familyAliases.set(e,t),this}familyClassName(e){return this._familyAliases.get(e)||e}addSvgIcon(e,t,i=this._family,n=!1){if(!e||!t)throw new Error("You should provide at least `name` and `url` to register an svg icon.");{let r=this._sanitizer.bypassSecurityTrustResourceUrl(t);if(!r)throw new Error(`The provided URL could not be processed as trusted resource URL by Angular's DomSanitizer: "${t}".`);if(!this._sanitizer.sanitize(Pl.RESOURCE_URL,r))throw new Error(`The URL provided was not trusted as a resource URL: "${t}".`);this.isSvgIconCached(e,i)||this.fetchSvg(t).subscribe((t=>{this.cacheSvgIcon(e,t,i,n),this._iconLoaded.next({name:e,value:t,family:i})}))}}addSvgIconFromText(e,t,i="",n=!1){if(!e||!t)throw new Error("You should provide at least `name` and `iconText` to register an svg icon.");this.isSvgIconCached(e,i)||this.cacheSvgIcon(e,t,i,n)}isSvgIconCached(e,t=""){let i=this.familyClassName(t);return!!this._cachedSvgIcons.has(i)&&this._cachedSvgIcons.get(i).has(e)}getSvgIcon(e,t=""){let i=this.familyClassName(t);return this._cachedSvgIcons.get(i)?.get(e)}fetchSvg(e){return this._httpClient.get(e,{responseType:"text"})}cacheSvgIcon(e,t,i=this._family,n){if(i=i||this._family,this._platformUtil?.isBrowser&&e&&t){let r=this._domParser.parseFromString(t,"image/svg+xml").querySelector("svg");if(this._cachedSvgIcons.has(i)||this._cachedSvgIcons.set(i,new Map),r){if(r.setAttribute("fit",""),r.setAttribute("preserveAspectRatio","xMidYMid meet"),n){let e=r.querySelector("title"),t=r.querySelector("desc");e&&r.removeChild(e),t&&r.removeChild(t)}let t=this._sanitizer.bypassSecurityTrustHtml(r.outerHTML);this._cachedSvgIcons.get(i).set(e,t)}}}};return e.fac=function(t){return new(t||e)(_n(py,8),_n(Of,8),_n(ob,8),_n(Hp,8))},e.prov=Zi({token:e,factory:e.fac,providedIn:"root"}),e})(),GI=["noLigature"],$I=["explicitLigature"],WI=["svgImage"];function KI(e,t){}function jI(e,t){1&e&&Hh(0)}function UI(e,t){1&e&&bh(0,"div",4),2&e&&_h("innerHTML",Vh().getSvg,Ml)}function qI(e,t){1&e&&Th(0)}var YI=["*"],XI=(()=>{let e=class{constructor(e,t,i){this.el=e,this.iconService=t,this.ref=i,this.cssClass="igx-icon",this.ariaHidden=!0,this.active=!0,this.destroy$=new Xe,this.family=this.iconService.defaultFamily,this.iconService.registerFamilyAlias("material","material-icons"),this.iconService.iconLoaded.pipe(fi((e=>e.name===this.name&&e.family===this.family)),Si(this.destroy$)).subscribe((()=>this.ref.detectChanges()))}ngOnInit(){this.updateIconClass()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get getFamily(){return this.family}get getActive(){return this.active}get getInactive(){return!this.active}get getName(){return this.name}get getSvg(){return this.iconService.isSvgIconCached(this.name,this.family)?this.iconService.getSvgIcon(this.name,this.family):null}get template(){return this.name?this.iconService.isSvgIconCached(this.name,this.family)?this.svgImage:this.noLigature:this.explicitLigature}updateIconClass(){let e=this.iconService.familyClassName(this.family);this.el.nativeElement.classList.add(e),this.name&&!this.iconService.isSvgIconCached(this.name,this.family)&&this.el.nativeElement.classList.add(this.name)}};return e.fac=function(t){return new(t||e)(nc(wd),nc(zI),nc(fp))},e.cmp=tr({type:e,selectors:[["igx-icon"]],viewQuery:function(e,t){if(1&e&&(Bg(GI,7,yg),Bg($I,7,yg),Bg(WI,7,yg)),2&e){let e;Hg(e=Gg())&&(t.noLigature=e.first),Hg(e=Gg())&&(t.explicitLigature=e.first),Hg(e=Gg())&&(t.svgImage=e.first)}},hostVars:5,hostBindings:function(e,t){2&e&&(ph("aria-hidden",t.ariaHidden),iu("igx-icon",t.cssClass)("igx-icon--inactive",t.getInactive))},inputs:{family:"family",active:"active",name:"name"},standalone:!0,features:[Wu],ngContentSelectors:YI,decls:7,vars:1,consts:[["noLigature",""],["explicitLigature",""],["svgImage",""],[4,"ngTemplateOutlet"],[3,"innerHTML"]],template:function(e,t){1&e&&(Lh(),yh(0,KI,0,0,"ng-template",null,0,jg),yh(2,jI,1,0,"ng-template",null,1,jg),yh(4,UI,1,1,"ng-template",null,2,jg),yh(6,qI,1,0,"ng-container",3)),2&e&&(tc(6),_h("ngTemplateOutlet",t.template))},dependencies:[Zm],encapsulation:2}),e})();function ZI(e,t){1&e&&Th(0)}function QI(e,t){if(1&e&&(Ch(0,"div",13),yh(1,ZI,1,0,"ng-container",14),Sh()),2&e){Vh();let e=xh(24);tc(1),_h("ngTemplateOutlet",e)}}function JI(e,t){1&e&&Hh(0,1)}function eT(e,t){1&e&&Hh(0,2)}function tT(e,t){1&e&&Hh(0,3)}var iT=function(e){return{"igx-input-group__upload-button":e}};function nT(e,t){if(1&e){let e=Rh();Ch(0,"igx-prefix",16)(1,"button",17),Fh("click",(function(){return Bs(e),zs(Vh(2).uploadButtonHandler())})),fu(2),Sh()()}if(2&e){let e=Vh(2);tc(1),_h("displayDensity",e.displayDensity)("disabled",e.disabled)("ngClass",ju(4,iT,e.isTypeLine)),tc(1),xu(" ",e.resourceStrings.igx_input_upload_button," ")}}function rT(e,t){1&e&&yh(0,nT,3,6,"igx-prefix",15),2&e&&_h("ngIf",Vh().isFileType)}function sT(e,t){if(1&e&&(Ch(0,"div",19)(1,"span"),fu(2),Sh()()),2&e){let e=Vh(2);_h("title",e.fileNames),tc(2),vu(e.fileNames)}}function oT(e,t){1&e&&yh(0,sT,3,2,"div",18),2&e&&_h("ngIf",Vh().isFileType)}function aT(e,t){if(1&e){let e=Rh();Ch(0,"igx-suffix",21),Fh("click",(function(){return Bs(e),zs(Vh(2).clearValueHandler())}))("keydown.Enter",(function(){return Bs(e),zs(Vh(2).clearValueHandler())})),Ch(1,"igx-icon"),fu(2,"clear"),Sh()()}}function lT(e,t){if(1&e&&yh(0,aT,3,0,"igx-suffix",20),2&e){let e=Vh();_h("ngIf",e.isFileType&&e.isFilled)}}function dT(e,t){1&e&&Hh(0,4)}function cT(e,t){1&e&&Th(0)}function hT(e,t){1&e&&Th(0)}function uT(e,t){1&e&&Th(0)}function gT(e,t){1&e&&Th(0)}function pT(e,t){1&e&&Th(0)}function mT(e,t){1&e&&Th(0)}function fT(e,t){1&e&&Th(0)}function yT(e,t){1&e&&bh(0,"div",29)}function vT(e,t){if(1&e&&(Ch(0,"div",22)(1,"div",23),yh(2,cT,1,0,"ng-container",14),yh(3,hT,1,0,"ng-container",14),Sh(),Eh(4),Ch(5,"div",24),yh(6,uT,1,0,"ng-container",14),Sh(),Ih(),Ch(7,"div",25),yh(8,gT,1,0,"ng-container",14),yh(9,pT,1,0,"ng-container",14),Sh(),bh(10,"div",26),Ch(11,"div",27),yh(12,mT,1,0,"ng-container",14),yh(13,fT,1,0,"ng-container",14),Sh(),yh(14,yT,1,0,"div",28),Sh()),2&e){let e=Vh(),t=xh(8),i=xh(10),n=xh(4),r=xh(6),s=xh(12),o=xh(14),a=xh(16);tc(2),_h("ngTemplateOutlet",t),tc(1),_h("ngTemplateOutlet",i),tc(3),_h("ngTemplateOutlet",n),tc(2),_h("ngTemplateOutlet",r),tc(1),_h("ngTemplateOutlet",s),tc(3),_h("ngTemplateOutlet",o),tc(1),_h("ngTemplateOutlet",a),tc(1),_h("ngIf",e.hasBorder)}}function xT(e,t){1&e&&Th(0)}function _T(e,t){1&e&&Th(0)}function wT(e,t){1&e&&Th(0)}function CT(e,t){1&e&&Th(0)}function ST(e,t){1&e&&Th(0)}function bT(e,t){1&e&&Th(0)}function DT(e,t){1&e&&Th(0)}function ET(e,t){1&e&&bh(0,"div",29)}function IT(e,t){if(1&e&&(yh(0,xT,1,0,"ng-container",14),Ch(1,"div",22)(2,"div",23),yh(3,_T,1,0,"ng-container",14),yh(4,wT,1,0,"ng-container",14),Sh(),Ch(5,"div",25),yh(6,CT,1,0,"ng-container",14),yh(7,ST,1,0,"ng-container",14),Sh(),Ch(8,"div",27),yh(9,bT,1,0,"ng-container",14),yh(10,DT,1,0,"ng-container",14),Sh(),yh(11,ET,1,0,"div",28),Sh()),2&e){let e=Vh(),t=xh(4),i=xh(8),n=xh(10),r=xh(6),s=xh(12),o=xh(14),a=xh(16);_h("ngTemplateOutlet",t),tc(3),_h("ngTemplateOutlet",i),tc(1),_h("ngTemplateOutlet",n),tc(2),_h("ngTemplateOutlet",r),tc(1),_h("ngTemplateOutlet",s),tc(2),_h("ngTemplateOutlet",o),tc(1),_h("ngTemplateOutlet",a),tc(1),_h("ngIf",e.hasBorder)}}function TT(e,t){1&e&&Th(0)}function AT(e,t){1&e&&Th(0)}function RT(e,t){1&e&&Th(0)}function kT(e,t){1&e&&Th(0)}function OT(e,t){1&e&&Th(0)}function FT(e,t){1&e&&Th(0)}function PT(e,t){1&e&&Th(0)}function MT(e,t){if(1&e&&(yh(0,TT,1,0,"ng-container",14),Ch(1,"div",22)(2,"div",23),yh(3,AT,1,0,"ng-container",14),yh(4,RT,1,0,"ng-container",14),Sh(),yh(5,kT,1,0,"ng-container",14),yh(6,OT,1,0,"ng-container",14),Ch(7,"div",27),yh(8,FT,1,0,"ng-container",14),yh(9,PT,1,0,"ng-container",14),Sh()()),2&e){Vh();let e=xh(4),t=xh(8),i=xh(10),n=xh(6),r=xh(12),s=xh(14),o=xh(16);_h("ngTemplateOutlet",e),tc(3),_h("ngTemplateOutlet",t),tc(1),_h("ngTemplateOutlet",i),tc(1),_h("ngTemplateOutlet",n),tc(1),_h("ngTemplateOutlet",r),tc(2),_h("ngTemplateOutlet",s),tc(1),_h("ngTemplateOutlet",o)}}function VT(e,t){1&e&&Th(0)}function NT(e,t){if(1&e&&(Eh(0),yh(1,VT,1,0,"ng-container",14),Ih()),2&e){Vh(2);let e=xh(22);tc(1),_h("ngTemplateOutlet",e)}}function LT(e,t){1&e&&Th(0)}function HT(e,t){if(1&e&&(Eh(0),yh(1,LT,1,0,"ng-container",14),Ih()),2&e){Vh(2);let e=xh(20);tc(1),_h("ngTemplateOutlet",e)}}function BT(e,t){1&e&&Th(0)}function zT(e,t){if(1&e&&(Eh(0),yh(1,BT,1,0,"ng-container",14),Ih()),2&e){Vh(2);let e=xh(20);tc(1),_h("ngTemplateOutlet",e)}}function GT(e,t){1&e&&Th(0)}function $T(e,t){if(1&e&&(Eh(0),yh(1,GT,1,0,"ng-container",14),Ih()),2&e){Vh(2);let e=xh(18);tc(1),_h("ngTemplateOutlet",e)}}function WT(e,t){1&e&&(Eh(0,30),yh(1,NT,2,1,"ng-container",31),yh(2,HT,2,1,"ng-container",31),yh(3,zT,2,1,"ng-container",31),yh(4,$T,2,1,"ng-container",32),Ih()),2&e&&(_h("ngSwitch",Vh().theme),tc(1),_h("ngSwitchCase","bootstrap"),tc(1),_h("ngSwitchCase","fluent"),tc(1),_h("ngSwitchCase","indigo-design"))}var KT=[[["igx-hint"],["","igxHint",""]],[["","igxLabel",""]],[["","igxInput",""]],[["igx-prefix"],["","igxPrefix",""]],[["igx-suffix"],["","igxSuffix",""]]],jT=["igx-hint, [igxHint]","[igxLabel]","[igxInput]","igx-prefix, [igxPrefix]","igx-suffix, [igxSuffix]"],UT=(()=>{let e=class extends kI{set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}get validClass(){return this.input.valid===wI.VALID}get invalidClass(){return this.input.valid===wI.INVALID}get isFilled(){return this._filled||this.input&&this.input.value}get componentSize(){return this.getComponentSizeStyles()}get textAreaClass(){return this.input.isTextArea}set type(e){this._type=e}get type(){return this._type||this._inputGroupType||"line"}set theme(e){this._theme=e}get theme(){return this._theme}constructor(e,t,i,n,r,s){super(t,e),this.element=e,this._inputGroupType=i,this.document=n,this.platform=r,this.cdr=s,this.defaultClass=!0,this.hasPlaceholder=!1,this.isRequired=!1,this.isFocused=!1,this.disabled=!1,this.suppressInputAutofocus=!1,this.hasWarning=!1,this._type=null,this._filled=!1,this._theme$=new Xe,this._resourceStrings=FI.InputResStrings,this._subscription=this._theme$.asObservable().subscribe((e=>{this._theme=e,this.cdr.detectChanges()}))}onClick(e){!this.isFocused&&e.target!==this.input.nativeElement&&!this.suppressInputAutofocus&&this.input.focus()}onPointerDown(e){this.isFocused&&e.target!==this.input.nativeElement&&e.preventDefault()}hintClickHandler(e){e.stopPropagation()}get hasHints(){return this.hints.length>0}get hasPrefixes(){return this._prefixes.length>0||this.isFileType}set prefixes(e){this._prefixes=e}get hasSuffixes(){return this._suffixes.length>0||this.isFileType&&this.isFilled}set suffixes(e){this._suffixes=e}get hasBorder(){return("line"===this.type||"box"===this.type)&&"material"===this._theme}get isTypeLine(){return"line"===this.type&&"material"===this._theme}get isTypeBox(){return"box"===this.type&&"material"===this._theme}uploadButtonHandler(){this.input.nativeElement.click()}clearValueHandler(){this.input.clear()}get isFileType(){return"file"===this.input.type}get fileNames(){return this.input.fileNames||this._resourceStrings.igx_input_file_placeholder}get isTypeBorder(){return"border"===this.type&&"material"===this._theme}get isTypeFluent(){return"fluent"===this._theme}get isTypeBootstrap(){return"bootstrap"===this._theme}get isTypeIndigo(){return"indigo-design"===this._theme}get isTypeSearch(){return"search"===this.type}get filled(){return this._filled}set filled(e){this._filled=e}ngAfterViewChecked(){if(!this._theme){let e=this.document.defaultView.getComputedStyle(this.element.nativeElement).getPropertyValue("--theme").trim();""!==e&&Promise.resolve().then((()=>{this._theme$.next(e),this.cdr.markForCheck()}))}}ngOnDestroy(){this._subscription.unsubscribe()}};return e.fac=function(t){return new(t||e)(nc(wd),nc(RI,8),nc(BI,8),nc(Hp),nc(ob),nc(fp))},e.cmp=tr({type:e,selectors:[["igx-input-group"]],contentQueries:function(e,t,i){if(1&e&&(zg(i,CI,7,CI),zg(i,vI,4,vI),zg(i,DI,5,DI),zg(i,EI,5,EI)),2&e){let e;Hg(e=Gg())&&(t.input=e.first),Hg(e=Gg())&&(t.hints=e),Hg(e=Gg())&&(t._prefixes=e),Hg(e=Gg())&&(t._suffixes=e)}},hostVars:40,hostBindings:function(e,t){1&e&&Fh("click",(function(e){return t.onClick(e)}))("pointerdown",(function(e){return t.onPointerDown(e)})),2&e&&(tu("--component-size",t.componentSize),iu("igx-input-group",t.defaultClass)("igx-input-group--placeholder",t.hasPlaceholder)("igx-input-group--required",t.isRequired)("igx-input-group--focused",t.isFocused)("igx-input-group--disabled",t.disabled)("igx-input-group--warning",t.hasWarning)("igx-input-group--valid",t.validClass)("igx-input-group--invalid",t.invalidClass)("igx-input-group--filled",t.isFilled)("igx-input-group--textarea-group",t.textAreaClass)("igx-input-group--prefixed",t.hasPrefixes)("igx-input-group--suffixed",t.hasSuffixes)("igx-input-group--box",t.isTypeBox)("igx-input-group--file",t.isFileType)("igx-input-group--border",t.isTypeBorder)("igx-input-group--fluent",t.isTypeFluent)("igx-input-group--bootstrap",t.isTypeBootstrap)("igx-input-group--indigo",t.isTypeIndigo)("igx-input-group--search",t.isTypeSearch))},inputs:{resourceStrings:"resourceStrings",suppressInputAutofocus:"suppressInputAutofocus",type:"type",theme:"theme"},standalone:!0,features:[Nu([{provide:xI,useExisting:e}]),th,Wu],ngContentSelectors:jT,decls:25,vars:2,consts:[["class","igx-input-group__wrapper",4,"ngIf","ngIfElse"],[1,"igx-input-group__hint",3,"click"],["label",""],["input",""],["prefix",""],["uploadButton",""],["files",""],["clear",""],["suffix",""],["materialBundle",""],["fluentBundle",""],["bootstrapBundle",""],["bundle",""],[1,"igx-input-group__wrapper"],[4,"ngTemplateOutlet"],["class","igx-input-group__upload-button",4,"ngIf"],[1,"igx-input-group__upload-button"],["igxButton","raised","type","button",3,"displayDensity","disabled","ngClass","click"],["class","igx-input-group__file-input",3,"title",4,"ngIf"],[1,"igx-input-group__file-input",3,"title"],["class","igx-input-group__clear-icon","title","clear files","tabindex","0",3,"click","keydown.Enter",4,"ngIf"],["title","clear files","tabindex","0",1,"igx-input-group__clear-icon",3,"click","keydown.Enter"],[1,"igx-input-group__bundle"],[1,"igx-input-group__bundle-start"],[1,"igx-input-group__notch"],[1,"igx-input-group__bundle-main"],[1,"igx-input-group__filler"],[1,"igx-input-group__bundle-end"],["class","igx-input-group__line",4,"ngIf"],[1,"igx-input-group__line"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(e,t){if(1&e&&(Lh(KT),yh(0,QI,2,1,"div",0),Ch(1,"div",1),Fh("click",(function(e){return t.hintClickHandler(e)})),Hh(2),Sh(),yh(3,JI,1,0,"ng-template",null,2,jg),yh(5,eT,1,0,"ng-template",null,3,jg),yh(7,tT,1,0,"ng-template",null,4,jg),yh(9,rT,1,1,"ng-template",null,5,jg),yh(11,oT,1,1,"ng-template",null,6,jg),yh(13,lT,1,1,"ng-template",null,7,jg),yh(15,dT,1,0,"ng-template",null,8,jg),yh(17,vT,15,8,"ng-template",null,9,jg),yh(19,IT,12,8,"ng-template",null,10,jg),yh(21,MT,10,7,"ng-template",null,11,jg),yh(23,WT,5,4,"ng-template",null,12,jg)),2&e){let e=xh(24);_h("ngIf",t.isTypeBox)("ngIfElse",e)}},dependencies:[$m,Zm,DI,HI,Bm,EI,XI,Um,qm,Ym],encapsulation:2}),e})(),qT=function(e){return e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT",e}(qT||{}),YT=function(e){return e[e.VERTICAL=0]="VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL",e[e.BOTH=2]="BOTH",e}(YT||{}),XT=class{constructor(e,t){this._pageX=e,this._pageY=t,this.pageX=parseFloat(e),this.pageY=parseFloat(t)}},ZT=(()=>{let e=class{constructor(e){this.element=e,this.baseClass=!0,this.parentDragElement=null}};return e.fac=function(t){return new(t||e)(nc(wd))},e.dir=or({type:e,selectors:[["","igxDragHandle",""]],hostVars:2,hostBindings:function(e,t){2&e&&iu("igx-drag__handle",t.baseClass)},standalone:!0}),e})(),QT=(()=>{let e=class{constructor(e){this.element=e,this.baseClass=!0}};return e.fac=function(t){return new(t||e)(nc(wd))},e.dir=or({type:e,selectors:[["","igxDragIgnore",""]],hostVars:2,hostBindings:function(e,t){2&e&&iu("igx-drag__ignore",t.baseClass)},standalone:!0}),e})(),JT=(()=>{let e=class{set data(e){this._data=e}get data(){return this._data}get location(){return new XT(this.pageX,this.pageY)}get originLocation(){return new XT(this.baseOriginLeft,this.baseOriginTop)}get pointerEventsEnabled(){return typeof PointerEvent<"u"}get touchEventsEnabled(){return"ontouchstart"in window}get pageX(){return this.ghost&&this.ghostElement?this.ghostLeft:this.baseLeft+this.windowScrollLeft}get pageY(){return this.ghost&&this.ghostElement?this.ghostTop:this.baseTop+this.windowScrollTop}get baseLeft(){return this.element.nativeElement.getBoundingClientRect().left}get baseTop(){return this.element.nativeElement.getBoundingClientRect().top}get baseOriginLeft(){return this.baseLeft-this.getTransformX(this.element.nativeElement)}get baseOriginTop(){return this.baseTop-this.getTransformY(this.element.nativeElement)}set ghostLeft(e){if(this.ghostElement){let t=parseInt(document.defaultView.getComputedStyle(this.ghostElement)["margin-left"],10);this.ghostElement.style.left=e-t-this._ghostHostX+"px"}}get ghostLeft(){if(this.ghostElement)return parseInt(this.ghostElement.style.left,10)+this._ghostHostX}set ghostTop(e){if(this.ghostElement){let t=parseInt(document.defaultView.getComputedStyle(this.ghostElement)["margin-top"],10);this.ghostElement.style.top=e-t-this._ghostHostY+"px"}}get ghostTop(){if(this.ghostElement)return parseInt(this.ghostElement.style.top,10)+this._ghostHostY}get windowScrollTop(){return document.documentElement.scrollTop||window.scrollY}get windowScrollLeft(){return document.documentElement.scrollLeft||window.scrollX}get windowScrollHeight(){return document.documentElement.scrollHeight}get windowScrollWidth(){return document.documentElement.scrollWidth}set ghostOffsetX(e){this._offsetX=parseInt(e,10)}get ghostOffsetX(){return void 0!==this._offsetX?this._offsetX:this._defaultOffsetX}set ghostOffsetY(e){this._offsetY=parseInt(e,10)}get ghostOffsetY(){return void 0!==this._offsetY?this._offsetY:this._defaultOffsetY}constructor(e,t,i,n,r,s){this.cdr=e,this.element=t,this.viewContainer=i,this.zone=n,this.renderer=r,this.platformUtil=s,this.dragTolerance=5,this.dragDirection=YT.BOTH,this.ghost=!0,this.ghostClass="",this.ghostStyle={},this.scrollContainer=null,this.dragStart=new Pd,this.dragMove=new Pd,this.dragEnd=new Pd,this.dragClick=new Pd,this.ghostCreate=new Pd,this.ghostDestroy=new Pd,this.transitioned=new Pd,this.baseClass=!0,this.selectDisabled=!1,this.defaultReturnDuration="0.5s",this.animInProgress=!1,this.ghostContext=null,this._startX=0,this._startY=0,this._lastX=0,this._lastY=0,this._dragStarted=!1,this._ghostHostX=0,this._ghostHostY=0,this._pointerDownId=null,this._clicked=!1,this._lastDropArea=null,this._destroy=new Xe,this._removeOnDestroy=!0,this._scrollContainer=null,this._originalScrollContainerWidth=0,this._originalScrollContainerHeight=0,this._scrollContainerStep=5,this._scrollContainerStepMs=10,this._scrollContainerThreshold=25,this._containerScrollIntervalId=null}ngAfterContentInit(){(!this.dragHandles||!this.dragHandles.length)&&(this.selectDisabled=!0),this.zone.runOutsideAngular((()=>{this.platformUtil.isBrowser&&((this.dragHandles&&this.dragHandles.length?this.dragHandles.filter((e=>null===e.parentDragElement)).map((e=>(e.parentDragElement=this.element.nativeElement,e.element.nativeElement))):[this.element.nativeElement]).forEach((e=>{this.pointerEventsEnabled?(Wt(e,"pointerdown").pipe(Si(this._destroy)).subscribe((e=>this.onPointerDown(e))),Wt(e,"pointermove").pipe(ki((()=>Ut(0,St))),Si(this._destroy)).subscribe((e=>this.onPointerMove(e))),Wt(e,"pointerup").pipe(Si(this._destroy)).subscribe((e=>this.onPointerUp(e))),this.ghost||Wt(e,"lostpointercapture").pipe(Si(this._destroy)).subscribe((e=>this.onPointerLost(e)))):this.touchEventsEnabled?Wt(e,"touchstart").pipe(Si(this._destroy)).subscribe((e=>this.onPointerDown(e))):Wt(e,"mousedown").pipe(Si(this._destroy)).subscribe((e=>this.onPointerDown(e)))})),!this.pointerEventsEnabled&&this.touchEventsEnabled?(Wt(document.defaultView,"touchmove").pipe(ki((()=>Ut(0,St))),Si(this._destroy)).subscribe((e=>this.onPointerMove(e))),Wt(document.defaultView,"touchend").pipe(Si(this._destroy)).subscribe((e=>this.onPointerUp(e)))):this.pointerEventsEnabled||(Wt(document.defaultView,"mousemove").pipe(ki((()=>Ut(0,St))),Si(this._destroy)).subscribe((e=>this.onPointerMove(e))),Wt(document.defaultView,"mouseup").pipe(Si(this._destroy)).subscribe((e=>this.onPointerUp(e)))),this.element.nativeElement.addEventListener("transitionend",(e=>{this.onTransitionEnd(e)})))})),this.element.nativeElement.style.transitionDuration="0.0s"}ngOnDestroy(){this._destroy.next(!0),this._destroy.complete(),this.ghost&&this.ghostElement&&this._removeOnDestroy&&(this.ghostElement.parentNode.removeChild(this.ghostElement),this.ghostElement=null,this._dynamicGhostRef&&(this._dynamicGhostRef.destroy(),this._dynamicGhostRef=null)),this._containerScrollIntervalId&&(clearInterval(this._containerScrollIntervalId),this._containerScrollIntervalId=null)}setLocation(e){if(this.ghost&&this.ghostElement)this.ghostLeft=e.pageX+this.windowScrollLeft,this.ghostTop=e.pageY+this.windowScrollTop;else if(!this.ghost){let t=e.pageX-this.pageX,i=e.pageY-this.pageY,n=this.getTransformX(this.element.nativeElement),r=this.getTransformY(this.element.nativeElement);this.setTransformXY(n+t,r+i)}this._startX=this.baseLeft,this._startY=this.baseTop}transitionToOrigin(e,t){t&&t.pageX===this.baseOriginLeft&&t.pageY===this.baseOriginLeft||!t&&this.ghost&&!this.ghostElement||(t&&t.pageX!==this.pageX&&t.pageY!==this.pageY&&(this.ghost&&!this.ghostElement&&(this._startX=t.pageX,this._startY=t.pageY,this._ghostStartX=this._startX,this._ghostStartY=this._startY,this.createGhost(this._startX,this._startY)),this.setLocation(t)),this.animInProgress=!0,setTimeout((()=>{this.ghost?(this.ghostElement.style.transitionProperty="top, left",this.ghostElement.style.transitionDuration=e&&e.duration?e.duration+"s":this.defaultReturnDuration,this.ghostElement.style.transitionTimingFunction=e&&e.timingFunction?e.timingFunction:"",this.ghostElement.style.transitionDelay=e&&e.delay?e.delay+"s":"",this.setLocation(new XT(this.baseLeft,this.baseTop))):this.ghost||(this.element.nativeElement.style.transitionProperty="transform",this.element.nativeElement.style.transitionDuration=e&&e.duration?e.duration+"s":this.defaultReturnDuration,this.element.nativeElement.style.transitionTimingFunction=e&&e.timingFunction?e.timingFunction:"",this.element.nativeElement.style.transitionDelay=e&&e.delay?e.delay+"s":"",this._startX=this.baseLeft,this._startY=this.baseTop,this.setTransformXY(0,0))}),0))}transitionTo(e,t,i){i&&this.ghost&&!this.ghostElement?(this._startX=i.pageX,this._startY=i.pageY,this._ghostStartX=this._startX,this._ghostStartY=this._startY):!i||this.ghost&&!this.ghostElement?this.ghost&&!this.ghostElement&&(this._startX=this.baseLeft,this._startY=this.baseTop,this._ghostStartX=this._startX+this.windowScrollLeft,this._ghostStartY=this._startY+this.windowScrollTop):this.setLocation(i),this.ghost&&!this.ghostElement&&this.createGhost(this._startX,this._startY),this.animInProgress=!0,setTimeout((()=>{let i=this.ghost?this.ghostElement:this.element.nativeElement;if(i.style.transitionProperty=this.ghost&&this.ghostElement?"left, top":"transform",i.style.transitionDuration=t&&t.duration?t.duration+"s":this.defaultReturnDuration,i.style.transitionTimingFunction=t&&t.timingFunction?t.timingFunction:"",i.style.transitionDelay=t&&t.delay?t.delay+"s":"",e instanceof XT)this.setLocation(new XT(e.pageX,e.pageY));else{let t=e.nativeElement.getBoundingClientRect();this.setLocation(new XT(t.left-this.windowScrollLeft,t.top-this.windowScrollTop))}}),0)}onPointerDown(e){if(this.dragIgnoredElems.find((t=>t.element.nativeElement===e.target)))return;let t=this.dragHandles.find((t=>t.element.nativeElement===e.target)),i=t?t.element.nativeElement:e.target||this.element.nativeElement;if(this.pointerEventsEnabled&&i.isConnected)this._pointerDownId=e.pointerId,i.setPointerCapture(this._pointerDownId);else{if(!i.isConnected)return;i.focus(),e.preventDefault()}this._clicked=!0,this.pointerEventsEnabled||!this.touchEventsEnabled?(this._startX=e.pageX,this._startY=e.pageY):this.touchEventsEnabled&&(this._startX=e.touches[0].pageX,this._startY=e.touches[0].pageY),this._defaultOffsetX=this.baseLeft-this._startX+this.windowScrollLeft,this._defaultOffsetY=this.baseTop-this._startY+this.windowScrollTop,this._ghostStartX=this._startX+this.ghostOffsetX,this._ghostStartY=this._startY+this.ghostOffsetY,this._lastX=this._startX,this._lastY=this._startY}onPointerMove(e){if(this._clicked){let t,i;this.pointerEventsEnabled||!this.touchEventsEnabled?(t=e.pageX,i=e.pageY):this.touchEventsEnabled&&(t=e.touches[0].pageX,i=e.touches[0].pageY,e.preventDefault());let n=t-this._startX,r=i-this._startY;if(!this._dragStarted&&(Math.abs(n)>this.dragTolerance||Math.abs(r)>this.dragTolerance)){let s={originalEvent:e,owner:this,startX:t-n,startY:i-r,pageX:t,pageY:i,cancel:!1};if(this.zone.run((()=>{this.dragStart.emit(s)})),s.cancel)return;if(this._dragStarted=!0,this.ghost)this.createGhost(t,i);else if(void 0!==this._offsetX||void 0!==this._offsetY){let e=(void 0!==this._offsetX?this._offsetX-this._defaultOffsetX:0)+this.getTransformX(this.element.nativeElement),t=(void 0!==this._offsetY?this._offsetY-this._defaultOffsetY:0)+this.getTransformY(this.element.nativeElement);this.setTransformXY(e,t)}}else if(!this._dragStarted)return;let s={originalEvent:e,owner:this,startX:this._startX,startY:this._startY,pageX:this._lastX,pageY:this._lastY,nextPageX:t,nextPageY:i,cancel:!1};this.dragMove.emit(s);let o=s.nextPageX,a=s.nextPageY;if(!s.cancel){if(this.onScrollContainer(),this.ghost){let e=this.dragDirection===YT.VERTICAL?0:o-this._startX,t=this.dragDirection===YT.HORIZONTAL?0:a-this._startY;this.ghostLeft=this._ghostStartX+e,this.ghostTop=this._ghostStartY+t}else{let e=this.dragDirection===YT.VERTICAL?0:o-this._lastX,t=this.dragDirection===YT.HORIZONTAL?0:a-this._lastY,i=this.getTransformX(this.element.nativeElement)+e,n=this.getTransformY(this.element.nativeElement)+t;this.setTransformXY(i,n)}this.dispatchDragEvents(t,i,e)}this._lastX=o,this._lastY=a}}onPointerUp(e){if(!this._clicked)return;let t,i;this.pointerEventsEnabled||!this.touchEventsEnabled?(t=e.pageX,i=e.pageY):this.touchEventsEnabled&&(t=e.touches[0].pageX,i=e.touches[0].pageY,e.preventDefault());let n={originalEvent:e,owner:this,startX:this._startX,startY:this._startY,pageX:t,pageY:i};this._pointerDownId=null,this._clicked=!1,this._dragStarted?(this._lastDropArea&&this._lastDropArea!==this.element.nativeElement&&this.dispatchDropEvent(e.pageX,e.pageY,e),this.zone.run((()=>{this.dragEnd.emit(n)})),this.animInProgress||this.onTransitionEnd(null)):this.zone.run((()=>{this.dragClick.emit(n)})),this._containerScrollIntervalId&&(clearInterval(this._containerScrollIntervalId),this._containerScrollIntervalId=null)}onPointerLost(e){if(!this._clicked)return;if(this._pointerDownId&&this.ghostElement&&this._dynamicGhostRef&&!this._dynamicGhostRef.destroyed){let e=!1;if(this.ghostHost&&!Array.from(this.ghostHost.children).includes(this.ghostElement)?(e=!0,this.ghostHost.appendChild(this.ghostElement)):!this.ghostHost&&!Array.from(document.body.children).includes(this.ghostElement)&&(e=!0,document.body.appendChild(this.ghostElement)),e)return void this.ghostElement.setPointerCapture(this._pointerDownId)}let t={originalEvent:e,owner:this,startX:this._startX,startY:this._startY,pageX:e.pageX,pageY:e.pageY};this._pointerDownId=null,this._clicked=!1,this._dragStarted&&(this.zone.run((()=>{this.dragEnd.emit(t)})),this.animInProgress||this.onTransitionEnd(null))}onTransitionEnd(e){if((this._dragStarted||this.animInProgress)&&!this._clicked){if(this.ghost&&this.ghostElement){this._ghostStartX=this.baseLeft+this.windowScrollLeft,this._ghostStartY=this.baseTop+this.windowScrollTop;let e={owner:this,ghostElement:this.ghostElement,cancel:!1};if(this.ghostDestroy.emit(e),e.cancel)return;this.ghostElement.remove(),this.ghostElement=null,this._dynamicGhostRef&&(this._dynamicGhostRef.destroy(),this._dynamicGhostRef=null)}else this.ghost||(this.element.nativeElement.style.transitionProperty="",this.element.nativeElement.style.transitionDuration="0.0s",this.element.nativeElement.style.transitionTimingFunction="",this.element.nativeElement.style.transitionDelay="");this.animInProgress=!1,this._dragStarted=!1,this.zone.run((()=>{this.transitioned.emit({originalEvent:e,owner:this,startX:this._startX,startY:this._startY,pageX:this._startX,pageY:this._startY})}))}}createGhost(e,t,i=null){if(!this.ghost)return;this.ghostTemplate?(this.zone.run((()=>{this._dynamicGhostRef=this.viewContainer.createEmbeddedView(this.ghostTemplate,this.ghostContext)})),"contents"===this._dynamicGhostRef.rootNodes[0].style.display&&(this._dynamicGhostRef.rootNodes[0].style.display="block"),this.ghostElement=this._dynamicGhostRef.rootNodes[0]):this.ghostElement=i?i.cloneNode(!0):this.element.nativeElement.cloneNode(!0);let n=e-this._startX,r=t-this._startY;this._ghostHostX=this.getGhostHostBaseOffsetX(),this._ghostHostY=this.getGhostHostBaseOffsetY(),this.ghostElement.style.transitionDuration="0.0s",this.ghostElement.style.position="absolute",this.ghostClass&&this.renderer.addClass(this.ghostElement,this.ghostClass),this.ghostStyle&&Object.entries(this.ghostStyle).map((([e,t])=>{this.renderer.setStyle(this.ghostElement,e,t,pa.DashCase)}));let s={owner:this,ghostElement:this.ghostElement,cancel:!1};if(this.ghostCreate.emit(s),s.cancel)return this.ghostElement=null,void(this.ghostTemplate&&this._dynamicGhostRef&&this._dynamicGhostRef.destroy());this.ghostHost?this.ghostHost.appendChild(this.ghostElement):document.body.appendChild(this.ghostElement);let o=parseInt(document.defaultView.getComputedStyle(this.ghostElement)["margin-left"],10),a=parseInt(document.defaultView.getComputedStyle(this.ghostElement)["margin-top"],10);this.ghostElement.style.left=this._ghostStartX-o+n-this._ghostHostX+"px",this.ghostElement.style.top=this._ghostStartY-a+r-this._ghostHostY+"px",this.pointerEventsEnabled&&(null!==this._pointerDownId&&this.ghostElement.setPointerCapture(this._pointerDownId),this.ghostElement.addEventListener("pointermove",(e=>{this.onPointerMove(e)})),this.ghostElement.addEventListener("pointerup",(e=>{this.onPointerUp(e)})),this.ghostElement.addEventListener("lostpointercapture",(e=>{this.onPointerLost(e)}))),this.ghostElement.addEventListener("transitionend",(e=>{this.onTransitionEnd(e)})),this.cdr.detectChanges()}dispatchDragEvents(e,t,i){let n,r={startX:this._startX,startY:this._startY,pageX:e,pageY:t,owner:this,originalEvent:i},s=this.getElementsAtPoint(e,t),o=[];for(let i of s)i?.shadowRoot?o=o.concat(this.getFromShadowRoot(i,e,t,s)):-1===o.indexOf(i)&&o.push(i);for(let e of o)if("true"===e.getAttribute("droppable")&&e!==this.ghostElement&&e!==this.element.nativeElement){n=e;break}if(n&&(!this._lastDropArea||this._lastDropArea&&this._lastDropArea!==n))this._lastDropArea&&this.dispatchEvent(this._lastDropArea,"igxDragLeave",r),this._lastDropArea=n,this.dispatchEvent(this._lastDropArea,"igxDragEnter",r);else if(!n&&this._lastDropArea)return this.dispatchEvent(this._lastDropArea,"igxDragLeave",r),void(this._lastDropArea=null);n&&this.dispatchEvent(n,"igxDragOver",r)}getFromShadowRoot(e,t,i,n){let r=e.shadowRoot.elementsFromPoint(t,i),s=r.filter((e=>-1===n.indexOf(e))),o=[];for(let n of s)n?.shadowRoot&&n.shadowRoot!==e.shadowRoot&&(o=o.concat(this.getFromShadowRoot(n,t,i,r))),o.push(n);return o}dispatchDropEvent(e,t,i){let n={startX:this._startX,startY:this._startY,pageX:e,pageY:t,owner:this,originalEvent:i};this.dispatchEvent(this._lastDropArea,"igxDrop",n),this.dispatchEvent(this._lastDropArea,"igxDragLeave",n),this._lastDropArea=null}getElementsAtPoint(e,t){let i=e-window.pageXOffset,n=t-window.pageYOffset;if(document.msElementsFromPoint){let e=document.msElementsFromPoint(i,n);return null===e?[]:e}return document.elementsFromPoint(i,n)}dispatchEvent(e,t,i){let n=document.createEvent("CustomEvent");n.initCustomEvent(t,!1,!1,i),e.dispatchEvent(n)}getTransformX(e){let t=0;if(e.style.transform){let i=e.style.transform,n=i?i.match(/-?[\d\.]+/g):void 0;t=n?Number(n[1]):0}return t}getTransformY(e){let t=0;if(e.style.transform){let i=e.style.transform,n=i?i.match(/-?[\d\.]+/g):void 0;t=n?Number(n[2]):0}return t}setTransformXY(e,t){this.element.nativeElement.style.transform="translate3d("+e+"px, "+t+"px, 0px)"}getGhostHostBaseOffsetX(){if(!this.ghostHost)return 0;let e=document.defaultView.getComputedStyle(this.ghostHost).getPropertyValue("position");return"static"===e&&this.ghostHost.offsetParent&&this.ghostHost.offsetParent===document.body?0:"static"===e&&this.ghostHost.offsetParent?this.ghostHost.offsetParent.getBoundingClientRect().left+this.windowScrollLeft:this.ghostHost.getBoundingClientRect().left+this.windowScrollLeft}getGhostHostBaseOffsetY(){if(!this.ghostHost)return 0;let e=document.defaultView.getComputedStyle(this.ghostHost).getPropertyValue("position");return"static"===e&&this.ghostHost.offsetParent&&this.ghostHost.offsetParent===document.body?0:"static"===e&&this.ghostHost.offsetParent?this.ghostHost.offsetParent.getBoundingClientRect().top+this.windowScrollTop:this.ghostHost.getBoundingClientRect().top+this.windowScrollTop}getContainerScrollDirection(){let e=this.scrollContainer?this.scrollContainer.getBoundingClientRect():null,t=this.scrollContainer?this.scrollContainer.scrollLeft>0:this.windowScrollLeft>0,i=this.scrollContainer?this.scrollContainer.scrollTop>0:this.windowScrollTop>0,n=(this.scrollContainer?e.top:0)+this.windowScrollTop+this._scrollContainerThreshold,r=this.ghost&&this.ghostElement?this.ghostElement.offsetHeight:this.element.nativeElement.offsetHeight,s=(this.scrollContainer?e.bottom:window.innerHeight)+this.windowScrollTop-this._scrollContainerThreshold-r,o=(this.scrollContainer?e.left:0)+this.windowScrollLeft+this._scrollContainerThreshold,a=this.ghost&&this.ghostElement?this.ghostElement.offsetWidth:this.element.nativeElement.offsetWidth,l=(this.scrollContainer?e.right:window.innerWidth)+this.windowScrollLeft-this._scrollContainerThreshold-a;return this.pageY<=n&&i?qT.UP:this.pageY>s?qT.DOWN:this.pageX<o&&t?qT.LEFT:this.pageX>l?qT.RIGHT:null}onScrollContainerStep(e){St.schedule((()=>{let t=e==qT.LEFT?-1:e==qT.RIGHT?1:0,i=e==qT.UP?-1:e==qT.DOWN?1:0;if(this.scrollContainer){let e=this._originalScrollContainerWidth-this.scrollContainer.clientWidth,n=this._originalScrollContainerHeight-this.scrollContainer.clientHeight;t=this.scrollContainer.scrollLeft<=0&&t<0||this.scrollContainer.scrollLeft>=e&&t>0?0:t,i=this.scrollContainer.scrollTop<=0&&i<0||this.scrollContainer.scrollTop>=n&&i>0?0:i}else{let e=this._originalScrollContainerWidth-document.documentElement.clientWidth,n=this._originalScrollContainerHeight-document.documentElement.clientHeight;t=this.windowScrollLeft<=0&&t<0||this.windowScrollLeft>=e&&t>0?0:t,i=this.windowScrollTop<=0&&i<0||this.windowScrollTop>=n&&i>0?0:i}let n=t*this._scrollContainerStep,r=i*this._scrollContainerStep;if(this.scrollContainer?(this.scrollContainer.scrollLeft+=n,this.scrollContainer.scrollTop+=r):window.scrollBy(n,r),this.ghost&&!this.scrollContainer)this.ghostLeft+=n,this.ghostTop+=r;else if(!this.ghost){let e=this.getTransformX(this.element.nativeElement)+n,t=this.getTransformY(this.element.nativeElement)+r;this.setTransformXY(e,t),this.scrollContainer||(this._lastX+=n,this._lastY+=r)}}))}onScrollContainer(){let e=this.getContainerScrollDirection();null==e||this._containerScrollIntervalId?null==e&&this._containerScrollIntervalId&&(clearInterval(this._containerScrollIntervalId),this._containerScrollIntervalId=null):(this._originalScrollContainerWidth=this.scrollContainer?this.scrollContainer.scrollWidth:this.windowScrollWidth,this._originalScrollContainerHeight=this.scrollContainer?this.scrollContainer.scrollHeight:this.windowScrollHeight,this._containerScrollIntervalId=setInterval((()=>this.onScrollContainerStep(e)),this._scrollContainerStepMs))}};return e.fac=function(t){return new(t||e)(nc(fp),nc(wd),nc(Cg),nc(Vd),nc(bd),nc(ob))},e.dir=or({type:e,selectors:[["","igxDrag",""]],contentQueries:function(e,t,i){if(1&e&&(zg(i,ZT,5),zg(i,QT,5)),2&e){let e;Hg(e=Gg())&&(t.dragHandles=e),Hg(e=Gg())&&(t.dragIgnoredElems=e)}},hostVars:4,hostBindings:function(e,t){2&e&&iu("igx-drag",t.baseClass)("igx-drag--select-disabled",t.selectDisabled)},inputs:{data:["igxDrag","data"],dragTolerance:"dragTolerance",dragDirection:"dragDirection",dragChannel:"dragChannel",ghost:"ghost",ghostClass:"ghostClass",ghostStyle:"ghostStyle",ghostTemplate:"ghostTemplate",ghostHost:"ghostHost",scrollContainer:"scrollContainer",ghostOffsetX:"ghostOffsetX",ghostOffsetY:"ghostOffsetY"},outputs:{dragStart:"dragStart",dragMove:"dragMove",dragEnd:"dragEnd",dragClick:"dragClick",ghostCreate:"ghostCreate",ghostDestroy:"ghostDestroy",transitioned:"transitioned"},exportAs:["drag"],standalone:!0}),e})(),eA=(()=>{let e=class{set data(e){this._data=e}get data(){return this._data}set dropStrategy(e){this._dropStrategy=new e(this._renderer)}get dropStrategy(){return this._dropStrategy}constructor(e,t,i){this.element=e,this._renderer=t,this._zone=i,this.enter=new Pd,this.over=new Pd,this.leave=new Pd,this.dropped=new Pd,this.droppable=!0,this.dragover=!1,this._destroy=new Xe,this._dropStrategy=new class{dropAction(e,t,i){}}}onDragDrop(e){if(!this.isDragLinked(e.detail.owner))return;let t=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),i=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),n=e.detail.pageX-t,r=e.detail.pageY-i,s={owner:this,originalEvent:e.detail.originalEvent,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:n,offsetY:r,cancel:!1};if(this._zone.run((()=>{this.dropped.emit(s)})),this._dropStrategy&&!s.cancel){let t=e.detail.owner.getElementsAtPoint(e.detail.pageX,e.detail.pageY),i=this.getInsertIndexAt(e.detail.owner,t);this._dropStrategy.dropAction(e.detail.owner,this,i)}}ngOnInit(){this._zone.runOutsideAngular((()=>{Wt(this.element.nativeElement,"igxDragEnter").pipe(Si(this._destroy)).subscribe((e=>this.onDragEnter(e))),Wt(this.element.nativeElement,"igxDragLeave").pipe(Si(this._destroy)).subscribe((e=>this.onDragLeave(e))),Wt(this.element.nativeElement,"igxDragOver").pipe(Si(this._destroy)).subscribe((e=>this.onDragOver(e)))}))}ngOnDestroy(){this._destroy.next(!0),this._destroy.complete()}onDragOver(e){let t=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),i=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),n=e.detail.pageX-t,r=e.detail.pageY-i,s={originalEvent:e.detail.originalEvent,owner:this,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:n,offsetY:r};this.over.emit(s)}onDragEnter(e){if(!this.isDragLinked(e.detail.owner))return;this.dragover=!0;let t=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),i=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),n=e.detail.pageX-t,r=e.detail.pageY-i,s={originalEvent:e.detail.originalEvent,owner:this,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:n,offsetY:r};this._zone.run((()=>{this.enter.emit(s)}))}onDragLeave(e){if(!this.isDragLinked(e.detail.owner))return;this.dragover=!1;let t=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),i=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),n=e.detail.pageX-t,r=e.detail.pageY-i,s={originalEvent:e.detail.originalEvent,owner:this,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:n,offsetY:r};this._zone.run((()=>{this.leave.emit(s)}))}getWindowScrollTop(){return window.scrollY?window.scrollY:window.pageYOffset?window.pageYOffset:0}getWindowScrollLeft(){return window.scrollX?window.scrollX:window.pageXOffset?window.pageXOffset:0}isDragLinked(e){let t=e.dragChannel instanceof Array,i=this.dropChannel instanceof Array;if(!t&&!i)return this.dropChannel===e.dragChannel;if(!t&&i){let t=this.dropChannel;for(let i of t)if(i===e.dragChannel)return!0}else if(t&&!i){let t=e.dragChannel;for(let e of t)if(e===this.dropChannel)return!0}else{let t=e.dragChannel,i=this.dropChannel;for(let e of t)for(let t of i)if(e===t)return!0}return!1}getInsertIndexAt(e,t){let i=-1,n=Array.prototype.slice.call(this.element.nativeElement.children);if(!n.length)return i;let r=0,s=null;for(;!s&&r<t.length;)t[r].parentElement===this.element.nativeElement&&(s=t[r]),r++;let o=n.indexOf(e.element.nativeElement);return i=n.indexOf(s),-1!==o&&o<i&&i++,i}};return e.fac=function(t){return new(t||e)(nc(wd),nc(bd),nc(Vd))},e.dir=or({type:e,selectors:[["","igxDrop",""]],hostVars:3,hostBindings:function(e,t){1&e&&Fh("igxDrop",(function(e){return t.onDragDrop(e)})),2&e&&(ph("droppable",t.droppable),iu("dragOver",t.dragover))},inputs:{data:["igxDrop","data"],dropChannel:"dropChannel",dropStrategy:"dropStrategy"},outputs:{enter:"enter",over:"over",leave:"leave",dropped:"dropped"},exportAs:["drop"],standalone:!0}),e})(),tA=new Ll("EditorProvider"),iA=(()=>{let e=class{get focused(){return this.focusState}set focused(e){this.focusState=e,this.trigger()}get nativeElement(){return this.comp&&this.comp[0]&&this.comp[0].getEditElement?this.comp[0].getEditElement():this.control&&this.control[0]&&this.control[0].getEditElement?this.control[0].getEditElement():this.element.nativeElement}constructor(e,t,i){this.element=e,this.comp=t,this.control=i,this.focusState=!0}trigger(){this.focusState&&requestAnimationFrame((()=>this.nativeElement.focus({preventScroll:!0})))}};return e.fac=function(t){return new(t||e)(nc(wd),nc(h_,10),nc(tA,10))},e.dir=or({type:e,selectors:[["","igxFocus",""]],inputs:{focused:["igxFocus","focused"]},exportAs:["igxFocus"],standalone:!0}),e})(),nA=(()=>{let e=class{constructor(e,t){this.element=e,this._zone=t,this.wheelStep=50,this.inertiaStep=1.5,this.smoothingStep=1.5,this.smoothingDuration=.5,this.swipeToleranceX=20,this.inertiaDeltaY=3,this.inertiaDeltaX=2,this.inertiaDuration=.5,this._savedSpeedsX=[],this.baseDeltaMultiplier=1/120,this.firefoxDeltaMultiplier=1/30}ngOnInit(){this._zone.runOutsideAngular((()=>{if(this.parentElement=this.element.nativeElement.parentElement||this.element.nativeElement.parentNode,!this.parentElement)return;let e=this.parentElement;e.addEventListener("wheel",this.onWheel.bind(this)),e.addEventListener("touchstart",this.onTouchStart.bind(this)),e.addEventListener("touchmove",this.onTouchMove.bind(this)),e.addEventListener("touchend",this.onTouchEnd.bind(this))}))}ngOnDestroy(){this._zone.runOutsideAngular((()=>{let e=this.parentElement;e&&(e.removeEventListener("wheel",this.onWheel),e.removeEventListener("touchstart",this.onTouchStart),e.removeEventListener("touchmove",this.onTouchMove),e.removeEventListener("touchend",this.onTouchEnd))}))}onWheel(e){if(!this.IgxScrollInertiaScrollContainer||e.ctrlKey)return;let t,i,n=this.wheelStep,r=1/this.wheelStep,s=0!==this.smoothingDuration;if(this._startX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._startY=this.IgxScrollInertiaScrollContainer.scrollTop,e.wheelDeltaX)t=-e.wheelDeltaX*this.baseDeltaMultiplier,-r<t&&t<r&&(t=Math.sign(t)*r);else if(e.deltaX){let i=e.deltaX*(0===e.deltaMode?this.firefoxDeltaMultiplier:1);t=this.calcAxisCoords(i,-1,1)}if(e.wheelDeltaY)i=-e.wheelDeltaY*this.baseDeltaMultiplier,-r<i&&i<r&&(i=Math.sign(i)*r);else if(e.deltaY){let t=e.deltaY*(0===e.deltaMode?this.firefoxDeltaMultiplier:1);i=this.calcAxisCoords(t,-1,1)}if(!e.composedPath||!this.didChildScroll(e,t,i))if(t&&"horizontal"===this.IgxScrollInertiaDirection){let i=this._startX+t*n;s?this._smoothWheelScroll(t):this._scrollToX(i);let r=parseInt(this.IgxScrollInertiaScrollContainer.children[0].style.width,10);0<i&&i<r&&e.preventDefault()}else if(e.shiftKey&&i&&"horizontal"===this.IgxScrollInertiaDirection)if(s)this._smoothWheelScroll(i);else{let e=this._startX+i*n;this._scrollToX(e)}else if(!e.shiftKey&&i&&"vertical"===this.IgxScrollInertiaDirection){let t=this._startY+i*n;s?this._smoothWheelScroll(i):this._scrollToY(t),this.preventParentScroll(e,!0,t)}}preventParentScroll(e,t,i=0){let n=0===i?this.IgxScrollInertiaScrollContainer.scrollTop:i,r=this.IgxScrollInertiaScrollContainer.children[0].scrollHeight-this.IgxScrollInertiaScrollContainer.offsetHeight;0<n&&n<r&&(t&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())}didChildScroll(e,t,i){let n=e.composedPath(),r=0;for(;r<n.length&&"igx-display-container"!==n[r].localName;){let e=n[r++];if(e.scrollHeight>e.clientHeight){let t=window.getComputedStyle(e)["overflow-y"];if(("auto"===t||"scroll"===t)&&(i>0&&e.scrollHeight-Math.abs(Math.round(e.scrollTop))!==e.clientHeight||i<0&&0!==e.scrollTop))return!0}if(e.scrollWidth>e.clientWidth){let i=window.getComputedStyle(e)["overflow-x"];if(("auto"===i||"scroll"===i)&&(t>0&&e.scrollWidth-Math.abs(Math.round(e.scrollLeft))!==e.clientWidth||t<0&&0!==e.scrollLeft))return!0}}return!1}onTouchStart(e){if(!this.IgxScrollInertiaScrollContainer)return!1;cancelAnimationFrame(this._touchInertiaAnimID);let t=e.touches[0];this._startX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._startY=this.IgxScrollInertiaScrollContainer.scrollTop,this._touchStartX=t.pageX,this._touchStartY=t.pageY,this._lastTouchEnd=(new Date).getTime(),this._lastTouchX=t.pageX,this._lastTouchY=t.pageY,this._savedSpeedsX=[],this._savedSpeedsY=[],this._totalMovedX=0,this._offsetRecorded=!1,this._offsetDirection=0,"vertical"===this.IgxScrollInertiaDirection&&this.preventParentScroll(e,!1)}onTouchMove(e){if(!this.IgxScrollInertiaScrollContainer)return;let t=e.touches[0],i=this._startX+(this._touchStartX-t.pageX)*Math.sign(this.inertiaStep),n=this._startY+(this._touchStartY-t.pageY)*Math.sign(this.inertiaStep),r=(new Date).getTime()-this._lastTouchEnd;if(0!==r&&r<100){let e=(this._lastTouchX-t.pageX)/r,i=(this._lastTouchY-t.pageY)/r;this._savedSpeedsX.length<5||this._savedSpeedsX.shift(),this._savedSpeedsX.push(e),this._savedSpeedsY.length<5||this._savedSpeedsY.shift(),this._savedSpeedsY.push(i)}this._lastTouchEnd=(new Date).getTime(),this._lastMovedX=this._lastTouchX-t.pageX,this._lastMovedY=this._lastTouchY-t.pageY,this._lastTouchX=t.pageX,this._lastTouchY=t.pageY,this._totalMovedX+=this._lastMovedX,Math.abs(this._totalMovedX)<this.swipeToleranceX&&!this._offsetRecorded?this._scrollTo(this._startX,n):(this._offsetRecorded||(this._offsetDirection=Math.sign(i-this._startX),this._offsetRecorded=!0),this._scrollTo(i-this._offsetDirection*this.swipeToleranceX,n)),"vertical"===this.IgxScrollInertiaDirection&&this.preventParentScroll(e,!0)}onTouchEnd(e){let t=0,i=0;for(let e=0;e<this._savedSpeedsX.length;e++)t+=this._savedSpeedsX[e],i+=this._savedSpeedsY[e];t=this._savedSpeedsX.length?t/this._savedSpeedsX.length:0,i=this._savedSpeedsX.length?i/this._savedSpeedsY.length:0,(Math.abs(t)>.1||Math.abs(i)>.1)&&(Math.abs(this._lastMovedX)>2||Math.abs(this._lastMovedY)>2)&&this._inertiaInit(t,i),"vertical"===this.IgxScrollInertiaDirection&&this.preventParentScroll(e,!1)}_smoothWheelScroll(e){this._nextY=this.IgxScrollInertiaScrollContainer.scrollTop,this._nextX=this.IgxScrollInertiaScrollContainer.scrollLeft;let t=-1,i=null,n=()=>{if(t>1)return void cancelAnimationFrame(i);let r=(-3*t*t+3)*e*2*this.smoothingStep;"vertical"===this.IgxScrollInertiaDirection?(this._nextY+=r,this._scrollToY(this._nextY)):(this._nextX+=r,this._scrollToX(this._nextX)),t+=1/this.smoothingDuration*.08,i=requestAnimationFrame(n)};i=requestAnimationFrame(n)}_inertiaInit(e,t){let i=this.inertiaStep,n=this.inertiaDuration,r=0;this._nextX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._nextY=this.IgxScrollInertiaScrollContainer.scrollTop;let s=()=>{r>6?cancelAnimationFrame(this._touchInertiaAnimID):(Math.abs(e),Math.abs(t),r+=.05/(1*n),r<=1?(Math.abs(t)<=Math.abs(e)*this.inertiaDeltaY&&(this._nextX+=1*e*15*i),Math.abs(t)>=Math.abs(e)*this.inertiaDeltaX&&(this._nextY+=1*t*15*i)):(Math.abs(t)<=Math.abs(e)*this.inertiaDeltaY&&(this._nextX+=Math.abs(2/(r+.55)-.3)*e*15*i),Math.abs(t)>=Math.abs(e)*this.inertiaDeltaX&&(this._nextY+=Math.abs(2/(r+.55)-.3)*t*15*i)),this._scrollTo(this._nextX,this._nextY),this._touchInertiaAnimID=requestAnimationFrame(s))};this._touchInertiaAnimID=requestAnimationFrame(s)}calcAxisCoords(e,t,i){return void 0===e||e<t?e=t:e>i&&(e=i),e}_scrollTo(e,t){return{x:this._scrollToX(e),y:this._scrollToY(t)}}_scrollToX(e){this.IgxScrollInertiaScrollContainer.scrollLeft=e}_scrollToY(e){this.IgxScrollInertiaScrollContainer.scrollTop=e}};return e.fac=function(t){return new(t||e)(nc(wd),nc(Vd))},e.dir=or({type:e,selectors:[["","igxScrollInertia",""]],inputs:{IgxScrollInertiaDirection:"IgxScrollInertiaDirection",IgxScrollInertiaScrollContainer:"IgxScrollInertiaScrollContainer",wheelStep:"wheelStep",inertiaStep:"inertiaStep",smoothingStep:"smoothingStep",smoothingDuration:"smoothingDuration",swipeToleranceX:"swipeToleranceX",inertiaDeltaY:"inertiaDeltaY",inertiaDeltaX:"inertiaDeltaX",inertiaDuration:"inertiaDuration"},standalone:!0}),e})(),rA=["display_container"];function sA(e,t){}var oA=(()=>{let e=class{constructor(e,t){this.cdr=e,this._viewContainer=t,this.cssClass="igx-display-container",this.notVirtual=!0}};return e.fac=function(t){return new(t||e)(nc(fp),nc(Cg))},e.cmp=tr({type:e,selectors:[["igx-display-container"]],viewQuery:function(e,t){if(1&e&&(Bg(rA,7,Cg),Bg(rA,7,nA)),2&e){let e;Hg(e=Gg())&&(t._vcr=e.first),Hg(e=Gg())&&(t._scrollInertia=e.first)}},hostVars:4,hostBindings:function(e,t){2&e&&(nu(t.cssClass),iu("igx-display-container--inactive",t.notVirtual))},standalone:!0,features:[Wu],decls:2,vars:2,consts:[["igxScrollInertia","",3,"IgxScrollInertiaScrollContainer","IgxScrollInertiaDirection"],["display_container",""]],template:function(e,t){1&e&&yh(0,sA,0,0,"ng-template",0,1,jg),2&e&&_h("IgxScrollInertiaScrollContainer",t.scrollContainer)("IgxScrollInertiaDirection",t.scrollDirection)},dependencies:[nA],encapsulation:2}),e})(),aA=(()=>{let e=class{constructor(e,t,i,n,r){this.elementRef=e,this.cdr=t,this._zone=i,this.document=n,this.platformUtil=r,this.scrollAmount=0,this._size=0,this.destroy$=new Xe,this._afterViewInit=!1,this._detached=!1,this._scrollNativeSize=this.calculateScrollNativeSize()}onScroll(e){this.scrollAmount=e.target.scrollTop||e.target.scrollLeft}ngAfterViewInit(){this._afterViewInit=!0,this.platformUtil.isBrowser&&this._zone.runOutsideAngular((()=>{fb(this.nativeElement).pipe(Pi(0),Si(this.destroy$)).subscribe((e=>this.handleMutations(e)))}))}get nativeElement(){return this.elementRef.nativeElement}ngOnDestroy(){this.destroyed=!0,this.destroy$.next(!0),this.destroy$.complete()}calculateScrollNativeSize(){let e=this.document.createElement("div"),t=e.style;t.width="100px",t.height="100px",t.position="absolute",t.top="-10000px",t.top="-10000px",t.overflow="scroll",this.document.body.appendChild(e);let i=e.offsetWidth-e.clientWidth;return this.document.body.removeChild(e),i?i+1:1}set size(e){this.destroyed||(this._size=e,this._afterViewInit&&this.cdr.detectChanges())}get size(){return this._size}get scrollNativeSize(){return this._scrollNativeSize}get isAttachedToDom(){return this.document.body.contains(this.nativeElement)}handleMutations(e){let t=!(0===e[0].contentRect.height&&0===e[0].contentRect.width);t||this.isAttachedToDom?this._detached&&t&&this.isAttachedToDom&&this.restoreScroll():this._detached=!0}restoreScroll(){}};return e.fac=function(t){return new(t||e)(nc(wd),nc(fp),nc(Vd),nc(Hp),nc(ob))},e.dir=or({type:e,selectors:[["","igxVirtualHelperBase",""]],hostBindings:function(e,t){1&e&&Fh("scroll",(function(e){return t.onScroll(e)}))},standalone:!0}),e})(),lA=["horizontal_container"],dA=(()=>{let e=class extends aA{constructor(e,t,i,n,r){super(e,t,i,n,r),this.cssClasses="igx-vhelper--horizontal"}restoreScroll(){this.nativeElement.scrollLeft=this.scrollAmount}};return e.fac=function(t){return new(t||e)(nc(wd),nc(fp),nc(Vd),nc(Hp),nc(ob))},e.cmp=tr({type:e,selectors:[["igx-horizontal-virtual-helper"]],viewQuery:function(e,t){if(1&e&&Bg(lA,7,Cg),2&e){let e;Hg(e=Gg())&&(t._vcr=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&nu(t.cssClasses)},inputs:{width:"width"},standalone:!0,features:[th,Wu],decls:2,vars:2,consts:[[1,"igx-vhelper__placeholder-content"],["horizontal_container",""]],template:function(e,t){1&e&&bh(0,"div",0,1),2&e&&tu("width",t.size,"px")},encapsulation:2}),e})(),cA=["container"],hA=(()=>{let e=class extends aA{constructor(e,t,i,n,r){super(e,t,i,n,r),this.cssClasses="igx-vhelper--vertical"}ngOnInit(){this.scrollWidth=this.scrollNativeSize}restoreScroll(){this.nativeElement.scrollTop=this.scrollAmount}};return e.fac=function(t){return new(t||e)(nc(wd),nc(fp),nc(Vd),nc(Hp),nc(ob))},e.cmp=tr({type:e,selectors:[["igx-virtual-helper"]],viewQuery:function(e,t){if(1&e&&Bg(cA,7,Cg),2&e){let e;Hg(e=Gg())&&(t._vcr=e.first)}},hostVars:5,hostBindings:function(e,t){2&e&&(Cu("scrollTop",t.scrollTop),nu(t.cssClasses),tu("width",t.scrollWidth,"px"))},inputs:{itemsLength:"itemsLength"},standalone:!0,features:[th,Wu],decls:2,vars:2,consts:[[1,"igx-vhelper__placeholder-content"],["container",""]],template:function(e,t){1&e&&bh(0,"div",0,1),2&e&&tu("height",t.size,"px")},encapsulation:2}),e})(),uA=(()=>{let e=class{constructor(){this._master=new Map}isMaster(e){return this._master.get(e.igxForScrollOrientation)===e}setMaster(e,t=!1){let i=e.igxForScrollOrientation;i&&(t||!this._master.has(i))&&this._master.set(i,e)}resetMaster(){this._master.clear()}sizesCache(e){return this._master.get(e).sizesCache}chunkSize(e){return this._master.get(e).state.chunkSize}};return e.fac=function(t){return new(t||e)},e.prov=Zi({token:e,factory:e.fac,providedIn:"root"}),e})(),gA=(()=>{let e=class{constructor(){this._masterScroll=new Map}setScrollMaster(e,t){this._masterScroll.set(e,t)}getScrollMaster(e){return this._masterScroll.get(e)}};return e.fac=function(t){return new(t||e)},e.prov=Zi({token:e,factory:e.fac,providedIn:"root"}),e})(),pA=class{constructor(e,t,i,n){this.$implicit=e,this.igxForOf=t,this.index=i,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}},mA=(()=>{let e=class{get igxForTotalItemCount(){return this.totalItemCount}set igxForTotalItemCount(e){this.totalItemCount=e}get totalItemCount(){return this._totalItemCount}set totalItemCount(e){if(this._totalItemCount!==e){this._totalItemCount=e;let t=this.initSizesCache(this.igxForOf),i=this.scrollComponent.size-t;this.scrollComponent.size=t,this.state.startIndex+this.state.chunkSize>e&&(this.state.startIndex=e-this.state.chunkSize),this._adjustScrollPositionAfterSizeChange(i)}}get displayContainer(){return this.dc?.instance?._viewContainer?.element?.nativeElement}get virtualHelper(){return this.scrollComponent.nativeElement}get isRemote(){return null!==this.totalItemCount}get scrollPosition(){return this.scrollComponent.scrollAmount}set scrollPosition(e){e!==this.scrollComponent.scrollAmount&&("horizontal"===this.igxForScrollOrientation&&this.scrollComponent?this.scrollComponent.nativeElement.scrollLeft=e:this.scrollComponent&&(this.scrollComponent.nativeElement.scrollTop=e))}get isRTL(){return"rtl"===window.getComputedStyle(this.dc.instance._viewContainer.element.nativeElement).getPropertyValue("direction")}get sizesCache(){return this._sizesCache}set sizesCache(e){this._sizesCache=e}get _isScrolledToBottom(){if(!this.getScroll())return!0;let e=this.getScroll().scrollHeight;return Math.round(this.getScroll().scrollTop+this.igxForContainerSize)===e}get _isAtBottomIndex(){return this.igxForOf&&this.state.startIndex+this.state.chunkSize>this.igxForOf.length}constructor(e,t,i,n,r,s,o,a){this._viewContainer=e,this._template=t,this._differs=i,this.cdr=n,this._zone=r,this.syncScrollService=s,this.platformUtil=o,this.document=a,this.igxForScrollOrientation="vertical",this.chunkLoad=new Pd,this.scrollbarVisibilityChanged=new Pd,this.contentSizeChange=new Pd,this.dataChanged=new Pd,this.beforeViewDestroyed=new Pd,this.chunkPreload=new Pd,this.state={startIndex:0,chunkSize:0},this._sizesCache=[],this._differ=null,this.heightCache=[],this._virtScrollTop=0,this._bScrollInternal=!1,this._embeddedViews=[],this.contentResizeNotify=new Xe,this._virtHeight=0,this.destroy$=new Xe,this._totalItemCount=null,this._virtHeightRatio=1}verticalScrollHandler(e){this.onScroll(e)}isScrollable(){return this.scrollComponent.size>parseInt(this.igxForContainerSize,10)}ngOnInit(){let e=0,t=this.igxForScrollContainer?this.igxForScrollContainer._viewContainer:this._viewContainer;if(this.igxForSizePropName=this.igxForSizePropName||"width",this.dc=this._viewContainer.createComponent(oA,{index:0}),this.dc.instance.scrollDirection=this.igxForScrollOrientation,this.igxForOf&&this.igxForOf.length){e=this.initSizesCache(this.igxForOf),this.scrollComponent=this.syncScrollService.getScrollMaster(this.igxForScrollOrientation),this.state.chunkSize=this._calculateChunkSize(),this.dc.instance.notVirtual=!(this.igxForContainerSize&&this.state.chunkSize<this.igxForOf.length),this.scrollComponent&&!this.scrollComponent.destroyed&&(this.state.startIndex=Math.min(this.getIndexAt(this.scrollPosition,this.sizesCache),this.igxForOf.length-this.state.chunkSize));for(let e=this.state.startIndex;e<this.state.startIndex+this.state.chunkSize&&void 0!==this.igxForOf[e];e++){let t=this.igxForOf[e],i=this.dc.instance._vcr.createEmbeddedView(this._template,new pA(t,this.igxForOf,this.getContextIndex(t),this.igxForOf.length));this._embeddedViews.push(i)}}if("vertical"===this.igxForScrollOrientation){this.dc.instance._viewContainer.element.nativeElement.style.top="0px",this.scrollComponent=this.syncScrollService.getScrollMaster(this.igxForScrollOrientation),(!this.scrollComponent||this.scrollComponent.destroyed)&&(this.scrollComponent=t.createComponent(hA).instance),this._maxHeight=this._calcMaxBrowserHeight(),this.scrollComponent.size=this.igxForOf?this._calcHeight():0,this.syncScrollService.setScrollMaster(this.igxForScrollOrientation,this.scrollComponent),this._zone.runOutsideAngular((()=>{this.verticalScrollHandler=this.verticalScrollHandler.bind(this),this.scrollComponent.nativeElement.addEventListener("scroll",this.verticalScrollHandler),this.dc.instance.scrollContainer=this.scrollComponent.nativeElement}));let e=Si(this.destroy$);this.contentResizeNotify.pipe(Xt((()=>this.igxForContainerSize&&this.igxForOf&&this.igxForOf.length>0)),Pi(40,void 0,{leading:!1,trailing:!0}),e).subscribe((()=>this._zone.runTask((()=>this.updateSizes()))))}"horizontal"===this.igxForScrollOrientation&&(this.func=e=>this.onHScroll(e),this.scrollComponent=this.syncScrollService.getScrollMaster(this.igxForScrollOrientation),this.scrollComponent||(this.scrollComponent=t.createComponent(dA).instance,this.scrollComponent.size=e,this.syncScrollService.setScrollMaster(this.igxForScrollOrientation,this.scrollComponent)),this._zone.runOutsideAngular((()=>{this.scrollComponent.nativeElement.addEventListener("scroll",this.func),this.dc.instance.scrollContainer=this.scrollComponent.nativeElement})),this._updateHScrollOffset())}ngAfterViewInit(){"vertical"===this.igxForScrollOrientation&&this._zone.runOutsideAngular((()=>{this.contentObserver=new(ZS())((()=>this.contentResizeNotify.next())),this.contentObserver.observe(this.dc.instance._viewContainer.element.nativeElement)}))}ngOnDestroy(){this.removeScrollEventListeners(),this.destroy$.next(!0),this.destroy$.complete(),this.contentObserver&&this.contentObserver.disconnect()}static ngTemplateContextGuard(e,t){return!0}ngOnChanges(e){let t="igxForOf";if(t in e){let i=e[t].currentValue;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.igxForTrackBy)}catch{throw new Error(`Cannot find a differ supporting object "${i}" of type "${fA(i)}".\n                     NgFor only supports binding to Iterables such as Arrays.`)}}let i="igxForItemSize";i in e&&!e[i].firstChange&&"vertical"===this.igxForScrollOrientation&&this.igxForOf&&(this.initSizesCache(this.igxForOf),this._applyChanges());let n="igxForContainerSize";if(n in e&&!e[n].firstChange&&this.igxForOf){let t=parseInt(e[n].previousValue,10),i=parseInt(e[n].currentValue,10);this._recalcOnContainerChange({prevSize:t,newSize:i})}}ngDoCheck(){this._differ&&this._differ.diff(this.igxForOf)&&(this.igxForOf||(this.igxForOf=[]),this._updateSizeCache(),this._zone.run((()=>{this._applyChanges(),this.cdr.markForCheck(),this._updateScrollOffset(),this.dataChanged.emit()})))}addScrollTop(e){if(0===e&&"horizontal"===this.igxForScrollOrientation)return!1;let t=this._virtScrollTop,i=parseInt(this.igxForContainerSize,10),n=this._virtHeight-i;if(this._bScrollInternal=!0,this._virtScrollTop+=e,this._virtScrollTop=this._virtScrollTop>0?this._virtScrollTop<n?this._virtScrollTop:n:0,this.scrollPosition+=e/this._virtHeightRatio,Math.abs(e/this._virtHeightRatio)<1){let e=this.fixedUpdateAllElements(this._virtScrollTop);this.dc.instance._viewContainer.element.nativeElement.style.top=-e+"px"}let r=this.scrollComponent.nativeElement.scrollHeight-i;return this._virtScrollTop>0&&0===this.scrollPosition||this._virtScrollTop<n&&this.scrollPosition===r?this.scrollPosition=this._virtScrollTop/this._virtHeightRatio:0===this._virtScrollTop&&this.scrollPosition>0?this.scrollPosition=0:this._virtScrollTop===n&&this.scrollPosition<r&&(this.scrollPosition=r),this._virtScrollTop!==t}scrollTo(e){if(e<0||e>(this.isRemote?this.totalItemCount:this.igxForOf.length)-1)return;let t=parseInt(this.igxForContainerSize,10),i=e<this.state.startIndex||this.scrollPosition>this.sizesCache[e],n=i?this.sizesCache[e]:this.sizesCache[e+1]-t;if(!(n<0))if("horizontal"===this.igxForScrollOrientation)this.scrollPosition=this.isRTL?-n:n;else{let r=this._virtHeight-t;n>r&&(n=r),this._bScrollInternal=!0,this._virtScrollTop=n,this.scrollPosition=this._virtScrollTop/this._virtHeightRatio,this._adjustToIndex=i?null:e}}scrollNext(){let e=Math.abs(Math.ceil(this.scrollPosition)),t=this.getIndexAt(e+parseInt(this.igxForContainerSize,10),this.sizesCache);this.scrollTo(t)}scrollPrev(){this.scrollTo(this.state.startIndex-1)}scrollNextPage(){"horizontal"===this.igxForScrollOrientation?this.scrollPosition+=this.isRTL?-parseInt(this.igxForContainerSize,10):parseInt(this.igxForContainerSize,10):this.addScrollTop(parseInt(this.igxForContainerSize,10))}scrollPrevPage(){if("horizontal"===this.igxForScrollOrientation)this.scrollPosition-=this.isRTL?-parseInt(this.igxForContainerSize,10):parseInt(this.igxForContainerSize,10);else{let e=parseInt(this.igxForContainerSize,10);this.addScrollTop(-e)}}getColumnScrollLeft(e){return this.sizesCache[e]}getItemCountInView(){let e=this.getIndexAt(this.scrollPosition,this.sizesCache);return this.scrollPosition-this.sizesCache[e]>0&&e++,this.getIndexAt(this.scrollPosition+parseInt(this.igxForContainerSize,10),this.sizesCache)-e}getScroll(){return this.scrollComponent?.nativeElement}getSizeAt(e){return this.sizesCache[e+1]-this.sizesCache[e]}getScrollNativeSize(){return this.scrollComponent?this.scrollComponent.scrollNativeSize:0}getScrollForIndex(e,t){let i=parseInt(this.igxForContainerSize,10);return t?Math.max(0,this.sizesCache[e+1]-i):this.sizesCache[e]}getIndexAtScroll(e){return this.getIndexAt(e,this.sizesCache)}isIndexOutsideView(e){let t=e>=this.state.startIndex&&e<=this.state.startIndex+this.state.chunkSize?this._embeddedViews.map((e=>e.rootNodes.find((e=>e.nodeType===Node.ELEMENT_NODE))||e.rootNodes[0].nextElementSibling))[e-this.state.startIndex]:null,i=this.getSizeAt(e),n=parseInt(this.igxForContainerSize,10),r=-(this.scrollPosition-this.sizesCache[this.state.startIndex]),s=t?t.offsetTop+i+r:n+i;return!t||t.offsetTop<Math.abs(r)||n&&s-n>5}recalcUpdateSizes(){let e="horizontal"===this.igxForScrollOrientation?this.igxForSizePropName:"height",t=[],i=0,n=this._embeddedViews.length,r=this._embeddedViews.map((e=>e.rootNodes.find((e=>e.nodeType===Node.ELEMENT_NODE))||e.rootNodes[0].nextElementSibling));for(let s=0;s<n;s++){let n=r[s];if(n){let r=window.getComputedStyle(n).getPropertyValue("height"),o=parseFloat(r)||parseInt(this.igxForItemSize,10),a=this.state.startIndex+s;if(!this.isRemote&&!this.igxForOf[a])continue;let l=this.getMargin(n,e),d="height"===e?this.heightCache[a]:this.igxForOf[a][e],c=("height"===e?o:n.clientWidth)+l;"height"===e?this.heightCache[a]=c:this.igxForOf[a][e]=c;let h=c-d;t.push(h),i+=h,this.sizesCache[a+1]+=i}}if(Math.abs(i)>0){for(let e=this.state.startIndex+this.state.chunkSize+1;e<this.sizesCache.length;e++)this.sizesCache[e]+=i;if("horizontal"===this.igxForScrollOrientation){let e=this.scrollComponent.nativeElement.children.item(0),t=parseInt(e.style.width,10)+i;e.style.width=`${t}px`}let e=(e,t)=>e+t;if("vertical"===this.igxForScrollOrientation){let n=this._isScrolledToBottom&&!this.dc.instance.notVirtual,r=this.heightCache.reduce(e);if(r>this._maxHeight&&(this._virtHeightRatio=r/this._maxHeight),this.scrollComponent.size=Math.min(this.scrollComponent.size+i,this._maxHeight),this._virtHeight=r,this.scrollComponent.destroyed||this.scrollComponent.cdr.detectChanges(),n&&!this._isAtBottomIndex){let e=parseInt(this.igxForContainerSize,10),t=this._virtHeight-e;return this._bScrollInternal=!0,this._virtScrollTop=t,void(this.scrollPosition=t)}if(this._adjustToIndex){let i=this._adjustToIndex-this.state.startIndex+1,n=t.slice(0,i).reduce(e);0!==n&&this.addScrollTop(n),this._adjustToIndex=null}}}}resetScrollPosition(){this.scrollPosition=0,this.scrollComponent.scrollAmount=0}removeScrollEventListeners(){"horizontal"===this.igxForScrollOrientation?this._zone.runOutsideAngular((()=>this.scrollComponent?.nativeElement?.removeEventListener("scroll",this.func))):this._zone.runOutsideAngular((()=>this.scrollComponent?.nativeElement?.removeEventListener("scroll",this.verticalScrollHandler)))}onScroll(e){if(!parseInt(this.scrollComponent.nativeElement.style.height,10))return;this._bScrollInternal?this._bScrollInternal=!1:this._calcVirtualScrollTop(e.target.scrollTop);let t=this.state.startIndex,i=this.fixedUpdateAllElements(this._virtScrollTop);this.dc.instance._viewContainer.element.nativeElement.style.top=-i+"px",this._zone.onStable.pipe(fi()).subscribe(this.recalcUpdateSizes.bind(this)),this.dc.changeDetectorRef.detectChanges(),t!==this.state.startIndex&&this.chunkLoad.emit(this.state)}updateScroll(){if("horizontal"===this.igxForScrollOrientation){let e=this.scrollComponent.nativeElement.scrollLeft;this.scrollComponent.scrollAmount=e,this._updateScrollOffset()}}updateSizes(){if(!this.scrollComponent.nativeElement.isConnected)return;let e=this.isScrollable();this.recalcUpdateSizes(),this._applyChanges(),this._updateScrollOffset(),e!==this.isScrollable()?this.scrollbarVisibilityChanged.emit():this.contentSizeChange.emit()}fixedUpdateAllElements(e){let t=this.isRemote?this.totalItemCount:this.igxForOf.length,i=this.getIndexAt(e,this.sizesCache);i+this.state.chunkSize>t&&(i=t-this.state.chunkSize);let n=this.state.startIndex,r=i-this.state.startIndex;return this.state.startIndex=i,r&&(this.chunkPreload.emit(this.state),this.isRemote||(r&&Math.abs(r)<=4?r>0?this.moveApplyScrollNext(n):this.moveApplyScrollPrev(n):this.fixedApplyScroll())),e-this.sizesCache[this.state.startIndex]}moveApplyScrollNext(e){let t=e+this.state.chunkSize,i=t+this.state.startIndex-e,n=this.dc.instance._vcr;for(let e=t;e<i&&void 0!==this.igxForOf[e];e++){let t=this._embeddedViews.shift();if(!t.destroyed){this.scrollFocus(t.rootNodes.find((e=>e.nodeType===Node.ELEMENT_NODE))||t.rootNodes[0].nextElementSibling);let i=n.detach(0);this.updateTemplateContext(t.context,e),n.insert(i),this._embeddedViews.push(t)}}}moveApplyScrollPrev(e){let t=this.dc.instance._vcr;for(let i=e-1;i>=this.state.startIndex&&void 0!==this.igxForOf[i];i--){let e=this._embeddedViews.pop();if(!e.destroyed){this.scrollFocus(e.rootNodes.find((e=>e.nodeType===Node.ELEMENT_NODE))||e.rootNodes[0].nextElementSibling);let n=t.detach(t.length-1);this.updateTemplateContext(e.context,i),t.insert(n,0),this._embeddedViews.unshift(e)}}}getContextIndex(e){return this.isRemote?this.state.startIndex+this.igxForOf.indexOf(e):this.igxForOf.indexOf(e)}updateTemplateContext(e,t=0){e.$implicit=this.igxForOf[t],e.index=this.getContextIndex(this.igxForOf[t]),e.count=this.igxForOf.length}fixedApplyScroll(){let e=0,t=this.state.startIndex+this.state.chunkSize;for(let i=this.state.startIndex;i<t&&void 0!==this.igxForOf[i];i++){let t=this._embeddedViews[e++];this.updateTemplateContext(t.context,i)}}scrollFocus(e){if(!e)return;let t=e.getRootNode().activeElement;e&&e.contains(t)&&t.blur()}onHScroll(e){let t=this.scrollComponent.nativeElement.children.item(0);if(!parseInt(t.style.width,10))return;let i=this.state.startIndex,n=e.target.scrollLeft,r=this.fixedUpdateAllElements(Math.abs(e.target.scrollLeft));this.dc.instance._viewContainer.element.nativeElement.style.left=n<0?r+"px":-r+"px",this.dc.changeDetectorRef.detectChanges(),i!==this.state.startIndex&&this.chunkLoad.emit(this.state)}get igxForTrackBy(){return this._trackByFn}set igxForTrackBy(e){this._trackByFn=e}_applyChanges(){let e=this.state.chunkSize;if(this.applyChunkSizeChange(),this._recalcScrollBarSize(),this.igxForOf&&this.igxForOf.length&&this.dc){let t=Object.assign([],this._embeddedViews),i=this.state.startIndex,n=this.state.chunkSize+this.state.startIndex;this.isRemote&&(i=0,n=this.igxForOf.length);for(let e=i;e<n&&void 0!==this.igxForOf[e];e++){let i=t.shift();this.updateTemplateContext(i.context,e)}e!==this.state.chunkSize&&this.chunkLoad.emit(this.state)}}_calcMaxBrowserHeight(){if(!this.platformUtil.isBrowser)return 0;let e=this.document.createElement("div"),t=e.style;t.position="absolute",t.top="9999999999999999px",this.document.body.appendChild(e);let i=Math.abs(e.getBoundingClientRect().top);return this.document.body.removeChild(e),i}_calculateChunkSize(){let e=0;return null!==this.igxForContainerSize&&void 0!==this.igxForContainerSize?(this.sizesCache||this.initSizesCache(this.igxForOf),e=this._calcMaxChunkSize(),this.igxForOf&&e>this.igxForOf.length&&(e=this.igxForOf.length)):this.igxForOf&&(e=this.igxForOf.length),e}getElement(e,t){let i=e.element.nativeElement.parentNode.getElementsByTagName(t);return i.length>0?i[0]:null}initSizesCache(e){let t=0,i=0,n=this.igxForSizePropName||"height",r=0;this.sizesCache=[],this.heightCache=[],this.sizesCache.push(0);let s=this.isRemote?this.totalItemCount:e.length;for(;r<s;r++)i=this._getItemSize(e[r],n),"vertical"===this.igxForScrollOrientation&&this.heightCache.push(i),t+=i,this.sizesCache.push(t);return t}_updateSizeCache(){if("horizontal"===this.igxForScrollOrientation)return void this.initSizesCache(this.igxForOf);let e=(this.heightCache.length>0?this.heightCache.reduce(((e,t)=>e+t)):0)-this.initSizesCache(this.igxForOf);this._adjustScrollPositionAfterSizeChange(e)}_calcMaxChunkSize(){let e=0,t=0,i=0,n=[],r=0,s=parseInt(this.igxForContainerSize,10);if(!s)return 0;let o="horizontal"===this.igxForScrollOrientation?this.igxForSizePropName:"height",a=(e,t)=>e+this._getItemSize(t,o);for(;e<this.igxForOf.length;e++){let l=this.igxForOf[e];"height"===o&&(l={value:this.igxForOf[e],height:this.heightCache[e]});let d="height"===o?this.heightCache[e]:this._getItemSize(l,o);if(r=n.reduce(a,d),r<s){if(n.push(l),t=n.length,e===this.igxForOf.length-1){let e="height"===o?n[0].value:n[0],i=this.igxForOf.indexOf(e)-1;for(;i>=0&&r<=s;){e="height"===o?n[0].value:n[0],i=this.igxForOf.indexOf(e)-1;let s=this.igxForOf[i],l="height"===o?this.heightCache[i]:parseInt(s[o],10);r=n.reduce(a,l),n.unshift(s),t=n.length}}}else n.push(l),t=n.length+1,n.shift();t>i&&(i=t)}return i}getIndexAt(e,t){let i=0,n=t.length-1;if(0===e)return 0;for(;i<=n;){let r=Math.floor((i+n)/2),s=e-t[r];if(s>0)i=r+1;else{if(!(s<0))return r;n=r-1}}return n}_recalcScrollBarSize(e=null){let t=this.isRemote?this.totalItemCount:this.igxForOf?this.igxForOf.length:0;this.dc.instance.notVirtual=!(this.igxForContainerSize&&this.dc&&this.state.chunkSize<t);let i=e?this.scrollComponent.size>e.prevSize:this.isScrollable();if("horizontal"===this.igxForScrollOrientation){let e=parseInt(this.igxForContainerSize,10)>0?this.initSizesCache(this.igxForOf):0;e<=parseInt(this.igxForContainerSize,10)&&this.resetScrollPosition(),this.scrollComponent.nativeElement.style.width=this.igxForContainerSize+"px",this.scrollComponent.size=e}if("vertical"===this.igxForScrollOrientation){let e=this._calcHeight();e<=parseInt(this.igxForContainerSize,10)&&this.resetScrollPosition(),this.scrollComponent.nativeElement.style.height=parseInt(this.igxForContainerSize,10)+"px",this.scrollComponent.size=e}i!==this.isScrollable()&&this.scrollbarVisibilityChanged.emit()}_calcHeight(){let e;return e=this.heightCache?this.heightCache.reduce(((e,t)=>e+t),0):this.initSizesCache(this.igxForOf),this._virtHeight=e,e>this._maxHeight&&(this._virtHeightRatio=e/this._maxHeight,e=this._maxHeight),e}_recalcOnContainerChange(e=null){let t=this.state.chunkSize;this.applyChunkSizeChange(),this._recalcScrollBarSize(e),t!==this.state.chunkSize&&this.chunkLoad.emit(this.state)}removeLastElem(){let e=this._embeddedViews.pop();this.beforeViewDestroyed.emit(e),this.dc.instance._vcr.detach(this.dc.instance._vcr.length-1),e.destroy(),this.state.chunkSize--}addLastElem(){let e=this.state.startIndex+this.state.chunkSize;if(!this.isRemote&&!this.igxForOf)return;e>=this.igxForOf.length&&(e=this.igxForOf.length-this.state.chunkSize);let t=this.igxForOf[e],i=this.dc.instance._vcr.createEmbeddedView(this._template,new pA(t,this.igxForOf,this.getContextIndex(t),this.igxForOf.length));this._embeddedViews.push(i),this.state.chunkSize++,this._zone.run((()=>this.cdr.markForCheck()))}applyChunkSizeChange(){let e=this.isRemote?this.igxForOf?this.igxForOf.length:0:this._calculateChunkSize();if(e>this.state.chunkSize){let t=e-this.state.chunkSize;for(let e=0;e<t;e++)this.addLastElem()}else if(e<this.state.chunkSize){let t=this.state.chunkSize-e;for(let e=0;e<t;e++)this.removeLastElem()}}_updateScrollOffset(){"horizontal"===this.igxForScrollOrientation?this._updateHScrollOffset():this._updateVScrollOffset()}_calcVirtualScrollTop(e){let t=parseInt(this.igxForContainerSize,10),i=this.scrollComponent.size-t,n=0!==i?e/i:0,r=this._virtHeight-t;this._virtScrollTop=n*r}_getItemSize(e,t){let i=e?e[t]:null;return"number"==typeof i?i:parseInt(this.igxForItemSize,10)||0}_updateVScrollOffset(){let e=0,t=this.scrollPosition;1!==this._virtHeightRatio&&(this._calcVirtualScrollTop(this.scrollPosition),t=this._virtScrollTop),e=this.scrollComponent.nativeElement&&this.scrollComponent.size?t-this.sizesCache[this.state.startIndex]:0,this.dc.instance._viewContainer.element.nativeElement.style.top=-e+"px"}_updateHScrollOffset(){let e=0;e=this.scrollComponent.nativeElement&&this.scrollComponent.size?this.scrollPosition-this.sizesCache[this.state.startIndex]:0,this.dc.instance._viewContainer.element.nativeElement.style.left=-e+"px"}_adjustScrollPositionAfterSizeChange(e){if(Math.abs(e)>0&&this.scrollPosition>0){this.recalcUpdateSizes();let e="horizontal"===this.igxForScrollOrientation?parseInt(this.dc.instance._viewContainer.element.nativeElement.style.left,10):parseInt(this.dc.instance._viewContainer.element.nativeElement.style.top,10),t=this.sizesCache[this.state.startIndex]-e;this.scrollPosition=t,this.scrollPosition!==t&&(this.scrollComponent.scrollAmount=t)}}getMargin(e,t){let i=window.getComputedStyle(e);return"height"===t?parseFloat(i.marginTop)+parseFloat(i.marginBottom)||0:parseFloat(i.marginLeft)+parseFloat(i.marginRight)||0}};return e.fac=function(t){return new(t||e)(nc(Cg),nc(yg),nc(Tp),nc(fp),nc(Vd),nc(gA),nc(ob),nc(Hp))},e.dir=or({type:e,selectors:[["","igxFor","","igxForOf",""]],inputs:{igxForOf:"igxForOf",igxForSizePropName:"igxForSizePropName",igxForScrollOrientation:"igxForScrollOrientation",igxForScrollContainer:"igxForScrollContainer",igxForContainerSize:"igxForContainerSize",igxForItemSize:"igxForItemSize",igxForTotalItemCount:"igxForTotalItemCount",igxForTrackBy:"igxForTrackBy"},outputs:{chunkLoad:"chunkLoad",scrollbarVisibilityChanged:"scrollbarVisibilityChanged",contentSizeChange:"contentSizeChange",dataChanged:"dataChanged",beforeViewDestroyed:"beforeViewDestroyed",chunkPreload:"chunkPreload"},standalone:!0,features:[Nu([gA]),fs]}),e})(),fA=e=>e.name||typeof e,yA=class extends pA{constructor(e,t,i,n){super(e,t,i,n),this.igxGridForOf=t}},vA=(()=>{let e=class extends mA{set igxGridForOf(e){this.igxForOf=e}get igxGridForOf(){return this.igxForOf}get sizesCache(){return"horizontal"===this.igxForScrollOrientation?this.igxGridForOfUniqueSizeCache||this.syncService.isMaster(this)?this._sizesCache:this.syncService.sizesCache(this.igxForScrollOrientation):this._sizesCache}set sizesCache(e){this._sizesCache=e}get itemsDimension(){return this.igxForSizePropName||"height"}recalcUpdateSizes(){this.igxGridForOfVariableSizes&&"vertical"===this.igxForScrollOrientation&&super.recalcUpdateSizes()}constructor(e,t,i,n,r,s,o,a,l){super(e,t,i,n,r,a,s,o),this.syncService=l,this.igxGridForOfUniqueSizeCache=!1,this.igxGridForOfVariableSizes=!0,this.dataChanging=new Pd}static ngTemplateContextGuard(e,t){return!0}ngOnInit(){this.syncService.setMaster(this),super.ngOnInit(),this.removeScrollEventListeners()}ngOnChanges(e){let t="igxGridForOf";if(this.syncService.setMaster(this),t in e){let i=e[t].currentValue;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.igxForTrackBy)}catch{throw new Error(`Cannot find a differ supporting object "${i}" of type "${fA(i)}".\n                     NgFor only supports binding to Iterables such as Arrays.`)}"horizontal"===this.igxForScrollOrientation&&this.syncService.setMaster(this,!0)}let i="igxForItemSize";i in e&&!e[i].firstChange&&"vertical"===this.igxForScrollOrientation&&this.igxForOf&&this.initSizesCache(this.igxForOf);let n="igxForContainerSize";if(n in e&&!e[n].firstChange&&this.igxForOf){let t=parseInt(e[n].previousValue,10),i=parseInt(e[n].currentValue,10);this._recalcOnContainerChange({prevSize:t,newSize:i})}}assumeMaster(){this._sizesCache=this.syncService.sizesCache(this.igxForScrollOrientation),this.syncService.setMaster(this,!0)}ngDoCheck(){if(this._differ){let e=this._differ.diff(this.igxForOf);if(e){let t={containerSize:this.igxForContainerSize};this.dataChanging.emit(t),this.igxForOf||(this.igxForOf=[]),!this.igxForOf.length&&"vertical"===this.igxForScrollOrientation&&this.syncService.resetMaster(),this.syncService.setMaster(this),this.igxForContainerSize=t.containerSize;let i=this._updateSizeCache(e);this._applyChanges(),i&&"vertical"===this.igxForScrollOrientation&&this._adjustScrollPositionAfterSizeChange(i),this._updateScrollOffset(),this.dataChanged.emit()}}}onScroll(e){if(!parseInt(this.scrollComponent.nativeElement.style.height,10))return;this._bScrollInternal?this._bScrollInternal=!1:this._calcVirtualScrollTop(e.target.scrollTop);let t=this.fixedUpdateAllElements(this._virtScrollTop);this.dc.instance._viewContainer.element.nativeElement.style.top=-t+"px",this._zone.onStable.pipe(fi()).subscribe(this.recalcUpdateSizes.bind(this)),this.cdr.markForCheck()}onHScroll(e){let t=this.scrollComponent.nativeElement.children.item(0);if(!this.scrollComponent||!parseInt(t.style.width,10))return;let i=this.fixedUpdateAllElements(Math.abs(e));this.dc.instance._viewContainer.element.nativeElement.style.left=e<0?i+"px":-i+"px"}getItemSize(e){let t=0,i=this.igxForSizePropName||"height";return"vertical"===this.igxForScrollOrientation?(t=this._getItemSize(e,i),e&&e.summaries?t=e.max:e&&e.groups&&e.height&&(t=e.height)):t=parseInt(e[i],10)||0,t}initSizesCache(e){if(!this.syncService.isMaster(this)&&"horizontal"===this.igxForScrollOrientation){let e=this.syncService.sizesCache(this.igxForScrollOrientation);return e[e.length-1]}let t=0,i=0,n=0;this.sizesCache=[],this.heightCache=[],this.sizesCache.push(0);let r=this.isRemote?this.totalItemCount:e.length;for(;n<r;n++)i=this.getItemSize(e[n]),"vertical"===this.igxForScrollOrientation&&this.heightCache.push(i),t+=i,this.sizesCache.push(t);return t}_updateSizeCache(e=null){if("horizontal"===this.igxForScrollOrientation)return this.sizesCache[this.sizesCache.length-1]-this.initSizesCache(this.igxForOf);let t=this.heightCache.length>0?this.heightCache.reduce(((e,t)=>e+t)):0,i=t;if(!e||this.isRemote)return;i=this.handleCacheChanges(e);let n=t-i;return Math.abs(n)>0&&this.platformUtil.isBrowser&&requestAnimationFrame((()=>{this.recalcUpdateSizes();let e=parseInt(this.dc.instance._viewContainer.element.nativeElement.style.top,10);0!==this.scrollPosition?this.scrollPosition=this.sizesCache[this.state.startIndex]-e:this._updateScrollOffset()})),n}handleCacheChanges(e){let t=[],i=[],n=[];n.push(0);let r=0,s=0;return e.forEachRemovedItem((()=>s++)),e.forEachIdentityChange((e=>{e.currentIndex!==e.previousIndex&&(t[e.currentIndex]=e)})),e.forEachItem((e=>{null!==e.previousIndex&&(s<2||!t.length||t[e.currentIndex])?i[e.currentIndex]=this.heightCache[e.previousIndex]:i[e.currentIndex]=this.getItemSize(e.item),n[e.currentIndex+1]=n[e.currentIndex]+i[e.currentIndex],r+=i[e.currentIndex]})),this.heightCache=i,this.sizesCache=n,r}addLastElem(){let e=this.state.startIndex+this.state.chunkSize;if(!this.isRemote&&!this.igxForOf)return;e>=this.igxForOf.length&&(e=this.igxForOf.length-this.state.chunkSize);let t=this.igxForOf[e],i=this.dc.instance._vcr.createEmbeddedView(this._template,new yA(t,this.igxForOf,this.getContextIndex(t),this.igxForOf.length));this._embeddedViews.push(i),this.state.chunkSize++}_updateViews(e){if(this.igxForOf&&this.igxForOf.length&&this.dc){let t,i,n=Object.assign([],this._embeddedViews);this.isRemote?(t=0,i=this.igxForOf.length):(t=this.getIndexAt(this.scrollPosition,this.sizesCache),t+this.state.chunkSize>this.igxForOf.length&&(t=this.igxForOf.length-this.state.chunkSize),this.state.startIndex=t,i=this.state.chunkSize+this.state.startIndex);for(let e=t;e<i&&void 0!==this.igxForOf[e];e++){let t=n.shift();this.updateTemplateContext(t.context,e)}e!==this.state.chunkSize&&this.chunkLoad.emit(this.state)}}_applyChanges(){let e=this.state.chunkSize;this.applyChunkSizeChange(),this._recalcScrollBarSize(),this._updateViews(e)}_calcMaxChunkSize(){return"horizontal"===this.igxForScrollOrientation?this.syncService.isMaster(this)?super._calcMaxChunkSize():this.syncService.chunkSize(this.igxForScrollOrientation):super._calcMaxChunkSize()}};return e.fac=function(t){return new(t||e)(nc(Cg),nc(yg),nc(Tp),nc(fp),nc(Vd),nc(ob),nc(Hp),nc(gA),nc(uA))},e.dir=or({type:e,selectors:[["","igxGridFor","","igxGridForOf",""]],inputs:{igxGridForOf:"igxGridForOf",igxGridForOfUniqueSizeCache:"igxGridForOfUniqueSizeCache",igxGridForOfVariableSizes:"igxGridForOfVariableSizes"},outputs:{dataChanging:"dataChanging"},standalone:!0,features:[th,fs]}),e})(),xA=new Set("aACL09#&?"),_A=new Map([["C",/(?!^$)/u],["&",/[^\p{Separator}]/u],["a",/[\p{Letter}\d\p{Separator}]/u],["A",/[\p{Letter}\d]/u],["?",/[\p{Letter}\p{Separator}]/u],["L",/\p{Letter}/u],["0",/\d/],["9",/[\d\p{Separator}]/u],["#",/[\d\-+]/]]),wA=(e,t,i)=>`${e.substring(0,t)}${i}${e.substring(t+1)}`;function CA(e){let t=new Map,i=e;for(let n=0,r=0;n<e.length;n++,r++){let[s,o]=[e.charAt(n),e.charAt(n+1)];"\\"===s&&xA.has(o)?(i=wA(i,r,""),t.set(r,o),n++):xA.has(s)||t.set(r,s)}return{literals:t,mask:i}}var SA=(()=>{let e=class{applyMask(e,t,i=0){let n="",r="",{literals:s,mask:o}=CA(t.format),a=Array.from(s.keys()),l=this.getNonLiteralIndices(o,a),d=Array.from(s.values());null!=e&&(r=e.toString());for(let e of o)n+=t.promptChar;if(s.forEach(((e,t)=>{n=wA(n,t,e)})),!r)return n;let c=this.getNonLiteralValues(r,d);for(let e=0;e<c.length;e++){let i=c[e];!this.validateCharOnPosition(i,l[e],o)&&i!==t.promptChar&&(c[e]=t.promptChar)}c.length>l.length&&c.splice(l.length);for(let e of c){let t=e;n=wA(n,l[i++],t)}return n}parseValueFromMask(e,t){let i="",n=Array.from(CA(t.format).literals.values());for(let r of e)-1===n.indexOf(r)&&r!==t.promptChar&&(i+=r);return i}replaceInMask(e,t,i,n,r){let{literals:s,mask:o}=CA(i.format),a=Array.from(s.keys());t=this.replaceIMENumbers(t);let l=Array.from(t),d=n;r=Math.min(r,e.length);for(let s=n;s<r||l.length&&s<e.length;s++){if(-1!==a.indexOf(s)){(l[0]===e[s]||t.length<1)&&(d=s+1,l.shift());continue}if(l[0]&&!this.validateCharOnPosition(l[0],s,o)&&l[0]!==i.promptChar)break;let n=i.promptChar;l.length&&(d=s+1,n=l.shift()),t.length<1&&d++,e=wA(e,s,n)}return{value:e,end:d}}validateCharOnPosition(e,t,i){let n=_A.get(i.charAt(t));return!!n&&n.test(e)}getNonLiteralIndices(e,t){let i=[];for(let n=0;n<e.length;n++)-1===t.indexOf(n)&&i.push(n);return i}getNonLiteralValues(e,t){let i=[];for(let n of e)-1===t.indexOf(n)&&i.push(n);return i}replaceIMENumbers(e){return e.replace(/[]/g,(e=>({"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"}[e])))}};return e.fac=function(t){return new(t||e)},e.prov=Zi({token:e,factory:e.fac,providedIn:"root"}),e})(),bA=(()=>{let e=class{get mask(){return this._mask||this.defaultMask}set mask(e){if(e!==this._mask){let t=this.maskParser.parseValueFromMask(this.inputValue,this.maskOptions);this.setPlaceholder(e),this._mask=e,this.updateInputValue(t)}}get nativeElement(){return this.elementRef.nativeElement}get inputValue(){return this.nativeElement.value}set inputValue(e){this.nativeElement.value=e}get maskOptions(){return{format:this.mask||this.defaultMask,promptChar:this.promptChar&&this.promptChar.substring(0,1)}}get selectionStart(){return this.nativeElement.selectionStart===this.nativeElement.selectionEnd&&this._hasDropAction?this.nativeElement.selectionEnd-this._droppedData.length:this.nativeElement.selectionStart}get selectionEnd(){return this.nativeElement.selectionEnd}get start(){return this._start}get end(){return this._end}constructor(e,t,i,n){this.elementRef=e,this.maskParser=t,this.renderer=i,this.platform=n,this.promptChar="_",this.valueChanged=new Pd,this._end=0,this._start=0,this._oldText="",this._dataValue="",this._focused=!1,this.defaultMask="CCCCCCCCCC",this._onTouchedCallback=bt,this._onChangeCallback=bt}onKeyDown(e){let t=e.key;t&&(e.ctrlKey&&(t===this.platform.KEYMAP.Z||t===this.platform.KEYMAP.Y)&&e.preventDefault(),this._key=t,this._start=this.selectionStart,this._end=this.selectionEnd)}onCompositionStart(){this._composing||(this._compositionStartIndex=this._start,this._composing=!0)}onCompositionEnd(){this._start=this._compositionStartIndex;let e=this.selectionEnd,t=this.inputValue.substring(this._start,e);this.updateInput(t),this._end=this.selectionEnd,this._compositionValue=this.inputValue}onInputChanged(e){if(this._composing)return void(this.inputValue.length<this._oldText.length&&(this._key=this.platform.KEYMAP.BACKSPACE));if("deleteContentBackward"===e.inputType&&this._key!==this.platform.KEYMAP.BACKSPACE){let e=0===this._compositionStartIndex&&this._end===this.mask.length,t=0,i=CA(this.maskOptions.format).literals.keys();for(let e of i)e>=this._compositionStartIndex&&e<=this._end&&t++;this.inputValue=e?this.inputValue.substring(0,this.selectionEnd-t)+this.inputValue.substring(this.selectionEnd):this._compositionValue?.substring(0,this._compositionStartIndex)||this.inputValue,this._compositionValue&&(this._start=this.selectionStart,this._end=this.selectionEnd,this.nativeElement.selectionStart=e?this._start-t:this._compositionStartIndex,this.nativeElement.selectionEnd=this._end-t,this.nativeElement.selectionEnd=this._end,this._start=this.selectionStart,this._end=this.selectionEnd)}this._hasDropAction&&(this._start=this.selectionStart);let t="";switch(this._key){case this.platform.KEYMAP.DELETE:this._end=this._start===this._end?++this._end:this._end;break;case this.platform.KEYMAP.BACKSPACE:this._start=this.selectionStart;break;default:t=this.inputValue.substring(this._start,this.selectionEnd)}this.updateInput(t)}onPaste(){this._oldText=this.inputValue,this._start=this.selectionStart}onFocus(){this.nativeElement.readOnly||(this._focused=!0,this.showMask(this.inputValue))}onBlur(e){this._focused=!1,this.showDisplayValue(e),this._onTouchedCallback()}onDragEnter(){!this._focused&&!this._dataValue&&this.showMask(this._dataValue)}onDragLeave(){this._focused||this.showDisplayValue(this.inputValue)}onDrop(e){this._hasDropAction=!0,this._droppedData=e.dataTransfer.getData("text")}ngOnInit(){this.setPlaceholder(this.maskOptions.format)}ngAfterViewChecked(){this._composing||(this._oldText=this.inputValue)}writeValue(e){this.promptChar&&this.promptChar.length>1&&(this.maskOptions.promptChar=this.promptChar.substring(0,1)),this.inputValue=e?this.maskParser.applyMask(e,this.maskOptions):"",this.displayValuePipe&&(this.inputValue=this.displayValuePipe.transform(this.inputValue)),this._dataValue=this.includeLiterals?this.inputValue:e,this.valueChanged.emit({rawValue:e,formattedValue:this.inputValue})}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}showMask(e){this.focusedValuePipe?this.inputValue=this.focusedValuePipe.transform(e):this.inputValue=this.maskParser.applyMask(e,this.maskOptions),this._oldText=this.inputValue}setSelectionRange(e,t=e){this.nativeElement.setSelectionRange(e,t)}afterInput(){this._oldText=this.inputValue,this._hasDropAction=!1,this._start=0,this._end=0,this._key=null,this._composing=!1}setPlaceholder(e){let t=this.nativeElement.placeholder;(!t||t===this.mask)&&this.renderer.setAttribute(this.nativeElement,"placeholder",CA(e??"").mask||this.defaultMask)}updateInputValue(e){this._focused?this.showMask(e):this.displayValuePipe||(this.inputValue=this.inputValue?this.maskParser.applyMask(e,this.maskOptions):"")}updateInput(e){let t=this.maskParser.replaceInMask(this._oldText,e,this.maskOptions,this._start,this._end);this.inputValue=t.value,this._key===this.platform.KEYMAP.BACKSPACE&&(t.end=this._start),this.setSelectionRange(t.end);let i=this.maskParser.parseValueFromMask(this.inputValue,this.maskOptions);this._dataValue=this.includeLiterals?this.inputValue:i,this._onChangeCallback(this._dataValue),this.valueChanged.emit({rawValue:i,formattedValue:this.inputValue}),this.afterInput()}showDisplayValue(e){this.displayValuePipe?this.inputValue=this.displayValuePipe.transform(e):e===this.maskParser.applyMask(null,this.maskOptions)&&(this.inputValue="")}};return e.fac=function(t){return new(t||e)(nc(wd),nc(SA),nc(bd),nc(ob))},e.dir=or({type:e,selectors:[["","igxMask",""]],hostBindings:function(e,t){1&e&&Fh("keydown",(function(e){return t.onKeyDown(e)}))("compositionstart",(function(){return t.onCompositionStart()}))("compositionend",(function(){return t.onCompositionEnd()}))("input",(function(e){return t.onInputChanged(e)}))("paste",(function(){return t.onPaste()}))("focus",(function(){return t.onFocus()}))("blur",(function(e){return t.onBlur(e.target.value)}))("dragenter",(function(){return t.onDragEnter()}))("dragleave",(function(){return t.onDragLeave()}))("drop",(function(e){return t.onDrop(e)}))},inputs:{mask:["igxMask","mask"],promptChar:"promptChar",includeLiterals:"includeLiterals",displayValuePipe:"displayValuePipe",focusedValuePipe:"focusedValuePipe"},outputs:{valueChanged:"valueChanged"},exportAs:["igxMask"],standalone:!0,features:[Nu([{provide:h_,useExisting:e,multi:!0}])]}),e})(),DA=(()=>{let e=class{set centered(e){this._centered=e||this.centered}get nativeElement(){return this.elementRef.nativeElement}constructor(e,t,i,n){this.builder=e,this.elementRef=t,this.renderer=i,this.zone=n,this.rippleTarget="",this.rippleDuration=600,this.rippleDisabled=!1,this.rippleElementClass="igx-ripple__inner",this.rippleHostClass="igx-ripple",this._centered=!1,this.animationQueue=[]}onMouseDown(e){this.zone.runOutsideAngular((()=>this._ripple(e)))}setStyles(e,t){this.renderer.addClass(e,this.rippleElementClass),this.renderer.setStyle(e,"width",`${t.radius}px`),this.renderer.setStyle(e,"height",`${t.radius}px`),this.renderer.setStyle(e,"top",`${t.top}px`),this.renderer.setStyle(e,"left",`${t.left}px`),this.rippleColor&&this.renderer.setStyle(e,"background",this.rippleColor)}_ripple(e){if(this.rippleDisabled)return;let t=this.rippleTarget&&this.nativeElement.querySelector(this.rippleTarget)||this.nativeElement,i=t.getBoundingClientRect(),n=Math.max(i.width,i.height),r=Math.round(e.clientX-i.left-n/2),s=Math.round(e.clientY-i.top-n/2);this._centered&&(r=s=0);let o={radius:n,top:s,left:r},a=this.renderer.createElement("span");this.setStyles(a,o),this.renderer.addClass(t,this.rippleHostClass),this.renderer.appendChild(t,a);let l=this.builder.build([Cy({opacity:.5,transform:"scale(.3)"}),_y(this.rippleDuration,Cy({opacity:0,transform:"scale(2)"}))]).create(a);this.animationQueue.push(l),l.onDone((()=>{this.animationQueue.splice(this.animationQueue.indexOf(l),1),t.removeChild(a),this.animationQueue.length<1&&this.renderer.removeClass(t,this.rippleHostClass)})),l.play()}};return e.fac=function(t){return new(t||e)(nc(fy),nc(wd),nc(bd),nc(Vd))},e.dir=or({type:e,selectors:[["","igxRipple",""]],hostBindings:function(e,t){1&e&&Fh("mousedown",(function(e){return t.onMouseDown(e)}))},inputs:{rippleTarget:["igxRippleTarget","rippleTarget"],rippleColor:["igxRipple","rippleColor"],rippleDuration:["igxRippleDuration","rippleDuration"],centered:["igxRippleCentered","centered"],rippleDisabled:["igxRippleDisabled","rippleDisabled"]},standalone:!0}),e})(),EA=new Ll("dir-doc",{providedIn:"root",factory:function(){return wn(Hp)}}),IA=(()=>{let e=class{get value(){return this._dir}get document(){return this._document}get rtl(){return"rtl"===this._dir}constructor(e){this._document=e;let t=this._document.body?this._document.body.dir:null,i=this._document.documentElement?this._document.documentElement.dir:null,n=t||i;this._dir="ltr"===n||"rtl"===n?n:"ltr"}};return e.fac=function(t){return new(t||e)(_n(EA))},e.prov=Zi({token:e,factory:e.fac,providedIn:"root"}),e})(),TA=class e{get value(){return this._value}set value(e){this._value=null==e?"":e}get lastSearchInfo(){return this._lastSearchInfo}constructor(t,i){this.element=t,this.renderer=i,this.groupName="",this.destroy$=new Xe,this._value="",this._div=null,this._observer=null,this._nodeWasRemoved=!1,this._forceEvaluation=!1,this._activeElementIndex=-1,this._defaultCssClass="igx-highlight",this._defaultActiveCssClass="igx-highlight--active",e.onActiveElementChanged.pipe(Si(this.destroy$)).subscribe((e=>{this.groupName===e&&(-1!==this._activeElementIndex&&this.deactivate(),this.activateIfNecessary())}))}static setActiveHighlight(t,i){e.highlightGroupsMap.set(t,i),e.onActiveElementChanged.emit(t)}static clearActiveHighlight(t){e.highlightGroupsMap.set(t,{index:-1}),e.onActiveElementChanged.emit(t)}ngOnDestroy(){this.clearHighlight(),null!==this._observer&&this._observer.disconnect(),this.destroy$.next(!0),this.destroy$.complete()}ngOnChanges(e){e.value&&!e.value.firstChange?this._valueChanged=!0:(void 0!==e.row&&!e.row.firstChange||void 0!==e.column&&!e.column.firstChange||void 0!==e.page&&!e.page.firstChange)&&(-1!==this._activeElementIndex&&this.deactivate(),this.activateIfNecessary())}ngAfterViewInit(){this.parentElement=this.renderer.parentNode(this.element.nativeElement),!1===e.highlightGroupsMap.has(this.groupName)&&e.highlightGroupsMap.set(this.groupName,{index:-1}),this._lastSearchInfo={searchText:"",content:this.value,matchCount:0,caseSensitive:!1,exactMatch:!1},this._container=this.parentElement.firstElementChild}ngAfterViewChecked(){this._valueChanged&&(this.highlight(this._lastSearchInfo.searchText,this._lastSearchInfo.caseSensitive,this._lastSearchInfo.exactMatch),this.activateIfNecessary(),this._valueChanged=!1)}highlight(e,t,i){let n=!!t,r=!!i;return this.searchNeedsEvaluation(e,n,r)?(this._lastSearchInfo.searchText=e,this._lastSearchInfo.caseSensitive=n,this._lastSearchInfo.exactMatch=r,this._lastSearchInfo.content=this.value,""===e||null==e?this.clearHighlight():(this.clearChildElements(!0),this._lastSearchInfo.matchCount=this.getHighlightedText(e,t,i))):this._nodeWasRemoved&&(this._lastSearchInfo.searchText=e,this._lastSearchInfo.caseSensitive=n,this._lastSearchInfo.exactMatch=r),this._lastSearchInfo.matchCount}clearHighlight(){this.clearChildElements(!1),this._lastSearchInfo.searchText="",this._lastSearchInfo.matchCount=0}activateIfNecessary(){let t=e.highlightGroupsMap.get(this.groupName);t.index>=0&&t.column===this.column&&t.row===this.row&&yb(this.metadata,t.metadata)&&this.activate(t.index)}observe(){if(null===this._observer){let e=e=>{e.forEach((e=>{Array.from(e.removedNodes).forEach((e=>{e===this._container&&(this._nodeWasRemoved=!0,this.clearChildElements(!1))})),Array.from(e.addedNodes).forEach((e=>{e===this.parentElement.firstElementChild&&this._nodeWasRemoved&&(this._container=this.parentElement.firstElementChild,this._nodeWasRemoved=!1,this._forceEvaluation=!0,this.highlight(this._lastSearchInfo.searchText,this._lastSearchInfo.caseSensitive,this._lastSearchInfo.exactMatch),this._forceEvaluation=!1,this.activateIfNecessary(),this._observer.disconnect(),this._observer=null)}))}))};this._observer=new MutationObserver(e),this._observer.observe(this.parentElement,{childList:!0})}}activate(e){if(this.deactivate(),null!==this._div){let t=this._div.querySelectorAll("span");if(this._activeElementIndex=e,t.length<=e)return;let i=t[e];this.renderer.addClass(i,this._defaultActiveCssClass),this.renderer.addClass(i,this.activeCssClass)}}deactivate(){if(-1===this._activeElementIndex)return;let e=this._div.querySelectorAll("span");if(e.length<=this._activeElementIndex)return void(this._activeElementIndex=-1);let t=e[this._activeElementIndex];this.renderer.removeClass(t,this._defaultActiveCssClass),this.renderer.removeClass(t,this.activeCssClass),this._activeElementIndex=-1}clearChildElements(e){this.renderer.setProperty(this.element.nativeElement,"hidden",e),null!==this._div&&(this.renderer.removeChild(this.parentElement,this._div),this._div=null,this._activeElementIndex=-1)}getHighlightedText(e,t,i){this.appendDiv();let n=String(this.value),r=t?n:n.toLowerCase(),s=t?e:e.toLowerCase(),o=0;if(i)r===s?(this.appendSpan(`<span class="${this._defaultCssClass} ${this.cssClass?this.cssClass:""}">${n}</span>`),o++):this.appendText(n);else{let e=r.indexOf(s,0),t=0;for(;-1!==e;){let i=e,a=e+s.length;this.appendText(n.substring(t,i)),this.appendSpan(`<span class="${this._defaultCssClass} ${this.cssClass?this.cssClass:""}">${n.substring(i,a)}</span>`),t=a,o++,e=r.indexOf(s,a)}this.appendText(n.substring(t,n.length))}return o}appendText(e){let t=this.renderer.createText(e);this.renderer.appendChild(this._div,t)}appendSpan(e){let t=this.renderer.createElement("span");this.renderer.appendChild(this._div,t),this.renderer.setProperty(t,"outerHTML",e)}appendDiv(){this._div=this.renderer.createElement("div"),this.containerClass&&this.renderer.addClass(this._div,this.containerClass),this.renderer.appendChild(this.parentElement,this._div)}searchNeedsEvaluation(e,t,i){let n=this._lastSearchInfo.searchText;return!this._nodeWasRemoved&&(null===n||n!==e||this._lastSearchInfo.content!==this.value||this._lastSearchInfo.caseSensitive!==t||this._lastSearchInfo.exactMatch!==i||this._forceEvaluation)}};TA.highlightGroupsMap=new Map,TA.onActiveElementChanged=new Pd,TA.fac=function(e){return new(e||TA)(nc(wd),nc(bd))},TA.dir=or({type:TA,selectors:[["","igxTextHighlight",""]],inputs:{cssClass:"cssClass",activeCssClass:"activeCssClass",containerClass:"containerClass",groupName:"groupName",value:"value",row:"row",column:"column",metadata:"metadata"},standalone:!0,features:[fs]});var AA=TA,RA=(()=>{let e=class{get selected(){return this.selectionState}set selected(e){this.selectionState=e}get nativeElement(){return this.element.nativeElement}constructor(e){this.element=e,this.selectionState=!0}onFocus(){this.trigger()}trigger(){this.selected&&this.nativeElement.value.length&&requestAnimationFrame((()=>this.nativeElement.select()))}};return e.fac=function(t){return new(t||e)(nc(wd))},e.dir=or({type:e,selectors:[["","igxTextSelection",""]],hostBindings:function(e,t){1&e&&Fh("focus",(function(){return t.onFocus()}))},inputs:{selected:["igxTextSelection","selected"]},exportAs:["igxTextSelection"],standalone:!0}),e})(),kA=(()=>{let e=class{constructor(e,t,i){this._viewContainerRef=e,this._zone=t,this.cdr=i,this.viewCreated=new Pd,this.viewMoved=new Pd,this.cachedViewLoaded=new Pd,this.beforeViewDetach=new Pd,this._embeddedViewsMap=new Map}ngOnChanges(e){switch(this._getActionType(e)){case OA.CreateView:this._recreateView();break;case OA.MoveView:this._moveView();break;case OA.UseCachedView:this._useCachedView();break;case OA.UpdateViewContext:this._updateExistingContext(this.igxTemplateOutletContext)}}cleanCache(){this._embeddedViewsMap.forEach((e=>{e.forEach((e=>{e.destroyed||e.destroy()})),e.clear()})),this._embeddedViewsMap.clear()}cleanView(e){let t=this._embeddedViewsMap.get(e.type)?.get(e.id);t&&(t.destroy(),this._embeddedViewsMap.get(e.type).delete(e.id))}_recreateView(){let e=this._viewRef?this._viewContainerRef.indexOf(this._viewRef):-1;-1!==e&&(this.beforeViewDetach.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),this._viewContainerRef.detach(e)),this.igxTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.igxTemplateOutlet,this.igxTemplateOutletContext),this.viewCreated.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),this.igxTemplateOutletContext.templateID&&(this._embeddedViewsMap.get(this.igxTemplateOutletContext.templateID.type)?.get(this.igxTemplateOutletContext.templateID.id)||this._embeddedViewsMap.set(this.igxTemplateOutletContext.templateID.type,new Map([[this.igxTemplateOutletContext.templateID.id,this._viewRef]]))))}_moveView(){let e=this.igxTemplateOutletContext.moveView,t=this.igxTemplateOutletContext.owner;e!==this._viewRef?(-1!==t._viewContainerRef.indexOf(e)&&(this.beforeViewDetach.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),t._viewContainerRef.detach(t._viewContainerRef.indexOf(e))),this._viewRef&&-1!==this._viewContainerRef.indexOf(this._viewRef)&&(this.beforeViewDetach.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),this._viewContainerRef.detach(this._viewContainerRef.indexOf(this._viewRef))),this._viewRef=e,this._viewContainerRef.insert(e,0),this._updateExistingContext(this.igxTemplateOutletContext),this.viewMoved.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext})):this._updateExistingContext(this.igxTemplateOutletContext)}_useCachedView(){let e=this.igxTemplateOutletContext.templateID,t=e?this._embeddedViewsMap.get(e.type)?.get(e.id):null;this._viewContainerRef.length>0&&(this.beforeViewDetach.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),this._viewContainerRef.detach(this._viewContainerRef.indexOf(this._viewRef))),this._viewRef=t;let i=this._cloneContext(t.context);this._viewContainerRef.insert(this._viewRef,0),this._updateExistingContext(this.igxTemplateOutletContext),this.cachedViewLoaded.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext,oldContext:i})}_shouldRecreateView(e){let t=e.igxTemplateOutletContext;return!!e.igxTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){let t=Object.keys(e.previousValue||{}),i=Object.keys(e.currentValue||{});if(t.length===i.length){for(let e of i)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.igxTemplateOutletContext[t]}_cloneContext(e){let t={};for(let i of Object.keys(e))t[i]=e[i];return t}_getActionType(e){let t=this.igxTemplateOutletContext.moveView,i=this.igxTemplateOutletContext.templateID,n=i?this._embeddedViewsMap.get(i.type)?.get(i.id):null,r=this._shouldRecreateView(e);return t?OA.MoveView:r&&n?OA.UseCachedView:!this._viewRef||r?OA.CreateView:this.igxTemplateOutletContext?OA.UpdateViewContext:void 0}};return e.fac=function(t){return new(t||e)(nc(Cg),nc(Vd),nc(fp))},e.dir=or({type:e,selectors:[["","igxTemplateOutlet",""]],inputs:{igxTemplateOutletContext:"igxTemplateOutletContext",igxTemplateOutlet:"igxTemplateOutlet"},outputs:{viewCreated:"viewCreated",viewMoved:"viewMoved",cachedViewLoaded:"cachedViewLoaded",beforeViewDetach:"beforeViewDetach"},standalone:!0,features:[fs]}),e})(),OA=function(e){return e[e.CreateView=0]="CreateView",e[e.MoveView=1]="MoveView",e[e.UseCachedView=2]="UseCachedView",e[e.UpdateViewContext=3]="UpdateViewContext",e}(OA||{}),FA=(()=>{let e=class{get collapsed(){return this._collapsed}get element(){return this.elementRef.nativeElement}get hiddenClass(){return this.collapsed}get defaultClass(){return!this.collapsed}constructor(e,t,i,n){this.elementRef=e,this.cdr=t,this.overlayService=i,this.navigationService=n,this.opened=new Pd,this.opening=new Pd,this.closed=new Pd,this.closing=new Pd,this.appended=new Pd,this._collapsed=!0,this.destroy$=new Xe,this._overlaySubFilter=[Xt((e=>e.id===this._overlayId)),Si(this.destroy$)],this.overlayClosed=e=>{this._collapsed=!0,this.cdr.detectChanges(),this.unsubscribe(),this.overlayService.detach(this.overlayId);let t={owner:this,id:this._overlayId,event:e.event};delete this._overlayId,this.closed.emit(t),this.cdr.markForCheck()}}open(e){let t=this.overlayService.getOverlayById(this._overlayId),i=t?.openAnimationPlayer?.hasStarted()??!1,n=t?.closeAnimationPlayer?.hasStarted()??!1;if(i||!this._collapsed&&!n)return;let r=e&&e.target;if(r&&r instanceof Element){let e=window.getComputedStyle(r),t=e.getPropertyValue("--component-size"),i=e.getPropertyValue("--ig-size"),n=t||i||"3";this.elementRef.nativeElement.style.setProperty("--ig-size",n)}this._collapsed=!1,this.cdr.detectChanges(),t||(this.unsubscribe(),this.subscribe(),this._overlayId=this.overlayService.attach(this.elementRef,e));let s={cancel:!1,owner:this,id:this._overlayId};if(this.opening.emit(s),s.cancel)return this.unsubscribe(),this.overlayService.detach(this._overlayId),this._collapsed=!0,delete this._overlayId,void this.cdr.detectChanges();this.overlayService.show(this._overlayId,e)}close(e){let t=this.overlayService.getOverlayById(this._overlayId)?.closeAnimationPlayer?.hasStarted()||!1;this._collapsed||t||this.overlayService.hide(this._overlayId,e)}toggle(e){this.collapsed||this.isClosing?this.open(e):this.close()}get isClosing(){let e=this.overlayService.getOverlayById(this._overlayId);return!!e&&e.closeAnimationPlayer?.hasStarted()}get overlayId(){return this._overlayId}reposition(){this.overlayService.reposition(this._overlayId)}setOffset(e,t){this.overlayService.setOffset(this._overlayId,e,t)}ngOnInit(){this.navigationService&&this.id&&this.navigationService.add(this.id,this)}ngOnDestroy(){this.navigationService&&this.id&&this.navigationService.remove(this.id),this._overlayId&&this.overlayService.detach(this._overlayId),this.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete()}subscribe(){this._overlayContentAppendedSub=this.overlayService.contentAppended.pipe(fi(),Si(this.destroy$)).subscribe((()=>{let e={owner:this,id:this._overlayId};this.appended.emit(e)})),this._overlayOpenedSub=this.overlayService.opened.pipe(...this._overlaySubFilter).subscribe((()=>{let e={owner:this,id:this._overlayId};this.opened.emit(e)})),this._overlayClosingSub=this.overlayService.closing.pipe(...this._overlaySubFilter).subscribe((e=>{let t={cancel:!1,event:e.event,owner:this,id:this._overlayId};this.closing.emit(t),e.cancel=t.cancel,e.cancel||this.clearSubscription(this._overlayClosingSub)})),this._overlayClosedSub=this.overlayService.closed.pipe(...this._overlaySubFilter).subscribe(this.overlayClosed)}unsubscribe(){this.clearSubscription(this._overlayOpenedSub),this.clearSubscription(this._overlayClosingSub),this.clearSubscription(this._overlayClosedSub),this.clearSubscription(this._overlayContentAppendedSub)}clearSubscription(e){e&&!e.closed&&e.unsubscribe()}};return e.fac=function(t){return new(t||e)(nc(wd),nc(fp),nc(nI),nc(l_,8))},e.dir=or({type:e,selectors:[["","igxToggle",""]],hostVars:5,hostBindings:function(e,t){2&e&&(ph("aria-hidden",t.hiddenClass),iu("igx-toggle--hidden",t.hiddenClass)("igx-toggle",t.defaultClass))},inputs:{id:"id"},outputs:{opened:"opened",opening:"opening",closed:"closed",closing:"closing",appended:"appended"},exportAs:["toggle"],standalone:!0}),e})(),PA=(()=>{let e=class{set target(e){null!==e&&""!==e&&(this._target=e)}get target(){return"string"==typeof this._target?this.navigationService.get(this._target):this._target}constructor(e,t){this.element=e,this.navigationService=t}onClick(){this.outlet&&(this._overlayDefaults.outlet=this.outlet);let e=Object.assign({},this._overlayDefaults,this.overlaySettings);this.updateOverlaySettings(e),this.target.toggle(e)}ngOnInit(){let e=this.element.nativeElement;this._overlayDefaults={target:e,positionStrategy:new qE,scrollStrategy:new rI,closeOnOutsideClick:!0,modal:!1,excludeFromOutsideClick:[e]}}updateOverlaySettings(e){if(e&&e.positionStrategy){let t=e.positionStrategy.clone();e.target=this.element.nativeElement,e.positionStrategy=t}return e}};return e.fac=function(t){return new(t||e)(nc(wd),nc(l_,8))},e.dir=or({type:e,selectors:[["","igxToggleAction",""]],hostBindings:function(e,t){1&e&&Fh("click",(function(){return t.onClick()}))},inputs:{overlaySettings:"overlaySettings",outlet:["igxToggleOutlet","outlet"],target:["igxToggleAction","target"]},exportAs:["toggle-action"],standalone:!0}),e})(),MA=(()=>{let e=class{constructor(e){this.element=e}get nativeElement(){return this.element.nativeElement}};return e.fac=function(t){return new(t||e)(nc(wd))},e.dir=or({type:e,selectors:[["","igxOverlayOutlet",""]],exportAs:["overlay-outlet"],standalone:!0}),e})(),VA=0,NA=(()=>{let e=class extends FA{get hiddenClass(){return this.collapsed}get defaultClass(){return!this.collapsed}get role(){return"tooltip"}constructor(e,t,i,n){super(e,t,i,n),this.id="igx-tooltip-"+VA++,this.toBeHidden=!1,this.toBeShown=!1}forceOpen(e){let t=this.overlayService.getOverlayById(this._overlayId);if(t&&t.openAnimationPlayer)t.openAnimationPlayer.finish(),t.openAnimationPlayer.reset(),t.openAnimationPlayer=null;else if(this.collapsed){let t=e.positionStrategy.settings.openAnimation;e.positionStrategy.settings.openAnimation=null,this.open(e),e.positionStrategy.settings.openAnimation=t}}forceClose(e){let t=this.overlayService.getOverlayById(this._overlayId);if(t&&t.closeAnimationPlayer)t.closeAnimationPlayer.finish(),t.closeAnimationPlayer.reset(),t.closeAnimationPlayer=null;else if(!this.collapsed){let t=e.positionStrategy.settings.closeAnimation;e.positionStrategy.settings.closeAnimation=null,this.close(),e.positionStrategy.settings.closeAnimation=t}}};return e.fac=function(t){return new(t||e)(nc(wd),nc(fp),nc(nI),nc(l_,8))},e.dir=or({type:e,selectors:[["","igxTooltip",""]],hostVars:6,hostBindings:function(e,t){2&e&&(ph("id",t.id)("role",t.role),iu("igx-tooltip--hidden",t.hiddenClass)("igx-tooltip--desktop",t.defaultClass))},inputs:{context:"context",id:"id"},exportAs:["tooltip"],standalone:!0,features:[th]}),e})(),LA=(()=>{let e=class{};return e.fac=function(t){return new(t||e)},e.cmp=tr({type:e,selectors:[["igx-tooltip"]],viewQuery:function(e,t){if(1&e&&Bg(NA,7),2&e){let e;Hg(e=Gg())&&(t.tooltip=e.first)}},standalone:!0,features:[Wu],decls:2,vars:1,consts:[["igxTooltip",""]],template:function(e,t){1&e&&(Ch(0,"span",0),fu(1),Sh()),2&e&&(tc(1),vu(t.content))},dependencies:[NA],encapsulation:2}),e})(),HA=(()=>{let e=class extends PA{set target(e){e instanceof NA&&(this._target=e)}get target(){return"string"==typeof this._target?this._navigationService.get(this._target):this._target}set tooltip(e){if(!this.target&&("string"==typeof e||e instanceof String)){let t=this._viewContainerRef.createComponent(LA);t.instance.content=e,this._target=t.instance.tooltip}}get nativeElement(){return this._element.nativeElement}get tooltipHidden(){return!this.target||this.target.collapsed}constructor(e,t,i){super(e,t),this._element=e,this._navigationService=t,this._viewContainerRef=i,this.showDelay=500,this.hideDelay=500,this.tooltipDisabled=!1,this.tooltipShow=new Pd,this.tooltipHide=new Pd,this.destroy$=new Xe}onClick(){this.target.collapsed||this.target.forceClose(this.mergedOverlaySettings)}onMouseEnter(){if(this.tooltipDisabled||(this.checkOutletAndOutsideClick(),this.preMouseEnterCheck()))return;let e={target:this,tooltip:this.target,cancel:!1};this.tooltipShow.emit(e),!e.cancel&&(this.target.toBeShown=!0,this.target.timeoutId=setTimeout((()=>{this.target.open(this.mergedOverlaySettings),this.target.toBeShown=!1}),this.showDelay))}onMouseLeave(){this.tooltipDisabled||(this.checkOutletAndOutsideClick(),this.preMouseLeaveCheck()||this.target.collapsed)||(this.target.toBeHidden=!0,this.target.timeoutId=setTimeout((()=>{this.target.close(),this.target.toBeHidden=!1}),this.hideDelay))}onTouchStart(){this.tooltipDisabled||this.showTooltip()}onDocumentTouchStart(e){this.tooltipDisabled||this.nativeElement!==e.target&&!this.nativeElement.contains(e.target)&&this.hideTooltip()}ngOnInit(){super.ngOnInit();let e={horizontalDirection:zE.Center,horizontalStartPoint:zE.Center,openAnimation:Ey(Wv,{params:{duration:"150ms"}}),closeAnimation:Ey(Py,{params:{duration:"75ms"}})};this._overlayDefaults.positionStrategy=new XE(e),this._overlayDefaults.closeOnOutsideClick=!1,this._overlayDefaults.closeOnEscape=!0,this.target.closing.pipe(Si(this.destroy$)).subscribe((e=>{let t={target:this,tooltip:this.target,cancel:!1};this.tooltipHide.emit(t),t.cancel&&(e.cancel=!0)}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}showTooltip(){clearTimeout(this.target.timeoutId),this.target.collapsed||(this.target.forceClose(this.mergedOverlaySettings),this.target.toBeHidden=!1);let e={target:this,tooltip:this.target,cancel:!1};this.tooltipShow.emit(e),!e.cancel&&(this.target.toBeShown=!0,this.target.timeoutId=setTimeout((()=>{this.target.open(this.mergedOverlaySettings),this.target.toBeShown=!1}),this.showDelay))}hideTooltip(){this.target.collapsed&&this.target.toBeShown&&clearTimeout(this.target.timeoutId),!this.target.collapsed&&!this.target.toBeHidden&&(this.target.toBeHidden=!0,this.target.timeoutId=setTimeout((()=>{this.target.close(),this.target.toBeHidden=!1}),this.hideDelay))}checkOutletAndOutsideClick(){this.outlet&&(this._overlayDefaults.outlet=this.outlet)}get mergedOverlaySettings(){return Object.assign({},this._overlayDefaults,this.overlaySettings)}preMouseEnterCheck(){return this.target.toBeShown&&(clearTimeout(this.target.timeoutId),this.target.toBeShown=!1),(!this.target.collapsed||this.target.toBeHidden)&&(clearTimeout(this.target.timeoutId),this.target.forceClose(this.mergedOverlaySettings),this.target.toBeHidden=!1),!1}preMouseLeaveCheck(){return clearTimeout(this.target.timeoutId),!!this.target.toBeShown&&(this.target.toBeShown=!1,this.target.toBeHidden=!1,!0)}};return e.fac=function(t){return new(t||e)(nc(wd),nc(l_,8),nc(Cg))},e.dir=or({type:e,selectors:[["","igxTooltipTarget",""]],hostBindings:function(e,t){1&e&&Fh("click",(function(){return t.onClick()}))("mouseenter",(function(){return t.onMouseEnter()}))("mouseleave",(function(){return t.onMouseLeave()}))("touchstart",(function(){return t.onTouchStart()}))("touchstart",(function(e){return t.onDocumentTouchStart(e)}),!1,Wd)},inputs:{showDelay:"showDelay",hideDelay:"hideDelay",tooltipDisabled:"tooltipDisabled",target:["igxTooltipTarget","target"],tooltip:"tooltip"},outputs:{tooltipShow:"tooltipShow",tooltipHide:"tooltipHide"},exportAs:["tooltipTarget"],standalone:!0,features:[th]}),e})(),BA=function(e){return e.Date="date",e.Month="month",e.Year="year",e.Hours="hours",e.Minutes="minutes",e.Seconds="seconds",e.AmPm="ampm",e.Literal="literal",e}(BA||{}),zA=["h","H","m","s","S","t","T"],GA=["d","D","M","y","Y"],$A=(()=>{let e=class e{static parseValueFromMask(t,i,n){let r={};if(i.forEach((i=>{let s=parseInt(e.getCleanVal(t,i,n),10);s||(s=i.type===BA.Date||i.type===BA.Month?1:0),r[i.type]=s})),r[BA.Month]-=1,r[BA.Month]<0||11<r[BA.Month]||(r[BA.Year]<50&&(r[BA.Year]+=2e3),r[BA.Date]>e.daysInMonth(r[BA.Year],r[BA.Month]))||r[BA.Hours]>23||r[BA.Minutes]>59||r[BA.Seconds]>59)return null;let s=i.find((e=>e.type===BA.AmPm));return s&&(r[BA.Hours]%=12),s&&"pm"===e.getCleanVal(t,s,n).toLowerCase()&&(r[BA.Hours]+=12),new Date(r[BA.Year]||2e3,r[BA.Month]||0,r[BA.Date]||1,r[BA.Hours]||0,r[BA.Minutes]||0,r[BA.Seconds]||0)}static parseDateTimeFormat(t,i){let n=t||e.getDefaultInputFormat(i),r=[],s=Array.from(n),o=null,a=0;for(let t=0;t<s.length;t++,a++){let i=e.determineDatePart(s[t]);if(o){if(o.type===i&&(o.format+=s[t],t<s.length-1))continue;e.addCurrentPart(o,r),a=o.end}o={start:a,end:a+s[t].length,type:i,format:s[t]}}r.filter((e=>e.format.includes(o.format))).length||e.addCurrentPart(o,r);let l=r.filter((e=>e.type===BA.Year))[0];return l&&"yy"!==l.format&&(l.end+=4-l.format.length,l.format="yyyy"),r}static getPartValue(e,t,i){let n;switch(t.type){case BA.Date:n=e.getDate();break;case BA.Month:n=e.getMonth()+1;break;case BA.Year:n=2===i?this.prependValue(parseInt(e.getFullYear().toString().slice(-2),10),i,"0"):e.getFullYear();break;case BA.Hours:n=-1!==t.format.indexOf("h")?this.prependValue(this.toTwelveHourFormat(e.getHours().toString()),i,"0"):e.getHours();break;case BA.Minutes:n=e.getMinutes();break;case BA.Seconds:n=e.getSeconds();break;case BA.AmPm:n=e.getHours()>=12?"PM":"AM"}return t.type!==BA.AmPm?this.prependValue(n,i,"0"):n}static getDefaultInputFormat(t){if(t=t||e.DEFAULT_LOCALE,!Intl||!Intl.DateTimeFormat||!Intl.DateTimeFormat.prototype.formatToParts)return e.DEFAULT_INPUT_FORMAT;let i=e.getDefaultLocaleMask(t);return i.forEach((t=>{t.type!==BA.Year&&t.type!==e.SEPARATOR&&(t.formatType="2-digit")})),e.getMask(i)}static formatDate(t,i,n,r){let s;try{s=dm(t,i,n,r)}catch{e.logMissingLocaleSettings(n),s=new Intl.DateTimeFormat(n).format(t)}return s}static getLocaleDateFormat(t,i){let n,r=Object.keys(Wp).find((e=>e.toLowerCase()===i?.toLowerCase().replace("date","")));if(!r)return i;try{n=Up(t,Wp[r])}catch{e.logMissingLocaleSettings(t),n=e.getDefaultInputFormat(t)}return n}static isDateOrTimeChar(e){return-1!==zA.indexOf(e)||-1!==GA.indexOf(e)}static spinDate(t,i,n){let r=e.daysInMonth(i.getFullYear(),i.getMonth()),s=i.getDate()+t;s>r?s=n?s%r:r:s<1&&(s=n?r+s%r:1),i.setDate(s)}static spinMonth(t,i,n){let r=e.daysInMonth(i.getFullYear(),i.getMonth()+t);i.getDate()>r&&i.setDate(r);let s=i.getMonth()+t;s>11?s=n?s%11-1:11:s<0&&(s=n?11+s%11+1:0),i.setMonth(s)}static spinYear(t,i){let n=e.daysInMonth(i.getFullYear()+t,i.getMonth());i.getDate()>n&&i.setDate(n),i.setFullYear(i.getFullYear()+t)}static spinHours(e,t,i){let n=t.getHours()+e;n>23?n=i?n%23-1:23:n<0&&(n=i?23+n%23+1:0),t.setHours(n)}static spinMinutes(e,t,i){let n=t.getMinutes()+e;n>59?n=i?n%59-1:59:n<0&&(n=i?59+n%59+1:0),t.setMinutes(n)}static spinSeconds(e,t,i){let n=t.getSeconds()+e;n>59?n=i?n%59-1:59:n<0&&(n=i?59+n%59+1:0),t.setSeconds(n)}static spinAmPm(e,t,i){switch(i){case"AM":e=new Date(e.setHours(e.getHours()+12));break;case"PM":e=new Date(e.setHours(e.getHours()-12))}return e.getDate()!==t.getDate()?t:e}static greaterThanMaxValue(e,t,i=!0,n=!0){if(i&&n)return e.getTime()>t.getTime();let r=new Date(e.getTime()),s=new Date(t.getTime());return i||(r.setHours(0,0,0,0),s.setHours(0,0,0,0)),n||(r.setFullYear(0,0,0),s.setFullYear(0,0,0)),r.getTime()>s.getTime()}static lessThanMinValue(e,t,i=!0,n=!0){if(i&&n)return e.getTime()<t.getTime();let r=new Date(e.getTime()),s=new Date(t.getTime());return i||(r.setHours(0,0,0,0),s.setHours(0,0,0,0)),n||(r.setFullYear(0,0,0),s.setFullYear(0,0,0)),r.getTime()<s.getTime()}static validateMinMax(t,i,n,r=!0,s=!0){if(!t)return null;let o={},a=e.isValidDate(i)?i:e.parseIsoDate(i),l=e.isValidDate(n)?n:e.parseIsoDate(n);return a&&t&&e.lessThanMinValue(t,a,r,s)&&Object.assign(o,{minValue:!0}),l&&t&&e.greaterThanMaxValue(t,l,r,s)&&Object.assign(o,{maxValue:!0}),o}static parseIsoDate(e){let t=/^\d{4}/g;if(t.test(e))return new Date(e+""+(-1===e.indexOf("T")?"T00:00:00":""));if(t=/^\d{2}/g,t.test(e)){let t=(new Date).toISOString(),[i,n]=t.split("T");return new Date(`${i}T${e}`)}return null}static isValidDate(e){return!!rb(e)&&!isNaN(e.getTime())}static addCurrentPart(t,i){e.ensureLeadingZero(t),t.end=t.start+t.format.length,i.push(t)}static daysInMonth(e,t){return new Date(e,t+1,0).getDate()}static trimEmptyPlaceholders(e,t){return e.replace(new RegExp(t||"_","g"),"")}static getMask(t){let i=[];for(let n of t){switch(n.formatType){case"numeric":"day"===n.type?i.push("d"):"month"===n.type?i.push("M"):i.push("yyyy");break;case"2-digit":"day"===n.type?i.push("dd"):"month"===n.type?i.push("MM"):i.push("yy")}n.type===e.SEPARATOR&&i.push(n.value)}return i.join("")}static logMissingLocaleSettings(e){console.warn(`Missing locale data for the locale ${e}. Please refer to https://angular.io/guide/i18n#i18n-pipes`),console.warn("Using default browser locale settings.")}static prependValue(e,t,i){return(i+e.toString()).slice(-t)}static toTwelveHourFormat(e,t="_"){let i=parseInt(e.replace(new RegExp(t,"g"),"0"),10);return i>12?i-=12:0===i&&(i=12),i}static ensureLeadingZero(e){switch(e.type){case BA.Date:case BA.Month:case BA.Hours:case BA.Minutes:case BA.Seconds:1===e.format.length&&(e.format=e.format.repeat(2))}}static getCleanVal(t,i,n){return e.trimEmptyPlaceholders(t.substring(i.start,i.end),n)}static determineDatePart(e){switch(e){case"d":case"D":return BA.Date;case"M":return BA.Month;case"y":case"Y":return BA.Year;case"h":case"H":return BA.Hours;case"m":return BA.Minutes;case"s":case"S":return BA.Seconds;case"t":case"T":return BA.AmPm;default:return BA.Literal}}static getDefaultLocaleMask(t){let i=[],n=new Intl.DateTimeFormat(t),r=n.formatToParts(new Date);for(let t of r)t.type===e.SEPARATOR?i.push({type:e.SEPARATOR,value:t.value}):i.push({type:t.type});let s=n.resolvedOptions();for(let e of i)switch(e.type){case"day":e.formatType=s.day;break;case"month":e.formatType=s.month;break;case"year":e.formatType=s.year}return e.fillDatePartsPositions(i),i}static fillDatePartsPositions(t){let i=0;for(let n of t)if("day"===n.type||"month"===n.type)n.position=[i,i+2],i+=2;else if("year"===n.type)switch(n.formatType){case"numeric":n.position=[i,i+4],i+=4;break;case"2-digit":n.position=[i,i+2],i+=2}else n.type===e.SEPARATOR&&(n.position=[i,i+1],i++)}};return e.DEFAULT_INPUT_FORMAT="MM/dd/yyyy",e.DEFAULT_TIME_INPUT_FORMAT="hh:mm tt",e.SEPARATOR="literal",e.DEFAULT_LOCALE="en",e})(),WA=(()=>{let e=class extends bA{get minValue(){return this._minValue}set minValue(e){this._minValue=e,this._onValidatorChange()}get maxValue(){return this._maxValue}set maxValue(e){this._maxValue=e,this._onValidatorChange()}set inputFormat(e){e&&(this.setMask(e),this._inputFormat=e)}get inputFormat(){return this._inputFormat||this._defaultInputFormat}set value(e){this._value=e,this.setDateValue(e),this.onChangeCallback(e),this.updateMask()}get value(){return this._value}get datePartDeltas(){return Object.assign({},this._datePartDeltas,this.spinDelta)}get emptyMask(){return this.maskParser.applyMask(null,this.maskOptions)}get targetDatePart(){return this.document.activeElement===this.nativeElement||this.document.activeElement?.shadowRoot?.activeElement===this.nativeElement?this._inputDateParts.find((e=>e.start<=this.selectionStart&&this.selectionStart<=e.end&&e.type!==BA.Literal))?.type:this._inputDateParts.some((e=>e.type===BA.Date))?BA.Date:this._inputDateParts.some((e=>e.type===BA.Hours))?BA.Hours:void 0}get hasDateParts(){return this._inputDateParts.some((e=>e.type===BA.Date||e.type===BA.Month||e.type===BA.Year))}get hasTimeParts(){return this._inputDateParts.some((e=>e.type===BA.Hours||e.type===BA.Minutes||e.type===BA.Seconds))}get dateValue(){return this._dateValue}constructor(e,t,i,n,r,s){super(t,i,e,n),this._document=r,this._locale=s,this.spinLoop=!0,this.valueChange=new Pd,this.validationFailed=new Pd,this._datePartDeltas={date:1,month:1,year:1,hours:1,minutes:1,seconds:1},this.onChangeCallback=bt,this._onValidatorChange=bt,this.document=this._document,this.locale=this.locale||this._locale}onWheel(e){this._isFocused&&(e.preventDefault(),e.stopPropagation(),e.deltaY>0?this.decrement():this.increment())}ngOnInit(){this.updateDefaultFormat(),this.setMask(this.inputFormat),this.updateMask()}ngOnChanges(e){e.locale&&!e.locale.firstChange&&(this.updateDefaultFormat(),this._inputFormat||(this.setMask(this.inputFormat),this.updateMask())),e.inputFormat&&!e.inputFormat.firstChange&&this.updateMask()}clear(){this._onClear=!0,this.updateValue(null),this.setSelectionRange(0,this.inputValue.length),this._onClear=!1}increment(e,t){let i=e||this.targetDatePart;if(!i)return;let n=this.trySpinValue(i,t);this.updateValue(n)}decrement(e,t){let i=e||this.targetDatePart;if(!i)return;let n=this.trySpinValue(i,t,!0);this.updateValue(n)}writeValue(e){this._value=e,this.setDateValue(e),this.updateMask()}validate(e){if(!e.value)return null;if(rb(e.value)&&!$A.isValidDate(e.value))return{value:!0};let t={},i=$A.isValidDate(e.value)?e.value:$A.parseIsoDate(e.value),n=$A.isValidDate(this.minValue)?this.minValue:this.parseDate(this.minValue),r=$A.isValidDate(this.maxValue)?this.maxValue:this.parseDate(this.maxValue);return(n||r)&&(t=$A.validateMinMax(i,n,r,this.hasTimeParts,this.hasDateParts)),Object.keys(t).length>0?t:null}registerOnValidatorChange(e){this._onValidatorChange=e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}setDisabledState(e){}onCompositionEnd(){super.onCompositionEnd(),this.updateValue(this.parseDate(this.inputValue)),this.updateMask()}onInputChanged(e){if(super.onInputChanged(e),!this._composing)if(this.inputIsComplete()){let e=this.parseDate(this.inputValue);if($A.isValidDate(e))this.updateValue(e);else{let t={oldValue:this.value&&new Date(this.dateValue.getTime()),newValue:e,userInput:this.inputValue};this.validationFailed.emit(t),$A.isValidDate(t.newValue)?this.updateValue(t.newValue):this.updateValue(null)}}else this.updateValue(null)}onKeyDown(e){if(this.nativeElement.readOnly)return;super.onKeyDown(e);let t=e.key;if(!e.altKey){if(t===this.platform.KEYMAP.ARROW_DOWN||t===this.platform.KEYMAP.ARROW_UP)return void this.spin(e);e.ctrlKey&&t===this.platform.KEYMAP.SEMICOLON&&this.updateValue(new Date),this.moveCursor(e)}}onFocus(){this.nativeElement.readOnly||(this._isFocused=!0,this._onTouchedCallback(),this.updateMask(),super.onFocus(),this.nativeElement.select())}onBlur(e){this._isFocused=!1,this.inputIsComplete()||this.inputValue===this.emptyMask?this.updateMask():this.updateValue(this.parseDate(this.inputValue)),!this.displayValuePipe&&super.onBlur(e)}setPlaceholder(e){}updateDefaultFormat(){this._defaultInputFormat=$A.getDefaultInputFormat(this.locale)}updateMask(){if(this._isFocused){let e=this.selectionEnd;this.inputValue=this.getMaskedValue(),this.setSelectionRange(e)}else{if(!this.dateValue||!$A.isValidDate(this.dateValue))return void(this.inputValue="");if(this.displayValuePipe)return void(this.inputValue=this.displayValuePipe.transform(this.value));let e=this.displayFormat||this.inputFormat;this.inputValue=e?$A.formatDate(this.dateValue,e.replace("tt","aa"),this.locale):this.dateValue.toLocaleString()}}setMask(e){let t=this._inputDateParts?.map((e=>e.format)).join("");this._inputDateParts=$A.parseDateTimeFormat(e);let i=((e=this._inputDateParts.map((e=>e.format)).join(""))||$A.DEFAULT_INPUT_FORMAT).replace(new RegExp(/(?=[^t])[\w]/,"g"),"0");this.mask=-1!==i.indexOf("tt")?i.replace(new RegExp("tt","g"),"LL"):i;let n=this.nativeElement.placeholder;(!n||t===n)&&this.renderer.setAttribute(this.nativeElement,"placeholder",e)}parseDate(e){return e?$A.parseValueFromMask(e,this._inputDateParts,this.promptChar):null}getMaskedValue(){let e=this.emptyMask;if($A.isValidDate(this.value)||$A.parseIsoDate(this.value)){for(let t of this._inputDateParts){if(t.type===BA.Literal)continue;let i=this.getPartValue(t,t.format.length);e=this.maskParser.replaceInMask(e,i,this.maskOptions,t.start,t.end).value}return e}return this.inputIsComplete()&&this._onClear?e:this.inputValue}valueInRange(e){if(!e)return!1;let t={},i=$A.isValidDate(this.minValue)?this.minValue:this.parseDate(this.minValue),n=$A.isValidDate(this.maxValue)?this.maxValue:this.parseDate(this.maxValue);return(i||n)&&(t=$A.validateMinMax(e,this.minValue,this.maxValue,this.hasTimeParts,this.hasDateParts)),0===Object.keys(t).length}spinValue(e,t){if(!this.dateValue||!$A.isValidDate(this.dateValue))return null;let i=new Date(this.dateValue.getTime());switch(e){case BA.Date:$A.spinDate(t,i,this.spinLoop);break;case BA.Month:$A.spinMonth(t,i,this.spinLoop);break;case BA.Year:$A.spinYear(t,i);break;case BA.Hours:$A.spinHours(t,i,this.spinLoop);break;case BA.Minutes:$A.spinMinutes(t,i,this.spinLoop);break;case BA.Seconds:$A.spinSeconds(t,i,this.spinLoop);break;case BA.AmPm:let e=this._inputDateParts.find((e=>e.type===BA.AmPm)),n=this.inputValue.substring(e.start,e.end);return $A.spinAmPm(i,this.dateValue,n)}return i}trySpinValue(e,t,i=!1){t||(t=this.datePartDeltas[e]||1);let n=i?-Math.abs(t):Math.abs(t);return this.spinValue(e,n)||new Date}setDateValue(e){this._dateValue=$A.isValidDate(e)?e:$A.parseIsoDate(e)}updateValue(e){this._oldValue=this.dateValue,this.value=e,(this.inputIsComplete()||this.inputValue===this.emptyMask)&&this.valueChange.emit(this.dateValue),this.dateValue&&!this.valueInRange(this.dateValue)&&this.validationFailed.emit({oldValue:this._oldValue,newValue:this.dateValue,userInput:this.inputValue})}toTwelveHourFormat(e){let t=parseInt(e.replace(new RegExp(this.promptChar,"g"),"0"),10);return t>12?t-=12:0===t&&(t=12),t}getPartValue(e,t){let i;switch(e.type){case BA.Date:i=this.dateValue.getDate();break;case BA.Month:i=this.dateValue.getMonth()+1;break;case BA.Year:i=2===t?this.prependValue(parseInt(this.dateValue.getFullYear().toString().slice(-2),10),t,"0"):this.dateValue.getFullYear();break;case BA.Hours:i=-1!==e.format.indexOf("h")?this.prependValue(this.toTwelveHourFormat(this.dateValue.getHours().toString()),t,"0"):this.dateValue.getHours();break;case BA.Minutes:i=this.dateValue.getMinutes();break;case BA.Seconds:i=this.dateValue.getSeconds();break;case BA.AmPm:i=this.dateValue.getHours()>=12?"PM":"AM"}return e.type!==BA.AmPm?this.prependValue(i,t,"0"):i}prependValue(e,t,i){return(i+e.toString()).slice(-t)}spin(e){switch(e.preventDefault(),e.key){case this.platform.KEYMAP.ARROW_UP:this.increment();break;case this.platform.KEYMAP.ARROW_DOWN:this.decrement()}}inputIsComplete(){return-1===this.inputValue.indexOf(this.promptChar)}moveCursor(e){let t=e.target.value;switch(e.key){case this.platform.KEYMAP.ARROW_LEFT:e.ctrlKey&&(e.preventDefault(),this.setSelectionRange(this.getNewPosition(t)));break;case this.platform.KEYMAP.ARROW_RIGHT:e.ctrlKey&&(e.preventDefault(),this.setSelectionRange(this.getNewPosition(t,1)))}}getNewPosition(e,t=0){let i=this._inputDateParts.filter((e=>e.type===BA.Literal)),n=this.selectionStart;if(t){do{n++}while(!i.some((e=>e.start===n))&&n<e.length);return n}do{n=n>0?--n:n}while(!i.some((e=>e.end===n))&&n>0);return n}};return e.fac=function(t){return new(t||e)(nc(bd),nc(wd),nc(SA),nc(ob),nc(Hp),nc(Xg))},e.dir=or({type:e,selectors:[["","igxDateTimeEditor",""]],hostBindings:function(e,t){1&e&&Fh("wheel",(function(e){return t.onWheel(e)}))},inputs:{locale:"locale",minValue:"minValue",maxValue:"maxValue",spinLoop:"spinLoop",displayFormat:"displayFormat",inputFormat:["igxDateTimeEditor","inputFormat"],value:"value",spinDelta:"spinDelta"},outputs:{valueChange:"valueChange",validationFailed:"validationFailed"},exportAs:["igxDateTimeEditor"],standalone:!0,features:[Nu([{provide:h_,useExisting:e,multi:!0},{provide:y_,useExisting:e,multi:!0}]),th,fs]}),e})(),KA=(()=>{let e=class{constructor(){this.operations=[{name:"null",isUnary:!0,iconName:"is-null",logic:e=>null===e},{name:"notNull",isUnary:!0,iconName:"is-not-null",logic:e=>null!==e},{name:"in",isUnary:!1,iconName:"is-in",hidden:!0,logic:(e,t)=>this.findValueInSet(e,t)}]}static instance(){return this._instance||(this._instance=new this)}conditionList(){return this.operations.filter((e=>!e.hidden)).map((e=>e.name))}condition(e){return this.operations.find((t=>t.name===e))}append(e){this.operations.push(e)}findValueInSet(e,t){return t.has(e)}};return e._instance=null,e})(),jA=class extends KA{constructor(){super(),this.operations=[{name:"all",isUnary:!0,iconName:"select-all",logic:e=>!0},{name:"true",isUnary:!0,iconName:"is-true",logic:e=>!(!e||null==e)},{name:"false",isUnary:!0,iconName:"is-false",logic:e=>!e&&null!=e},{name:"empty",isUnary:!0,iconName:"is-empty",logic:e=>null==e},{name:"notEmpty",isUnary:!0,iconName:"not-empty",logic:e=>null!=e}].concat(this.operations)}},UA=class extends KA{constructor(){super(),this.operations=[{name:"empty",isUnary:!0,iconName:"is-empty",logic:e=>null==e},{name:"notEmpty",isUnary:!0,iconName:"not-empty",logic:e=>null!=e}].concat(this.operations)}static getDateParts(e,t){let i={day:null,hours:null,milliseconds:null,minutes:null,month:null,seconds:null,year:null};return!e||!t||(t.indexOf("y")>=0&&(i.year=e.getFullYear()),t.indexOf("M")>=0&&(i.month=e.getMonth()),t.indexOf("d")>=0&&(i.day=e.getDate()),t.indexOf("h")>=0&&(i.hours=e.getHours()),t.indexOf("m")>=0&&(i.minutes=e.getMinutes()),t.indexOf("s")>=0&&(i.seconds=e.getSeconds()),t.indexOf("f")>=0&&(i.milliseconds=e.getMilliseconds())),i}findValueInSet(e,t){return!!e&&t.has(e instanceof Date?e.toISOString():e)}validateInputData(e){if(!(e instanceof Date))throw new Error("Could not perform filtering on 'date' column because the datasource object type is not 'Date'.")}},qA=class e extends UA{constructor(){super(),this.operations=[{name:"equals",isUnary:!1,iconName:"equals",logic:(t,i)=>{if(!t)return!1;this.validateInputData(t);let n=e.getDateParts(t,"yMd"),r=e.getDateParts(i,"yMd");return n.year===r.year&&n.month===r.month&&n.day===r.day}},{name:"doesNotEqual",isUnary:!1,iconName:"not-equal",logic:(t,i)=>{if(!t)return!0;this.validateInputData(t);let n=e.getDateParts(t,"yMd"),r=e.getDateParts(i,"yMd");return n.year!==r.year||n.month!==r.month||n.day!==r.day}},{name:"before",isUnary:!1,iconName:"is-before",logic:(e,t)=>!!e&&(this.validateInputData(e),e<t)},{name:"after",isUnary:!1,iconName:"is-after",logic:(e,t)=>!!e&&(this.validateInputData(e),e>t)},{name:"today",isUnary:!0,iconName:"today",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yMd"),n=e.getDateParts(new Date,"yMd");return i.year===n.year&&i.month===n.month&&i.day===n.day}},{name:"yesterday",isUnary:!0,iconName:"yesterday",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yMd"),n=(s=new Date,new Date(s.setDate(s.getDate()-1))),r=e.getDateParts(n,"yMd");var s;return i.year===r.year&&i.month===r.month&&i.day===r.day}},{name:"thisMonth",isUnary:!0,iconName:"this-month",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yM"),n=e.getDateParts(new Date,"yM");return i.year===n.year&&i.month===n.month}},{name:"lastMonth",isUnary:!0,iconName:"last-month",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yM"),n=e.getDateParts(new Date,"yM");return n.month?n.month--:(n.month=11,n.year-=1),i.year===n.year&&i.month===n.month}},{name:"nextMonth",isUnary:!0,iconName:"next-month",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yM"),n=e.getDateParts(new Date,"yM");return 11===n.month?(n.month=0,n.year+=1):n.month++,i.year===n.year&&i.month===n.month}},{name:"thisYear",isUnary:!0,iconName:"this-year",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"y"),n=e.getDateParts(new Date,"y");return i.year===n.year}},{name:"lastYear",isUnary:!0,iconName:"last-year",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"y"),n=e.getDateParts(new Date,"y");return i.year===n.year-1}},{name:"nextYear",isUnary:!0,iconName:"next-year",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"y"),n=e.getDateParts(new Date,"y");return i.year===n.year+1}}].concat(this.operations)}},YA=class e extends UA{constructor(){super(),this.operations=[{name:"equals",isUnary:!1,iconName:"equals",logic:(t,i)=>{if(!t)return!1;this.validateInputData(t);let n=e.getDateParts(t,"yMdhms"),r=e.getDateParts(i,"yMdhms");return n.year===r.year&&n.month===r.month&&n.day===r.day&&n.hours===r.hours&&n.minutes===r.minutes&&n.seconds===r.seconds}},{name:"doesNotEqual",isUnary:!1,iconName:"not-equal",logic:(t,i)=>{if(!t)return!0;this.validateInputData(t);let n=e.getDateParts(t,"yMdhms"),r=e.getDateParts(i,"yMdhms");return n.year!==r.year||n.month!==r.month||n.day!==r.day||n.hours!==r.hours||n.minutes!==r.minutes||n.seconds!==r.seconds}},{name:"before",isUnary:!1,iconName:"is-before",logic:(e,t)=>!!e&&(this.validateInputData(e),e<t)},{name:"after",isUnary:!1,iconName:"is-after",logic:(e,t)=>!!e&&(this.validateInputData(e),e>t)},{name:"today",isUnary:!0,iconName:"today",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yMd"),n=e.getDateParts(new Date,"yMd");return i.year===n.year&&i.month===n.month&&i.day===n.day}},{name:"yesterday",isUnary:!0,iconName:"yesterday",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yMd"),n=(s=new Date,new Date(s.setDate(s.getDate()-1))),r=e.getDateParts(n,"yMd");var s;return i.year===r.year&&i.month===r.month&&i.day===r.day}},{name:"thisMonth",isUnary:!0,iconName:"this-month",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yM"),n=e.getDateParts(new Date,"yM");return i.year===n.year&&i.month===n.month}},{name:"lastMonth",isUnary:!0,iconName:"last-month",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yM"),n=e.getDateParts(new Date,"yM");return n.month?n.month--:(n.month=11,n.year-=1),i.year===n.year&&i.month===n.month}},{name:"nextMonth",isUnary:!0,iconName:"next-month",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yM"),n=e.getDateParts(new Date,"yM");return 11===n.month?(n.month=0,n.year+=1):n.month++,i.year===n.year&&i.month===n.month}},{name:"thisYear",isUnary:!0,iconName:"this-year",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"y"),n=e.getDateParts(new Date,"y");return i.year===n.year}},{name:"lastYear",isUnary:!0,iconName:"last-year",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"y"),n=e.getDateParts(new Date,"y");return i.year===n.year-1}},{name:"nextYear",isUnary:!0,iconName:"next-year",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"y"),n=e.getDateParts(new Date,"y");return i.year===n.year+1}}].concat(this.operations)}},XA=class e extends UA{constructor(){super(),this.operations=[{name:"at",isUnary:!1,iconName:"equals",logic:(t,i)=>{if(!t)return!1;this.validateInputData(t);let n=e.getDateParts(t,"hms"),r=e.getDateParts(i,"hms");return n.hours===r.hours&&n.minutes===r.minutes&&n.seconds===r.seconds}},{name:"not_at",isUnary:!1,iconName:"not-equal",logic:(t,i)=>{if(!t)return!0;this.validateInputData(t);let n=e.getDateParts(t,"hms"),r=e.getDateParts(i,"hms");return n.hours!==r.hours||n.minutes!==r.minutes||n.seconds!==r.seconds}},{name:"before",isUnary:!1,iconName:"is-before",logic:(t,i)=>{if(!t)return!1;this.validateInputData(t);let n=e.getDateParts(t,"hms"),r=e.getDateParts(i,"hms");return n.hours<r.hours||n.hours===r.hours&&n.minutes<r.minutes||n.hours===r.hours&&n.minutes===r.minutes&&n.seconds<r.seconds}},{name:"after",isUnary:!1,iconName:"is-after",logic:(t,i)=>{if(!t)return!1;this.validateInputData(t);let n=e.getDateParts(t,"hms"),r=e.getDateParts(i,"hms");return n.hours>r.hours||n.hours===r.hours&&n.minutes>r.minutes||n.hours===r.hours&&n.minutes===r.minutes&&n.seconds>r.seconds}},{name:"at_before",isUnary:!1,iconName:"is-before",logic:(t,i)=>{if(!t)return!1;this.validateInputData(t);let n=e.getDateParts(t,"hms"),r=e.getDateParts(i,"hms");return n.hours===r.hours&&n.minutes===r.minutes&&n.seconds===r.seconds||n.hours<r.hours||n.hours===r.hours&&n.minutes<r.minutes||n.hours===r.hours&&n.minutes===r.minutes&&n.seconds<r.seconds}},{name:"at_after",isUnary:!1,iconName:"is-after",logic:(t,i)=>{if(!t)return!1;this.validateInputData(t);let n=e.getDateParts(t,"hms"),r=e.getDateParts(i,"hms");return n.hours===r.hours&&n.minutes===r.minutes&&n.seconds===r.seconds||n.hours>r.hours||n.hours===r.hours&&n.minutes>r.minutes||n.hours===r.hours&&n.minutes===r.minutes&&n.seconds>r.seconds}}].concat(this.operations)}findValueInSet(e,t){return!!e&&t.has(e.toLocaleTimeString())}},ZA=class extends KA{constructor(){super(),this.operations=[{name:"equals",isUnary:!1,iconName:"equals",logic:(e,t)=>e===t},{name:"doesNotEqual",isUnary:!1,iconName:"not-equal",logic:(e,t)=>e!==t},{name:"greaterThan",isUnary:!1,iconName:"greater-than",logic:(e,t)=>e>t},{name:"lessThan",isUnary:!1,iconName:"less-than",logic:(e,t)=>e<t},{name:"greaterThanOrEqualTo",isUnary:!1,iconName:"greater-than-or-equal",logic:(e,t)=>e>=t},{name:"lessThanOrEqualTo",isUnary:!1,iconName:"less-than-or-equal",logic:(e,t)=>e<=t},{name:"empty",isUnary:!0,iconName:"is-empty",logic:e=>null==e||isNaN(e)},{name:"notEmpty",isUnary:!0,iconName:"not-empty",logic:e=>null!=e&&!isNaN(e)}].concat(this.operations)}},QA=class e extends KA{constructor(){super(),this.operations=[{name:"contains",isUnary:!1,iconName:"contains",logic:(t,i,n)=>{let r=e.applyIgnoreCase(i,n);return-1!==(t=e.applyIgnoreCase(t,n)).indexOf(r)}},{name:"doesNotContain",isUnary:!1,iconName:"does-not-contain",logic:(t,i,n)=>{let r=e.applyIgnoreCase(i,n);return-1===(t=e.applyIgnoreCase(t,n)).indexOf(r)}},{name:"startsWith",isUnary:!1,iconName:"starts-with",logic:(t,i,n)=>{let r=e.applyIgnoreCase(i,n);return(t=e.applyIgnoreCase(t,n)).startsWith(r)}},{name:"endsWith",isUnary:!1,iconName:"ends-with",logic:(t,i,n)=>{let r=e.applyIgnoreCase(i,n);return(t=e.applyIgnoreCase(t,n)).endsWith(r)}},{name:"equals",isUnary:!1,iconName:"equals",logic:(t,i,n)=>{let r=e.applyIgnoreCase(i,n);return(t=e.applyIgnoreCase(t,n))===r}},{name:"doesNotEqual",isUnary:!1,iconName:"not-equal",logic:(t,i,n)=>{let r=e.applyIgnoreCase(i,n);return(t=e.applyIgnoreCase(t,n))!==r}},{name:"empty",isUnary:!0,iconName:"is-empty",logic:e=>null==e||0===e.length},{name:"notEmpty",isUnary:!0,iconName:"not-empty",logic:e=>null!=e&&e.length>0}].concat(this.operations)}static applyIgnoreCase(e,t){return e=e??"",t?(""+e).toLowerCase():e}},JA=new Ll("IgxExpansionPanelToken"),eR=(()=>{let e=class{constructor(e){this.element=e,this.getTooltipContent=e=>e.nativeElement.title?e.nativeElement.title:e.nativeElement.textContent?e.nativeElement.textContent.trim():null}};return e.fac=function(t){return new(t||e)(nc(wd))},e.dir=or({type:e}),e})(),tR=["*"],iR=(()=>{let e=class{constructor(e,t,i){this.panel=e,this.element=t,this.cdr=i,this.cssClass="igx-expansion-panel__body",this.role="region",this._labelledBy="",this._label=""}get label(){return this._label||this.panel.id+"-region"}set label(e){this._label=e}get labelledBy(){return this._labelledBy}set labelledBy(e){this._labelledBy=e}};return e.fac=function(t){return new(t||e)(nc(JA),nc(wd),nc(fp))},e.cmp=tr({type:e,selectors:[["igx-expansion-panel-body"]],hostVars:5,hostBindings:function(e,t){2&e&&(ph("role",t.role)("aria-label",t.label)("aria-labelledby",t.labelledBy),iu("igx-expansion-panel__body",t.cssClass))},inputs:{role:"role",label:"label",labelledBy:"labelledBy"},standalone:!0,features:[Wu],ngContentSelectors:tR,decls:1,vars:0,template:function(e,t){1&e&&(Lh(),Hh(0))},encapsulation:2}),e})(),nR=(()=>{let e=class extends eR{constructor(){super(...arguments),this.cssClass="igx-expansion-panel__header-title"}get title(){return this.getTooltipContent(this.element)}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.dir=or({type:e,selectors:[["igx-expansion-panel-title"]],hostVars:3,hostBindings:function(e,t){2&e&&(ph("title",t.title),iu("igx-expansion-panel__header-title",t.cssClass))},standalone:!0,features:[th]}),e})(),rR=((()=>{let e=class extends eR{constructor(){super(...arguments),this.cssClass="igx-expansion-panel__header-description"}get title(){return this.getTooltipContent(this.element)}};e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.dir=or({type:e,selectors:[["igx-expansion-panel-description"]],hostVars:3,hostBindings:function(e,t){2&e&&(ph("title",t.title),iu("igx-expansion-panel__header-description",t.cssClass))},standalone:!0,features:[th]})})(),(()=>{let e=class{};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["igx-expansion-panel-icon"]],standalone:!0}),e})());function sR(e,t){1&e&&Hh(0,3,["*ngIf","iconTemplate"])}function oR(e,t){if(1&e&&(Ch(0,"igx-icon"),fu(1),Sh()),2&e){let e=Vh();tc(1),xu(" ",e.panel.collapsed?"expand_more":"expand_less"," ")}}var aR=[[["igx-expansion-panel-title"]],[["igx-expansion-panel-description"]],"*",[["igx-expansion-panel-icon"]]],lR=["igx-expansion-panel-title","igx-expansion-panel-description","*","igx-expansion-panel-icon"],dR="left",cR="none",hR="right",uR=(()=>{let e=class{get iconRef(){let e=this.customIconRef??this.defaultIconRef;return this.iconPosition!==cR?e:null}set iconTemplate(e){this._iconTemplate=e}get iconTemplate(){return this._iconTemplate}get controls(){return this.panel.id}get innerElement(){return this.elementRef.nativeElement.children[0]}get isExpanded(){return!this.panel.collapsed}get disabled(){return this._disabled}set disabled(e){this._disabled=e,e?delete this.tabIndex:this.tabIndex=0}constructor(e,t,i){this.panel=e,this.cdr=t,this.elementRef=i,this.lv="3",this.role="heading",this.iconPosition=dR,this.interaction=new Pd,this.cssClass="igx-expansion-panel__header",this.id="",this.tabIndex=0,this._iconTemplate=!1,this._disabled=!1,this.id=`${this.panel.id}-header`}onAction(e){if(this.disabled)return void e.stopPropagation();let t={event:e,owner:this.panel,cancel:!1};this.interaction.emit(t),!0!==t.cancel&&(this.panel.toggle(e),e.preventDefault())}openPanel(e){if(e.altKey){let t={event:e,owner:this.panel,cancel:!1};if(this.interaction.emit(t),!0===t.cancel)return;this.panel.expand(e)}}closePanel(e){if(e.altKey){let t={event:e,owner:this.panel,cancel:!1};if(this.interaction.emit(t),!0===t.cancel)return;this.panel.collapse(e)}}get iconPositionClass(){switch(this.iconPosition){case dR:return"igx-expansion-panel__header-icon--start";case hR:return"igx-expansion-panel__header-icon--end";case cR:return"igx-expansion-panel__header-icon--none";default:return""}}};return e.fac=function(t){return new(t||e)(nc(JA,1),nc(fp),nc(wd))},e.cmp=tr({type:e,selectors:[["igx-expansion-panel-header"]],contentQueries:function(e,t,i){if(1&e&&(zg(i,rR,5),zg(i,rR,5,wd)),2&e){let e;Hg(e=Gg())&&(t.iconTemplate=e.first),Hg(e=Gg())&&(t.customIconRef=e.first)}},viewQuery:function(e,t){if(1&e&&Bg(XI,5,wd),2&e){let e;Hg(e=Gg())&&(t.defaultIconRef=e.first)}},hostVars:8,hostBindings:function(e,t){1&e&&Fh("keydown.Enter",(function(e){return t.onAction(e)}))("keydown.Space",(function(e){return t.onAction(e)}))("keydown.Spacebar",(function(e){return t.onAction(e)}))("click",(function(e){return t.onAction(e)}))("keydown.Alt.ArrowDown",(function(e){return t.openPanel(e)}))("keydown.Alt.ArrowUp",(function(e){return t.closePanel(e)})),2&e&&(ph("aria-level",t.lv)("role",t.role),iu("igx-expansion-panel__header",t.cssClass)("igx-expansion-panel__header--expanded",t.isExpanded)("igx-expansion-panel--disabled",t.disabled))},inputs:{lv:"lv",role:"role",iconPosition:"iconPosition",disabled:"disabled"},outputs:{interaction:"interaction"},standalone:!0,features:[Wu],ngContentSelectors:lR,decls:8,vars:9,consts:[["role","button",1,"igx-expansion-panel__header-inner"],[1,"igx-expansion-panel__title-wrapper"],[4,"ngIf"]],template:function(e,t){1&e&&(Lh(aR),Ch(0,"div",0)(1,"div",1),Hh(2),Hh(3,1),Sh(),Hh(4,2),Ch(5,"div"),yh(6,sR,1,0,"ng-content",2),yh(7,oR,2,1,"igx-icon",2),Sh()()),2&e&&(ph("tabindex",t.tabIndex)("id",t.id)("aria-disabled",t.disabled)("aria-expanded",t.isExpanded)("aria-controls",t.controls),tc(5),nu(t.iconPositionClass),tc(1),_h("ngIf",t.iconTemplate),tc(1),_h("ngIf",!t.iconTemplate))},dependencies:[$m,XI],encapsulation:2}),e})(),gR=function(e){return e.OPEN="open",e.CLOSE="close",e}(gR||{}),pR=(()=>{let e=class{get animationSettings(){return this._animationSettings}set animationSettings(e){this._animationSettings=e}constructor(e){this.animationService=e,this.openAnimationDone=new Pd,this.closeAnimationDone=new Pd,this.openAnimationStart=new Pd,this.closeAnimationStart=new Pd,this.openAnimationPlayer=null,this.closeAnimationPlayer=null,this.destroy$=new Xe,this.players=new Map,this._animationSettings={openAnimation:o_,closeAnimation:a_},this.closeInterrupted=!1,this.openInterrupted=!1,this._defaultClosedCallback=bt,this._defaultOpenedCallback=bt,this.onClosedCallback=this._defaultClosedCallback,this.onOpenedCallback=this._defaultOpenedCallback}playOpenAnimation(e,t){this.startPlayer(gR.OPEN,e,t||this._defaultOpenedCallback)}playCloseAnimation(e,t){this.startPlayer(gR.CLOSE,e,t||this._defaultClosedCallback)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}startPlayer(e,t,i){if(!t)return;let n=this.getPlayer(e);n||(n=this.initializePlayer(e,t,i)),n&&!n.hasStarted()&&((e===gR.OPEN?this.openAnimationStart:this.closeAnimationStart).emit(),n&&n.play())}initializePlayer(e,t,i){let n=e===gR.OPEN?gR.CLOSE:gR.OPEN,r=this.animationSettings||{closeAnimation:null,openAnimation:null},s=e===gR.OPEN?r.openAnimation:r.closeAnimation;if(!s)return this.setCallback(e,i),(e===gR.OPEN?this.openAnimationStart:this.closeAnimationStart).emit(),void this.onDoneHandler(e);let o=this.getPlayer(n),a=1;o&&(a=o.position,this.cleanUpPlayer(n)),e===gR.OPEN?this.openAnimationPlayer=this.animationService.buildAnimation(s,t.nativeElement):e===gR.CLOSE&&(this.closeAnimationPlayer=this.animationService.buildAnimation(s,t.nativeElement));let l=this.getPlayer(e);return l.init(),this.getPlayer(e).position=1-a,this.setCallback(e,i),l.animationEnd.pipe(Si(this.destroy$)).subscribe((()=>{this.onDoneHandler(e)})),l}onDoneHandler(e){let t=e===gR.OPEN?this.openAnimationDone:this.closeAnimationDone;(e===gR.OPEN?this.onOpenedCallback:this.onClosedCallback)(),(e===gR.OPEN?this.openInterrupted:this.closeInterrupted)||t.emit(),this.cleanUpPlayer(e)}setCallback(e,t){e===gR.OPEN?(this.onOpenedCallback=t,this.openInterrupted=!1):e===gR.CLOSE&&(this.onClosedCallback=t,this.closeInterrupted=!1)}cleanUpPlayer(e){switch(e){case gR.CLOSE:null!=this.closeAnimationPlayer&&(this.closeAnimationPlayer.reset(),this.closeAnimationPlayer.destroy(),this.closeAnimationPlayer=null),this.closeInterrupted=!0,this.onClosedCallback=this._defaultClosedCallback;break;case gR.OPEN:null!=this.openAnimationPlayer&&(this.openAnimationPlayer.reset(),this.openAnimationPlayer.destroy(),this.openAnimationPlayer=null),this.openInterrupted=!0,this.onOpenedCallback=this._defaultOpenedCallback}}getPlayer(e){switch(e){case gR.OPEN:return this.openAnimationPlayer;case gR.CLOSE:return this.closeAnimationPlayer;default:return null}}};return e.fac=function(t){return new(t||e)(nc(BE))},e.dir=or({type:e}),e})();function mR(e,t){1&e&&Hh(0,1,["*ngIf","!collapsed"])}var fR=[[["igx-expansion-panel-header"]],[["igx-expansion-panel-body"]]],yR=["igx-expansion-panel-header","igx-expansion-panel-body"],vR=0,xR=(()=>{let e=class extends pR{get animationSettings(){return this._animationSettings}set animationSettings(e){this._animationSettings=e}get panelExpanded(){return!this.collapsed}get headerId(){return this.header?`${this.id}-header`:""}get nativeElement(){return this.elementRef.nativeElement}constructor(e,t,i){super(e),this.cdr=t,this.elementRef=i,this.id="igx-expansion-panel-"+vR++,this.cssClass="igx-expansion-panel",this.opened=!1,this.collapsed=!0,this.collapsedChange=new Pd,this.contentCollapsing=new Pd,this.contentCollapsed=new Pd,this.contentExpanding=new Pd,this.contentExpanded=new Pd}ngAfterContentInit(){this.body&&this.header&&Promise.resolve().then((()=>{this.body.labelledBy=this.body.labelledBy||this.headerId,this.body.label=this.body.label||this.id+"-region"}))}collapse(e){if(this.collapsed||this.closeAnimationPlayer)return;let t={event:e,panel:this,owner:this,cancel:!1};this.contentCollapsing.emit(t),!0!==t.cancel&&(this.opened=!1,this.playCloseAnimation(this.body?.element,(()=>{this.contentCollapsed.emit({event:e,owner:this}),this.collapsed=!0,this.collapsedChange.emit(!0),this.cdr.markForCheck()})))}expand(e){if(!this.collapsed)return;let t={event:e,panel:this,owner:this,cancel:!1};this.contentExpanding.emit(t),!0!==t.cancel&&(this.collapsed=!1,this.opened=!0,this.collapsedChange.emit(!1),this.cdr.detectChanges(),this.playOpenAnimation(this.body?.element,(()=>{this.contentExpanded.emit({event:e,owner:this})})))}toggle(e){this.collapsed?this.open(e):this.close(e)}open(e){this.expand(e)}close(e){this.collapse(e)}};return e.fac=function(t){return new(t||e)(nc(BE),nc(fp),nc(wd))},e.cmp=tr({type:e,selectors:[["igx-expansion-panel"]],contentQueries:function(e,t,i){if(1&e&&(zg(i,iR,5,iR),zg(i,uR,5,uR)),2&e){let e;Hg(e=Gg())&&(t.body=e.first),Hg(e=Gg())&&(t.header=e.first)}},hostVars:6,hostBindings:function(e,t){2&e&&(ph("id",t.id)("aria-expanded",t.panelExpanded),iu("igx-expansion-panel",t.cssClass)("igx-expansion-panel--expanded",t.opened))},inputs:{animationSettings:"animationSettings",id:"id",collapsed:"collapsed"},outputs:{collapsedChange:"collapsedChange",contentCollapsing:"contentCollapsing",contentCollapsed:"contentCollapsed",contentExpanding:"contentExpanding",contentExpanded:"contentExpanded"},standalone:!0,features:[Nu([{provide:JA,useExisting:e}]),th,Wu],ngContentSelectors:yR,decls:2,vars:1,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(Lh(fR),Hh(0),yh(1,mR,1,0,"ng-content",0)),2&e&&(tc(1),_h("ngIf",!t.collapsed))},dependencies:[$m],encapsulation:2}),e})(),_R=[[["igx-expansion-panel"]]],wR=["igx-expansion-panel"],CR=0,SR=(()=>{let e=class{get animationSettings(){return this._animationSettings}set animationSettings(e){this._animationSettings=e,this.updatePanelsAnimation()}get singleBranchExpand(){return this._singleBranchExpand}set singleBranchExpand(e){this._singleBranchExpand=e,e&&this.collapseAllExceptLast()}get panels(){return this._panels?.toArray()}constructor(e){this.cdr=e,this.id="igx-accordion-"+CR++,this.cssClass="igx-accordion",this.displayStyle="block",this.panelExpanding=new Pd,this.panelExpanded=new Pd,this.panelCollapsing=new Pd,this.panelCollapsed=new Pd,this._destroy$=new Xe,this._unsubChildren$=new Xe,this._singleBranchExpand=!1}ngAfterContentInit(){this.updatePanelsAnimation(),this.singleBranchExpand&&this.collapseAllExceptLast()}ngAfterViewInit(){this._expandedPanels=new Set(this._panels.filter((e=>!e.collapsed))),this._expandingPanels=new Set,this._panels.changes.pipe(Si(this._destroy$)).subscribe((()=>{this.subToChanges()})),this.subToChanges()}ngOnDestroy(){this._unsubChildren$.next(),this._unsubChildren$.complete(),this._destroy$.next(),this._destroy$.complete()}expandAll(){if(this.singleBranchExpand){for(let e=0;e<this.panels.length-1;e++)this.panels[e].collapse();this._panels.last.expand()}else this.panels.forEach((e=>e.expand()))}collapseAll(){this.panels.forEach((e=>e.collapse()))}collapseAllExceptLast(){let e=this.panels?.filter((e=>!e.collapsed&&!e.header.disabled)).pop();this.panels?.forEach((t=>{t!==e&&!t.header.disabled&&(t.collapsed=!0)})),this.cdr.detectChanges()}handleKeydown(e,t){let i=e.key.toLowerCase();cb.has(i)&&(this._enabledPanels=this._panels.filter((e=>!e.header.disabled)),e.preventDefault(),this.handleNavigation(e,t))}handleNavigation(e,t){switch(e.key.toLowerCase()){case"home":this._enabledPanels[0].header.innerElement.focus();break;case"end":this._enabledPanels[this._enabledPanels.length-1].header.innerElement.focus();break;case"arrowup":case"up":this.handleUpDownArrow(!0,e,t);break;case"arrowdown":case"down":this.handleUpDownArrow(!1,e,t)}}handleUpDownArrow(e,t,i){if(!t.altKey){let t=i,n=this.getNextPanel(t,e?-1:1);if(n===t)return;n.header.innerElement.focus()}if(t.altKey&&t.shiftKey)if(e)this._enabledPanels.forEach((e=>e.collapse()));else{if(this.singleBranchExpand){for(let e=0;e<this._enabledPanels.length-1;e++)this._enabledPanels[e].collapse();return void this._enabledPanels[this._enabledPanels.length-1].expand()}this._enabledPanels.forEach((e=>e.expand()))}}getNextPanel(e,t=1){let i=this._enabledPanels.indexOf(e);return this._enabledPanels[i+t]||e}subToChanges(){this._unsubChildren$.next(),this._panels.forEach((e=>{e.contentExpanded.pipe(Si(this._unsubChildren$)).subscribe((e=>{this._expandedPanels.add(e.owner),this._expandingPanels.delete(e.owner);let t=f(m({},e),{owner:this,panel:e.owner});this.panelExpanded.emit(t)})),e.contentExpanding.pipe(Si(this._unsubChildren$)).subscribe((e=>{if(e.cancel)return;let t=f(m({},e),{owner:this,panel:e.owner});this.panelExpanding.emit(t),t.cancel?e.cancel=!0:this.singleBranchExpand&&(this._expandedPanels.forEach((e=>{e.header.disabled||e.collapse()})),this._expandingPanels.forEach((e=>{e.header.disabled||(e.animationSettings.closeAnimation||e.openAnimationPlayer?.reset(),e.animationSettings.openAnimation||e.closeAnimationPlayer?.reset(),e.collapse())})),this._expandingPanels.add(e.owner))})),e.contentCollapsed.pipe(Si(this._unsubChildren$)).subscribe((e=>{this._expandedPanels.delete(e.owner),this._expandingPanels.delete(e.owner);let t=f(m({},e),{owner:this,panel:e.owner});this.panelCollapsed.emit(t)})),e.contentCollapsing.pipe(Si(this._unsubChildren$)).subscribe((e=>{let t=f(m({},e),{owner:this,panel:e.owner});this.panelCollapsing.emit(t),t.cancel&&(e.cancel=!0)})),Wt(e.header.innerElement,"keydown").pipe(Si(this._unsubChildren$)).subscribe((t=>{this.handleKeydown(t,e)}))}))}updatePanelsAnimation(){void 0!==this.animationSettings&&this.panels?.forEach((e=>e.animationSettings=this.animationSettings))}};return e.fac=function(t){return new(t||e)(nc(fp))},e.cmp=tr({type:e,selectors:[["igx-accordion"]],contentQueries:function(e,t,i){if(1&e&&zg(i,xR,4),2&e){let e;Hg(e=Gg())&&(t._panels=e)}},hostVars:5,hostBindings:function(e,t){2&e&&(ph("id",t.id),tu("display",t.displayStyle),iu("igx-accordion",t.cssClass))},inputs:{id:"id",animationSettings:"animationSettings",singleBranchExpand:"singleBranchExpand"},outputs:{panelExpanding:"panelExpanding",panelExpanded:"panelExpanded",panelCollapsing:"panelCollapsing",panelCollapsed:"panelCollapsed"},standalone:!0,features:[Wu],ngContentSelectors:wR,decls:1,vars:0,template:function(e,t){1&e&&(Lh(_R),Hh(0))},encapsulation:2}),e})(),bR=(()=>{let e=class{constructor(){this.selection=new Map}get(e){return this.selection.get(e)}set(e,t){if(!e)throw Error("Invalid value for component id!");this.selection.set(e,t)}clear(e){this.selection.set(e,this.get_empty())}delete(e){this.selection.delete(e)}size(e){let t=this.get(e);return t?t.size:0}add_item(e,t,i){return i||(i=new Set(this.get(e))),void 0===i&&(i=this.get_empty()),i.add(t),i}add_items(e,t,i){let n;return i?n=this.get_empty():t&&0===t.length&&(n=new Set(this.get(e))),t.forEach((t=>n=this.add_item(e,t,n))),n}select_item(e,t,i){this.set(e,this.add_item(e,t,i))}select_items(e,t,i){this.set(e,this.add_items(e,t,i))}delete_item(e,t,i){if(i||(i=new Set(this.get(e))),void 0!==i)return i.delete(t),i}delete_items(e,t){let i;return t.forEach((t=>i=this.delete_item(e,t,i))),i}deselect_item(e,t,i){this.set(e,this.delete_item(e,t,i))}deselect_items(e,t,i){this.set(e,this.delete_items(e,t))}is_item_selected(e,t){let i=this.get(e);return!!i&&i.has(t)}first_item(e){let t=this.get(e);if(t&&t.size>0)return t.values().next().value}are_all_selected(e,t){return t>0&&t===this.size(e)}are_none_selected(e){return 0===this.size(e)}get_all_ids(e,t){return null!=t?e.map((e=>e[t])):e}get_empty(){return new Set}};return e.fac=function(t){return new(t||e)},e.prov=Zi({token:e,factory:e.fac,providedIn:"root"}),e})(),DR=[[["igx-drop-down-item"]]],ER=["igx-drop-down-item"],IR=0,TR=(()=>{let e=class{constructor(){this.role="group",this.groupClass=!0,this.disabled=!1,this._id=IR++}get labelId(){return`igx-item-group-label-${this._id}`}get labelledBy(){return this.labelId}};return e.fac=function(t){return new(t||e)},e.cmp=tr({type:e,selectors:[["igx-drop-down-item-group"]],hostVars:7,hostBindings:function(e,t){2&e&&(ph("aria-labelledby",t.labelledBy)("role",t.role)("aria-disabled",t.disabled),iu("igx-drop-down__group",t.groupClass)("igx-drop-down__group--disabled",t.disabled))},inputs:{disabled:"disabled",label:"label"},standalone:!0,features:[Wu],ngContentSelectors:ER,decls:3,vars:2,consts:[[3,"id"]],template:function(e,t){1&e&&(Lh(DR),Ch(0,"label",0),fu(1),Sh(),Hh(2)),2&e&&(Bh("id",t.labelId),tc(1),vu(t.label))},encapsulation:2}),e})(),AR=0,RR=(()=>{let e=class{get ariaLabel(){return this._label?this._label:this.value?this.value:this.id}set ariaLabel(e){this._label=e}get itemID(){return this}get index(){return null===this._index?this.itemIndex:this._index}set index(e){this._index=e}get itemStyle(){return!this.isHeader}get size(){return this.dropDown.getComponentSizeStyles()}get selected(){return this._selected}set selected(e){this.isHeader||(this._selected=e,this.selectedChange.emit(this._selected))}get focused(){return this.isSelectable&&this._focused}set focused(e){this._focused=e}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get itemIndex(){return this.dropDown.items.indexOf(this)}get elementHeight(){return this.elementRef.nativeElement.clientHeight}get element(){return this.elementRef}get hasIndex(){return null!==this._index&&void 0!==this._index}constructor(e,t,i,n){this.dropDown=e,this.elementRef=t,this.group=i,this.selection=n,this.id="igx-drop-down-item-"+AR++,this.selectedChange=new Pd,this.role="option",this._focused=!1,this._selected=!1,this._index=null,this._disabled=!1,this._label=null}clicked(e){}handleMousedown(e){this.dropDown.allowItemsFocus||e.preventDefault()}ngDoCheck(){if(this._selected){let e=this.dropDown.selectedItem;e?(this.hasIndex?this._index!==e.index||this.value!==e.value:this!==e)&&this.dropDown.selectItem(this):this.dropDown.selectItem(this)}}get isSelectable(){return!(this.disabled||this.isHeader)}ensureItemFocus(){if(this.dropDown.allowItemsFocus){let e=this.dropDown.items.find((e=>e.focused));if(!e)return;e.element.nativeElement.focus({preventScroll:!0})}}};return e.fac=function(t){return new(t||e)(nc(mI),nc(wd),nc(TR,8),nc(bR,8))},e.dir=or({type:e,selectors:[["","igxDropDownItemBase",""]],hostVars:17,hostBindings:function(e,t){1&e&&Fh("click",(function(e){return t.clicked(e)}))("mousedown",(function(e){return t.handleMousedown(e)})),2&e&&(ph("id",t.id)("aria-label",t.ariaLabel)("aria-selected",t.selected)("aria-disabled",t.disabled)("role",t.role),tu("--component-size",t.size),iu("igx-drop-down__item",t.itemStyle)("igx-drop-down__item--selected",t.selected)("igx-drop-down__item--focused",t.focused)("igx-drop-down__header",t.isHeader)("igx-drop-down__item--disabled",t.disabled))},inputs:{id:"id",ariaLabel:"ariaLabel",index:"index",value:"value",selected:"selected",isHeader:"isHeader",disabled:"disabled",role:"role"},outputs:{selectedChange:"selectedChange"},standalone:!0}),e})(),kR=[[["igx-prefix"],["","igxPrefix",""]],"*",[["igx-suffix"],["","igxSuffix",""]],[["igx-divider"]]],OR=["igx-prefix, [igxPrefix]","*","igx-suffix, [igxSuffix]","igx-divider"],FR=(()=>{let e=class extends RR{get focused(){let e=this._focused;if(this.hasIndex){let t=this.selection.first_item(`${this.dropDown.id}-active`),i=t?t.index:-1;e=this._index===i}return this.isSelectable&&e}set focused(e){this._focused=e}get selected(){if(this.hasIndex){let e=this.selection.first_item(`${this.dropDown.id}`);return!!e&&e.index===this._index&&e.value===this.value}return this._selected}set selected(e){this.isHeader||(this._selected=e,this.selectedChange.emit(this._selected))}get setTabIndex(){return this.dropDown.allowItemsFocus&&this.isSelectable?0:null}clicked(e){this.isSelectable?this.selection&&this.dropDown.selectItem(this,e):this.ensureItemFocus()}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.cmp=tr({type:e,selectors:[["igx-drop-down-item"]],hostVars:1,hostBindings:function(e,t){2&e&&ph("tabindex",t.setTabIndex)},standalone:!0,features:[th,Wu],ngContentSelectors:OR,decls:6,vars:0,consts:[[1,"igx-drop-down__content"],[1,"igx-drop-down__inner"]],template:function(e,t){1&e&&(Lh(kR),Ch(0,"span",0),Hh(1),Ch(2,"span",1),Hh(3,1),Sh(),Hh(4,2),Hh(5,3),Sh())},encapsulation:2}),e})(),PR=0,MR=(()=>{let e=class extends kI{get id(){return this._id}set id(e){this._id=e}get items(){let e=[];if(void 0!==this.children)for(let t of this.children.toArray())t.isHeader||e.push(t);return e}get headers(){let e=[];if(void 0!==this.children)for(let t of this.children.toArray())t.isHeader&&e.push(t);return e}get element(){return this.elementRef.nativeElement}get scrollContainer(){return this.element}constructor(e,t,i){super(i,e),this.elementRef=e,this.cdr=t,this._displayDensityOptions=i,this.selectionChanging=new Pd,this.maxHeight=null,this.cssClass=!0,this._focusedItem=null,this._id="igx-drop-down-"+PR++}onItemActionKey(e,t){switch(e){case gI:case pI:this.selectItem(this.focusedItem,t)}}selectItem(e,t){this.selectionChanging.emit({newSelection:e,oldSelection:null,cancel:!1})}get focusedItem(){return this._focusedItem}set focusedItem(e){this._focusedItem=e}navigateItem(e){if(-1!==e){let t=this._focusedItem,i=this.items[e];t&&(t.focused=!1),this.focusedItem=i,this.scrollToHiddenItem(i),this.focusedItem.focused=!0}}navigateFirst(){this.navigate(hI.Down,-1)}navigateLast(){this.navigate(hI.Up,this.items.length)}navigateNext(){this.navigate(hI.Down)}navigatePrev(){this.navigate(hI.Up)}scrollToHiddenItem(e){let t=e.element.nativeElement.getBoundingClientRect(),i=this.scrollContainer.getBoundingClientRect();i.top>t.top&&(this.scrollContainer.scrollTop-=i.top-t.top),i.bottom<t.bottom&&(this.scrollContainer.scrollTop+=t.bottom-i.bottom)}navigate(e,t){let i=-1;this._focusedItem&&(i=t||this.focusedItem.itemIndex);let n=this.getNearestSiblingFocusableItemIndex(i,e);this.navigateItem(n)}getNearestSiblingFocusableItemIndex(e,t){let i=e,n=this.items;for(;n[i+t]&&n[i+t].disabled;)i+=t;return i+=t,i>=0&&i<n.length?i:-1}};return e.fac=function(t){return new(t||e)(nc(wd),nc(fp),nc(RI,8))},e.dir=or({type:e,hostVars:4,hostBindings:function(e,t){2&e&&(tu("max-height",t.maxHeight),iu("igx-drop-down",t.cssClass))},inputs:{width:"width",height:"height",id:"id",maxHeight:"maxHeight"},outputs:{selectionChanging:"selectionChanging"},features:[th]}),e})(),VR=["scrollContainer"];function NR(e,t){1&e&&(Eh(0),Hh(1),Ih())}var LR=["*"],HR=(()=>{let e=class extends MR{get focusedItem(){return this.virtDir?this._focusedItem&&-1!==this._focusedItem.index&&this.children.find((e=>e.index===this._focusedItem.index))||null:this._focusedItem}set focusedItem(e){if(!e)return this.selection.clear(`${this.id}-active`),void(this._focusedItem=null);this._focusedItem=e,this.virtDir&&(this._focusedItem={value:e.value,index:e.index}),this.selection.set(`${this.id}-active`,new Set([this._focusedItem]))}get id(){return this._id}set id(e){this.selection.set(e,this.selection.get(this.id)),this.selection.clear(this.id),this.selection.set(e,this.selection.get(`${this.id}-active`)),this.selection.clear(`${this.id}-active`),this._id=e}get listId(){return this.id+"-list"}get selectedItem(){return this.selection.first_item(this.id)||null}get collapsed(){return this.toggleDirective.collapsed}get scrollContainer(){return this.scrollContainerRef.nativeElement}get collectionLength(){if(this.virtDir)return this.virtDir.totalItemCount||this.virtDir.igxForOf.length}constructor(e,t,i,n){super(e,t,n),this.selection=i,this.opening=new Pd,this.opened=new Pd,this.closing=new Pd,this.closed=new Pd,this.allowItemsFocus=!1,this.destroy$=new Xe}open(e){this.toggleDirective.open(e),this.updateScrollPosition()}close(e){this.toggleDirective.close(e)}toggle(e){this.collapsed||this.toggleDirective.isClosing?this.open(e):this.close()}setSelectedItem(e){if(e<0||e>=this.items.length)return;let t;t=this.virtDir?{value:this.virtDir.igxForOf[e],index:e}:this.items[e],this.selectItem(t)}navigateItem(e){if(this.virtDir){if(-1===e||e>=this.collectionLength)return;let t=e>(this.focusedItem?this.focusedItem.index:-1)?hI.Down:hI.Up,i=this.isIndexOutOfBounds(e,t);this.focusedItem={value:this.virtDir.igxForOf[e],index:e},i&&this.virtDir.scrollTo(e),i?this.virtDir.chunkLoad.pipe(gi(1)).subscribe((()=>{this.skipHeader(t)})):this.skipHeader(t)}else super.navigateItem(e);this.allowItemsFocus&&this.focusedItem&&(this.focusedItem.element.nativeElement.focus(),this.cdr.markForCheck())}updateScrollPosition(){if(!this.virtDir)return;if(!this.selectedItem)return void this.virtDir.scrollTo(0);let e=this.virtDir.getScrollForIndex(this.selectedItem.index);e-=(this.virtDir.igxForContainerSize/this.virtDir.igxForItemSize/2-1)*this.virtDir.igxForItemSize,this.virtDir.getScroll().scrollTop=e}onToggleOpening(e){let t={owner:this,event:e.event,cancel:!1};this.opening.emit(t),e.cancel=t.cancel,!e.cancel&&this.virtDir&&(this.virtDir.scrollPosition=this._scrollPosition)}onToggleContentAppended(e){!this.virtDir&&this.selectedItem&&this.scrollToItem(this.selectedItem)}onToggleOpened(){this.updateItemFocus(),this.opened.emit({owner:this})}onToggleClosing(e){let t={owner:this,event:e.event,cancel:!1};this.closing.emit(t),e.cancel=t.cancel,!e.cancel&&this.virtDir&&(this._scrollPosition=this.virtDir.scrollPosition)}onToggleClosed(){this.focusItem(!1),this.closed.emit({owner:this})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.selection.delete(this.id),this.selection.delete(`${this.id}-active`)}calculateScrollPosition(e){if(!e)return 0;let t=e.element.nativeElement.getBoundingClientRect(),i=this.scrollContainer.getBoundingClientRect().top-t.top,n=this.scrollContainer.scrollTop-i;return n-=this.scrollContainer.clientHeight/2,n+=e.elementHeight/2,Math.floor(n)}ngOnChanges(e){e.id&&(this.toggleDirective.id=e.id.currentValue)}ngAfterViewInit(){this.virtDir&&(this.virtDir.igxForItemSize=28)}onItemActionKey(e,t){super.onItemActionKey(e,t),this.close(t)}navigateFirst(){this.virtDir?this.navigateItem(0):super.navigateFirst()}navigateLast(){this.virtDir?this.navigateItem(this.virtDir.totalItemCount?this.virtDir.totalItemCount-1:this.virtDir.igxForOf.length-1):super.navigateLast()}navigateNext(){this.virtDir?this.navigateItem(this._focusedItem?this._focusedItem.index+1:0):super.navigateNext()}navigatePrev(){this.virtDir?this.navigateItem(this._focusedItem?this._focusedItem.index-1:0):super.navigatePrev()}selectItem(e,t){let i=this.selectedItem;if(e||(e=this.focusedItem),null===e||e instanceof RR&&e.isHeader)return;this.virtDir&&(e={value:e.value,index:e.index});let n={oldSelection:i,newSelection:e,cancel:!1,owner:this};if(this.selectionChanging.emit(n),!n.cancel){if(!this.isSelectionValid(n.newSelection))throw new Error("Please provide a valid drop-down item for the selection!");this.selection.set(this.id,new Set([n.newSelection])),this.virtDir||(i&&(i.selected=!1),n.newSelection&&(n.newSelection.selected=!0)),t&&this.toggleDirective.close(t)}}clearSelection(){let e={oldSelection:this.selectedItem,newSelection:null,cancel:!1,owner:this};this.selectionChanging.emit(e),this.selectedItem&&!e.cancel&&(this.selectedItem.selected=!1,this.selection.clear(this.id))}isSelectionValid(e){return null===e||this.virtDir&&e.hasOwnProperty("value")&&e.hasOwnProperty("index")||e instanceof FR&&!e.isHeader}scrollToItem(e){this.scrollContainer.scrollTop=this.calculateScrollPosition(e)}focusItem(e){(e||this._focusedItem)&&(this._focusedItem.focused=e)}updateItemFocus(){this.selectedItem?(this.focusedItem=this.selectedItem,this.focusItem(!0)):this.allowItemsFocus&&this.navigateFirst()}skipHeader(e){this.focusedItem&&(this.focusedItem.isHeader||this.focusedItem.disabled)&&(e===hI.Up?this.navigatePrev():this.navigateNext())}isIndexOutOfBounds(e,t){let i=this.virtDir.state,n=this.virtDir.getScroll().scrollTop,r=this.virtDir.getScrollForIndex(e,t===hI.Down),s=e<i.startIndex||e>i.chunkSize+i.startIndex,o=t===hI.Down?n<r:n>r;return s||o}};return e.fac=function(t){return new(t||e)(nc(wd),nc(fp),nc(bR),nc(RI,8))},e.cmp=tr({type:e,selectors:[["igx-drop-down"]],contentQueries:function(e,t,i){if(1&e&&(zg(i,mA,5,mA),zg(i,FR,5)),2&e){let e;Hg(e=Gg())&&(t.virtDir=e.first),Hg(e=Gg())&&(t.children=e)}},viewQuery:function(e,t){if(1&e&&(Bg(FA,7),Bg(VR,7)),2&e){let e;Hg(e=Gg())&&(t.toggleDirective=e.first),Hg(e=Gg())&&(t.scrollContainerRef=e.first)}},inputs:{allowItemsFocus:"allowItemsFocus",labelledBy:"labelledBy"},outputs:{opening:"opening",opened:"opened",closing:"closing",closed:"closed"},standalone:!0,features:[Nu([{provide:mI,useExisting:e}]),th,fs,Wu],ngContentSelectors:LR,decls:4,vars:11,consts:[["igxToggle","",1,"igx-drop-down__list",3,"appended","opening","opened","closing","closed"],["role","listbox",1,"igx-drop-down__list-scroll"],["scrollContainer",""],[4,"ngIf"]],template:function(e,t){1&e&&(Lh(),Ch(0,"div",0),Fh("appended",(function(e){return t.onToggleContentAppended(e)}))("opening",(function(e){return t.onToggleOpening(e)}))("opened",(function(){return t.onToggleOpened()}))("closing",(function(e){return t.onToggleClosing(e)}))("closed",(function(){return t.onToggleClosed()})),Ch(1,"div",1,2),yh(3,NR,2,0,"ng-container",3),Sh()()),2&e&&(tu("width",t.width)("--component-size",t.getComponentSizeStyles()),tc(1),tu("height",t.height)("max-height",t.maxHeight),ph("id",t.listId)("aria-labelledby",t.labelledBy),tc(2),_h("ngIf",!t.collapsed))},dependencies:[FA,$m],encapsulation:2}),e})(),BR=["container"],zR=["menuItemTemplate"];function GR(e,t){if(1&e&&(Ch(0,"igx-icon",4),fu(1),Sh()),2&e){let e=Vh(2);_h("family",e.iconSet)("name",e.iconName),tc(1),vu(e.iconName)}}function $R(e,t){if(1&e&&(Ch(0,"igx-icon"),fu(1),Sh()),2&e){let e=Vh(2);tc(1),vu(e.iconName)}}function WR(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"button",2),Fh("click",(function(t){return Bs(e),zs(Vh().handleClick(t))}))("mousedown",(function(t){return Bs(e),zs(Vh().preventEvent(t))})),yh(2,GR,2,3,"igx-icon",3),yh(3,$R,2,1,"igx-icon",0),Sh(),Ih()}if(2&e){let e=Vh();tc(1),_h("title",e.labelText),tc(1),_h("ngIf",e.iconSet),tc(1),_h("ngIf",!e.iconSet)}}function KR(e,t){if(1&e&&(Ch(0,"igx-icon",4),fu(1),Sh()),2&e){let e=Vh(3);_h("family",e.iconSet)("name",e.iconName),tc(1),vu(e.iconName)}}function jR(e,t){if(1&e&&(Ch(0,"igx-icon"),fu(1),Sh()),2&e){let e=Vh(3);tc(1),vu(e.iconName)}}function UR(e,t){if(1&e&&(Eh(0),Ch(1,"div",5,6),yh(3,KR,2,3,"igx-icon",3),yh(4,jR,2,1,"igx-icon",0),Ch(5,"label",7),fu(6),Sh()(),Ih()),2&e){let e=Vh(2);tc(1),_h("className",e.containerClass),tc(2),_h("ngIf",e.iconSet),tc(1),_h("ngIf",!e.iconSet),tc(2),vu(e.labelText)}}function qR(e,t){1&e&&yh(0,UR,7,4,"ng-container",0),2&e&&_h("ngIf",Vh().asMenuItem)}var YR=(()=>{let e=class{constructor(){this.actionClick=new Pd,this.asMenuItem=!1}get containerClass(){return"igx-action-strip__menu-button "+(this.classNames||"")}handleClick(e){this.actionClick.emit(e)}preventEvent(e){e&&(e.stopPropagation(),e.preventDefault())}};return e.fac=function(t){return new(t||e)},e.cmp=tr({type:e,selectors:[["igx-grid-action-button"]],viewQuery:function(e,t){if(1&e&&(Bg(BR,5),Bg(zR,5)),2&e){let e;Hg(e=Gg())&&(t.container=e.first),Hg(e=Gg())&&(t.templateRef=e.first)}},inputs:{asMenuItem:"asMenuItem",iconName:"iconName",classNames:"classNames",iconSet:"iconSet",labelText:"labelText"},outputs:{actionClick:"actionClick"},standalone:!0,features:[Wu],decls:3,vars:1,consts:[[4,"ngIf"],["menuItemTemplate",""],["type","button","igxButton","icon","igxRipple","",3,"title","click","mousedown"],[3,"family","name",4,"ngIf"],[3,"family","name"],[3,"className"],["container",""],["igxLabel",""]],template:function(e,t){1&e&&(yh(0,WR,4,3,"ng-container",0),yh(1,qR,1,1,"ng-template",null,1,jg)),2&e&&_h("ngIf",!t.asMenuItem)},dependencies:[$m,HI,DA,XI],encapsulation:2}),e})(),XR=["checkbox"],ZR=["label"],QR=["placeholderLabel"],JR=["*"],ek="before",tk="after",ik=0,nk=(()=>{let e=class{get nativeElement(){return this.nativeCheckbox.nativeElement}get required(){return this._required||this.nativeElement.hasAttribute("required")}set required(e){this._required=""===e||e}get checked(){return this._checked}set checked(e){this._checked!==e&&(this._checked=e,this._onChangeCallback(this._checked))}get disabled(){return this._disabled}set disabled(e){this._disabled=""===e||e}get invalid(){return this._invalid||!1}set invalid(e){this._invalid=!!e}constructor(e,t,i){this.cdr=e,this.renderer=t,this.ngControl=i,this.change=new Pd,this.destroy$=new Xe,this.id="igx-checkbox-"+ik++,this.labelId=`${this.id}-label`,this.tabindex=null,this.labelPosition=tk,this.disableRipple=!1,this.ariaLabelledBy=this.labelId,this.ariaLabel=null,this.cssClass="igx-checkbox",this.focused=!1,this.indeterminate=!1,this.readonly=!1,this.disableTransitions=!1,this.inputId=`${this.id}-input`,this._checked=!1,this._required=!1,this._disabled=!1,this._invalid=!1,this._onTouchedCallback=bt,this._onChangeCallback=bt,null!==this.ngControl&&(this.ngControl.valueAccessor=this)}ngAfterViewInit(){this.ngControl&&(this.ngControl.statusChanges.pipe(Si(this.destroy$)).subscribe(this.updateValidityState.bind(this)),(this.ngControl.control.validator||this.ngControl.control.asyncValidator)&&(this._required=this.ngControl?.control?.hasValidator(__.required),this.cdr.detectChanges()))}onKeyUp(e){e.stopPropagation(),this.focused=!0}_onCheckboxClick(e){this.disabled||this.readonly?e.preventDefault():(this.nativeCheckbox.nativeElement.focus(),this.indeterminate=!1,this.checked=!this.checked,this.updateValidityState(),this.change.emit({checked:this._checked,checkbox:this}))}get ariaChecked(){return this.indeterminate?"mixed":this.checked}_onCheckboxChange(e){e.stopPropagation()}onBlur(){this.focused=!1,this._onTouchedCallback(),this.updateValidityState()}writeValue(e){this._checked=e}get labelClass(){return this.labelPosition===ek?`${this.cssClass}__label--before`:`${this.cssClass}__label`}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}setDisabledState(e){this.disabled=e}getEditElement(){return this.nativeCheckbox.nativeElement}updateValidityState(){this.ngControl?this.disabled||this.readonly||!this.ngControl.control.touched&&!this.ngControl.control.dirty?this._invalid=!1:this._invalid=this.ngControl.invalid:this.checkNativeValidity()}checkNativeValidity(){this.disabled||!this._required||this.checked||this.readonly?this._invalid=!1:this._invalid=!0}};return e.fac=function(t){return new(t||e)(nc(fp),nc(bd),nc(U_,10))},e.cmp=tr({type:e,selectors:[["igx-checkbox"]],viewQuery:function(e,t){if(1&e&&(Bg(XR,7),Bg(ZR,7),Bg(QR,7)),2&e){let e;Hg(e=Gg())&&(t.nativeCheckbox=e.first),Hg(e=Gg())&&(t.nativeLabel=e.first),Hg(e=Gg())&&(t.placeholderLabel=e.first)}},hostVars:15,hostBindings:function(e,t){1&e&&Fh("keyup",(function(e){return t.onKeyUp(e)}))("click",(function(e){return t._onCheckboxClick(e)}))("blur",(function(){return t.onBlur()})),2&e&&(ph("id",t.id),iu("igx-checkbox",t.cssClass)("igx-checkbox--focused",t.focused)("igx-checkbox--indeterminate",t.indeterminate)("igx-checkbox--checked",t.checked)("igx-checkbox--disabled",t.disabled)("igx-checkbox--invalid",t.invalid)("igx-checkbox--plain",t.disableTransitions))},inputs:{id:"id",labelId:"labelId",value:"value",name:"name",tabindex:"tabindex",labelPosition:"labelPosition",disableRipple:"disableRipple",required:"required",ariaLabelledBy:["aria-labelledby","ariaLabelledBy"],ariaLabel:["aria-label","ariaLabel"],indeterminate:"indeterminate",checked:"checked",disabled:"disabled",invalid:"invalid",readonly:"readonly",disableTransitions:"disableTransitions"},outputs:{change:"change"},standalone:!0,features:[Nu([{provide:tA,useExisting:e,multi:!0}]),Wu],ngContentSelectors:JR,decls:11,vars:19,consts:[["type","checkbox",1,"igx-checkbox__input",3,"id","name","value","tabindex","disabled","indeterminate","checked","required","change","blur"],["checkbox",""],["igxRipple","","igxRippleTarget",".igx-checkbox__ripple",1,"igx-checkbox__composite-wrapper",3,"igxRippleDisabled","igxRippleCentered","igxRippleDuration"],[1,"igx-checkbox__composite"],["label",""],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"igx-checkbox__composite-mark"],["d","M4.1,12.7 9,17.6 20.3,6.3"],[1,"igx-checkbox__ripple"],[3,"id"],["placeholderLabel",""]],template:function(e,t){1&e&&(Lh(),Ch(0,"input",0,1),Fh("change",(function(e){return t._onCheckboxChange(e)}))("blur",(function(){return t.onBlur()})),Sh(),Ch(2,"div",2)(3,"span",3,4),uo(),Ch(5,"svg",5),bh(6,"path",6),Sh()(),go(),bh(7,"div",7),Sh(),Ch(8,"span",8,9),Hh(10),Sh()),2&e&&(_h("id",t.inputId)("name",t.name)("value",t.value)("tabindex",t.tabindex)("disabled",t.disabled)("indeterminate",t.indeterminate)("checked",t.checked)("required",t.required),ph("aria-required",t.required)("aria-invalid",t.invalid)("aria-checked",t.ariaChecked)("aria-labelledby",t.ariaLabel?null:t.ariaLabelledBy)("aria-label",t.ariaLabel),tc(2),_h("igxRippleDisabled",t.disableRipple)("igxRippleCentered",!0)("igxRippleDuration",300),tc(6),nu(t.labelClass),_h("id",t.labelId))},dependencies:[DA],encapsulation:2}),e})(),rk=class{constructor(e,t,i,n){this.id=e,this.index=t,this.data=i,this.grid=n,this.rowFormGroup=new sw({}),this.rowFormGroup=this.grid.validation.create(e,i)}createEditEventArgs(e=!0,t){let i={rowID:this.id,primaryKey:this.id,rowData:this.data,oldValue:this.data,cancel:!1,owner:this.grid,isAddRow:!1,valid:this.rowFormGroup.valid,event:t};return e&&(i.newValue=this.newData??this.data),i}createDoneEditEventArgs(e,t){let i=this.grid.transactions.enabled?this.grid.transactions.getAggregatedValue(this.id,!0):this.grid.gridAPI.getRowData(this.id),n=i??this.grid.gridAPI.getRowData(this.id);return{rowID:this.id,primaryKey:this.id,rowData:n,oldValue:e,newValue:i,owner:this.grid,isAddRow:!1,valid:!0,event:t}}getClassName(){return this.constructor.name}},sk=class extends rk{constructor(e,t,i,n,r){super(e,t,i,r),this.recordRef=n,this.isAddRow=!0}createEditEventArgs(e=!0,t){let i=super.createEditEventArgs(e,t);return i.oldValue=null,i.isAddRow=!0,i.rowData=this.newData??this.data,i}createDoneEditEventArgs(e,t){let i=super.createDoneEditEventArgs(null,t);return i.isAddRow=!0,i}},ok=class{constructor(e,t,i,n,r,s,o){this.id=e,this.rowIndex=t,this.column=i,this.value=n,this._editValue=r,this.rowData=s,this.grid=o,this.grid.validation.create(e.rowID,s)}get editValue(){let e=this.grid.validation.getFormControl(this.id.rowID,this.column.field);if(e)return e.value}set editValue(e){let t=this.grid.validation.getFormControl(this.id.rowID,this.column.field);"change"===this.grid.validationTrigger?(t.setValue(e),t.markAsTouched()):this.pendingValue=e}castToNumber(e){if("number"===this.column.dataType&&!this.column.inlineEditorTemplate){let t=parseFloat(e);return!isNaN(t)&&isFinite(t)?t:0}return e}createEditEventArgs(e=!0,t){let i=this.grid.validation.getFormControl(this.id.rowID,this.column.field),n={rowID:this.id.rowID,primaryKey:this.id.rowID,cellID:this.id,rowData:this.rowData,oldValue:this.value,cancel:!1,column:this.column,owner:this.grid,valid:!i||i.valid,event:t};return e&&(n.newValue=this.castToNumber(this.editValue)),n}createDoneEditEventArgs(e,t){let i=this.grid.transactions.enabled?this.grid.transactions.getAggregatedValue(this.id.rowID,!0):this.rowData,n=null===i?this.grid.gridAPI.getRowData(this.id.rowID):i,r=this.grid.validation.getFormControl(this.id.rowID,this.column.field);return{rowID:this.id.rowID,primaryKey:this.id.rowID,cellID:this.id,rowData:n,oldValue:this.value,valid:!r||r.valid,newValue:e,column:this.column,owner:this.grid,event:t}}},ak=class{constructor(){this.cell=null,this.row=null,this.isInCompositionMode=!1}createCell(e){return this.cell=new ok(e.cellID||e.id,e.row.index,e.column,e.value,e.value,e.row.data,e.grid)}createRow(e){return this.row=new rk(e.id.rowID,e.rowIndex,e.rowData,e.grid)}sameRow(e){return this.row&&this.row.id===e}sameCell(e){return this.cell.id.rowID===e.id.rowID&&this.cell.id.columnID===e.id.columnID}get cellInEditMode(){return!!this.cell}beginCellEdit(e){let t=this.cell.createEditEventArgs(!1,e);this.grid.cellEditEnter.emit(t),t.cancel&&this.endCellEdit()}cellEdit(e){let t=this.cell.createEditEventArgs(!0,e);return this.grid.cellEdit.emit(t),t}updateCell(e,t){if(!this.cell)return;let i,n=this.grid.gridAPI.get_cell_by_index(this.cell.id.rowIndex,this.cell.column.field)?.nativeElement;n&&(i=n.getRootNode().activeElement,i.blur());let r,s=this.grid.validation.getFormControl(this.cell.id.rowID,this.cell.column.field);if("blur"===this.grid.validationTrigger&&void 0!==this.cell.pendingValue&&(s.setValue(this.cell.pendingValue),s.markAsTouched()),"blur"===this.grid.validationTrigger&&this.grid.tbody.nativeElement.focus({preventScroll:!0}),"date"===this.cell.column.dataType&&!rb(this.cell.value)&&sb($A.parseIsoDate(this.cell.value),this.cell.editValue))return r=this.exitCellEdit(t),r;if(sb(this.cell.value,this.cell.editValue))return r=this.exitCellEdit(t),r;let o=this.cellEdit(t);return o.cancel?(i?.focus(),o):(this.grid.gridAPI.update_cell(this.cell),r=this.cellEditDone(t,!1),e&&(r=this.exitCellEdit(t)),m(m({},o),r))}cellEditDone(e,t){let i=this.cell.castToNumber(this.cell.editValue),n=this.cell.createDoneEditEventArgs(i,e);return this.grid.cellEditDone.emit(n),t&&(n.rowData=this.row.data),n}exitCellEdit(e){if(!this.cell)return;let t=this.cell.castToNumber(this.cell.editValue),i=this.cell?.createDoneEditEventArgs(t,e);return this.cell.value=t,this.grid.cellEditExit.emit(i),this.endCellEdit(),i}endCellEdit(){this.cell=null}targetInEdit(e,t){return!!this.cell&&this.cell.column.index===t&&this.cell.rowIndex===e}},lk=class extends ak{constructor(){super(...arguments),this.closeRowEditingOverlay=new Xe,this._rowEditingBlocked=!1,this._rowEditingStarted=!1}get primaryKey(){return this.grid.primaryKey}get rowInEditMode(){let e=this.row;return null!==e?this.grid.rowList.find((t=>t.key===e.id)):null}get rowEditing(){return this.grid.rowEditable}get nonEditable(){return this.grid.rowEditable&&(void 0===this.grid.primaryKey||null===this.grid.primaryKey)}get rowEditingBlocked(){return this._rowEditingBlocked}set rowEditingBlocked(e){this._rowEditingBlocked=e}beginRowEdit(e){if(!this.row||this.row.getClassName()!==rk.name){if(this.row||this.createRow(this.cell),!this._rowEditingStarted){let t=this.row.createEditEventArgs(!1,e);if(this.grid.rowEditEnter.emit(t),t.cancel)return this.endEditMode(),!0;this._rowEditingStarted=!0}this.row.transactionState=this.grid.transactions.getAggregatedValue(this.row.id,!0),this.grid.transactions.startPending(),this.grid.openRowOverlay(this.row.id)}}rowEdit(e){let t=this.row.createEditEventArgs(!0,e);return this.grid.rowEdit.emit(t),t}updateRow(e,t){if(!this.grid.rowEditable||this.grid.rowEditingOverlay&&this.grid.rowEditingOverlay.collapsed||!this.row)return{};let i;return e&&(this.row.newData=this.grid.transactions.getAggregatedValue(this.row.id,!0),this.updateRowEditData(this.row,this.row.newData),i=this.rowEdit(t),i.cancel)||(i=this.endRowTransaction(e,t)),i}endRowTransaction(e,t){this.row.newData=this.grid.transactions.getAggregatedValue(this.row.id,!0);let i,n=this.row.createEditEventArgs(!0,t);if(e)if(this.row.getClassName()===rk.name)n=this.grid.gridAPI.update_row(this.row,this.row.newData,t),i=this.rowEditDone(n.oldValue,t);else{let e=this.row.createEditEventArgs(!0,t);if(e.rowData=this.row.newData??this.row.data,this.grid.rowAdd.emit(e),e.cancel)return e;this.grid.transactions.endPending(!1);let n=this.getParentRowId();this.grid.gridAPI.addRowToData(this.row.newData??this.row.data,n),this.grid.triggerPipes(),i=this.rowEditDone(null,t)}else{this.grid.transactions.endPending(!1);let e=this.row&&this.row.getClassName()===sk.name,t=this.row?this.row.id:this.cell.id.rowID;e?this.grid.validation.clear(t):this.grid.validation.update(t,n.oldValue)}return i=this.exitRowEdit(n.oldValue,t),m(m({},i),n)}rowEditDone(e,t){let i=this.row.createDoneEditEventArgs(e,t);return this.grid.rowEditDone.emit(i),i}exitRowEdit(e,t){let i=this.row.createDoneEditEventArgs(e,t);return this.grid.rowEditExit.emit(i),this.grid.closeRowEditingOverlay(),this.endRowEdit(),i}endRowEdit(){this.row=null,this.rowEditingBlocked=!1,this._rowEditingStarted=!1}endEditMode(){this.endCellEdit(),this.grid.rowEditable&&(this.endRowEdit(),this.grid.closeRowEditingOverlay())}updateRowEditData(e,t){let i=this.grid,n=i.gridAPI.crudService.row;if(e.newData=t??n.transactionState,n&&e.id===n.id)e.data=Object.assign((e=>{if(e)return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))})(e.data),e.data,n.transactionState);else if(this.grid.transactions.enabled){let t=i.transactions.getState(e.id);e.data=t?Object.assign({},e.data,t.value):e.data}}getParentRowId(){return null}},dk=class extends lk{constructor(){super(...arguments),this.addRowParent=null}createAddRow(e,t){this.createAddRowParent(e,t);let i=this.grid.getEmptyRecordObjectFor(e),n=this.addRowParent.index+1;return this.row=new sk(i.rowID,n,i.data,i.recordRef,this.grid)}createAddRowParent(e,t){let i=e?e.index:-1,n=e?e.key:i>=0?this.grid.rowList.last.key:null,r=this.grid.isRecordPinnedByViewIndex(i),s=this.grid.pinnedRecords.findIndex((e=>e[this.primaryKey]===n)),o=this.grid.getUnpinnedIndexById(n);this.addRowParent={rowID:n,index:r?s:o,asChild:t,isPinned:r}}endRowTransaction(e,t){let i=this.row&&this.row.getClassName()===sk.name;i&&this.grid.rowAdded.pipe(fi()).subscribe((e=>{let t=e.data,i=this.grid.pinnedRecords.findIndex((e=>e[this.primaryKey]===t[this.primaryKey])),n=-1!==i?i:this._findRecordIndexInView(t),r=this.grid.filteredSortedData.findIndex((e=>e[this.primaryKey]===t[this.primaryKey])),s=-1===n||this.grid.navigation.shouldPerformVerticalScroll(n,0)?r:-1;this.grid.showSnackbarFor(s)}));let n=super.endRowTransaction(e,t);if(n.cancel)return n;if(i&&(this.endAddRow(),e)){let e={data:n.newValue,owner:this.grid,primaryKey:n.newValue[this.grid.primaryKey]};this.grid.rowAddedNotifier.next(e),this.grid.rowAdded.emit(e)}return n}endAddRow(){this.addRowParent=null,this.grid.triggerPipes()}_findRecordIndexInView(e){return this.grid.dataView.findIndex((t=>t[this.primaryKey]===e[this.primaryKey]))}getParentRowId(){return this.addRowParent.asChild?this.addRowParent.asChild?this.addRowParent.rowID:void 0:null!==this.addRowParent.rowID&&void 0!==this.addRowParent.rowID?this.grid.gridAPI.get_rec_by_id(this.addRowParent.rowID)?.parent?.rowID:void 0}},ck=(()=>{let e=class extends dk{enterEditMode(e,t){if(!this.isInCompositionMode){if(this.nonEditable)return void console.warn("The grid must have a `primaryKey` specified when using `rowEditable`!");if(this.cellInEditMode)(!this.endEdit(!0,t)||!this.cell)&&this.grid.tbody.nativeElement.focus();else if(this.rowEditing){if(this.row&&!this.sameRow(e?.cellID?.rowID)){if(this.rowEditingBlocked=this.endEdit(!0,t),this.rowEditingBlocked)return!0;this.rowEditingBlocked=!1,this.endRowEdit()}this.createCell(e),this.beginRowEdit(t)||this.beginCellEdit(t)}else this.createCell(e),this.beginCellEdit(t)}}enterAddRowMode(e,t,i){if(!this.rowEditing&&(void 0===this.grid.primaryKey||null===this.grid.primaryKey))return void console.warn("The grid must use row edit mode to perform row adding! Please set rowEditable to true.");this.endEdit(!0,i),null!=e&&this.grid.expansionStates.get(e.key)&&this.grid.collapseRow(e.key),this.createAddRow(e,t),this.grid.transactions.startPending(),this.addRowParent.isPinned&&this.grid._pinnedRecordIDs.splice(this.row.index,0,this.row.id),this.grid.triggerPipes(),this.grid.notifyChanges(!0),this.grid.navigateTo(this.row.index,-1);let n=this.grid.isRowPinningToTop?this.addRowParent.isPinned?0:this.grid.pinnedRows.length:this.addRowParent.isPinned?this.grid.unpinnedRecords.length:0,r=this.grid.gridAPI.get_row_by_index(this.row.index+n);r.triggerAddAnimation(),r.cdr.detectChanges(),r.addAnimationEnd.pipe(fi()).subscribe((()=>{let e=r.cells.find((e=>e.editable));e&&(this.grid.gridAPI.update_cell(this.cell),this.enterEditMode(e,i),e.activate())}))}endEdit(e=!0,t){if(!this.row&&!this.cell)return;let i;if(e){if(i=this.updateCell(!0,t),i&&i.cancel)return i.cancel}else{let e=this.cell;if(this.exitCellEdit(t),!this.grid.rowEditable&&e){let t=this.grid.transactions.getAggregatedValue(e.id.rowID,!0)||e.rowData;this.grid.validation.update(e.id.rowID,t)}}if(i=this.updateRow(e,t),this.rowEditingBlocked=i.cancel,i.cancel)return!0;let n=this.grid.selectionService.activeElement;if(t&&n){let e=n.row,t=n.layout?n.layout.columnVisibleIndex:n.column;this.grid.navigateTo(e,t)}return!1}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.prov=Zi({token:e,factory:e.fac}),e})(),hk=new Ll("IgxGridBaseToken"),uk=new Ll("IgxGridServiceBaseToken"),gk=e=>0===e||!!e,pk=e=>e[0],mk=e=>e[e.length-1],fk=class e{static count(e){return e.length}operate(t=[],i=[],n,r){return[{key:"count",label:"Count",defaultFormatting:!1,summaryResult:e.count(t)}]}},yk=class e extends fk{static min(e){return e.length&&e.filter(gk).length?e.filter(gk).reduce(((e,t)=>Math.min(e,t))):0}static max(e){return e.length&&e.filter(gk).length?e.filter(gk).reduce(((e,t)=>Math.max(e,t))):0}static sum(e){return e.length&&e.filter(gk).length?e.filter(gk).reduce(((e,t)=>+e+ +t)):0}static average(e){return e.length&&e.filter(gk).length?this.sum(e)/this.count(e):0}operate(t=[],i=[],n,r){let s=super.operate(t,i,n,r);return s.push({key:"min",label:"Min",defaultFormatting:!0,summaryResult:e.min(t)}),s.push({key:"max",label:"Max",defaultFormatting:!0,summaryResult:e.max(t)}),s.push({key:"sum",label:"Sum",defaultFormatting:!0,summaryResult:e.sum(t)}),s.push({key:"average",label:"Avg",defaultFormatting:!0,summaryResult:e.average(t)}),s}},vk=class e extends fk{static latest(e){return e.length&&e.filter(gk).length?pk(e.filter(gk).sort(((e,t)=>new Date(t).valueOf()-new Date(e).valueOf()))):void 0}static earliest(e){return e.length&&e.filter(gk).length?mk(e.filter(gk).sort(((e,t)=>new Date(t).valueOf()-new Date(e).valueOf()))):void 0}operate(t=[],i=[],n,r){let s=super.operate(t,i,n,r);return s.push({key:"earliest",label:"Earliest",defaultFormatting:!0,summaryResult:e.earliest(t)}),s.push({key:"latest",label:"Latest",defaultFormatting:!0,summaryResult:e.latest(t)}),s}},xk=class e extends fk{static latestTime(e){return e.length&&e.filter(gk).length?pk(e.filter(gk).map((e=>new Date(e))).sort(((e,t)=>(new Date).setHours(t.getHours(),t.getMinutes(),t.getSeconds())-(new Date).setHours(e.getHours(),e.getMinutes(),e.getSeconds())))):void 0}static earliestTime(e){return e.length&&e.filter(gk).length?mk(e.filter(gk).map((e=>new Date(e))).sort(((e,t)=>(new Date).setHours(t.getHours(),t.getMinutes(),t.getSeconds())-(new Date).setHours(e.getHours(),e.getMinutes(),e.getSeconds())))):void 0}operate(t=[],i=[],n,r){let s=super.operate(t,i,n,r);return s.push({key:"earliest",label:"Earliest",defaultFormatting:!0,summaryResult:e.earliestTime(t)}),s.push({key:"latest",label:"Latest",defaultFormatting:!0,summaryResult:e.latestTime(t)}),s}},_k=class e{static set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}static get resourceStrings(){return this._resourceStrings}static aggregators(){return[{key:"COUNT",label:this.resourceStrings.igx_grid_pivot_aggregate_count,aggregator:e.count}]}static count(e){return e.length}};_k._resourceStrings=FI.GridResStrings;var wk=_k,Ck=class e extends wk{static aggregators(){let t=[];return t=t.concat(super.aggregators()),t.push({key:"MIN",label:this.resourceStrings.igx_grid_pivot_aggregate_min,aggregator:e.min}),t.push({key:"MAX",label:this.resourceStrings.igx_grid_pivot_aggregate_max,aggregator:e.max}),t.push({key:"SUM",label:this.resourceStrings.igx_grid_pivot_aggregate_sum,aggregator:e.sum}),t.push({key:"AVG",label:this.resourceStrings.igx_grid_pivot_aggregate_avg,aggregator:e.average}),t}static min(e){return yk.min(e)}static max(e){return yk.max(e)}static sum(e){return yk.sum(e)}static average(e){return yk.average(e)}},Sk=class e extends wk{static aggregators(){let t=[];return t=t.concat(super.aggregators()),t.push({key:"LATEST",label:this.resourceStrings.igx_grid_pivot_aggregate_date_latest,aggregator:e.latest}),t.push({key:"EARLIEST",label:this.resourceStrings.igx_grid_pivot_aggregate_date_earliest,aggregator:e.earliest}),t}static latest(e){return vk.latest(e)}static earliest(e){return vk.earliest(e)}},bk=class e extends wk{static aggregators(){let t=[];return t=t.concat(super.aggregators()),t.push({key:"LATEST",label:this.resourceStrings.igx_grid_pivot_aggregate_time_latest,aggregator:e.latestTime}),t.push({key:"EARLIEST",label:this.resourceStrings.igx_grid_pivot_aggregate_time_earliest,aggregator:e.earliestTime}),t}static latestTime(e){return xk.latestTime(e)}static earliestTime(e){return xk.earliestTime(e)}},Dk={aggregations:"aggregations",records:"records",children:"children",level:"level",rowDimensionSeparator:"_",columnDimensionSeparator:"-"},Ek=function(e){return e[e.Row=0]="Row",e[e.Column=1]="Column",e[e.Filter=2]="Filter",e}(Ek||{}),Ik=class e{static processGroups(t,i,n,r){for(let s of t){s.children&&s.children.size>0&&s.children.forEach((e=>{this.processGroups(e,i,n,r)}));let t=e.getFieldsHierarchy(s.records,[i],Ek.Row,n,r),o=e.processHierarchy(t,n,0);s.children.set(i.memberName,o)}}static flattenGroups(t,i,n,r,s,o){for(let a=0;a<t.length;a++){let l=t[a],d=i.memberName;if(!d)continue;let c=l.children.get(d);!c&&s&&(c=l.children.get(s.memberName),c&&(i=s)),o&&o.dimensionValues.forEach(((e,t)=>{if(s.memberName!==t){l.dimensionValues.set(t,e);let i=o.dimensions.find((e=>e.memberName===t));l.dimensions.unshift(i)}}));let h=e.getRecordKey(l,i);((void 0===n.get(h)?r:n.get(h))||!i.childLevel||!l.dimensionValues.get(i.memberName))&&c&&(i.childLevel?this.flattenGroups(c,i.childLevel,n,r,i,l):c.forEach((e=>{l.dimensionValues.forEach(((t,n)=>{if(i.memberName!==n){e.dimensionValues.set(n,t);let i=l.dimensions.find((e=>e.memberName===n));e.dimensions.unshift(i)}}))})),t.splice(a+1,0,...c),a+=c.length)}}static assignLevels(e){for(let t of e){let e=t,i=0;for(;e.childLevel;)e.level=i,e=e.childLevel,i++;e.level=i}}static getFieldsHierarchy(e,t,i,n,r){let s=new Map;for(let o of e){let e=i===Ek.Column?this.extractValuesForColumn(t,o,n):this.extractValuesForRow(t,o,n,r);for(let[t,i]of e)null!=s.get(i.value)||s.set(i.value,r.clone(i)),this.applyHierarchyChildren(s,i,o,n)}return s}static sort(e,t,i=new Lb){return e.forEach((e=>{let n=e.children;n&&n.forEach((e=>{this.sort(e,t,i)}))})),Kb.sort(e,t,i)}static extractValueFromDimension(e,t){return e.memberFunction?e.memberFunction.call(null,t):t[e.memberName]}static getDimensionDepth(e){let t=0;for(;e.childLevel;)t++,e=e.childLevel;return t}static extractValuesForRow(e,t,i,n){let r=new Map;for(let s of e){if(t[i.level]&&t[i.level]>0){let e=t[i.records];return this.getFieldsHierarchy(e,[s],Ek.Row,i,n)}let e=this.extractValueFromDimension(s,t),o={};if(o.value=e,o.dimension=s,s.childLevel){let e=this.extractValuesForRow([s.childLevel],t,i,n);o[i.children]=e}r.set(e,o)}return r}static extractValuesForColumn(e,t,i,n=[]){let r=new Map,s=r,o=this.flatten(e);for(let e of o){let r=this.extractValueFromDimension(e,t);n.push(r);let o=n.join(i.columnDimensionSeparator),a={value:o,expandable:e.expandable,children:null,dimension:e};a.children||(a.children=new Map),s.set(o,a),s=a.children}return r}static flatten(e,t=0){return e.reduce(((e,i)=>(i&&(i.level=t,e.push(i),i.childLevel&&(i.expandable=!0,e=e.concat(this.flatten([i.childLevel],t+1)))),e)),[])}static applyAggregations(e,t,i,n){if(0!==t.size)t.forEach((t=>{let r=t[n.children];if(r&&r.size>0){this.applyAggregations(e,r,i,n);let s=this.collectRecords(r,n);t[n.aggregations]=this.aggregate(s,i),this.applyAggregationRecordData(t[n.aggregations],t.value,e,n)}else t[n.records]&&(t[n.aggregations]=this.aggregate(t[n.records],i),this.applyAggregationRecordData(t[n.aggregations],t.value,e,n))}));else{let t=this.aggregate(e.records,i);this.applyAggregationRecordData(t,void 0,e,n)}}static applyAggregationRecordData(e,t,i,n){let r=Object.keys(e);if(r.length>1)r.forEach((r=>{let s=t?t+n.columnDimensionSeparator+r:r;i.aggregationValues.set(s,e[r])}));else if(1===r.length){let n=r[0];i.aggregationValues.set(t||n,e[n])}}static aggregate(t,i){let n={};for(let r of i){let i=e.getAggregatorForType(r.aggregate,r.dataType);if(!i)throw FI.GridResStrings.igx_grid_pivot_no_aggregator.replace("{0}",r.member);n[r.member]=i(t.map((e=>e[r.member])),t)}return n}static getAggregatorForType(e,t){let i=e.aggregator;if(e.aggregatorName){let n=Ck.aggregators();t&&"date"!==t&&"dateTime"!==t?"time"===t&&(n=n.concat(bk.aggregators())):n=n.concat(Sk.aggregators()),i=n.find((t=>t.key.toLocaleLowerCase()===e.aggregatorName.toLocaleLowerCase()))?.aggregator}return i}static processHierarchy(e,t,i=0,n=!1){let r=[];return e.forEach(((e,s)=>{let o=e.dimension.memberName,a={dimensionValues:new Map,aggregationValues:new Map,children:new Map,dimensions:[e.dimension]};if(a.dimensionValues.set(o,s),e[t.records]&&(a.records=this.getDirectLeafs(e[t.records])),a.level=i,r.push(a),e[t.children]&&e[t.children].size>0){let r=this.processHierarchy(e[t.children],t,i+1,n);a.records=this.getDirectLeafs(r),a.children.set(o,r)}})),r}static getDirectLeafs(e){let t=[];for(let i of e)if(i.records){let e=i.records.filter((e=>!e.records&&-1===t.indexOf(e)));t=t.concat(e)}else t.push(i);return t}static getRecordKey(e,t){let i=[],n=e.dimensions.findIndex((e=>e.memberName===t.memberName))+1,r=e.dimensions.slice(0,n);for(let t of r){let n=e.dimensionValues.get(t.memberName);i.push(n)}return i.join("-")}static buildExpressionTree(t){let i=(t?.rows||[]).concat(t?.columns||[]).concat(t?.filters||[]).filter((e=>null!=e)).filter((e=>e&&e.enabled)),n=new qb(Yb.And);return e.flatten(i).forEach((e=>{e.filter&&e.filter.filteringOperands&&n.filteringOperands.push(...e.filter.filteringOperands)})),n}static collectRecords(e,t){let i=[];return e.forEach((e=>i=i.concat(e[t.records]))),i}static applyHierarchyChildren(e,t,i,n){let r=n.records,s=n.children,o=t[s],a=e.get(t.value);if(Array.isArray(a[s])&&(a[s]=new Map),o&&0!==o.size){let e=a[s];for(let[t,a]of o){let t=e.get(a.value);if(t||(e.set(a.value,a),t=a),t[r]){let e=Object.assign({},i);if(i[r]){let n=t.value,s=t.dimension,o=i[r].filter((e=>this.extractValueFromDimension(s,e)===n));e[r]=o}t[r].push(e)}else t[r]=[i];a[s]&&a[s].size>0&&this.applyHierarchyChildren(e,a,i,n)}}else{let e=a.dimension;this.extractValueFromDimension(e,i)===t.value&&(a[r]?a[r].push(i):a[r]=[i])}}static getAggregateList(e,t){if(!e.aggregateList){let i=this.getAggregatorsForValue(e,t),n=i.find((t=>t.key===e.aggregate.key));n||void 0===t.data[0][e.member]?n||(i=[e.aggregate]):i.unshift(e.aggregate),e.aggregateList=i}return e.aggregateList}static getAggregatorsForValue(e,t){switch(e.dataType||t.resolveDataTypes(t.data[0][e.member])){case Wb.Number:case Wb.Currency:return Ck.aggregators();case Wb.Date:case Wb.DateTime:return Sk.aggregators();case Wb.Time:return bk.aggregators();default:return wk.aggregators()}}},Tk=(()=>{let e=class{get ranges(){this.addKeyboardRange();let e=Array.from(this._ranges).map((e=>JSON.parse(e)));return!e.length&&this.activeElement&&this.grid.isCellSelectable&&e.push(this.generateRange(this.activeElement)),e}get primaryButton(){return this.pointerState.primaryButton}set primaryButton(e){this.pointerState.primaryButton=e}constructor(e,t){this.zone=e,this.platform=t,this.dragMode=!1,this.keyboardState={},this.pointerState={},this.columnsState={},this.selection=new Map,this.temp=new Map,this.rowSelection=new Set,this.indeterminateRows=new Set,this.columnSelection=new Set,this.selectedRowsChange=new Xe,this.pointerEventInGridBody=!1,this._ranges=new Set,this.pointerOriginHandler=e=>{this.pointerEventInGridBody=!1,document.body.removeEventListener("pointerup",this.pointerOriginHandler);let t=e.target.tagName.toLowerCase();"igx-grid-cell"!==t&&"igx-tree-grid-cell"!==t&&this.pointerUp(this._lastSelectedNode,this.grid.rangeSelected,!0)},this.initPointerState(),this.initKeyboardState(),this.initColumnsState()}initKeyboardState(){this.keyboardState.node=null,this.keyboardState.shift=!1,this.keyboardState.range=null,this.keyboardState.active=!1}initPointerState(){this.pointerState.node=null,this.pointerState.ctrl=!1,this.pointerState.shift=!1,this.pointerState.range=null,this.pointerState.primaryButton=!0}initColumnsState(){this.columnsState.field=null,this.columnsState.range=[]}add(e,t=!0){this.selection.has(e.row)?this.selection.get(e.row).add(e.column):this.selection.set(e.row,new Set).get(e.row).add(e.column),t&&this._ranges.add(JSON.stringify(this.generateRange(e)))}addKeyboardRange(){this.keyboardState.range&&this._ranges.add(JSON.stringify(this.keyboardState.range))}remove(e){this.selection.has(e.row)&&this.selection.get(e.row).delete(e.column),this.isActiveNode(e)&&(this.activeElement=null),this._ranges.delete(JSON.stringify(this.generateRange(e)))}isInMap(e){return this.selection.has(e.row)&&this.selection.get(e.row).has(e.column)||this.temp.has(e.row)&&this.temp.get(e.row).has(e.column)}selected(e){return this.isActiveNode(e)&&this.grid.isCellSelectable||this.isInMap(e)}isActiveNode(e){if(this.activeElement){let t=this.activeElement.column===e.column&&this.activeElement.row===e.row;if(this.grid.hasColumnLayouts){let i=this.activeElement.layout;return t&&this.isActiveLayout(i,e.layout)}return t}return!1}isActiveLayout(e,t){return e.columnVisibleIndex===t.columnVisibleIndex}addRangeMeta(e,t){this._ranges.add(JSON.stringify(this.generateRange(e,t)))}removeRangeMeta(e,t){this._ranges.delete(JSON.stringify(this.generateRange(e,t)))}generateRange(e,t){if(this._lastSelectedNode=e,!t)return{rowStart:e.row,rowEnd:e.row,columnStart:e.column,columnEnd:e.column};let{row:i,column:n}=t.node;return{rowStart:Math.min(e.row,i),rowEnd:Math.max(e.row,i),columnStart:Math.min(e.column,n),columnEnd:Math.max(e.column,n)}}keyboardStateOnKeydown(e,t,i){this.keyboardState.active=!0,this.initPointerState(),this.keyboardState.shift=t&&!i,this.grid.navigation.isDataRow(e.row)&&this.keyboardState.shift&&!this.keyboardState.node&&(this.clear(),this.keyboardState.node=Object.assign({},e))}keyboardStateOnFocus(e,t,i){let n=this.keyboardState;if(n.active){if(this.platform.isChromium&&this._moveSelectionChrome(i),n.shift)return this.dragSelect(e,n),n.range=this.generateRange(e,n),void t.emit(this.generateRange(e,n));this.initKeyboardState(),this.clear(),this.add(e)}}pointerDown(e,t,i){if(this.addKeyboardRange(),this.initKeyboardState(),this.pointerState.ctrl=i,this.pointerState.shift=t,this.pointerEventInGridBody=!0,document.body.addEventListener("pointerup",this.pointerOriginHandler),i||this.clear(),t)return this.pointerState.node||(this.pointerState.node=this.activeElement||e),this.pointerDownShiftKey(e),void this.clearTextSelection();this.removeRangeMeta(e),this.pointerState.node=e}pointerDownShiftKey(e){this.clear(),this.selectRange(e,this.pointerState)}mergeMap(e,t){let i,n,r=t.entries(),s=r.next();for(;!s.done;){if([i,n]=s.value,e.has(i)){let t=e.get(i);n.forEach((e=>t.add(e))),e.set(i,t)}else e.set(i,n);s=r.next()}}pointerEnter(e,t){return this.dragMode=1===t.buttons&&(-1===t.button||0===t.button)&&this.pointerEventInGridBody,!!this.dragMode&&(this.clearTextSelection(),this.pointerState.node||(this.pointerState.node=e),this.pointerState.ctrl?this.selectRange(e,this.pointerState,this.temp):this.dragSelect(e,this.pointerState),!0)}pointerUp(e,t,i){return this.dragMode||i?(this.restoreTextSelection(),this.addRangeMeta(e,this.pointerState),this.mergeMap(this.selection,this.temp),this.zone.runTask((()=>t.emit(this.generateRange(e,this.pointerState)))),this.temp.clear(),this.dragMode=!1,!0):this.pointerState.shift?(this.clearTextSelection(),this.restoreTextSelection(),this.addRangeMeta(e,this.pointerState),t.emit(this.generateRange(e,this.pointerState)),!0):(this.pointerEventInGridBody&&this.isActiveNode(e)&&this.add(e),!1)}selectRange(e,t,i=this.selection){i===this.temp&&i.clear();let{rowStart:n,rowEnd:r,columnStart:s,columnEnd:o}=this.generateRange(e,t);for(let e=n;e<=r;e++)for(let t=s;t<=o;t++)i.has(e)?i.get(e).add(t):i.set(e,new Set).get(e).add(t)}dragSelect(e,t){this.pointerState.ctrl||this.selection.clear(),this.selectRange(e,t)}clear(e=!1){e&&(this.activeElement=null),this.selection.clear(),this.temp.clear(),this._ranges.clear()}clearTextSelection(){let e=window.getSelection();e.rangeCount&&(this._selectionRange=e.getRangeAt(0),this._selectionRange.collapse(!0),e.removeAllRanges())}restoreTextSelection(){let e=window.getSelection();e.rangeCount||e.addRange(this._selectionRange||document.createRange())}getSelectedRowsData(){if(this.grid.isPivot)return this.grid.dataView.filter((e=>e.dimensions.map((t=>Ik.getRecordKey(e,t))).some((e=>this.isPivotRowSelected(e)))));if(!this.grid.primaryKey)return Array.from(this.rowSelection);let e=[];return this.rowSelection.forEach((t=>{let i=this.grid.gridAPI.get_all_data(!0).find((e=>this.getRecordKey(e)===t)),n={};n[this.grid.primaryKey]=t,e.push(i||n)})),e}getSelectedRows(){return this.rowSelection.size?Array.from(this.rowSelection.keys()):[]}getIndeterminateRows(){return this.indeterminateRows.size?Array.from(this.indeterminateRows.keys()):[]}clearRowSelection(e){let t=this.getSelectedRowsData(),i=this.isFilteringApplied()?this.allData.filter((e=>this.isRowSelected(this.getRecordKey(e)))):t,n=this.isFilteringApplied()?t.filter((e=>!i.includes(e))):[];this.emitRowSelectionEvent(n,[],i,e,t)}selectAllRows(e){let t=this.allData.filter((e=>!this.isRowSelected(this.getRecordKey(e)))),i=this.getSelectedRowsData(),n=this.rowSelection.size?i.concat(t):t;this.indeterminateRows.clear(),this.emitRowSelectionEvent(n,t,[],e,i)}selectRowById(e,t,i){if(!this.grid.isRowSelectable&&!this.grid.isPivot||this.isRowDeleted(e))return;if(t=!this.grid.isMultiRowSelectionEnabled||t,this.grid.isPivot)return void this.selectPivotRowById(e,t,i);let n=this.getSelectedRowsData(),r=t?[this.getRowDataById(e)]:this.rowSelection.has(e)?n:[...n,this.getRowDataById(e)],s=t?n:[];this.emitRowSelectionEvent(r,[this.getRowDataById(e)],s,i,n)}selectPivotRowById(e,t,i){let n=this.getSelectedRows(),r=t?[e]:this.rowSelection.has(e)?n:[...n,e],s=this.getPivotRowsByIds([e]),o=this.getPivotRowsByIds(t?n:[]);this.emitRowSelectionEventPivotGrid(n,r,s,o,i)}deselectRow(e,t){if(!this.isRowSelected(e))return;if(this.grid.isPivot)return void this.deselectPivotRowByID(e,t);let i=this.getSelectedRowsData(),n=i.filter((t=>this.getRecordKey(t)!==e));this.rowSelection.size&&this.rowSelection.has(e)&&this.emitRowSelectionEvent(n,[],[this.getRowDataById(e)],t,i)}deselectPivotRowByID(e,t){if(this.rowSelection.size&&this.rowSelection.has(e)){let i=this.getSelectedRows(),n=i.filter((t=>t!==e)),r=this.getPivotRowsByIds([e]);this.emitRowSelectionEventPivotGrid(i,n,[],r,t)}}emitRowSelectionEventPivotGrid(e,t,i,n,r){if(this.areEqualCollections(e,t))return;let s=this.getSelectedRowsData(),o={owner:this.grid,oldSelection:s,newSelection:this.getPivotRowsByIds(t),added:i,removed:n,event:r,cancel:!1,allRowsSelected:this.areAllRowSelected(t)};this.grid.rowSelectionChanging.emit(o),o.cancel?this.clearHeaderCBState():this.selectRowsWithNoEvent(t,!0)}selectRows(e,t,i){if(!this.grid.isMultiRowSelectionEnabled)return;let n=e.filter((e=>!this.isRowDeleted(e)&&!this.rowSelection.has(e)));if(!n.length&&!t)return;let r=this.getSelectedRowsData();n=this.grid.primaryKey?n.map((e=>this.getRowDataById(e))):n;let s=t?n:[...r,...n],o=new Set(n),a=t?r.filter((e=>!o.has(e))):[];this.emitRowSelectionEvent(s,n,a,i,r)}deselectRows(e,t){if(!this.rowSelection.size)return;let i=e.filter((e=>this.rowSelection.has(e)));if(!i.length)return;let n=this.getSelectedRowsData();i=this.grid.primaryKey?i.map((e=>this.getRowDataById(e))):i;let r=new Set(i),s=n.filter((e=>!r.has(e)));this.emitRowSelectionEvent(s,[],i,t,n)}selectRowsWithNoEvent(e,t){t&&this.rowSelection.clear(),e.forEach((e=>this.rowSelection.add(e))),this.clearHeaderCBState(),this.selectedRowsChange.next()}deselectRowsWithNoEvent(e){this.clearHeaderCBState(),e.forEach((e=>this.rowSelection.delete(e))),this.selectedRowsChange.next()}isRowSelected(e){return this.rowSelection.size>0&&this.rowSelection.has(e)}isPivotRowSelected(e){let t=!1;return this.rowSelection.forEach((i=>{let n=e.replace(i,"");!e.includes(i)||""!==n&&!n.startsWith("_")||(t=!0)})),this.rowSelection.size>0&&t}isRowInIndeterminateState(e){return this.indeterminateRows.size>0&&this.indeterminateRows.has(e)}selectMultipleRows(e,t,i){if(this.clearHeaderCBState(),!this.rowSelection.size||this.isRowDeleted(e))return void this.selectRowById(e);let n=this.allData,r=this.getSelectedRows()[this.rowSelection.size-1],s=n.indexOf(this.getRowDataById(r)),o=n.indexOf(t),a=n.slice(Math.min(s,o),Math.max(s,o)+1),l=this.getSelectedRowsData(),d=a.filter((e=>!this.isRowSelected(this.getRecordKey(e)))),c=l.concat(d);this.emitRowSelectionEvent(c,d,[],i,l)}areAllRowSelected(e){if(!this.grid.data&&!e)return!1;if(void 0!==this.allRowsSelected&&!e)return this.allRowsSelected;let t=e||[...this.rowSelection],i=this.getRowIDs(this.allData).filter((e=>!t.includes(e)));return this.allRowsSelected=this.allData.length>0&&0===i.length}hasSomeRowSelected(){let e=!this.isFilteringApplied()||this.getRowIDs(this.grid.filteredData).some((e=>this.isRowSelected(e)));return this.rowSelection.size>0&&e&&!this.areAllRowSelected()}get filteredSelectedRowIds(){return this.isFilteringApplied()?this.getRowIDs(this.allData).filter((e=>this.isRowSelected(e))):this.getSelectedRows().filter((e=>!this.isRowDeleted(e)))}emitRowSelectionEvent(e,t,i,n,r){if(r=r??this.getSelectedRowsData(),this.areEqualCollections(r,e))return;let s={owner:this.grid,oldSelection:r,newSelection:e,added:t,removed:i,event:n,cancel:!1,allRowsSelected:this.areAllRowSelected(e.map((e=>this.getRecordKey(e))))};this.grid.rowSelectionChanging.emit(s),s.cancel?this.clearHeaderCBState():this.selectRowsWithNoEvent(s.newSelection.map((e=>this.getRecordKey(e))),!0)}getPivotRowsByIds(e){return this.grid.dataView.filter((t=>{let i=t.dimensions.map((e=>Ik.getRecordKey(t,e)));return new Set(e.concat(i)).size<e.length+i.length}))}getRowDataById(e){if(!this.grid.primaryKey)return e;let t=this.getRowIDs(this.grid.gridAPI.get_all_data(!0)).indexOf(e);return t<0?e:this.grid.gridAPI.get_all_data(!0)[t]}clearHeaderCBState(){this.allRowsSelected=void 0}getRowIDs(e){return this.grid.primaryKey&&e.length?e.map((e=>e[this.grid.primaryKey])):e}getRecordKey(e){return this.grid.primaryKey?e[this.grid.primaryKey]:e}clearAllSelectedRows(){this.rowSelection.clear(),this.indeterminateRows.clear(),this.clearHeaderCBState(),this.selectedRowsChange.next()}get allData(){let e;return e=this.isFilteringApplied()||this.grid.sortingExpressions.length||this.grid.groupingExpressions?.length?this.grid.pinnedRecordsCount?this.grid._filteredSortedUnpinnedData:this.grid.filteredSortedData:this.grid.gridAPI.get_all_data(!0),e.filter((e=>!this.isRowDeleted(this.grid.gridAPI.get_row_id(e))))}getSelectedColumns(){return this.columnSelection.size?Array.from(this.columnSelection.keys()):[]}isColumnSelected(e){return this.columnSelection.size>0&&this.columnSelection.has(e)}selectColumn(e,t,i,n){let r=this.columnsState.field?this.grid.getColumnByName(this.columnsState.field):null;if(!n||!r||r.visibleIndex<0||!i){this.columnsState.field=e,this.columnsState.range=[];let i=t?[e]:-1!==this.getSelectedColumns().indexOf(e)?this.getSelectedColumns():[...this.getSelectedColumns(),e],r=t?this.getSelectedColumns().filter((t=>t!==e)):[],s=this.isColumnSelected(e)?[]:[e];this.emitColumnSelectionEvent(i,s,r,n)}else i&&this.selectColumnsRange(e,n)}selectColumns(e,t,i,n){let r=e.map((e=>this.grid.getColumnByName(e))).sort(((e,t)=>e.visibleIndex-t.visibleIndex)),s=this.columnsState.field?this.grid.getColumnByName(this.columnsState.field):null;if(!s||s.visibleIndex<0||!i){this.columnsState.field=r[0]?r[0].field:null,this.columnsState.range=[];let i=e.filter((e=>!this.isColumnSelected(e))),s=t?this.getSelectedColumns().filter((t=>-1===e.indexOf(t))):[],o=t?e:this.getSelectedColumns().concat(i);this.emitColumnSelectionEvent(o,i,s,n)}else{let e=s.visibleIndex>r[r.length-1].visibleIndex?r[0].field:r[r.length-1].field;this.selectColumnsRange(e,n)}}selectColumnsRange(e,t){let i=this.grid.getColumnByName(this.columnsState.field).visibleIndex,n=this.grid.columnToVisibleIndex(e),r=this.grid.visibleColumns.filter((e=>!e.columnGroup)).sort(((e,t)=>e.visibleIndex-t.visibleIndex)).slice(Math.min(i,n),Math.max(i,n)+1).filter((e=>e.selectable)).map((e=>e.field)),s=[],o=[],a=r.filter((e=>!this.isColumnSelected(e)));this.columnsState.range.forEach((e=>{-1===r.indexOf(e)?s.push(e):o.push(e)})),this.columnsState.range=r.filter((e=>!this.isColumnSelected(e)||o.indexOf(e)>-1));let l=this.getSelectedColumns().concat(a).filter((e=>-1===s.indexOf(e)));this.emitColumnSelectionEvent(l,a,s,t)}selectColumnsWithNoEvent(e,t){t&&this.columnSelection.clear(),e.forEach((e=>{this.columnSelection.add(e)}))}deselectColumn(e,t){this.initColumnsState();let i=this.getSelectedColumns().filter((t=>t!==e));this.emitColumnSelectionEvent(i,[],[e],t)}deselectColumnsWithNoEvent(e){e.forEach((e=>this.columnSelection.delete(e)))}deselectColumns(e,t){let i=this.getSelectedColumns().filter((t=>e.indexOf(t)>-1)),n=this.getSelectedColumns().filter((t=>-1===e.indexOf(t)));this.emitColumnSelectionEvent(n,[],i,t)}emitColumnSelectionEvent(e,t,i,n){let r=this.getSelectedColumns();if(this.areEqualCollections(r,e))return;let s={oldSelection:r,newSelection:e,added:t,removed:i,event:n,cancel:!1};this.grid.columnSelectionChanging.emit(s),!s.cancel&&this.selectColumnsWithNoEvent(s.newSelection,!0)}clearAllSelectedColumns(){this.columnSelection.clear()}areEqualCollections(e,t){return e.length===t.length&&new Set(e.concat(t)).size===e.length}_moveSelectionChrome(e){let t=window.getSelection();t.removeAllRanges();let i=new Range;i.selectNode(e),i.collapse(!0),t.addRange(i)}isFilteringApplied(){return!qb.empty(this.grid.filteringExpressionsTree)||!qb.empty(this.grid.advancedFilteringExpressionsTree)}isRowDeleted(e){return this.grid.gridAPI.row_deleted_transaction(e)}};return e.fac=function(t){return new(t||e)(_n(Vd),_n(ob))},e.prov=Zi({token:e,factory:e.fac}),e})(),Ak=["igxDirRef"],Rk=["cell"],kk=(()=>{let e=class{get data(){return this.inEditMode?jS(this.grid.dataCloneStrategy.clone(this._data),this.grid.transactions.getAggregatedValue(this.key,!1),((e,t)=>{if(Array.isArray(t))return t})):this._data}set data(e){this._data=e}set pinned(e){e?this.grid.pinRow(this.key):this.grid.unpinRow(this.key)}get pinned(){return this.grid.isRecordPinned(this.data)}get expanded(){return this.grid.gridAPI.get_row_expansion_state(this.data)}set expanded(e){this.grid.gridAPI.set_row_expansion_state(this.key,e)}get addRowUI(){return!!this.grid.crudService.row&&this.grid.crudService.row.getClassName()===sk.name&&this.grid.crudService.row.id===this.key}get rowHeight(){let e=this.grid.rowHeight||32;return this.grid.hasColumnLayouts&&(e*=this.grid.multiRowLayoutRowSize),this.addRowUI?e:null}get cellHeight(){return this.addRowUI&&!this.inEditMode?null:this.grid.rowHeight||32}get virtDirRow(){return this._virtDirRow?this._virtDirRow.first:null}get cells(){let e=new mg;if(!this._cells)return e;let t=this._cells.filter((e=>null!==e.nativeElement.parentElement)).sort(((e,t)=>e.column.visibleIndex-t.column.visibleIndex));return e.reset(t),e}get dataRowIndex(){return this.index}get selected(){return this.selectionService.isRowSelected(this.key)}set selected(e){e?this.selectionService.selectRowsWithNoEvent([this.key]):this.selectionService.deselectRowsWithNoEvent([this.key]),this.grid.cdr.markForCheck()}get columns(){return this.grid.visibleColumns}get viewIndex(){return this.grid.groupingExpressions.length?this.grid.filteredSortedData.indexOf(this.data):this.index+this.grid.page*this.grid.perPage}get pinnedColumns(){return this.grid.pinnedColumns}get isRoot(){return!0}get hasChildren(){return!1}get unpinnedColumns(){return this.grid.unpinnedColumns}get showRowSelectors(){return this.grid.showRowSelectors}get dirty(){let e=this.grid.transactions.getState(this.key);return!!e&&(e.type===Tb.ADD||e.type===Tb.UPDATE)}get rowDraggable(){return this.grid.rowDraggable}get added(){let e=this.grid.transactions.getState(this.key);return!!e&&e.type===Tb.ADD}get deleted(){return this.grid.gridAPI.row_deleted_transaction(this.key)}get dragging(){return this.grid.dragRowID===this.key}get inEditMode(){if(this.grid.rowEditable){let e=this.grid.crudService.row;return e&&e.id===this.key||!1}return!1}get key(){let e=this.grid.primaryKey;if(this._data)return e?this._data[e]:this._data}get nativeElement(){return this.element.nativeElement}constructor(e,t,i,n){this.grid=e,this.selectionService=t,this.element=i,this.cdr=n,this.addAnimationEnd=new Pd,this.role="row",this.disabled=!1,this.focused=!1,this.defaultCssClass="igx-grid__tr",this.triggerAddAnimationClass=!1,this.destroy$=new Xe}onClick(e){if("none"===this.grid.rowSelection||this.deleted||!this.grid.selectRowOnClick)return;if(e.shiftKey&&this.grid.isMultiRowSelectionEnabled)return void this.selectionService.selectMultipleRows(this.key,this.data,e);let t=!(+e.ctrlKey^+e.metaKey);this.selected&&!t?this.selectionService.deselectRow(this.key,e):this.selectionService.selectRowById(this.key,t,e)}showActionStrip(){this.grid.actionStrip&&this.grid.actionStrip.show(this)}hideActionStrip(){this.grid.actionStrip&&this.grid.actionStrip.hideOnRowLeave&&this.grid.actionStrip.hide()}ngAfterViewInit(){this._virtDirRow.changes.pipe(Si(this.destroy$)).subscribe((()=>this.grid.resetHorizontalVirtualization()))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onRowSelectorClick(e){e.stopPropagation(),e.shiftKey&&this.grid.isMultiRowSelectionEnabled?this.selectionService.selectMultipleRows(this.key,this.data,e):this.selected?this.selectionService.deselectRow(this.key,e):this.selectionService.selectRowById(this.key,!1,e)}update(e){let t=this.grid.crudService;t.cellInEditMode&&t.cell.id.key===this.key&&this.grid.transactions.endPending(!1);let i=new rk(this.key,this.index,this.data,this.grid);this.grid.gridAPI.update_row(i,e),this.cdr.markForCheck()}delete(){this.grid.deleteRowById(this.key)}isCellActive(e){let t=this.grid.navigation.activeNode;return!!t&&t.row===this.index&&t.column===e}pin(){return this.grid.pinRow(this.key)}unpin(){return this.grid.unpinRow(this.key)}get rowCheckboxAriaLabel(){return this.grid.primaryKey?this.selected?"Deselect row with key "+this.key:"Select row with key "+this.key:this.selected?"Deselect row":"Select row"}ngDoCheck(){this.cdr.markForCheck()}shouldDisplayPinnedChip(e){return this.pinned&&this.disabled&&0===e}beginAddRow(){this.grid.crudService.enterAddRowMode(this)}triggerAddAnimation(){this.triggerAddAnimationClass=!0}animationEndHandler(){this.triggerAddAnimationClass=!1,this.addAnimationEnd.emit(this)}get resolveDragIndicatorClasses(){return"igx-grid__drag-indicator "+(this.grid.rowDragging&&!this.dragging?"igx-grid__drag-indicator--off":"")}};return e.fac=function(t){return new(t||e)(nc(hk),nc(Tk),nc(wd),nc(fp))},e.dir=or({type:e,selectors:[["","igxRowBaseComponent",""]],viewQuery:function(e,t){if(1&e&&(Bg(nk,5,nk),Bg(Ak,5,vA),Bg(Rk,5)),2&e){let e;Hg(e=Gg())&&(t.checkboxElement=e.first),Hg(e=Gg())&&(t._virtDirRow=e),Hg(e=Gg())&&(t._cells=e)}},hostVars:8,hostBindings:function(e,t){1&e&&Fh("click",(function(e){return t.onClick(e)}))("mouseenter",(function(){return t.showActionStrip()}))("mouseleave",(function(){return t.hideActionStrip()})),2&e&&(ph("role",t.role)("aria-disabled",t.disabled)("data-rowIndex",t.dataRowIndex)("aria-selected",t.selected),tu("min-height",t.rowHeight,"px"),iu("igx-grid__tr--disabled",t.disabled))},inputs:{data:"data",index:"index",disabled:"disabled",gridID:"gridID",selected:"selected"},outputs:{addAnimationEnd:"addAnimationEnd"},standalone:!0}),e})(),Ok=(()=>{let e=class{get grid(){return this.strip.context.grid}get isRowContext(){return this.isRow(this.strip?.context)&&!this.strip.context.inEditMode}constructor(e,t){this.iconService=e,this.differs=t,this.asMenuItems=!1}ngAfterViewInit(){this.asMenuItems&&this.buttons.changes.subscribe((()=>{this.strip.cdr.detectChanges()}))}isRow(e){return e&&e instanceof kk}};return e.fac=function(t){return new(t||e)(nc(zI),nc(Tp))},e.dir=or({type:e,selectors:[["","igxGridActionsBase",""]],viewQuery:function(e,t){if(1&e&&Bg(YR,5),2&e){let e;Hg(e=Gg())&&(t.buttons=e)}},inputs:{asMenuItems:"asMenuItems"},standalone:!0}),e})(),Fk=["dropdown"];function Pk(e,t){if(1&e&&(Eh(0),Ch(1,"button",5),Fh("click",(function(e){return e.stopPropagation()})),Ch(2,"igx-icon"),fu(3,"more_vert"),Sh()(),Ih()),2&e){let e=Vh(),t=xh(4);tc(1),_h("igxToggleAction",t)("overlaySettings",e.menuOverlaySettings)("title",e.resourceStrings.igx_action_strip_button_more_title)("igxDropDownItemNavigation",t)}}function Mk(e,t){1&e&&Th(0)}var Vk=function(e){return{$implicit:e}};function Nk(e,t){if(1&e&&(Ch(0,"igx-drop-down-item",6)(1,"div",7),yh(2,Mk,1,0,"ng-container",8),Sh()()),2&e){let e=t.$implicit;tc(2),_h("ngTemplateOutlet",e.templateRef)("ngTemplateOutletContext",ju(2,Vk,e))}}var Lk=["*"],Hk=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxActionStripMenuItem",""]],standalone:!0}),e})(),Bk=(()=>{let e=class extends kI{set hidden(e){this._hidden=e}get hidden(){return this._hidden}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings||(this._resourceStrings=FI.ActionStripResourceStrings),this._resourceStrings}get hideOnRowLeave(){return 0===this.menu.items.length||(this.menu.items.length>0?!!this.menu.collapsed:void 0)}constructor(e,t,i,n,r){super(n,i),this._viewContainer=e,this.renderer=t,this.el=i,this._displayDensityOptions=n,this.cdr=r,this.menuOverlaySettings={scrollStrategy:new sI},this._hidden=!1,this.hostClass="igx-action-strip"}get menuItems(){let e=[];return this.actionButtons.forEach((t=>{if(t.asMenuItems){let i=t.buttons;i&&i.toArray().forEach((t=>e.push(t)))}})),[...this._menuItems.toArray(),...e]}get display(){return this._hidden?"none":"flex"}get componentSize(){return this.getComponentSizeStyles()}ngAfterContentInit(){this.actionButtons.forEach((e=>{e.strip=this})),this.actionButtons.changes.subscribe((()=>{this.actionButtons.forEach((e=>{e.strip=this}))}))}ngAfterViewInit(){this.menu.selectionChanging.subscribe((e=>{let t=e.newSelection.elementRef.nativeElement,i=[];this.actionButtons.forEach((e=>{e.asMenuItems&&(i=[...i,...e.buttons.toArray()])}));let n=i.find((e=>t.contains(e.container.nativeElement)));n&&n.actionClick.emit()})),this._originalParent=this._viewContainer.element.nativeElement?.parentElement}show(e){this.hidden=!1,e&&(this.context!==e&&this.closeMenu(),this.context=e,this.context&&this.context.element&&this.renderer.appendChild(e.element.nativeElement,this._viewContainer.element.nativeElement),this.cdr.detectChanges())}hide(){this.hidden=!0,this.closeMenu(),this._originalParent?this.renderer.appendChild(this._originalParent,this._viewContainer.element.nativeElement):this.context&&this.context.element&&this.renderer.removeChild(this.context.element.nativeElement,this._viewContainer.element.nativeElement)}closeMenu(){this.menu&&!this.menu.collapsed&&this.menu.close()}};return e.fac=function(t){return new(t||e)(nc(Cg),nc(bd),nc(wd),nc(RI,8),nc(fp))},e.cmp=tr({type:e,selectors:[["igx-action-strip"]],contentQueries:function(e,t,i){if(1&e&&(zg(i,Hk,4),zg(i,Ok,4)),2&e){let e;Hg(e=Gg())&&(t._menuItems=e),Hg(e=Gg())&&(t.actionButtons=e)}},viewQuery:function(e,t){if(1&e&&Bg(Fk,5),2&e){let e;Hg(e=Gg())&&(t.menu=e.first)}},hostVars:6,hostBindings:function(e,t){2&e&&(tu("display",t.display)("--component-size",t.componentSize),iu("igx-action-strip",t.hostClass))},inputs:{context:"context",hidden:"hidden",resourceStrings:"resourceStrings"},standalone:!0,features:[th,Wu],ngContentSelectors:Lk,decls:6,vars:3,consts:[[1,"igx-action-strip__actions"],[4,"ngIf"],[3,"displayDensity"],["dropdown",""],["class","igx-action-strip__menu-item",4,"ngFor","ngForOf"],["type","button","igxButton","icon","igxRipple","",3,"igxToggleAction","overlaySettings","title","igxDropDownItemNavigation","click"],[1,"igx-action-strip__menu-item"],[1,"igx-drop-down__item-template"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Lh(),Ch(0,"div",0),Hh(1,0,["#content",""]),yh(2,Pk,4,4,"ng-container",1),Ch(3,"igx-drop-down",2,3),yh(5,Nk,3,4,"igx-drop-down-item",4),Sh()()),2&e&&(tc(2),_h("ngIf",t.menuItems.length>0),tc(1),_h("displayDensity",t.displayDensity),tc(2),_h("ngForOf",t.menuItems))},dependencies:[$m,zm,Zm,HI,DA,PA,fI,XI,HR,FR],encapsulation:2}),e})(),zk={name:"add-child",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Add Item Icon</title><desc>A picture showing an item with a plus sign being added to container.</desc><path d="M22 12H7c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h15c1.1 0 2-.9 2-2v-6c0-1.1-.9-2-2-2zm-8 6h-2v2h-2v-2H8v-2h2v-2h2v2h2v2zm7-14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H3c-.6 0-1-.4-1-1V5c0-.6.4-1 1-1h19m0-2H2C.9 2 0 2.9 0 4v4c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/></svg>',categories:["content"],keywords:["add","insert","row","child","new","below","under"]},Gk={name:"add-row",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Add Row Icon</title><desc>A picture showing a rectangle with a plus sign.</desc><path d="M22 7H2a2 2 0 00-2 2v6a2 2 0 002 2h20a2 2 0 002-2V9a2 2 0 00-2-2zM9 13H7v2H5v-2H3v-2h2V9h2v2h2z"/></svg>',categories:["content"],keywords:["add","insert","row","new"]},$k={name:"jump-down",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Jump Down Icon</title><desc>A picture showing a bent arrow pointing down towards a line.</desc><path d="M21.5 18.5v2h-16v-2h16zm-8-15c1.6 0 3 .5 4.3 1.2l-1.5 1.5c-.8-.4-1.8-.7-2.8-.7-3.3 0-6 2.7-6 6h3l-4 4-4-4h3c0-1.5.4-2.9 1.2-4.2.6-1 1.4-1.8 2.4-2.5 1.2-.8 2.8-1.3 4.4-1.3z"/></svg>',categories:["content"],keywords:["jump","down","arrow","below","under"]},Wk={name:"jump-up",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Jump Up Icon</title><desc>A picture showing a bent arrow pointing up towards a line.</desc><path d="M6.5 8.5l4 4h-3c0 3.3 2.7 6 6 6 1 0 2-.2 2.8-.7l1.5 1.5c-1.2.8-2.7 1.2-4.3 1.2-4.4 0-8-3.6-8-8h-3l4-4zm15-5v2h-16v-2h16z"/></svg>',categories:["content"],keywords:["jump","up","arrow","above"]},Kk={name:"pin-left",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Pin Left Icon</title><desc>A picture depicting a pin pointed to the left.</desc><path d="M15.18 2.25l7.07 7.07-2.83-.01-3.54 3.55.01 4.24-3.53-3.54-5.66 5.66H5.28V17.8l5.66-5.66L7.4 8.61l4.24.01 3.55-3.54-.01-2.83z"/></svg>',categories:["content"],keywords:["pin","freeze","left","pushpin","nail","marker","attach","tack","thumbtack"]},jk={name:"unpin-left",value:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Unpin Left Icon</title><desc>A picture depicting a crossed-out left-pointed pin.</desc><path d="M11.8 14.1l-5.1 5.1H5.3v-1.4l5.1-5.1L2 4.3 3.3 3l18 18-1.3 1.2-8.2-8.1zm4-.5l-5-5h.7L15.1 5V2.2l7.1 7.1h-2.8l-3.5 3.5-.1.8z"/></svg>',categories:["content"],keywords:["unpin","unfreeze","left","pushpin","nail","marker","detach","tack","thumbtack"]},Uk={name:"ends-with",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Ends With Icon</title><desc>A picture showing three dots followed by lowercase a.</desc><path d="M3 14.5h2v2H3zm8 0h2v2h-2zm-4 0h2v2H7zm13.8.3v-3A2.1 2.1 0 0020 10a3 3 0 00-2-.6 3 3 0 00-2 .6 1.7 1.7 0 00-.7 1.5h1.5a.8.8 0 01.3-.7 1.3 1.3 0 01.9-.3 1.3 1.3 0 01.9.4 1.1 1.1 0 01.3.8v.6H18a3.8 3.8 0 00-2.2.6 1.8 1.8 0 00-.8 1.5 2 2 0 00.6 1.6 2.3 2.3 0 001.6.6 2.1 2.1 0 001.2-.4 2.8 2.8 0 00.8-.8 4.3 4.3 0 00.1.5l.1.5H21a4.1 4.1 0 01-.2-.7 5.4 5.4 0 010-1zm-1.6-.5a1.5 1.5 0 01-.6.7 2 2 0 01-1 .2 1.1 1.1 0 01-.8-.2.8.8 0 01-.2-.6 1 1 0 01.3-.8 1.5 1.5 0 011.1-.3h1.2z"/></svg>',categories:["editor"],keywords:["end","character","compare","filter"]},qk={name:"equals",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Equals Icon</title><desc>A picture showing the equals sign.</desc><path d="M5 13.5h14v2H5zm0-5h14v2H5z"/></svg>',categories:["editor"],keywords:["equal","equals","compare","filter","equality","calculation","math"]},Yk={name:"is-empty",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Is Empty Icon</title><desc>A picture showing a dotted square.</desc><path d="M5 17h2v2H5zm8 0h2v2h-2zm-8-4h2v2H5zm12 4h2v2h-2zM13 5h2v2h-2zM9 17h2v2H9zm8-8h2v2h-2zm0 4h2v2h-2zm0-8h2v2h-2zM5 9h2v2H5zm0-4h2v2H5zm4 0h2v2H9z"/></svg>',categories:["editor"],keywords:["empty","box","nothing"]},Xk=[{name:"bottom-percentile-records",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Bottom records</title><desc>Shows percentile records positioned at the bottom.</desc><path d="M12 10L8 6h3V2h2v4h3zm-4 8h4v-2H8zm0-4h8v-2H8zm10-1a5.976 5.976 0 012 .35V4a2 2 0 00-2-2h-3v2h3zm-5.91 7H6V4h3V2H6a2 2 0 00-2 2v16a2 2 0 002 2h6.812a5.945 5.945 0 01-.722-2zm4.872-2.435a.157.157 0 00-.058-.1.213.213 0 00-.2 0 .158.158 0 00-.059.1 1.008 1.008 0 00-.028.189c-.005.08-.008.185-.008.314s0 .23.008.312a1.046 1.046 0 00.028.192.155.155 0 00.059.094.213.213 0 00.2 0 .154.154 0 00.058-.094.966.966 0 00.028-.192c.01-.08.01-.186.01-.312s0-.234-.008-.314a.931.931 0 00-.03-.189zm2.393 1.88a.166.166 0 00-.059-.095.22.22 0 00-.2 0 .156.156 0 00-.058.095.954.954 0 00-.028.189q-.009.12-.009.315c0 .126 0 .23.009.311a.943.943 0 00.028.192.156.156 0 00.058.095.213.213 0 00.2 0 .166.166 0 00.059-.095 1.019 1.019 0 00.028-.192c.005-.081.008-.185.008-.311s0-.235-.008-.315a1.035 1.035 0 00-.028-.189zM22 19a4 4 0 11-4-4 4 4 0 014 4zm-5.2.136a1.252 1.252 0 00.411-.058.582.582 0 00.27-.186.8.8 0 00.148-.331 2.778 2.778 0 000-.985.784.784 0 00-.148-.331.583.583 0 00-.27-.187 1.489 1.489 0 00-.823 0 .594.594 0 00-.27.187.8.8 0 00-.147.331 2.778 2.778 0 000 .985.808.808 0 00.147.331.592.592 0 00.27.186 1.258 1.258 0 00.412.058zM19.185 17h-.612l-1.764 4h.612zm.884 2.949a2.328 2.328 0 00-.044-.493.808.808 0 00-.147-.331.592.592 0 00-.27-.186 1.465 1.465 0 00-.823 0 .582.582 0 00-.27.186.8.8 0 00-.148.331 2.778 2.778 0 000 .985.79.79 0 00.148.331.534.534 0 00.27.178 1.718 1.718 0 00.823 0 .543.543 0 00.27-.178.8.8 0 00.147-.331 2.311 2.311 0 00.044-.492z"/></svg>',categories:["editor"]},{name:"bottom-records",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Bottom records</title><desc>Shows records positioned at the bottom.</desc><path d="M12 10L8 6h3V2h2v4h3zm4 2H8v2h8zm-4 4H8v2h4zm-6 6h12a2 2 0 002-2V4a2 2 0 00-2-2h-3v2h3v16H6V4h3V2H6a2 2 0 00-2 2v16a2 2 0 002 2z"/></svg>',categories:["editor"]},{name:"case-sensitive",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Case Sensitive Icon</title><desc>A picture showing the letter A written in both upper and lower case.</desc><path d="M21.2 16.5c0-.2-.1-.5-.1-.7v-4.4c0-.4-.1-.8-.3-1.2-.2-.3-.5-.6-.8-.7-.3-.2-.7-.3-1.1-.3-.4-.1-.8-.1-1.2-.1-.5 0-.9 0-1.4.1-.4.1-.8.3-1.2.5-.3.2-.6.5-.8.9s-.3.9-.3 1.3h1.4c0-.5.2-1 .7-1.3.5-.2 1-.4 1.5-.3.2 0 .5 0 .7.1.2 0 .4.1.6.2.2.1.3.2.5.4.1.2.2.5.2.7s-.1.4-.2.6c-.2.2-.4.3-.6.3-.3.1-.6.1-.9.2-.4 0-.7.1-1.1.2-.4.1-.7.1-1.1.2-.3.1-.7.2-1 .4s-.5.5-.7.8c-.2.4-.3.8-.3 1.2s.1.8.2 1.1c.1.3.4.5.6.7.3.2.6.3.9.4.9.2 1.9.2 2.8-.2.5-.2 1-.6 1.4-1 0 .4.1.7.3 1 .2.2.6.3.9.3.4 0 .7-.1 1-.2v-1.1c-.1 0-.3.1-.4.1-.1.1-.2 0-.2-.2zm-1.5-1.7c0 .2-.1.4-.2.6-.1.2-.3.5-.5.6-.2.2-.5.4-.8.5-.4.1-.8.2-1.2.2-.2 0-.4 0-.6-.1-.2 0-.4-.1-.5-.2-.2-.1-.3-.2-.4-.4-.1-.2-.2-.4-.1-.6 0-.3.1-.6.2-.8.2-.2.4-.4.6-.5.3-.1.6-.2.9-.2s.7-.1 1-.1.6-.1.9-.1.5-.1.7-.3v1.4zm-9.6-.4l1.3 3.6h1.8L8.5 6H6.7L2 18h1.7L5 14.4h5.1zm-2.5-7l2.1 5.5H5.5l2.1-5.5z"/></svg>',categories:["editor"],keywords:["case","sensitive","character","text","mode","sentence","style","change","compare","filter"]},{name:"check",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Check Icon</title><desc>A picture depicting a check mark.</desc><path d="M19.4 5.3l1.4 1.4-12 12-5.6-5.6 1.4-1.4 4.2 4.2z"/></svg>',categories:["editor"],keywords:["check","checked","mark","tick","ok","success"]},{name:"contains",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Contains Icon</title><desc>A picture showing the lowercase letter A in a square box.</desc><path d="M3 3v18h18V3zm16 16H5V5h14z"/><path d="M12 11.3a4.39 4.39 0 00-2.54.63 2.07 2.07 0 00-.9 1.78 2.29 2.29 0 00.66 1.74 2.63 2.63 0 001.89.63 2.39 2.39 0 001.32-.37 3.05 3.05 0 001-.93 3.72 3.72 0 00.08.57c0 .19.1.38.16.58h1.79a4.51 4.51 0 01-.21-.88 5.57 5.57 0 01-.07-.93v-3.5a2.44 2.44 0 00-.84-2 3.34 3.34 0 00-2.22-.7 3.54 3.54 0 00-2.3.72A1.93 1.93 0 009 10.29h1.71a.93.93 0 01.29-.71 1.5 1.5 0 011-.29 1.45 1.45 0 011 .35 1.3 1.3 0 01.37 1v.69zm1.4 1.08v1.17a1.61 1.61 0 01-.71.77 2.27 2.27 0 01-1.21.34 1.18 1.18 0 01-.84-.27.92.92 0 01-.3-.72 1.16 1.16 0 01.44-.9 1.76 1.76 0 011.22-.39z"/></svg>',categories:["editor"],keywords:["contains","letter","contain","compare","filter"]},{name:"custom-filter",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Custom Filter Icon</title><desc>An icon showing that custom filter is applied.</desc><path d="M12.138 21H8.2a1.171 1.171 0 01-1.152-1.188v-5.937L2.123 4.719A1.187 1.187 0 013.153 3h14.694a1.187 1.187 0 011.03 1.719l-3.763 7a2.2 2.2 0 00-.437.642h-.3a2.206 2.206 0 00-1.922 1.11l-.9 1.553-.058.109a2.246 2.246 0 00.212 2.366 2.185 2.185 0 00-.168 2.462zm9.775-2.319a.21.21 0 01.056.281l-.9 1.564a.226.226 0 01-.27.1l-1.113-.449a3.415 3.415 0 01-.754.438l-.18 1.193a.221.221 0 01-.225.191h-1.8a.228.228 0 01-.225-.191l-.169-1.193a3.233 3.233 0 01-.765-.438l-1.114.449a.236.236 0 01-.281-.1l-.9-1.564a.213.213 0 01.056-.281l.945-.742a5.864 5.864 0 01-.022-.439 2.709 2.709 0 01.045-.439l-.956-.742a.224.224 0 01-.057-.293l.9-1.552a.222.222 0 01.27-.1l1.125.45a3.581 3.581 0 01.754-.438l.169-1.193a.228.228 0 01.225-.193h1.8a.23.23 0 01.225.191l.169 1.193a3.348 3.348 0 01.753.438l1.125-.45a.217.217 0 01.27.1l.9 1.552a.225.225 0 01-.056.293l-.956.742A1.8 1.8 0 0121 17.5c0 .146-.011.293-.023.439zM19.236 17.5a1.609 1.609 0 10-1.609 1.609 1.609 1.609 0 001.609-1.609z"/></svg>',categories:["editor"],keywords:["custom","filter"]},{name:"does-not-contain",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Does-Not-Contain Icon</title><desc>A picture showing the lowercase letter A in a crossed-out square box.</desc><path d="M21 19.74V3H4.26L2.89 1.63 1.63 2.92 3 4.29V21h16.73l1.37 1.37 1.27-1.26zM5 19V6.28l5.28 5.27a3.19 3.19 0 00-.81.38 2.07 2.07 0 00-.9 1.78 2.29 2.29 0 00.66 1.74 2.63 2.63 0 001.89.63 2.39 2.39 0 001.32-.37 3.05 3.05 0 001-.93 3.72 3.72 0 00.08.57c0 .19.1.38.16.58h1L17.73 19zm5.79-6.23a1.31 1.31 0 01.45-.25l1.37 1.36.28.29a1.57 1.57 0 01-.19.15 2.27 2.27 0 01-1.21.34 1.18 1.18 0 01-.84-.27.92.92 0 01-.3-.72 1.16 1.16 0 01.44-.9zm2.6-1.47h-.83l-1.62-1.62.08-.1a1.5 1.5 0 011-.29 1.45 1.45 0 011 .35 1.3 1.3 0 01.37 1zM19 17.74l-3.85-3.85v-3.27a2.44 2.44 0 00-.84-2 3.34 3.34 0 00-2.22-.7 3.64 3.64 0 00-2.24.67L6.26 5H19z"/></svg>',categories:["editor"],keywords:["contains","character","contain","compare","filter"]},{name:"does-not-end-with",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Does-Not-End-With Icon</title><desc>A picture showing crossed-out lines at the end of a square box.</desc><path d="M20.293 2.293l1.414 1.414-18 18-1.414-1.414zM18 13h-2.757l-2 2H18zm2 8H7.243l-2 2H20a2 2 0 002-2V6.242l-2 2zm-2-4h-6.757l-2 2H18zM4 3h12.757l2-2H4a2 2 0 00-2 2v14.757l2-2z"/></svg>',categories:["editor"]},{name:"does-not-start-with",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Does-Not-Start-With Icon</title><desc>A picture showing crossed-out lines at the beginning of a square box.</desc><path d="M3.707 21.707l-1.414-1.414 18-18 1.414 1.414zM6 11h2.757l2-2H6zM4 3h12.757l2-2H4a2 2 0 00-2 2v14.757l2-2zm2 4h6.757l2-2H6zm14 14H7.243l-2 2H20a2 2 0 002-2V6.243l-2 2z"/></svg>',categories:["editor"]},{name:"end-expression",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>End Expression Icon</title><desc>A picture showing three dots followed by a right-pointed chevron.</desc><path d="M13.14 6.76L17.49 12l-4.35 5.24 1.54 1.28L20.09 12l-5.41-6.52-1.54 1.28z"/><path d="M11.91 11h2v2h-2zm-4 0h2v2h-2zm-4 0h2v2h-2z"/></svg>',categories:["editor"],keywords:["end","expression","arrow","right"]},Uk,qk,{name:"exact-match",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Exact Match Icon</title><desc>A picture depicting an arrow hitting bulls-eye.</desc><path d="M5.683 9a7 7 0 110 6h2.342a5 5 0 100-6zM3.79 7.047a9.6 9.6 0 110 9.906l-1.735 1.735a12 12 0 100-13.376zM0 14.914l1.432 1.414L4.8 13h6.161v2L14 12l-3.037-3v2H4.8L1.432 7.672 0 9.086 2.95 12z"/></svg>',categories:["editor"],keywords:["exact","match","arrow","target","goal","aim","business","dart","bullseye"]},{name:"greater-than",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Greater Than Icon</title><desc>A picture showing the greater-than symbol.</desc><path d="M6 7.11L15.09 12 6 16.89V19l12-6.46v-1.08L6 5v2.11z"/></svg>',categories:["editor"],keywords:["greater","more","compare","next","forward","chevron","math","inequalty","arrow"]},{name:"greater-than-or-equal",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Greater Than or Equal Icon</title><desc>A picture showing the grater-than or equal symbol.</desc><path d="M5.99 19h12.02v2H5.99zM18 9.47L6 3v2.11L15.09 10 6 14.9v2.11l12-6.47V9.47z"/></svg>',categories:["editor"],keywords:["greater","more","equal","equals","compare","math"]},{name:"is-after",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Is After Icon</title><desc>A picture showing a square bracket drawn after a vertical line.</desc><path d="M15 7h4v10h-4v2h6V5h-6v2zm-4-4h2v18h-2zM7 5h2v2H7zM3 5h2v2H3zm0 12h2v2H3zm0-4h2v2H3zm0-4h2v2H3zm4 8h2v2H7z"/></svg>',categories:["editor"],keywords:["after","comparison","before","convert","decode","render","scan"]},{name:"is-before",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Is Before Icon</title><desc>A picture showing a square bracket drawn before a vertical line.</desc><path d="M3 19h6v-2H5V7h4V5H3v14zm8-16h2v18h-2zm4 2h2v2h-2zm4 0h2v2h-2zm0 8h2v2h-2zm-4 4h2v2h-2zm4 0h2v2h-2zm0-8h2v2h-2z"/></svg>',categories:["editor"],keywords:["after","comparison","before","convert","decode","render","scan"]},Yk,{name:"is-false",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Is False Icon</title><desc>A picture showing an encircled X symbol.</desc><path d="M8 5a7 7 0 107 7 7 7 0 00-7-7zm4.31 9.79l-1.52 1.52L8 13.52l-2.79 2.79-1.52-1.52L6.48 12 3.69 9.21l1.52-1.52L8 10.48l2.79-2.79 1.52 1.52L9.52 12zM18 7a5 5 0 00-3 1.06 7.48 7.48 0 01.49 1 3.89 3.89 0 110 5.82 8.08 8.08 0 01-.49 1A5 5 0 1018 7z"/><path d="M17.52 13.85l2.91-2.92-.78-.78-2.13 2.12-1.17-1.15-.38.37-.41.41.42.42L17 13.34l.52.51z"/></svg>',categories:["editor"],keywords:["false","true","choice","options","yes","no","check","tick","cross"]},{name:"is-not-null",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Is Not Null Icon</title><desc>A picture showing a crossed-out circle.</desc><path d="M16.58 6.07l.79-1.36-1.74-1-.78 1.35a7.5 7.5 0 00-7.43 12.87l-.79 1.36 1.74 1 .78-1.35a7.5 7.5 0 007.43-12.87zM6.5 12A5.5 5.5 0 0112 6.5a5.65 5.65 0 011.84.32l-5.41 9.36A5.49 5.49 0 016.5 12zm5.5 5.5a5.65 5.65 0 01-1.84-.32l5.41-9.36A5.5 5.5 0 0112 17.5z"/></svg>',categories:["editor"],keywords:["empty","null","void","problem","number","invalid","inoperative","none","nothing"]},{name:"is-null",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Is Null Icon</title><desc>A picture showing an empty circle.</desc><path d="M12 4.5a7.5 7.5 0 107.5 7.5A7.5 7.5 0 0012 4.5zm0 13a5.5 5.5 0 115.5-5.5 5.5 5.5 0 01-5.5 5.5z"/></svg>',categories:["editor"],keywords:["null","circle","zero","o"]},{name:"is-true",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>is True Icon</title><desc>A picture showing an encircled check mark symbol.</desc><path d="M19.44 14.22zm-2.88 0zm0 0L18 12.79l1.44 1.43.78-.78L18.79 12l1.43-1.44-.78-.78L18 11.21l-1.44-1.43-.78.78L17.21 12l-1.43 1.44.78.78z"/><path d="M18 7a5 5 0 00-3 1.06 7.48 7.48 0 01.49 1 3.89 3.89 0 110 5.82 8.08 8.08 0 01-.49 1A5 5 0 1018 7zM8 5a7 7 0 107 7 7 7 0 00-7-7zm-.93 10.18l-3.38-3.37 1.13-1.12 2.25 2.25 4.11-4.12 1.13 1.12z"/></svg>',categories:["editor"],keywords:["true","false","choice","options","yes","no","check","tick","cross"]},{name:"last-month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Last Month Icon</title><desc>A picture depicting a calendar with a back-arrow at the end.</desc><path d="M17.5 14a4.48 4.48 0 104.5 4.5 4.47 4.47 0 00-4.5-4.5zm3.5 5.5h-4v2l-3-3 3-3v2h4zM5 9h2v2H5zm0 4h2v2H5zm5 0h2v2h-2zm-5 4h2v2H5zm5 0h2v2h-2zm0-8h2v2h-2zm5 0h2v2h-2z"/><path d="M4 8h14v4h2V5a2 2 0 00-2-2h-1V1h-2v2H7V1H5v2H4a2 2 0 00-2 2v15a2 2 0 002 2h7v-2H4z"/></svg>',categories:["editor"],keywords:["last","calendar","month","date","day","previous","schedule","arrow","left","page"]},{name:"last-quarter",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Last Quarter Icon</title><desc>A picture depicting a quarter of a circle with an arrow pointing right.</desc><path d="M4 9.253A8.03 8.03 0 019.747 15H4V9.253M2 7v10h10A10 10 0 002 7zm18 9h2V8h-2zm-4-8v3h-3v2h3v3l4-4z"/></svg>',categories:["editor"]},{name:"last-week",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Last Week Icon</title><desc>A picture depicting a square with an arrow pointing down.</desc><path d="M2 20V4a2 2 0 012-2h5v2H4v16h16V4h-5V2h5a2 2 0 012 2v16a2 2 0 01-2 2H4a2 2 0 01-2-2zm4-2h12v-3H6zm10-9h-3V2h-2v7H8l4 4z"/></svg>',categories:["editor"]},{name:"last-year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Last Year Icon</title><desc>A picture depicting a calendar with an back-arrow in the middle.</desc><path d="M21 10v11H7v2h14a2 2 0 002-2V10z"/><path d="M19 17V5a2 2 0 00-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 00-2 2v12a2 2 0 002 2h14a2 2 0 002-2zM3 17V7h14v10H3z"/><path d="M8.87 9l-2.99 3 2.99 3v-2.25h5.26v-1.5H8.87V9z"/></svg>',categories:["editor"],keywords:["last","calendar","month","date","previous","schedule","arrow","left"]},{name:"less-than",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Less Than Icon</title><desc>A picture showing the less-than symbol.</desc><path d="M6 12.54L18 19v-2.11L8.91 12 18 7.11V5L6 11.46v1.08z"/></svg>',categories:["editor"],keywords:["less","smaller","compare","previous","back","chevron","math","inequalty","arrow"]},{name:"less-than-or-equal",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Less Than or Equal Icon</title><desc>A picture showing the lass-than or equal symbol.</desc><path d="M5.99 19h12.02v2H5.99zM18 14.9L8.91 10 18 5.11V3L6 9.47v1.07l12 6.47V14.9z"/></svg>',categories:["editor"],keywords:["less","smaller","equal","equals","compare","math"]},{name:"match",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Match Icon</title><desc>A picture depicting two puzzle pieces fitting together.</desc><path d="M10 8a3.909 3.909 0 011 .13V6H0v12h3.779a3 3 0 104.442 0H11v-2.13a3.909 3.909 0 01-1 .13 4 4 0 010-8z"/><path d="M24 6h-3.779a3 3 0 10-4.442 0H12v3.779a3 3 0 100 4.442V18h3.779a3 3 0 104.442 0H24z"/></svg>',categories:["editor"],keywords:["match","fit","puzzle","pieces","jigsaw","combination","play","game","toy"]},{name:"month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Month Icon</title><desc>A picture depicting a month calendar.</desc><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zM11 9H9V7h2zm4 0h-2V7h2zm-8 4H5v-2h2zm4 0H9v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zM7 17H5v-2h2zm4 0H9v-2h2zm4 0h-2v-2h2zm4-8h-2V7h2z"/></svg>',categories:["editor"]},{name:"next-month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Next Month icon</title><desc>A picture depicting a calendar with a forward-arrow at the end.</desc><path d="M20 14.76a4.5 4.5 0 102 3.74 4.47 4.47 0 00-2-3.74zm-2 6.74v-2h-4v-2h4v-2l3 3zM5 9h2v2H5zm0 4h2v2H5zm5 0h2v2h-2zm-5 4h2v2H5zm5 0h2v2h-2zm0-8h2v2h-2zm5 0h2v2h-2z"/><path d="M4 8h14v4h2V5a2 2 0 00-2-2h-1V1h-2v2H7V1H5v2H4a2 2 0 00-2 2v15a2 2 0 002 2h7v-2H4z"/></svg>',categories:["editor"],keywords:["next","calendar","month","date","day","following","schedule","arrow","right","page"]},{name:"next-quarter",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Next Quarter Icon</title><desc>A picture depicting a quarter circle with an arrow pointing right.</desc><path d="M4 9.253A8.03 8.03 0 019.747 15H4V9.253M2 7v10h10A10 10 0 002 7zm16 1v3h-4v2h4v3l4-4z"/></svg>',categories:["editor"]},{name:"next-week",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Next Week Icon</title><desc>A picture depicting a square with an arrow pointing right.</desc><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zM18 9H6V6h12zm0 5l-4 4v-3H6v-2h8v-3z"/></svg>',categories:["editor"]},{name:"next-year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Next Year icon</title><desc>A picture depicting a calendar with a forward-arrow in the middle.</desc><path d="M21 21H7v2h14a2 2 0 002-2V10h-2z"/><path d="M19 17V5a2 2 0 00-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 00-2 2v12a2 2 0 002 2h14a2 2 0 002-2zM3 17V7h14v10H3z"/><path d="M11.13 11.25H5.88v1.5h5.25V15l3-3-3-3v2.25z"/></svg>',categories:["editor"],keywords:["next","calendar","month","date","following","schedule","arrow","right"]},{name:"not-empty",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Not Empty Icon</title><desc>A picture showing a crossed-out dotted square.</desc><path d="M5 9h2v2H5zm4 8h2v2H9zm4 0h2v2h-2zm4-8h2v2h-2zm0-4h2v2h-2zM5 17h2v2H5zm8-12h2v2h-2zm-8 8h2v2H5zm14 2v-2h-2v.47L18.53 15H19zm-8-8V5H9v.46L10.54 7H11zM2.76 1.76L1.5 3.06 20.97 22.5l1.26-1.26-8.89-8.89L2.76 1.76z"/></svg>',categories:["editor"],keywords:["empty","full"]},{name:"not-equal",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Not Equal Icon</title><desc>A picture showing a crossed-out equals symbol.</desc><path d="M17.37 4.71l-1.74-1-2.76 4.79H5v2h6.71l-1.73 3H5v2h3.82l-2.19 3.79 1.74 1 2.76-4.79H19v-2h-6.71l1.73-3H19v-2h-3.82l2.19-3.79z"/></svg>',categories:["editor"],keywords:["equal","equals","different","compare","filter","equality","calculation","math"]},{name:"previous-quarter",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Previous Quarter Icon</title><desc>A picture depicting a quarter circle with an arrow pointing left.</desc><path d="M12 7v10h10A10 10 0 0012 7zM2 12l4 4v-3h4v-2H6V8z"/></svg>',categories:["editor"]},{name:"previous-week",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Next Week Icon</title><desc>A picture depicting a square with an arrow pointing left.</desc><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zm-2-2H6v-3h12zM10 6v3h8v2h-8v3l-4-4z"/></svg>',categories:["editor"]},{name:"quarter-four",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Quarter Four Icon</title><desc>A picture depicting a quarter of a circle next to a three-thirds circle.</desc><path d="M22 15.5a6.5 6.5 0 01-13 0v-.65h5.85V9h.65a6.508 6.508 0 016.5 6.5zm-11.66.65a5.2 5.2 0 105.81-5.81v5.81zM2 13h11V2A11 11 0 002 13zm5-2H6V7h1zm3 0L8 7h1l1 2 1-2h1z"/></svg>',categories:["editor"]},{name:"quarter-one",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Quarter One Icon</title><desc>A picture depicting a quarter of a circle next to a three-thirds circle.</desc><path d="M8.5 22a6.5 6.5 0 010-13h.65v5.85H15v.65A6.508 6.508 0 018.5 22zm-.65-11.66a5.2 5.2 0 105.81 5.81H7.85zM11 2v11h11A11 11 0 0011 2zm5 8h-1V6h1z"/></svg>',categories:["editor"]},{name:"quarter-three",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Quarter Three Icon</title><desc>A picture depicting a quarter of a circle next to a three-thirds circle.</desc><path d="M15.5 2a6.5 6.5 0 010 13h-.65V9.15H9V8.5A6.508 6.508 0 0115.5 2zm.65 11.66a5.2 5.2 0 10-5.81-5.81h5.81zM2 11a11 11 0 0011 11V11zm5 6H6v-4h1zm2 0H8v-4h1zm2 0h-1v-4h1z"/></svg>',categories:["editor"]},{name:"quarter-two",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Quarter Two Icon</title><desc>A picture depicting a quarter of a circle next to a three-thirds circle.</desc><path d="M2 8.5a6.5 6.5 0 0113 0v.65H9.15V15H8.5A6.508 6.508 0 012 8.5zm11.66-.65a5.2 5.2 0 10-5.81 5.81V7.85zM11 11v11a11 11 0 0011-11zm4 6h-1v-4h1zm2 0h-1v-4h1z"/></svg>',categories:["editor"]},Uk,qk,Yk,{name:"select-all",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Select All Icon</title><desc>A picture showing tree lines and a check mark.</desc><path d="M2 14h8v2H2zm0-8h12v2H2zm14 11l-3-3-1.5 1.5L16 20l7-7-1.5-1.5L16 17zM2 10h12v2H2z"/></svg>',categories:["editor"],keywords:["all","select","check","multiple"]},{name:"start-expression",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Start Expression Icon</title><desc>A picture showing a left chevron followed by three dots.</desc><path d="M18.1 11h2v2h-2zm-8 0h2v2h-2z"/><path d="M10.9 6.8L9.3 5.5 4 12l5.4 6.5 1.6-1.3L6.5 12 11 6.8zm3.2 4.2h2v2h-2z"/></svg>',categories:["editor"],keywords:["start","expression","arrow","left"]},{name:"starts-with",value:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Starts With Icon</title><desc>A picture showing the uppercase letter A followed by three dots.</desc><path d="M5.9 7.5l-3.9 9h1.7l.7-1.8h4.1l.7 1.8H11l-3.9-9H5.9zM5 13.2l1.5-4.1L8 13.2H5zm7 1.3h2v2h-2v-2zm8 0h2v2h-2v-2zm-4 0h2v2h-2v-2z"/></svg>',categories:["editor"],keywords:["start","character","compare","filter"]},{name:"this-month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>This Month Icon</title><desc>A picture depicting a calendar with an encircled check mark at the end.</desc><path d="M6 9h2v2H6zm0 4h2v2H6zm5 0h2v2h-2zm-5 4h2v2H6zm5 0h2v2h-2zm0-8h2v2h-2zm5 0h2v2h-2zm5 5.76a4.5 4.5 0 102 3.74 4.47 4.47 0 00-2-3.74zm-2.94 5.41l-1.75-1.76.69-.71 1.05 1L20 16.83l.71.71z"/><path d="M5 8h14v4h2V5a2 2 0 00-2-2h-1V1h-2v2H8V1H6v2H5a2 2 0 00-2 2v15a2 2 0 002 2h7v-2H5z"/></svg>',categories:["editor"],keywords:["this","calendar","month","date","day","current","schedule","check","page","now"]},{name:"this-quarter",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>This Quarter Icon</title><desc>A picture depicting an arrow pointing right to a quarter of a circle.</desc><path d="M12 7v10h10A10 10 0 0012 7zm-2 5l-4 4v-3H2v-2h4V8z"/></svg>',categories:["editor"]},{name:"this-week",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>This Quarter Icon</title><desc>A picture depicting a square with an arrow pointing up.</desc><path d="M22 4v16a2 2 0 01-2 2h-5v-2h5V4H4v16h5v2H4a2 2 0 01-2-2V4a2 2 0 012-2h16a2 2 0 012 2zm-4 2H6v3h12zM8 15h3v7h2v-7h3l-4-4z"/></svg>',categories:["editor"]},{name:"this-year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>This Year Icon</title><desc>A picture depicting a stacked calendar with a check mark in the middle.</desc><path d="M21 21H7v2h14a2 2 0 002-2V10h-2z"/><path d="M19 17V5a2 2 0 00-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 00-2 2v12a2 2 0 002 2h14a2 2 0 002-2zM3 17V7h14v10H3z"/><path d="M8.85 13.15l-1.77-1.77-.88.89 2.65 2.65 4.95-4.96-.88-.88-4.07 4.07z"/></svg>',categories:["editor"],keywords:["this","calendar","month","date","current","schedule","check","now"]},{name:"today",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Today Icon</title><desc>A picture depicting a calendar with a check mark in the middle.</desc><path d="M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V6a2 2 0 00-2-2zm0 16H5V9h14z"/><path d="M16.53 12.06L15.47 11l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 18l5.94-5.94z"/></svg>',categories:["editor"],keywords:["today","now","check","date","day","calendar","current","schedule","event"]},{name:"top-percentile-records",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Top Percentile Records Icon</title><desc>Shows percentile records positioned at the top.</desc><path d="M12 14l4 4h-3v4h-2v-4H8zm0-8H8v2h4zm4 4H8v2h8zm2 1v9h-3v2h3a2 2 0 002-2v-9.35a5.976 5.976 0 01-2 .35zM6 4h6.09a5.966 5.966 0 01.722-2H6a2 2 0 00-2 2v16a2 2 0 002 2h3v-2H6zm13.355 1.445a.166.166 0 00-.059-.1.22.22 0 00-.2 0 .156.156 0 00-.058.1.954.954 0 00-.028.189q-.01.12-.01.315c0 .126 0 .23.009.311a.943.943 0 00.028.192.156.156 0 00.058.095.213.213 0 00.2 0 .166.166 0 00.059-.095 1.019 1.019 0 00.028-.192c.005-.081.008-.185.008-.311s0-.235-.008-.315a1.035 1.035 0 00-.027-.189zm-2.393-1.88a.157.157 0 00-.062-.095.213.213 0 00-.2 0 .158.158 0 00-.059.095 1.008 1.008 0 00-.028.189c-.005.08-.008.185-.008.314s0 .23.008.312a1.046 1.046 0 00.028.192.155.155 0 00.059.094.213.213 0 00.2 0 .154.154 0 00.058-.094.966.966 0 00.028-.192C17 4.3 17 4.194 17 4.068s0-.234-.008-.314a.931.931 0 00-.03-.189zM22 5a4 4 0 11-4-4 4 4 0 014 4zm-5.2.136a1.252 1.252 0 00.411-.058.582.582 0 00.27-.186.8.8 0 00.148-.331 2.4 2.4 0 00.044-.493 2.378 2.378 0 00-.044-.492.784.784 0 00-.148-.331.583.583 0 00-.27-.187 1.489 1.489 0 00-.823 0 .594.594 0 00-.27.187.8.8 0 00-.147.331 2.311 2.311 0 00-.044.492 2.328 2.328 0 00.044.493.808.808 0 00.147.331.592.592 0 00.27.186 1.258 1.258 0 00.412.058zM19.185 3h-.612l-1.764 4h.612zm.884 2.949a2.328 2.328 0 00-.044-.493.808.808 0 00-.147-.331.592.592 0 00-.27-.186 1.465 1.465 0 00-.823 0 .582.582 0 00-.27.186.8.8 0 00-.148.331 2.328 2.328 0 00-.044.493 2.311 2.311 0 00.044.492.79.79 0 00.148.331.534.534 0 00.27.178 1.718 1.718 0 00.823 0 .543.543 0 00.27-.178.8.8 0 00.147-.331 2.311 2.311 0 00.044-.492z"/></svg>',categories:["editor"]},{name:"top-records",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Top Records Icon</title><desc>Shows records positioned at the top.</desc><path d="M12 14l4 4h-3v4h-2v-4H8zm0-8H8v2h4zm4 4H8v2h8zm2-8H6a2 2 0 00-2 2v16a2 2 0 002 2h3v-2H6V4h12v16h-3v2h3a2 2 0 002-2V4a2 2 0 00-2-2z"/></svg>',categories:["editor"]},{name:"ungroup",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Ungroup Icon</title><desc>A picture depicting a broken box with four squares inside it.</desc><path d="M15 15h5v5h-5zm-9-2h5v5H6zm7-7h5v5h-5zM6 6h5v5H6z"/><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h9v-2H4V4h16v9h2V4a2 2 0 00-2-2z"/></svg>',categories:["editor"],keywords:["ungroup","exclude","extract"]},{name:"year-to-date",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Year To Date Icon</title><desc>A picture depicting an year calendar.</desc><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zM5 10h1.127L7.2 11.58 8.258 10h1.121l-1.7 2.465V14H6.677v-1.558zm5.044.74V10h3.745v.74h-1.37V14h-1.005v-3.26zm6.882-.74a2.667 2.667 0 01.823.123 1.86 1.86 0 01.659.37 1.679 1.679 0 01.435.616 2.205 2.205 0 01.157.868 2.456 2.456 0 01-.128.807 1.7 1.7 0 01-.387.639 1.828 1.828 0 01-.647.423 2.453 2.453 0 01-.912.154h-1.972v-4zm-.07 3.26a1.46 1.46 0 00.422-.061.951.951 0 00.365-.205 1.007 1.007 0 00.256-.372 1.453 1.453 0 00.1-.56 2.054 2.054 0 00-.067-.547 1.046 1.046 0 00-.221-.417.973.973 0 00-.407-.266 1.818 1.818 0 00-.624-.092h-.717v2.52z"/></svg>',categories:["editor"]},{name:"year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Year icon</title><desc>A picture depicting an year calendar.</desc><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zM7.7 11.634a1.151 1.151 0 00.317-.063.618.618 0 00.243-.152.367.367 0 00.1-.264.429.429 0 00-.2-.379.79.79 0 00-.452-.132.689.689 0 00-.533.2.668.668 0 00-.175.487h-.888a1.428 1.428 0 01.127-.542 1.246 1.246 0 01.321-.42 1.465 1.465 0 01.5-.273A2.022 2.022 0 017.7 10a2.258 2.258 0 01.55.069 1.7 1.7 0 01.5.206 1.21 1.21 0 01.357.336.784.784 0 01.137.456.8.8 0 01-.16.495.815.815 0 01-.482.292v.011a1.04 1.04 0 01.6.308.813.813 0 01.216.567 1.041 1.041 0 01-.14.539 1.238 1.238 0 01-.377.4 1.785 1.785 0 01-.544.242A2.605 2.605 0 017 13.906a1.542 1.542 0 01-.54-.272 1.207 1.207 0 01-.344-.438A1.322 1.322 0 016 12.6h.885a.931.931 0 00.058.294.7.7 0 00.151.243.727.727 0 00.246.162.925.925 0 00.35.06.86.86 0 00.531-.162.524.524 0 00.216-.443.5.5 0 00-.1-.335.59.59 0 00-.259-.168 1.281 1.281 0 00-.344-.061 8.981 8.981 0 00-.357-.008v-.55a2.453 2.453 0 00.323.002zm4.814-.9a.591.591 0 00-.406-.143.684.684 0 00-.416.123.949.949 0 00-.265.3 1.42 1.42 0 00-.144.382 1.989 1.989 0 00-.052.363l.012.011a1.072 1.072 0 01.446-.329 1.685 1.685 0 011.166.008 1.449 1.449 0 01.478.288 1.1 1.1 0 01.269.4 1.306 1.306 0 01.085.457 1.338 1.338 0 01-.115.552 1.3 1.3 0 01-.327.446 1.549 1.549 0 01-.508.3 1.915 1.915 0 01-.655.107 1.877 1.877 0 01-.858-.174 1.491 1.491 0 01-.544-.453 1.7 1.7 0 01-.281-.636 3.3 3.3 0 01-.079-.724 2.713 2.713 0 01.1-.715 1.924 1.924 0 01.315-.646 1.65 1.65 0 01.556-.471 1.752 1.752 0 01.827-.18 2.055 2.055 0 01.55.071 1.517 1.517 0 01.453.207 1.116 1.116 0 01.32.333 1.177 1.177 0 01.164.456h-.884a.638.638 0 00-.21-.335zm-.782 1.257a.627.627 0 00-.233.157.664.664 0 00-.138.228.821.821 0 00-.045.272.732.732 0 00.049.262.7.7 0 00.144.231.706.706 0 00.232.162.783.783 0 00.315.06.692.692 0 00.3-.06.72.72 0 00.219-.16.67.67 0 00.138-.225.773.773 0 00.046-.259.828.828 0 00-.043-.266.683.683 0 00-.128-.232.624.624 0 00-.219-.165.726.726 0 00-.311-.063.836.836 0 00-.329.056zm4.129-1.268l-.183.875.013.01a1.2 1.2 0 01.406-.228 1.783 1.783 0 011.094.036 1.326 1.326 0 01.442.28 1.186 1.186 0 01.275.416 1.355 1.355 0 01.095.509 1.159 1.159 0 01-.137.553 1.456 1.456 0 01-.371.443 1.694 1.694 0 01-.54.288 1.983 1.983 0 01-.655.1 2.7 2.7 0 01-.638-.074 1.725 1.725 0 01-.541-.229 1.226 1.226 0 01-.377-.382 1.054 1.054 0 01-.147-.531h.93a.607.607 0 00.236.421.922.922 0 00.848.093.773.773 0 00.249-.165.706.706 0 00.157-.237.718.718 0 00.056-.277.754.754 0 00-.052-.281.64.64 0 00-.158-.231.738.738 0 00-.248-.154.932.932 0 00-.334-.055.957.957 0 00-.406.074.91.91 0 00-.3.234h-.838l.452-2.129h2.561v.644z"/></svg>',categories:["editor"]},{name:"yesterday",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Yesterday Icon</title><desc>A picture depicting a calendar with a back arrow in the middle.</desc><path d="M10.68 15.38h6.13v-1.75h-6.13V11l-3.49 3.5 3.49 3.5v-2.62z"/><path d="M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V6a2 2 0 00-2-2zm0 16H5V9h14z"/></svg>',categories:["editor"],keywords:["yesterday","date","calendar","left","arrow","past","previous","day"]},{name:"tomorrow",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Tomorrow Icon</title><desc>A picture depicting a calendar with a right-pointed arrow in the middle.</desc><path d="M13.3 13.6H7.2v1.8h6.1V18l3.5-3.5-3.5-3.5v2.6z"/><path d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/></svg>',categories:["editor"],keywords:["tomorrow","date","calendar","right","arrow","future","next","day"]}];function Zk(e,t){if(1&e){let e=Rh();Ch(0,"igx-grid-action-button",5),Fh("actionClick",(function(t){return Bs(e),zs(Vh(2).startEdit(t))})),Sh()}if(2&e){let e=Vh(2);_h("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_edit_label)}}function Qk(e,t){if(1&e){let e=Rh();Ch(0,"igx-grid-action-button",6),Fh("actionClick",(function(t){return Bs(e),zs(Vh(2).addRowHandler(t))})),Sh()}if(2&e){let e=Vh(2);_h("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_add_label)}}function Jk(e,t){if(1&e){let e=Rh();Ch(0,"igx-grid-action-button",7),Fh("actionClick",(function(t){return Bs(e),zs(Vh(2).addRowHandler(t,!0))})),Sh()}if(2&e){let e=Vh(2);_h("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_add_child_label)}}function eO(e,t){if(1&e){let e=Rh();Ch(0,"igx-grid-action-button",8),Fh("actionClick",(function(t){return Bs(e),zs(Vh(2).deleteRowHandler(t))})),Sh()}if(2&e){let e=Vh(2);_h("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_delete_label)}}function tO(e,t){if(1&e&&(Eh(0),yh(1,Zk,1,2,"igx-grid-action-button",1),yh(2,Qk,1,2,"igx-grid-action-button",2),yh(3,Jk,1,2,"igx-grid-action-button",3),yh(4,eO,1,2,"igx-grid-action-button",4),Ih()),2&e){let e=Vh();tc(1),_h("ngIf",!e.disabled&&e.editRow),tc(1),_h("ngIf",e.addRow&&e.isRootRow),tc(1),_h("ngIf",e.addChild&&e.hasChildren),tc(1),_h("ngIf",!e.disabled&&e.deleteRow)}}var iO=(()=>{let e=class extends Ok{constructor(){super(...arguments),this.cssClass="igx-action-strip__editing-actions",this.editRow=!0,this.deleteRow=!0,this.addChild=!1,this.isMessageShown=!1,this._addRow=!1,this.iconsRendered=!1}set addRow(e){this._addRow=e}get addRow(){return this.iconsRendered||(this.registerIcons(),this.iconsRendered=!0),this._addRow}get disabled(){if(this.isRow(this.strip.context))return this.strip.context.disabled}get isRootRow(){return!!this.isRow(this.strip.context)&&this.strip.context.isRoot}get hasChildren(){return!!this.isRow(this.strip.context)&&this.strip.context.hasChildren}startEdit(e){if(e&&e.stopPropagation(),!this.isRow(this.strip.context))return;let t=this.strip.context,i=t.cells.filter((e=>e.editable))[0],n=t.grid;n.hasEditableColumns?(0!==n.rowList.filter((e=>e===t)).length&&(n.gridAPI.crudService.enterEditMode(i,e),n.gridAPI.crudService.nonEditable||i.activate(e)),this.strip.hide()):this.isMessageShown=(this.isMessageShown,!0)}deleteRowHandler(e){if(e&&e.stopPropagation(),!this.isRow(this.strip.context))return;let t=this.strip.context;t.grid.deleteRow(t.key),this.strip.hide()}addRowHandler(e,t){if(e&&e.stopPropagation(),!this.isRow(this.strip.context))return;let i=this.strip.context,n=i.grid;n.rowEditable?(n.gridAPI.crudService.enterAddRowMode(i,t,e),this.strip.hide()):console.warn("The grid must use row edit mode to perform row adding! Please set rowEditable to true.")}registerIcons(){this.iconService.addSvgIconFromText(Gk.name,Gk.value,"imx-icons",!0),this.iconService.addSvgIconFromText(zk.name,zk.value,"imx-icons",!0)}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.cmp=tr({type:e,selectors:[["igx-grid-editing-actions"]],hostVars:2,hostBindings:function(e,t){2&e&&iu("igx-action-strip__editing-actions",t.cssClass)},inputs:{addRow:"addRow",editRow:"editRow",deleteRow:"deleteRow",addChild:"addChild"},standalone:!0,features:[Nu([{provide:Ok,useExisting:e}]),th,Wu],decls:1,vars:1,consts:[[4,"ngIf"],["iconName","edit",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["iconName","add-row","iconSet","imx-icons",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["iconName","add-child","iconSet","imx-icons",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["class","igx-action-strip__delete","classNames","igx-action-strip__menu-item--danger","iconName","delete",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["iconName","edit",3,"asMenuItem","labelText","actionClick"],["iconName","add-row","iconSet","imx-icons",3,"asMenuItem","labelText","actionClick"],["iconName","add-child","iconSet","imx-icons",3,"asMenuItem","labelText","actionClick"],["classNames","igx-action-strip__menu-item--danger","iconName","delete",1,"igx-action-strip__delete",3,"asMenuItem","labelText","actionClick"]],template:function(e,t){1&e&&yh(0,tO,5,4,"ng-container",0),2&e&&_h("ngIf",t.isRowContext)},dependencies:[$m,YR],encapsulation:2}),e})();function nO(e,t){if(1&e){let e=Rh();Ch(0,"igx-grid-action-button",5),Fh("actionClick",(function(t){return Bs(e),zs(Vh(2).scrollToRow(t))})),Sh()}if(2&e){let e=Vh(2);_h("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_jumpDown_label)}}function rO(e,t){if(1&e){let e=Rh();Ch(0,"igx-grid-action-button",6),Fh("actionClick",(function(t){return Bs(e),zs(Vh(2).scrollToRow(t))})),Sh()}if(2&e){let e=Vh(2);_h("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_jumpUp_label)}}function sO(e,t){if(1&e){let e=Rh();Ch(0,"igx-grid-action-button",7),Fh("actionClick",(function(t){return Bs(e),zs(Vh(2).pin(t))})),Sh()}if(2&e){let e=Vh(2);_h("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_pin_label)}}function oO(e,t){if(1&e){let e=Rh();Ch(0,"igx-grid-action-button",8),Fh("actionClick",(function(t){return Bs(e),zs(Vh(2).unpin(t))})),Sh()}if(2&e){let e=Vh(2);_h("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_unpin_label)}}function aO(e,t){if(1&e&&(Eh(0),yh(1,nO,1,2,"igx-grid-action-button",1),yh(2,rO,1,2,"igx-grid-action-button",2),yh(3,sO,1,2,"igx-grid-action-button",3),yh(4,oO,1,2,"igx-grid-action-button",4),Ih()),2&e){let e=Vh();tc(1),_h("ngIf",e.inPinnedArea&&e.pinnedTop),tc(1),_h("ngIf",e.inPinnedArea&&!e.pinnedTop),tc(1),_h("ngIf",!e.pinned),tc(1),_h("ngIf",e.pinned)}}var lO=(()=>{let e=class extends Ok{constructor(){super(...arguments),this.cssClass="igx-action-strip__pinning-actions",this.iconsRendered=!1}get pinned(){if(!this.isRow(this.strip.context))return;let e=this.strip.context;return e&&!this.iconsRendered&&(this.registerSVGIcons(),this.iconsRendered=!0),e&&e.pinned}get inPinnedArea(){if(!this.isRow(this.strip.context))return;let e=this.strip.context;return this.pinned&&!e.disabled}get pinnedTop(){if(this.isRow(this.strip.context))return this.strip.context.grid.isRowPinningToTop}pin(e){if(e&&e.stopPropagation(),!this.isRow(this.strip.context))return;let t=this.strip.context,i=t.grid;i.pinRow(t.key,i.pinnedRecords.length),this.strip.hide()}unpin(e){if(e&&e.stopPropagation(),!this.isRow(this.strip.context))return;let t=this.strip.context;t.grid.unpinRow(t.key),this.strip.hide()}scrollToRow(e){e&&e.stopPropagation();let t=this.strip.context;t.grid.scrollTo(t.data,0),this.strip.hide()}registerSVGIcons(){this.isRow(this.strip.context)&&this.strip.context.grid&&(this.iconService.addSvgIconFromText(Kk.name,Kk.value,"imx-icons",!0),this.iconService.addSvgIconFromText(jk.name,jk.value,"imx-icons",!0),this.iconService.addSvgIconFromText($k.name,$k.value,"imx-icons",!0),this.iconService.addSvgIconFromText(Wk.name,$k.value,"imx-icons",!0))}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.cmp=tr({type:e,selectors:[["igx-grid-pinning-actions"]],hostVars:2,hostBindings:function(e,t){2&e&&iu("igx-action-strip__pinning-actions",t.cssClass)},standalone:!0,features:[Nu([{provide:Ok,useExisting:e}]),th,Wu],decls:1,vars:1,consts:[[4,"ngIf"],["iconSet","imx-icons","iconName","jump-down",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["iconSet","imx-icons","iconName","jump-up",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["iconSet","imx-icons","iconName","pin-left",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["iconSet","imx-icons","iconName","unpin-left",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["iconSet","imx-icons","iconName","jump-down",3,"asMenuItem","labelText","actionClick"],["iconSet","imx-icons","iconName","jump-up",3,"asMenuItem","labelText","actionClick"],["iconSet","imx-icons","iconName","pin-left",3,"asMenuItem","labelText","actionClick"],["iconSet","imx-icons","iconName","unpin-left",3,"asMenuItem","labelText","actionClick"]],template:function(e,t){1&e&&yh(0,aO,5,4,"ng-container",0),2&e&&_h("ngIf",t.isRowContext)},dependencies:[$m,YR],encapsulation:2}),e})();function dO(e,t){if(1&e&&(Ch(0,"span",3),fu(1),Sh()),2&e){let e=Vh();tc(1),vu(e.value)}}function cO(e,t){if(1&e&&(Ch(0,"igx-icon"),fu(1),Sh()),2&e){let e=Vh();tc(1),vu(e.icon)}}function hO(e,t){if(1&e&&(Ch(0,"igx-icon",4),fu(1),Sh()),2&e){let e=Vh();_h("family",e.iconSet)("name",e.icon),tc(1),vu(e.icon)}}var uO=["*"],gO=0,pO="primary",mO="info",fO="success",yO="warning",vO="error",xO=(()=>{let e=class{constructor(){this.id="igx-badge-"+gO++,this.type=pO,this.value="",this.role="status",this.cssClass="igx-badge",this.shape="rounded",this.label="badge"}get _squareShape(){return"square"===this.shape}get roleDescription(){return this.icon?this.type+" type badge with icon type "+this.icon:this.value||0===this.value?this.type+" badge type with value "+this.value:this.type+" badge type without value"}get infoClass(){return this.type===mO}get successClass(){return this.type===fO}get warningClass(){return this.type===yO}get errorClass(){return this.type===vO}};return e.fac=function(t){return new(t||e)},e.cmp=tr({type:e,selectors:[["igx-badge"]],hostVars:16,hostBindings:function(e,t){2&e&&(ph("id",t.id)("role",t.role)("aria-label",t.label)("aria-roledescription",t.roleDescription),iu("igx-badge",t.cssClass)("igx-badge--square",t._squareShape)("igx-badge--info",t.infoClass)("igx-badge--success",t.successClass)("igx-badge--warning",t.warningClass)("igx-badge--error",t.errorClass))},inputs:{id:"id",type:"type",value:"value",icon:"icon",iconSet:"iconSet",shape:"shape"},standalone:!0,features:[Wu],ngContentSelectors:uO,decls:4,vars:3,consts:[["class","igx-badge__value",4,"ngIf"],[4,"ngIf"],[3,"family","name",4,"ngIf"],[1,"igx-badge__value"],[3,"family","name"]],template:function(e,t){1&e&&(Lh(),yh(0,dO,2,1,"span",0),yh(1,cO,2,1,"igx-icon",1),yh(2,hO,2,3,"igx-icon",2),Hh(3)),2&e&&(_h("ngIf",t.value||0===t.value&&!t.icon),tc(1),_h("ngIf",t.icon&&!t.iconSet),tc(1),_h("ngIf",t.icon&&t.iconSet))},dependencies:[$m,XI],encapsulation:2}),e})();function _O(e,t){if(1&e&&(Ch(0,"igx-icon"),fu(1),Sh()),2&e){let e=Vh().$implicit;tc(1),vu(e.icon)}}function wO(e,t){if(1&e&&(Ch(0,"span",5),fu(1),Sh()),2&e){let e=Vh().$implicit;tc(1),vu(e.label)}}function CO(e,t){if(1&e&&(Ch(0,"button",2)(1,"span"),yh(2,_O,2,1,"igx-icon",3),yh(3,wO,2,1,"span",4),Sh()()),2&e){let e=t.$implicit,i=Vh();_h("displayDensity",i.displayDensity)("selected",e.selected)("disabled",i.disabled||e.disabled)("igxButtonColor",e.color)("igxButtonBackground",e.bgcolor)("igxLabel",e.label)("igxRipple",e.ripple),ph("data-togglable",e.togglable),tc(1),wu("igx-button-group__item-content ",i.itemContentCssClass,""),tc(1),_h("ngIf",e.icon),tc(1),_h("ngIf",e.label)}}var SO=["*"],bO="horizontal",DO="vertical",EO=0,IO=(()=>{let e=class extends kI{get buttons(){return[...this.viewButtons.toArray(),...this.templateButtons.toArray()]}set itemContentCssClass(e){this._itemContentCssClass=e||this._itemContentCssClass}get itemContentCssClass(){return this._itemContentCssClass}get multiSelection(){return"multi"===this.selectionMode}set multiSelection(e){this.selectionMode=e?"multi":"single"}get selectionMode(){return this._selectionMode}set selectionMode(e){this.viewButtons&&e!==this._selectionMode?(this.buttons.forEach(((e,t)=>{this.deselectButton(t)})),this._selectionMode=e):this._selectionMode=e}get disabled(){return this._disabled}set disabled(e){this._disabled!==e&&(this._disabled=e,this.viewButtons&&this.templateButtons&&this.buttons.forEach((e=>e.disabled=this._disabled)))}set alignment(e){this._isVertical=e===DO}get alignment(){return this._isVertical?DO:bO}get isVertical(){return this._isVertical}constructor(e,t,i,n){super(n,i),this._cdr=e,this._renderer=t,this._el=i,this._displayDensityOptions=n,this.id="igx-buttongroup-"+EO++,this.zIndex=0,this.selected=new Pd,this.deselected=new Pd,this.selectedIndexes=[],this.buttonClickNotifier$=new Xe,this.queryListNotifier$=new Xe,this._disabled=!1,this._selectionMode="single",this.observerConfig={attributeFilter:["data-selected"],childList:!0,subtree:!0}}get selectedButtons(){return this.buttons.filter(((e,t)=>-1!==this.selectedIndexes.indexOf(t)))}selectButton(e){e>=this.buttons.length||e<0||(this.updateSelected(e),this.buttons[e].select())}updateSelected(e){let t=this.buttons[e];-1===this.selectedIndexes.indexOf(e)&&this.selectedIndexes.push(e),this._renderer.setAttribute(t.nativeElement,"aria-pressed","true"),this._renderer.addClass(t.nativeElement,"igx-button-group__item--selected");let i=this.viewButtons.toArray().indexOf(t);-1!==i&&(this.values[i].selected=!0),"multi"!==this.selectionMode&&this.selectedIndexes.length>1&&this.buttons.forEach(((t,i)=>{i!==e&&-1!==this.selectedIndexes.indexOf(i)&&this.deselectButton(i)}))}deselectButton(e){if(e>=this.buttons.length||e<0)return;let t=this.buttons[e];this.selectedIndexes.splice(this.selectedIndexes.indexOf(e),1),this._renderer.setAttribute(t.nativeElement,"aria-pressed","false"),this._renderer.removeClass(t.nativeElement,"igx-button-group__item--selected"),t.deselect();let i=this.viewButtons.toArray().indexOf(t);-1!==i&&(this.values[i].selected=!1)}ngAfterContentInit(){this.templateButtons.forEach((e=>{e.initialDensity||(e.displayDensity=this.displayDensity)}))}ngAfterViewInit(){let e=()=>{this.buttonClickNotifier$.next(),this.selectedIndexes.splice(0,this.selectedIndexes.length),this.buttons.forEach(((e,t)=>{let i=e.nativeElement;this._renderer.addClass(i,"igx-button-group__item"),this.disabled&&(e.disabled=!0),e.selected&&this.updateSelected(t),e.buttonClick.pipe(Si(this.buttonClickNotifier$)).subscribe((e=>this._clickHandler(t)))}))};this.mutationObserver=this.setMutationsObserver(),this.viewButtons.changes.pipe(Si(this.queryListNotifier$)).subscribe((()=>{this.mutationObserver.disconnect(),e(),this.mutationObserver?.observe(this._el.nativeElement,this.observerConfig)})),this.templateButtons.changes.pipe(Si(this.queryListNotifier$)).subscribe((()=>{this.mutationObserver.disconnect(),e(),this.mutationObserver?.observe(this._el.nativeElement,this.observerConfig)})),e(),this._cdr.detectChanges(),this.mutationObserver?.observe(this._el.nativeElement,this.observerConfig)}ngOnDestroy(){this.buttonClickNotifier$.next(),this.buttonClickNotifier$.complete(),this.queryListNotifier$.next(),this.queryListNotifier$.complete(),this.mutationObserver.disconnect()}_clickHandler(e){this.mutationObserver.disconnect();let t={owner:this,button:this.buttons[e],index:e};"multi"!==this.selectionMode&&this.buttons.forEach(((t,i)=>{i!==e&&-1!==this.selectedIndexes.indexOf(i)&&this.deselected.emit({owner:this,button:t,index:i})})),-1===this.selectedIndexes.indexOf(e)?(this.selectButton(e),this.selected.emit(t)):"singleRequired"!==this.selectionMode&&(this.deselectButton(e),this.deselected.emit(t)),this.mutationObserver.observe(this._el.nativeElement,this.observerConfig)}setMutationsObserver(){return new MutationObserver(((e,t)=>{t.disconnect();let i=this.getUpdatedButtons(e);i.length>0&&i.forEach((e=>{let t=this.buttons.map((e=>e.nativeElement)).indexOf(e),i={owner:this,button:this.buttons[t],index:t};this.updateButtonSelectionState(t,i)})),t.observe(this._el.nativeElement,this.observerConfig)}))}getUpdatedButtons(e){let t=[];return e.filter((e=>"attributes"===e.type)).reduce(((e,t)=>(e.push(t.target),e)),t),t}updateButtonSelectionState(e,t){-1===this.selectedIndexes.indexOf(e)?(this.selectButton(e),this.selected.emit(t)):(this.deselectButton(e),this.deselected.emit(t))}};return e.fac=function(t){return new(t||e)(nc(fp),nc(bd),nc(wd),nc(RI,8))},e.cmp=tr({type:e,selectors:[["igx-buttongroup"]],contentQueries:function(e,t,i){if(1&e&&zg(i,HI,4),2&e){let e;Hg(e=Gg())&&(t.templateButtons=e)}},viewQuery:function(e,t){if(1&e&&Bg(HI,5),2&e){let e;Hg(e=Gg())&&(t.viewButtons=e)}},hostVars:3,hostBindings:function(e,t){2&e&&(ph("id",t.id),tu("z-index",t.zIndex))},inputs:{id:"id",itemContentCssClass:"itemContentCssClass",multiSelection:"multiSelection",selectionMode:"selectionMode",values:"values",disabled:"disabled",alignment:"alignment"},outputs:{selected:"selected",deselected:"deselected"},standalone:!0,features:[th,Wu],ngContentSelectors:SO,decls:3,vars:3,consts:[["role","group",1,"igx-button-group"],["type","button","igxButton","flat",3,"displayDensity","selected","disabled","igxButtonColor","igxButtonBackground","igxLabel","igxRipple",4,"ngFor","ngForOf"],["type","button","igxButton","flat",3,"displayDensity","selected","disabled","igxButtonColor","igxButtonBackground","igxLabel","igxRipple"],[4,"ngIf"],["class","igx-button-group__button-text",4,"ngIf"],[1,"igx-button-group__button-text"]],template:function(e,t){1&e&&(Lh(),Ch(0,"div",0),yh(1,CO,4,13,"button",1),Hh(2),Sh()),2&e&&(iu("igx-button-group--vertical",t.isVertical),tc(1),_h("ngForOf",t.values))},dependencies:[zm,HI,DA,$m,XI],encapsulation:2}),e})(),TO=(()=>{let e=class{get currentCSS(){return this.isCurrentYear}get role(){return this.isCurrentYear?"spinbutton":null}get valuenow(){return this.isCurrentYear?this.date.getFullYear():null}get tabIndex(){return this.isCurrentYear?0:-1}get isCurrentYear(){return this.date.getFullYear()===this.value.getFullYear()}get nativeElement(){return this.elementRef.nativeElement}constructor(e){this.elementRef=e,this.yearSelection=new Pd}onClick(){this.yearSelection.emit(this.value)}};return e.fac=function(t){return new(t||e)(nc(wd))},e.dir=or({type:e,selectors:[["","igxCalendarYear",""]],hostVars:5,hostBindings:function(e,t){1&e&&Fh("click",(function(){return t.onClick()})),2&e&&(ph("role",t.role)("aria-valuenow",t.valuenow)("tabindex",t.tabIndex),iu("igx-calendar__year--current",t.currentCSS))},inputs:{value:["igxCalendarYear","value"],date:"date"},outputs:{yearSelection:"yearSelection"},standalone:!0}),e})(),AO=(()=>{let e=class{get currentCSS(){return this.isCurrentMonth}get isCurrentMonth(){return this.date.getMonth()===this.value.getMonth()}get nativeElement(){return this.elementRef.nativeElement}constructor(e){this.elementRef=e,this.monthSelection=new Pd}onClick(){let e=new Date(this.value.getFullYear(),this.value.getMonth(),this.date.getDate());this.monthSelection.emit(e)}};return e.fac=function(t){return new(t||e)(nc(wd))},e.dir=or({type:e,selectors:[["","igxCalendarMonth",""]],hostVars:2,hostBindings:function(e,t){1&e&&Fh("click",(function(){return t.onClick()})),2&e&&iu("igx-calendar__month--current",t.currentCSS)},inputs:{value:["igxCalendarMonth","value"],date:"date",index:"index"},outputs:{monthSelection:"monthSelection"},standalone:!0}),e})(),RO=(()=>{let e=class{constructor(e){this.template=e}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxCalendarHeader",""]],standalone:!0}),e})(),kO=(()=>{let e=class{constructor(e){this.template=e}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxCalendarSubheader",""]],standalone:!0}),e})(),OO=(()=>{let e=class{constructor(e,t,i){this.element=e,this.zone=t,this.platform=i,this.destroy$=new Xe}onMouseDown(){this.startScroll()}onMouseUp(e){this.stopScroll(e)}ngAfterViewInit(){Wt(this.element.nativeElement,"keyup").pipe(ei((()=>Ut(100))),Si(this.destroy$)).subscribe((e=>{this.stopScroll(e)})),this.zone.runOutsideAngular((()=>{Wt(this.element.nativeElement,"keydown").pipe(function(e,t,i){return function(t){return t.lift(new class{constructor(e,t,i){this.nextOrObserver=e,this.error=t,this.complete=i}call(e,t){return t.subscribe(new Ai(e,this.nextOrObserver,this.error,this.complete))}}(e,undefined,undefined))}}((e=>{this.platform.isActivationKey(e)&&(e.preventDefault(),e.stopPropagation())})),ei((()=>Ut(100))),Si(this.destroy$)).subscribe((e=>{this.platform.isActivationKey(e)&&this.zone.run((()=>this.startScroll(!0)))}))}))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}};return e.fac=function(t){return new(t||e)(nc(wd),nc(Vd),nc(ob))},e.dir=or({type:e,selectors:[["","igxCalendarScrollMonth",""]],hostBindings:function(e,t){1&e&&Fh("mousedown",(function(){return t.onMouseDown()}))("mouseup",(function(e){return t.onMouseUp(e)}))},inputs:{startScroll:"startScroll",stopScroll:"stopScroll"},standalone:!0}),e})(),FO=function(e){return e[e.After=0]="After",e[e.Before=1]="Before",e[e.Between=2]="Between",e[e.Specific=3]="Specific",e[e.Weekdays=4]="Weekdays",e[e.Weekends=5]="Weekends",e}(FO||{}),PO="single",MO="multi",VO="range",NO=function(e){return e.PREV="prev",e.NEXT="next",e.NONE="none",e}(NO||{}),LO="month",HO="year",BO="decade",zO=function(e){return e.Month="month",e.Year="year",e}(zO||{}),GO=[31,28,31,30,31,30,31,31,30,31,30,31],$O=(e=0,t,i=1)=>{let n=[],r=void 0===t?e:t;for(let s=void 0===t?0:e;i<0?s>r:s<r;s+=i)n.push(s);return n},WO=(e,t)=>{if(t<0||t>11)throw new Error("Invalid month specified");let i=((e,t,i)=>new Date(e,t,1).getDay())(e,t),n=GO[t];return 1===t&&(e=>e%4==0&&(e%100!=0||e%400==0))(e)&&n++,[i,n]},KO=(e,t)=>{let i=(e=new Date(e.getFullYear(),e.getMonth(),e.getDate())).getTime();if(!t)return!1;for(let n of t){let t=n.dateRange?n.dateRange.map((e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()))):void 0;switch(n.type){case FO.After:if(i>t[0].getTime())return!0;break;case FO.Before:if(i<t[0].getTime())return!0;break;case FO.Between:let n=t.map((e=>e.getTime())),r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);if(i>=r&&i<=s)return!0;break;case FO.Specific:let o=t.map((e=>e.getTime()));for(let e of o)if(i===e)return!0;break;case FO.Weekdays:if(e.getDay()%6!=0)return!0;break;case FO.Weekends:if(e.getDay()%6==0)return!0;break;default:return!1}}return!1},jO=function(e){return e[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=1]="MONDAY",e[e.TUESDAY=2]="TUESDAY",e[e.WEDNESDAY=3]="WEDNESDAY",e[e.THURSDAY=4]="THURSDAY",e[e.FRIDAY=5]="FRIDAY",e[e.SATURDAY=6]="SATURDAY",e}(jO||{}),UO=class{constructor(e=jO.SUNDAY){this._firstWeekDay=e}get firstWeekDay(){return this._firstWeekDay%7}set firstWeekDay(e){this._firstWeekDay=e}weekdays(){let e=[];for(let t of $O(this.firstWeekDay,this.firstWeekDay+7))e.push(t%7);return e}monthdates(e,t,i=!1){let n=new Date(e,t,1),r=(n.getDay()-this.firstWeekDay)%7;r<0&&(r=7-Math.abs(r)),n=this.timedelta(n,"day",-r);let s,o=[];for(;;)if(s=this.generateICalendarDate(n,e,t),o.push(s),n=this.timedelta(n,"day",1),n.getMonth()!==t&&n.getDay()===this.firstWeekDay){if(i&&o.length<=35)for(let i of $O(0,7))s=this.generateICalendarDate(n,e,t),o.push(s),n=this.timedelta(n,"day",1);break}return o}monthdatescalendar(e,t,i=!1){let n=this.monthdates(e,t,i),r=[];for(let e of $O(0,n.length,7))r.push(n.slice(e,e+7));return r}timedelta(e,t,i){let n=new Date(e),r=()=>{n.getDate()!==e.getDate()&&n.setDate(0)};switch(t.toLowerCase()){case"year":n.setFullYear(n.getFullYear()+i),r();break;case"quarter":n.setMonth(n.getMonth()+3*i),r();break;case"month":n.setMonth(n.getMonth()+i),r();break;case"week":n.setDate(n.getDate()+7*i);break;case"day":n.setDate(n.getDate()+i);break;case"hour":n.setTime(n.getTime()+36e5*i);break;case"minute":n.setTime(n.getTime()+6e4*i);break;case"second":n.setTime(n.getTime()+1e3*i);break;default:throw new Error("Invalid interval specifier")}return n}formatToParts(e,t,i,n){let r=new Intl.DateTimeFormat(t,i),s={date:e,full:r.format(e)};if(r.formatToParts){let t=r.formatToParts(e),i=e=>{let i=t.findIndex((({type:t})=>t===e)),n={value:"",literal:"",combined:""};return"era"===e&&i>-1?(n.value=t[i].value,n):("era"===e&&-1===i||(n.value=t[i].value,n.literal=t[i+1]?t[i+1].value:"",n.combined=[n.value,n.literal].join("")),n)};for(let e of n)s[e]=i(e)}else for(let e of n)s[e]={value:"",literal:"",combined:""};return s}getFirstViewDate(e,t,i){return this.timedelta(e,t,-i)}getDateByView(e,t,i){return this.timedelta(e,t,i)}getNextMonth(e){return this.timedelta(e,zO.Month,1)}getPrevMonth(e){return this.timedelta(e,zO.Month,-1)}getNextYear(e){return this.timedelta(e,zO.Year,1)}getPrevYear(e){return this.timedelta(e,zO.Year,-1)}getWeekNumber(e,t){let i=new Date(e.getFullYear(),0,1),n=i.getDay()-t;n=n>=0?n:n+7;let r,s=Math.floor((e.getTime()-i.getTime()-6e4*(e.getTimezoneOffset()-i.getTimezoneOffset()))/864e5)+1;if(r=n<4?Math.floor((s+n-1)/7)+1:Math.floor((s+n-1)/7),r>52){let i=new Date(e.getFullYear()+1,0,1).getDay()-t;i=i>=0?i:i+7,r=i<4?1:53}return r}generateICalendarDate(e,t,i){return{date:e,isCurrentMonth:e.getFullYear()===t&&e.getMonth()===i,isNextMonth:this.isNextMonth(e,t,i),isPrevMonth:this.isPreviousMonth(e,t,i)}}isPreviousMonth(e,t,i){return e.getFullYear()===t?e.getMonth()<i:e.getFullYear()<t}isNextMonth(e,t,i){return e.getFullYear()===t?e.getMonth()>i:e.getFullYear()>t}},qO=(()=>{let e=class{set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings||(this._resourceStrings=FI.CalendarResStrings),this._resourceStrings}get weekStart(){return this.calendarModel.firstWeekDay}set weekStart(e){this._weekStart=e,this.calendarModel.firstWeekDay=e}get locale(){return this._locale}set locale(e){this._locale=e;try{jp(this._locale)}catch{this._locale=this._localeId}void 0===this._weekStart&&(this.calendarModel.firstWeekDay=jp(this._locale)),this.initFormatters()}get formatOptions(){return this._formatOptions}set formatOptions(e){this._formatOptions=Object.assign(this._formatOptions,e),this.initFormatters()}get formatViews(){return this._formatViews}set formatViews(e){this._formatViews=Object.assign(this._formatViews,e)}get selection(){return this._selection}set selection(e){switch(e){case PO:this.selectedDates=null;break;case MO:case VO:this.selectedDates=[];break;default:throw new Error("Invalid selection value")}this._onChangeCallback(this.selectedDates),this.rangeStarted=!1,this._selection=e}get value(){return this.selectedDates}set value(e){if(!e||e&&0===e.length)this.selectedDatesWithoutFocus=new Date;else{if(!this.selectedDatesWithoutFocus){let t=e[0]?Math.min.apply(null,e):e,i=this.getDateOnly(new Date(t)).setDate(1);this.viewDate=new Date(i)}this.selectDate(e),this.selectedDatesWithoutFocus=e}}get viewDate(){return this._viewDate}set viewDate(e){if(Array.isArray(e))return;let t=this.validateDate(e);this._viewDate&&(this.selectedDatesWithoutFocus=t);let i=this.getDateOnly(t).setDate(1);this._viewDate=new Date(i)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e}get specialDates(){return this._specialDates}set specialDates(e){this._specialDates=e}constructor(e,t){this.platform=e,this._localeId=t,this.hideOutsideDays=!1,this.selected=new Pd,this.viewDateChanged=new Pd,this.activeViewChanged=new Pd,this.rangeStarted=!1,this.monthScrollDirection=NO.NONE,this.scrollMonth$=new Xe,this.stopMonthScroll$=new Xe,this.startMonthScroll$=new Xe,this.shiftKey=!1,this._onTouchedCallback=bt,this._onChangeCallback=bt,this._selection=PO,this._resourceStrings=FI.CalendarResStrings,this._formatOptions={day:"numeric",month:"short",weekday:"short",year:"numeric"},this._formatViews={day:!1,month:!0,year:!1},this.calendarModel=new UO,this.locale=t,this.viewDate=this.viewDate?this.viewDate:new Date,this.initFormatters()}onPointerdown(e){this.shiftKey=0===e.button&&e.shiftKey}deselectMultipleInMonth(e){if(this.shiftKey){let t,i;[t,i]=this.lastSelectedDate.getTime()<e.getTime()?[this.lastSelectedDate,e]:[e,this.lastSelectedDate],this.selectedDates=this.selectedDates.filter((e=>e.getTime()<t.getTime()||e.getTime()>i.getTime())),this.selectedDates.push(e)}else{let t=this.getDateOnly(e);this.selectedDates=this.selectedDates.filter((e=>e.getTime()!==t.getTime()))}}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}writeValue(e){this.selectDate(e)}isDateDisabled(e){return null!==this.disabledDates&&KO(e,this.disabledDates)}selectDate(e){if(!(null==e||Array.isArray(e)&&0===e.length))switch(this.selection){case PO:rb(e)&&!this.isDateDisabled(e)&&this.selectSingle(e);break;case MO:this.selectMultiple(e);break;case VO:this.selectRange(e,!0)}}deselectDate(e){if(this.selectedDates&&0!==this.selectedDates.length){if(null==e)return this.selectedDates=this.selection===PO?null:[],this.rangeStarted=!1,void this._onChangeCallback(this.selectedDates);switch(this.selection){case PO:this.deselectSingle(e);break;case MO:this.deselectMultiple(e);break;case VO:this.deselectRange(e)}}}selectDateFromClient(e){switch(this.selection){case PO:case MO:this.selectDate(e);break;case VO:this.selectRange(e,!0)}}initFormatters(){this.formatterDay=new Intl.DateTimeFormat(this._locale,{day:this._formatOptions.day}),this.formatterWeekday=new Intl.DateTimeFormat(this._locale,{weekday:this._formatOptions.weekday}),this.formatterMonth=new Intl.DateTimeFormat(this._locale,{month:this._formatOptions.month}),this.formatterYear=new Intl.DateTimeFormat(this._locale,{year:this._formatOptions.year}),this.formatterMonthday=new Intl.DateTimeFormat(this._locale,{month:this._formatOptions.month,day:this._formatOptions.day})}getDateOnly(e){let t=this.validateDate(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate())}getDateOnlyInMs(e){return this.getDateOnly(e).getTime()}generateDateRange(e,t){let i=[];for(e=this.getDateOnly(e),t=this.getDateOnly(t);e.getTime()<t.getTime();)e=this.calendarModel.timedelta(e,"day",1),i.push(e);return i}selectSingle(e){sb(this.selectedDates,e)||(this.selectedDates=this.getDateOnly(e),this._onChangeCallback(this.selectedDates))}selectMultiple(e){if(Array.isArray(e)){let t=e.map((e=>this.getDateOnly(e).getTime())),i=this.selectedDates.map((e=>this.getDateOnly(e).getTime()));if(JSON.stringify(t)===JSON.stringify(i))return;this.selectedDates=Array.from(new Set([...t,...i])).map((e=>new Date(e)))}else{let t=[];if(this.shiftKey&&this.lastSelectedDate){[this._startDate,this._endDate]=this.lastSelectedDate.getTime()<e.getTime()?[this.lastSelectedDate,e]:[e,this.lastSelectedDate];let i=[this._startDate,...this.generateDateRange(this._startDate,this._endDate)].filter((e=>!this.isDateDisabled(e)&&this.selectedDates.every((t=>t.getTime()!==e.getTime()))));this.selectedDates.some((e=>e.getTime()===this.lastSelectedDate.getTime()))&&i.length?t=i:(this.selectedDates=this.selectedDates.filter((e=>e.getTime()<this._startDate.getTime()||e.getTime()>this._endDate.getTime())),this.selectedDates.push(e),this._deselectDate=!0),this._startDate=this._endDate=void 0}else this.selectedDates.every((t=>t.getTime()!==e.getTime()))?t.push(e):(this.selectedDates=this.selectedDates.filter((t=>t.getTime()!==e.getTime())),this._deselectDate=!0);t.length>0&&(this.selectedDates=this.selectedDates.concat(t),this._deselectDate=!1),this.lastSelectedDate=e}this.selectedDates=this.selectedDates.filter((e=>!this.isDateDisabled(e))),this.selectedDates.sort(((e,t)=>e.valueOf()-t.valueOf())),this._onChangeCallback(this.selectedDates)}selectRange(e,t=!1){if(Array.isArray(e))e.sort(((e,t)=>e.valueOf()-t.valueOf())),this._startDate=this.getDateOnly(e[0]),this._endDate=this.getDateOnly(e[e.length-1]);else{if(this.shiftKey&&this.lastSelectedDate){if(this.lastSelectedDate.getTime()===e.getTime())return this.selectedDates=1===this.selectedDates.length?[]:[e],this.rangeStarted=!!this.selectedDates.length,void this._onChangeCallback(this.selectedDates);this.selectedDates.some((t=>t.getTime()===e.getTime()))?this.lastSelectedDate.getTime()<e.getTime()?this._startDate=e:this._endDate=e:this.lastSelectedDate.getTime()<e.getTime()?(this._startDate=this._startDate??this.lastSelectedDate,this._endDate=e):(this._startDate=e,this._endDate=this._endDate??this.lastSelectedDate),this.rangeStarted=!1}else if(this.rangeStarted){if(this.rangeStarted=!1,this.selectedDates[0].getTime()===e.getTime())return this.selectedDates=[],void this._onChangeCallback(this.selectedDates);[this._startDate,this._endDate]=this.lastSelectedDate.getTime()<e.getTime()?[this.lastSelectedDate,e]:[e,this.lastSelectedDate]}else this.rangeStarted=!0,this.selectedDates=[e],this._startDate=this._endDate=void 0;this.lastSelectedDate=e}this._startDate&&this._endDate&&(this.selectedDates=[this._startDate,...this.generateDateRange(this._startDate,this._endDate)]),t&&(this.selectedDates=this.selectedDates.filter((e=>!this.isDateDisabled(e)))),this._onChangeCallback(this.selectedDates)}deselectSingle(e){null!==this.selectedDates&&this.getDateOnlyInMs(e)===this.getDateOnlyInMs(this.selectedDates)&&(this.selectedDates=null,this._onChangeCallback(this.selectedDates))}deselectMultiple(e){e=e.filter((e=>null!==e));let t=this.selectedDates.length,i=new Set(e.map((e=>this.getDateOnlyInMs(e))));for(let e=this.selectedDates.length-1;e>=0;e--)i.has(this.getDateOnlyInMs(this.selectedDates[e]))&&this.selectedDates.splice(e,1);this.selectedDates.length!==t&&this._onChangeCallback(this.selectedDates)}deselectRange(e){if((e=e.filter((e=>null!==e))).length<1)return;e.sort(((e,t)=>e.valueOf()-t.valueOf()));let t=this.getDateOnlyInMs(e[0]),i=this.getDateOnlyInMs(e[e.length-1]);this.selectedDates.sort(((e,t)=>e.valueOf()-t.valueOf()));let n=this.getDateOnlyInMs(this.selectedDates[0]),r=this.getDateOnlyInMs(this.selectedDates[this.selectedDates.length-1]);!(i<n)&&!(t>r)&&(this.selectedDates=[],this.rangeStarted=!1,this._onChangeCallback(this.selectedDates))}validateDate(e){return $A.isValidDate(e)?e:new Date}};return e.fac=function(t){return new(t||e)(nc(ob),nc(Xg))},e.dir=or({type:e,selectors:[["","igxCalendarBase",""]],hostBindings:function(e,t){1&e&&Fh("pointerdown",(function(e){return t.onPointerdown(e)}))},inputs:{hideOutsideDays:"hideOutsideDays",resourceStrings:"resourceStrings",weekStart:"weekStart",locale:"locale",formatOptions:"formatOptions",formatViews:"formatViews",selection:"selection",value:"value",viewDate:"viewDate",disabledDates:"disabledDates",specialDates:"specialDates"},outputs:{selected:"selected",viewDateChanged:"viewDateChanged",activeViewChanged:"activeViewChanged"},standalone:!0}),e})(),YO=["yearsBtn"],XO=(()=>{let e=class extends qO{constructor(){super(...arguments),this.activeViewIdx=0,this._activeView=LO}get activeView(){return this._activeView}set activeView(e){this._activeView=e}get isDefaultView(){return this._activeView===LO}get isDecadeView(){return this._activeView===BO}changeYear(e){this.previousViewDate=this.viewDate,this.viewDate=this.calendarModel.getFirstViewDate(e,"month",this.activeViewIdx),this.activeView=LO,requestAnimationFrame((()=>{this.yearsBtns&&this.yearsBtns.length&&this.yearsBtns.find(((e,t)=>t===this.activeViewIdx)).nativeElement.focus()}))}activeViewDecade(e=0){this.activeView=BO,this.activeViewIdx=e}activeViewDecadeKB(e,t=0){this.platform.isActivationKey(e)&&(e.preventDefault(),this.activeViewDecade(t))}formattedYear(e){return this.formatViews.year?this.formatterYear.format(e):`${e.getFullYear()}`}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.dir=or({type:e,selectors:[["","igxMonthPickerBase",""]],viewQuery:function(e,t){if(1&e&&Bg(YO,5),2&e){let e;Hg(e=Gg())&&(t.yearsBtns=e)}},inputs:{activeView:"activeView"},standalone:!0,features:[th]}),e})();function ZO(e,t){if(1&e){let e=Rh();Ch(0,"span",3),Fh("monthSelection",(function(t){return Bs(e),zs(Vh().selectMonth(t))})),ag(1,"date"),fu(2),ag(3,"titlecase"),Sh()}if(2&e){let e=t.$implicit,i=t.index,n=Vh();_h("igxCalendarMonth",e)("date",n.date)("index",i),ph("aria-label",dg(1,6,e,"LLLL"))("tabindex",n.activeMonth===e.getMonth()?0:-1),tc(2),xu(" ",lg(3,9,n.formattedMonth(e))," ")}}var QO=0,JO=(()=>{let e=class{set date(e){e instanceof Date&&(this._date=e,this.activeMonth=this.date.getMonth())}get date(){return this._date}get monthFormat(){return this._monthFormat}set monthFormat(e){this._monthFormat=e,this.initMonthFormatter()}get locale(){return this._locale}set locale(e){this._locale=e,this.initMonthFormatter()}get months(){let e=new Date(this.date.getFullYear(),0,1),t=[];for(let i=0;i<12;i++)t.push(e),e=this._calendarModel.timedelta(e,"month",1);return t}constructor(e){this.el=e,this.id="igx-months-view-"+QO++,this.formatView=!0,this.selected=new Pd,this.styleClass=!0,this._date=new Date,this._locale="en",this._monthFormat="short",this._onTouchedCallback=bt,this._onChangeCallback=bt,this.initMonthFormatter(),this._calendarModel=new UO}onKeydownArrowUp(e){e.preventDefault(),e.stopPropagation();let t=this.monthsRef.find((t=>t.nativeElement===e.target));if(!t)return;let i=this.monthsRef.toArray(),n=t.nativeElement.getBoundingClientRect();for(let e=i.indexOf(t)-1;e>=0;e--){let t=i[e].nativeElement.getBoundingClientRect(),r=6;if(n.top!==t.top&&t.left-n.left<r){let t=i[e];t.nativeElement.focus(),this.activeMonth=t.value.getMonth();break}}}onKeydownArrowDown(e){e.preventDefault(),e.stopPropagation();let t=this.monthsRef.find((t=>t.nativeElement===e.target));if(!t)return;let i=this.monthsRef.toArray(),n=t.nativeElement.getBoundingClientRect();for(let e=i.indexOf(t)+1;e<i.length;e++){let t=i[e].nativeElement.getBoundingClientRect(),r=6;if(t.top!==n.top&&n.left-t.left<r){let t=i[e];t.nativeElement.focus(),this.activeMonth=t.value.getMonth();break}}}onKeydownArrowRight(e){e.preventDefault(),e.stopPropagation();let t=this.monthsRef.find((t=>t.nativeElement===e.target));if(!t)return;let i=this.monthsRef.toArray();if(i.indexOf(t)+1<i.length){let e=i[i.indexOf(t)+1];this.activeMonth=e.value.getMonth(),e.nativeElement.focus()}}onKeydownArrowLeft(e){e.preventDefault(),e.stopPropagation();let t=this.monthsRef.find((t=>t.nativeElement===e.target));if(!t)return;let i=this.monthsRef.toArray();if(i.indexOf(t)-1>=0){let e=i[i.indexOf(t)-1];this.activeMonth=e.value.getMonth(),e.nativeElement.focus()}}onKeydownHome(e){e.preventDefault(),e.stopPropagation();let t=this.monthsRef.toArray()[0];this.activeMonth=t.value.getMonth(),t.nativeElement.focus()}onKeydownEnd(e){e.preventDefault(),e.stopPropagation();let t=this.monthsRef.toArray(),i=t[t.length-1];this.activeMonth=i.value.getMonth(),i.nativeElement.focus()}onKeydownEnter(e){let t=this.monthsRef.find((t=>t.nativeElement===e.target)).value;this.date=new Date(t.getFullYear(),t.getMonth(),this.date.getDate()),this.activeMonth=this.date.getMonth(),this.selected.emit(this.date),this._onChangeCallback(this.date)}resetActiveMonth(){this.activeMonth=this.date.getMonth()}formattedMonth(e){return this.formatView?this._formatterMonth.format(e):`${e.getMonth()}`}selectMonth(e){this.selected.emit(e),this.date=e,this.activeMonth=this.date.getMonth(),this._onChangeCallback(this.date)}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}writeValue(e){e&&(this.date=e)}monthTracker(e,t){return`${t.getMonth()}}`}initMonthFormatter(){this._formatterMonth=new Intl.DateTimeFormat(this._locale,{month:this.monthFormat})}};return e.fac=function(t){return new(t||e)(nc(wd))},e.cmp=tr({type:e,selectors:[["igx-months-view"]],viewQuery:function(e,t){if(1&e&&Bg(AO,5,AO),2&e){let e;Hg(e=Gg())&&(t.monthsRef=e)}},hostVars:3,hostBindings:function(e,t){1&e&&Fh("keydown.arrowup",(function(e){return t.onKeydownArrowUp(e)}))("keydown.arrowdown",(function(e){return t.onKeydownArrowDown(e)}))("keydown.arrowright",(function(e){return t.onKeydownArrowRight(e)}))("keydown.arrowleft",(function(e){return t.onKeydownArrowLeft(e)}))("keydown.home",(function(e){return t.onKeydownHome(e)}))("keydown.end",(function(e){return t.onKeydownEnd(e)}))("keydown.enter",(function(e){return t.onKeydownEnter(e)}))("focusout",(function(){return t.resetActiveMonth()})),2&e&&(ph("id",t.id),iu("igx-calendar",t.styleClass))},inputs:{id:"id",date:"date",monthFormat:"monthFormat",locale:"locale",formatView:"formatView"},outputs:{selected:"selected"},standalone:!0,features:[Nu([{provide:h_,useExisting:e,multi:!0}]),Wu],decls:3,vars:2,consts:[[1,"igx-calendar__body"],[1,"igx-calendar__body-row","igx-calendar__body-row--wrap"],["class","igx-calendar__month","role","button",3,"igxCalendarMonth","date","index","monthSelection",4,"ngFor","ngForOf","ngForTrackBy"],["role","button",1,"igx-calendar__month",3,"igxCalendarMonth","date","index","monthSelection"]],template:function(e,t){1&e&&(Ch(0,"div",0)(1,"div",1),yh(2,ZO,4,11,"span",2),Sh()()),2&e&&(tc(2),_h("ngForOf",t.months)("ngForTrackBy",t.monthTracker))},dependencies:[zm,AO,rf,af],encapsulation:2}),e})(),eF=class e{constructor(t,i,n){this._zone=t,this.doc=i,this.platformUtil=n,this.hammerOptions={},this._hammerManagers=[],this.platformBrowser=this.platformUtil.isBrowser,this.platformBrowser&&e.Hammer&&(this.hammerOptions={inputClass:e.Hammer.TouchInput,recognizers:[[e.Hammer.Pan,{threshold:0}],[e.Hammer.Swipe,{direction:e.Hammer.DIRECTION_HORIZONTAL}],[e.Hammer.Tap],[e.Hammer.Tap,{event:"doubletap",taps:2},["tap"]]]})}supports(e){return e.toLowerCase().endsWith(".precise")}addEventListener(t,i,n,r=null){if(this.platformBrowser)return this._zone.runOutsideAngular((()=>{if(!e.Hammer)return;let s=this.getManagerForElement(t);null===s&&(s=new e.Hammer(t,Object.assign(this.hammerOptions,r)),this.addManagerForElement(t,s));let o=e=>this._zone.run((()=>n(e)));return s.on(i,o),()=>s.off(i,o)}))}addGlobalEventListener(t,i,n){if(!this.platformBrowser||!e.Hammer)return;let r=this.getGlobalEventTarget(t);return this.addEventListener(r,i,n)}getGlobalEventTarget(e){return Np().getGlobalEventTarget(this.doc,e)}setManagerOption(e,t,i){this.getManagerForElement(e).get(t).set(i)}addManagerForElement(e,t){this._hammerManagers.push({element:e,manager:t})}getManagerForElement(e){let t=this._hammerManagers.filter((t=>t.element===e));return t.length?t[0].manager:null}removeManagerForElement(e){let t=null;for(let i=0;i<this._hammerManagers.length;i++)if(e===this._hammerManagers[i].element){t=i;break}null!==t&&this._hammerManagers.splice(t,1)[0].manager.destroy()}destroy(){for(let e of this._hammerManagers)e.manager.destroy();this._hammerManagers=[]}};eF.Hammer=typeof window<"u"?window.Hammer:null,eF.fac=function(e){return new(e||eF)(_n(Vd),_n(Hp),_n(ob))},eF.prov=Zi({token:eF,factory:eF.fac});var tF=eF;function iF(e,t){if(1&e){let e=Rh();Ch(0,"span",3),Fh("yearSelection",(function(t){return Bs(e),zs(Vh().selectYear(t))})),fu(1),Sh()}if(2&e){let e=t.$implicit,i=Vh();_h("igxCalendarYear",e)("date",i.date),tc(1),xu(" ",i.formattedYear(e)," ")}}var nF=(()=>{let e=class extends gy{constructor(){super(...arguments),this.overrides={pan:{direction:tF.Hammer?.DIRECTION_VERTICAL,threshold:1}}}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.prov=Zi({token:e,factory:e.fac}),e})(),rF=(()=>{let e=class{get date(){return this._date}set date(e){e instanceof Date&&(this._date=e)}get yearFormat(){return this._yearFormat}set yearFormat(e){this._yearFormat=e,this.initYearFormatter()}get locale(){return this._locale}set locale(e){this._locale=e,this.initYearFormatter()}get decade(){let e=[],t=this.date.getFullYear()-3,i=this.date.getFullYear()+4;for(let n of $O(t,i))e.push(new Date(n,this.date.getMonth(),this.date.getDate()));return e}constructor(e){this.el=e,this.selected=new Pd,this.styleClass=!0,this._locale="en",this._yearFormat="numeric",this._date=new Date,this._onTouchedCallback=bt,this._onChangeCallback=bt,this.initYearFormatter(),this._calendarModel=new UO}onKeydownArrowDown(e){e.preventDefault(),e.stopPropagation(),this.generateYearRange(1),this.calendarDir.find((e=>e.isCurrentYear)).nativeElement.nextElementSibling.focus()}onKeydownArrowUp(e){e.preventDefault(),e.stopPropagation(),this.generateYearRange(-1),this.calendarDir.find((e=>e.isCurrentYear)).nativeElement.previousElementSibling.focus()}onKeydownEnter(){this.selected.emit(this.date),this._onChangeCallback(this.date)}formattedYear(e){return this.formatView?this._formatterYear.format(e):`${e.getFullYear()}`}selectYear(e){this.date=e,this.selected.emit(this.date),this._onChangeCallback(this.date)}scroll(e){e.preventDefault(),e.stopPropagation();let t=e.deltaY<0?-1:1;this.generateYearRange(t)}pan(e){let t=e.deltaY<0?1:-1;this.generateYearRange(t)}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}yearTracker(e,t){return`${t.getFullYear()}}`}writeValue(e){e&&(this.date=e)}initYearFormatter(){this._formatterYear=new Intl.DateTimeFormat(this._locale,{year:this.yearFormat})}generateYearRange(e){let t=(new Date).getFullYear();e>0&&this.date.getFullYear()-t>=95||e<0&&t-this.date.getFullYear()>=95||(this.date=this._calendarModel.timedelta(this.date,"year",e))}};return e.fac=function(t){return new(t||e)(nc(wd))},e.cmp=tr({type:e,selectors:[["igx-years-view"]],viewQuery:function(e,t){if(1&e&&Bg(TO,5,TO),2&e){let e;Hg(e=Gg())&&(t.calendarDir=e)}},hostVars:2,hostBindings:function(e,t){1&e&&Fh("keydown.arrowdown",(function(e){return t.onKeydownArrowDown(e)}))("keydown.arrowup",(function(e){return t.onKeydownArrowUp(e)}))("keydown.enter",(function(){return t.onKeydownEnter()})),2&e&&iu("igx-calendar",t.styleClass)},inputs:{formatView:"formatView",date:"date",yearFormat:"yearFormat",locale:"locale"},outputs:{selected:"selected"},standalone:!0,features:[Nu([{provide:h_,useExisting:e,multi:!0},{provide:uy,useClass:nF}]),Wu],decls:3,vars:2,consts:[[1,"igx-calendar__body"],[1,"igx-calendar__body-column",3,"wheel","pan"],["class","igx-calendar__year",3,"igxCalendarYear","date","yearSelection",4,"ngFor","ngForOf","ngForTrackBy"],[1,"igx-calendar__year",3,"igxCalendarYear","date","yearSelection"]],template:function(e,t){1&e&&(Ch(0,"div",0)(1,"div",1),Fh("wheel",(function(e){return t.scroll(e)}))("pan",(function(e){return t.pan(e)})),yh(2,iF,2,3,"span",2),Sh()()),2&e&&(tc(2),_h("ngForOf",t.decade)("ngForTrackBy",t.yearTracker))},dependencies:[zm,TO],encapsulation:2}),e})(),sF=["*"],oF=(()=>{let e=class{get selected(){return this._selected}set selected(e){this._selected=e}get isCurrentMonth(){return this.date.isCurrentMonth}get isPreviousMonth(){return this.date.isPrevMonth}get isNextMonth(){return this.date.isNextMonth}get nativeElement(){return this.elementRef.nativeElement}get isSelectedCSS(){return!this.isDisabled&&this.selected}get isInactive(){return this.date.isNextMonth||this.date.isPrevMonth}get isHidden(){return this.hideOutsideDays&&this.isInactive}get isToday(){let e=new Date(Date.now()),t=this.date.date;return t.getDate()===e.getDate()&&this.nativeElement.setAttribute("aria-current","date"),t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}get isWeekend(){let e=this.date.date.getDay();return 0===e||6===e}get isDisabled(){return null!==this.disabledDates&&KO(this.date.date,this.disabledDates)}get isOutOfRange(){return!!this.outOfRangeDates&&KO(this.date.date,this.outOfRangeDates)}get isFocusable(){return this.isCurrentMonth&&!this.isHidden&&!this.isDisabled&&!this.isOutOfRange}get isWithinRangeCSS(){return!this.isSingleSelection&&this.isWithinRange}get isSpecial(){return null!==this.specialDates&&KO(this.date.date,this.specialDates)}get isDisabledCSS(){return this.isHidden||this.isDisabled||this.isOutOfRange}get isSingleSelection(){return this.selection!==VO}constructor(e){this.elementRef=e,this.hideOutsideDays=!1,this.isLastInRange=!1,this.isFirstInRange=!1,this.isWithinRange=!1,this.dateSelection=new Pd,this._selected=!1}onSelect(e){e.stopPropagation(),this.dateSelection.emit(this.date)}};return e.fac=function(t){return new(t||e)(nc(wd))},e.cmp=tr({type:e,selectors:[["igx-day-item"]],hostVars:22,hostBindings:function(e,t){1&e&&Fh("click",(function(e){return t.onSelect(e)}))("keydown.enter",(function(e){return t.onSelect(e)})),2&e&&iu("igx-calendar__date--last",t.isLastInRange)("igx-calendar__date--first",t.isFirstInRange)("igx-calendar__date--selected",t.isSelectedCSS)("igx-calendar__date--inactive",t.isInactive)("igx-calendar__date--hidden",t.isHidden)("igx-calendar__date--current",t.isToday)("igx-calendar__date--weekend",t.isWeekend)("igx-calendar__date--range",t.isWithinRangeCSS)("igx-calendar__date--special",t.isSpecial)("igx-calendar__date--disabled",t.isDisabledCSS)("igx-calendar__date--single",t.isSingleSelection)},inputs:{date:"date",selection:"selection",selected:"selected",disabledDates:"disabledDates",outOfRangeDates:"outOfRangeDates",specialDates:"specialDates",hideOutsideDays:"hideOutsideDays",isLastInRange:"isLastInRange",isFirstInRange:"isFirstInRange",isWithinRange:"isWithinRange"},outputs:{dateSelection:"dateSelection"},standalone:!0,features:[Wu],ngContentSelectors:sF,decls:2,vars:0,consts:[["aria-hidden","true",1,"igx-calendar__date-content"]],template:function(e,t){1&e&&(Lh(),Ch(0,"span",0),Hh(1),Sh())},encapsulation:2}),e})(),aF=function(e){return e.Up="ArrowUp",e.Down="ArrowDown",e.Left="ArrowLeft",e.Right="ArrowRight",e}(aF||{}),lF=(()=>{let e=class{focusNextDate(e,t,i=!1){0===e.childElementCount&&(e=e.parentElement),-1===t.indexOf("Arrow")&&(t="Arrow".concat(t));let n,r,s,o,a=this.monthView,l=a.dates.find((t=>t.nativeElement===e)),d=a.dates.toArray(),c=d.indexOf(l);if(!l)return;switch(t){case aF.Left:for(r=-1,o=this.timedelta(l.date.date,r),s=c;s>0&&(n=i?d[s]:d[s-1],o=n.date.date,!n.date.isPrevMonth);s--)if(n&&n.isFocusable)return void n.nativeElement.focus();break;case aF.Right:for(r=1,o=this.timedelta(l.date.date,r),s=c;s<d.length-1&&(n=i?d[s]:d[s+1],o=n.date.date,!n.date.isNextMonth);s++)if(n&&n.isFocusable)return void n.nativeElement.focus();break;case aF.Up:for(r=-7,o=this.timedelta(l.date.date,r),s=c;s-7>-1&&(n=i?d[s]:d[s-7],o=n.date.date,!n.date.isPrevMonth);s-=7)if(n&&n.isFocusable)return void n.nativeElement.focus();break;case aF.Down:for(r=7,o=this.timedelta(l.date.date,r),s=c;s+7<42&&(n=i?d[s]:d[s+7],o=n.date.date,!n.date.isNextMonth);s+=7)if(n&&n.isFocusable)return void n.nativeElement.focus()}let h,u=r>0?a.nextMonthView:a.prevMonthView;if(u){if(d=u.dates.toArray(),n=d.find((e=>e.date.date.getTime()===o.getTime())),n&&n.isFocusable)return void n.nativeElement.focus();u.daysNavService.focusNextDate(n.nativeElement,t)}if(n&&!n.isFocusable&&(n=d[s+r],n||(o=this.timedelta(l.date.date,r+s-c))),n&&(h=r>0?n.date.isNextMonth:n.date.isPrevMonth),a.changeDaysView&&!u&&(n&&h||!n)){let e=r>0?NO.NEXT:NO.PREV;a.viewChanging.emit({monthAction:e,key:t,nextDate:o})}}focusHomeDate(){let e=this.monthView;for(;!this.focusFirstDay(e)&&e.nextMonthView;)e=e.nextMonthView}focusEndDate(){let e=this.monthView;for(;!this.focusLastDay(e)&&e.prevMonthView;)e=e.prevMonthView}timedelta(e,t){let i=new Date(e);return i.setDate(i.getDate()+t),i}focusFirstDay(e){let t=e.dates.filter((e=>e.isCurrentMonth));for(let e of t)if(e.isFocusable)return e.nativeElement.focus(),!0;return!1}focusLastDay(e){let t=e.dates.filter((e=>e.isCurrentMonth));for(let e=t.length-1;e>=0;e--)if(t[e].isFocusable)return t[e].nativeElement.focus(),!0;return!1}};return e.fac=function(t){return new(t||e)},e.prov=Zi({token:e,factory:e.fac}),e})();function dF(e,t){1&e&&(Ch(0,"div",4)(1,"span"),fu(2,"Wk"),Sh()())}function cF(e,t){if(1&e&&(Ch(0,"span",5),fu(1),ag(2,"titlecase"),Sh()),2&e){let e=t.$implicit;ph("aria-label",e),tc(1),xu(" ",lg(2,2,e)," ")}}function hF(e,t){if(1&e&&(Ch(0,"div",8)(1,"span",9),fu(2),Sh()()),2&e){let e=Vh().$implicit,t=Vh();tc(2),xu(" ",t.getWeekNumber(e[0].date)," ")}}function uF(e,t){if(1&e){let e=Rh();Ch(0,"igx-day-item",10),Fh("focus",(function(){let t=Bs(e).$implicit;return zs(Vh(2).activeDate=t.date.toLocaleDateString())}))("dateSelection",(function(t){return Bs(e),zs(Vh(2).selectDay(t))})),fu(1),Sh()}if(2&e){let e=t.$implicit,i=Vh(2);_h("date",e)("selection",i.selection)("selected",i.isSelected(e))("isLastInRange",i.isLastInRange(e))("isFirstInRange",i.isFirstInRange(e))("isWithinRange",i.isWithinRange(e.date,!0))("disabledDates",i.disabledDates)("specialDates",i.specialDates)("outOfRangeDates",i.outOfRangeDates)("hideOutsideDays",i.hideOutsideDays),ph("aria-selected",i.isSelected(e))("aria-disabled",i.isDateDisabled(e.date))("aria-label",i.isFirstInRange(e)?e.date.toDateString()+", "+i.resourceStrings.igx_calendar_range_start:i.isLastInRange(e)?e.date.toDateString()+", "+i.resourceStrings.igx_calendar_range_end:e.date.toDateString())("tabindex",i.tabIndex(e)),tc(1),xu(" ",i.formattedDate(e.date)," ")}}function gF(e,t){if(1&e&&(Ch(0,"div",0),yh(1,hF,3,1,"div",6),yh(2,uF,2,15,"igx-day-item",7),Sh()),2&e){let e=t.$implicit,i=Vh();tc(1),_h("ngIf",i.showWeekNumbers),tc(1),_h("ngForOf",e)("ngForTrackBy",i.dateTracker)}}var pF=0,mF=(()=>{let e=class extends qO{set activeDate(e){this._activeDate=e,this.activeDateChange.emit(this._activeDate)}get activeDate(){return this._activeDate?this._activeDate:this.viewDate.toLocaleDateString()}constructor(e,t,i){super(t,i),this.daysNavService=e,this.id="igx-days-view-"+pF++,this.changeDaysView=!1,this.dateSelection=new Pd,this.viewChanging=new Pd,this.activeDateChange=new Pd,this.monthsViewBlur=new Pd,this.styleClass=!0,this.shouldResetDate=!0}resetActiveMonth(){if(this.shouldResetDate){let e=this.dates.find((e=>e.selected&&e.isCurrentMonth))||this.dates.find((e=>e.isToday&&e.isCurrentMonth))||this.dates.find((e=>e.isFocusable));e&&(this.activeDate=e.date.date.toLocaleDateString()),this.monthsViewBlur.emit()}this.shouldResetDate=!0}pointerDown(){this.shouldResetDate=!1}onKeydownArrow(e){e.preventDefault(),e.stopPropagation(),this.shouldResetDate=!1,this.daysNavService.focusNextDate(e.target,e.key)}onKeydownHome(e){e.preventDefault(),e.stopPropagation(),this.shouldResetDate=!1,this.getFirstMonthView().daysNavService.focusHomeDate()}onKeydownEnd(e){e.preventDefault(),e.stopPropagation(),this.shouldResetDate=!1,this.getLastMonthView().daysNavService.focusEndDate()}get getCalendarMonth(){return this.calendarModel.monthdatescalendar(this.viewDate.getFullYear(),this.viewDate.getMonth(),!0)}ngOnInit(){this.daysNavService.monthView=this}ngDoCheck(){!this.changeDaysView&&this.dates&&this.disableOutOfRangeDates()}tabIndex(e){return this.activeDate&&this.activeDate===e.date.toLocaleDateString()&&e.isCurrentMonth?0:-1}getWeekNumber(e){return this.calendarModel.getWeekNumber(e,this.weekStart)}formattedDate(e){return this.formatViews.day?this.formatterDay.format(e):`${e.getDate()}`}generateWeekHeader(){let e=[],t=this.calendarModel.monthdatescalendar(this.viewDate.getFullYear(),this.viewDate.getMonth())[0];for(let i of t)e.push(this.formatterWeekday.format(i.date));return e}rowTracker(e,t){return`${t[e].date.getMonth()}${t[e].date.getDate()}`}dateTracker(e,t){return`${t.date.getMonth()}--${t.date.getDate()}`}isCurrentMonth(e){return this.viewDate.getMonth()===e.getMonth()}isCurrentYear(e){return this.viewDate.getFullYear()===e.getFullYear()}isSelected(e){let t;if(this.isDateDisabled(e.date)||!this.value||Array.isArray(this.value)&&0===this.value.length)return!1;if(this.selection===PO)return t=this.value,this.getDateOnly(t).getTime()===e.date.getTime();if(t=this.value,this.selection===VO&&1===t.length)return this.getDateOnly(t[0]).getTime()===e.date.getTime();if(this.selection===MO){let i=this.getDateOnly(t[0]),n=this.getDateOnly(t[t.length-1]);return!!this.isWithinRange(e.date,!1,i,n)&&!!t.find((t=>t.getTime()===e.date.getTime()))}return this.isWithinRange(e.date,!0)}isLastInRange(e){if(this.isSingleSelection||!this.value)return!1;let t=this.value,i=t[t.length-1];return sb(i,e.date)}isFirstInRange(e){return!(this.isSingleSelection||!this.value)&&sb(this.value[0],e.date)}isWithinRange(e,t,i,n){return!(t&&!(Array.isArray(this.value)&&this.value.length>1))&&(i=i||this.value[0],n=n||this.value[this.value.length-1],KO(e,[{type:FO.Between,dateRange:[i,n]}]))}focusActiveDate(){let e=this.dates.find((e=>e.selected));e||(e=this.dates.find((e=>e.isToday))),e.isFocusable&&e.nativeElement.focus()}selectDay(e){this.selectDateFromClient(e.date),this.dateSelection.emit(e),this.selected.emit(this.selectedDates)}getFirstMonthView(){let e=this;for(;e.prevMonthView;)e=e.prevMonthView;return e}disableOutOfRangeDates(){let e=[];this.dates.toArray().forEach((t=>{t.isCurrentMonth||e.push(t.date.date)})),this.outOfRangeDates=[{type:FO.Specific,dateRange:e}]}getLastMonthView(){let e=this;for(;e.nextMonthView;)e=e.nextMonthView;return e}get isSingleSelection(){return this.selection!==VO}};return e.fac=function(t){return new(t||e)(nc(lF),nc(ob),nc(Xg))},e.cmp=tr({type:e,selectors:[["igx-days-view"]],viewQuery:function(e,t){if(1&e&&Bg(oF,5,oF),2&e){let e;Hg(e=Gg())&&(t.dates=e)}},hostVars:3,hostBindings:function(e,t){1&e&&Fh("focusout",(function(){return t.resetActiveMonth()}))("keydown.pagedown",(function(){return t.pointerDown()}))("keydown.pageup",(function(){return t.pointerDown()}))("keydown.shift.pagedown",(function(){return t.pointerDown()}))("keydown.shift.pageup",(function(){return t.pointerDown()}))("pointerdown",(function(){return t.pointerDown()}))("keydown.arrowleft",(function(e){return t.onKeydownArrow(e)}))("keydown.arrowright",(function(e){return t.onKeydownArrow(e)}))("keydown.arrowup",(function(e){return t.onKeydownArrow(e)}))("keydown.arrowdown",(function(e){return t.onKeydownArrow(e)}))("keydown.home",(function(e){return t.onKeydownHome(e)}))("keydown.end",(function(e){return t.onKeydownEnd(e)})),2&e&&(ph("id",t.id),iu("igx-calendar",t.styleClass))},inputs:{id:"id",changeDaysView:"changeDaysView",showWeekNumbers:"showWeekNumbers",activeDate:"activeDate"},outputs:{dateSelection:"dateSelection",viewChanging:"viewChanging",activeDateChange:"activeDateChange",monthsViewBlur:"monthsViewBlur"},standalone:!0,features:[Nu([{multi:!0,provide:h_,useExisting:e},{provide:lF,useClass:lF}]),th,Wu],decls:4,vars:4,consts:[["role","row",1,"igx-calendar__body-row"],["role","columnheader","class","igx-calendar__label igx-calendar__label--week-number",4,"ngIf"],["role","columnheader","class","igx-calendar__label",4,"ngFor","ngForOf"],["class","igx-calendar__body-row","role","row",4,"ngFor","ngForOf","ngForTrackBy"],["role","columnheader",1,"igx-calendar__label","igx-calendar__label--week-number"],["role","columnheader",1,"igx-calendar__label"],["class","igx-calendar__date igx-calendar__date--week-number",4,"ngIf"],["class","igx-calendar__date","role","gridcell",3,"date","selection","selected","isLastInRange","isFirstInRange","isWithinRange","disabledDates","specialDates","outOfRangeDates","hideOutsideDays","focus","dateSelection",4,"ngFor","ngForOf","ngForTrackBy"],[1,"igx-calendar__date","igx-calendar__date--week-number"],["role","rowheader",1,"igx-calendar__date-content","igx-calendar__date-content--week-number"],["role","gridcell",1,"igx-calendar__date",3,"date","selection","selected","isLastInRange","isFirstInRange","isWithinRange","disabledDates","specialDates","outOfRangeDates","hideOutsideDays","focus","dateSelection"]],template:function(e,t){1&e&&(Ch(0,"div",0),yh(1,dF,3,0,"div",1),yh(2,cF,3,4,"span",2),Sh(),yh(3,gF,3,3,"div",3)),2&e&&(tc(1),_h("ngIf",t.showWeekNumbers),tc(1),_h("ngForOf",t.generateWeekHeader()),tc(1),_h("ngForOf",t.getCalendarMonth)("ngForTrackBy",t.rowTracker))},dependencies:[$m,zm,oF,rf],encapsulation:2}),e})(),fF=(()=>{let e=class{transform(e){return new Array(e)}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"IgxMonthViewSlots",type:e,pure:!0,standalone:!0}),e})(),yF=(()=>{let e=class{constructor(){this.calendar=new UO}transform(e,t,i=!0){let n=this.calendar.timedelta(t,"month",e);return i?n:n.getMonth()}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"IgxGetViewDate",type:e,pure:!0,standalone:!0}),e})(),vF=["months"],xF=["decade"],_F=["days"],wF=["prevMonthBtn"],CF=["nextMonthBtn"],SF=["monthsBtn"];function bF(e,t){if(1&e&&(Ch(0,"span"),fu(1),Sh(),Ch(2,"span"),fu(3),Sh()),2&e){let e=Vh();tc(1),xu("",e.getFormattedDate().weekday,","),tc(2),vu(e.getFormattedDate().monthday)}}function DF(e,t){if(1&e&&(Ch(0,"span",10),fu(1),ag(2,"date"),ag(3,"date"),Sh()),2&e){let e=Vh().$implicit,t=Vh();tc(1),xu(" ",t.monthsViewNumber>1?t.resourceStrings.igx_calendar_first_picker_of.replace("{0}",t.monthsViewNumber.toString())+" "+dg(2,1,t.getViewDate(e.index),"LLLL yyyy"):t.resourceStrings.igx_calendar_selected_month_is+dg(3,4,t.getViewDate(e.index),"LLLL yyyy")," ")}}function EF(e,t){if(1&e){let e=Rh();yh(0,DF,4,7,"span",6),Ch(1,"span",7,8),Fh("keydown",(function(t){let i=Bs(e).$implicit,n=Vh();return zs(n.onActiveViewYearKB(n.getViewDate(i.index),t,i.index))}))("click",(function(){let t=Bs(e).$implicit,i=Vh();return zs(i.onActiveViewYear(i.getViewDate(t.index),t.index))})),ag(3,"date"),fu(4),Sh(),Ch(5,"span",7,9),Fh("keydown",(function(t){let i=Bs(e).$implicit,n=Vh();return zs(n.onActiveViewDecadeKB(t,n.getViewDate(i.index),i.index))}))("click",(function(){let t=Bs(e).$implicit,i=Vh();return zs(i.onActiveViewDecade(i.getViewDate(t.index),t.index))})),ag(7,"date"),fu(8),Sh()}if(2&e){let e=t.$implicit,i=Vh();_h("ngIf",i.monthsViewNumber<2||e.index<1),tc(1),ph("aria-label",dg(3,5,i.getViewDate(e.index),"LLLL")+" "+i.resourceStrings.igx_calendar_select_month),tc(3),xu(" ",i.formattedMonth(i.getViewDate(e.index))," "),tc(1),ph("aria-label",dg(7,8,i.getViewDate(e.index),"yyyy")+" "+i.resourceStrings.igx_calendar_select_year),tc(3),xu(" ",i.formattedYear(i.getViewDate(e.index))," ")}}function IF(e,t){1&e&&Th(0)}function TF(e,t){if(1&e&&(Ch(0,"header",11)(1,"h5",12),fu(2),Sh(),Ch(3,"h2",13),yh(4,IF,1,0,"ng-container",14),Sh()()),2&e){let e=Vh(),t=xh(1);tc(2),xu(" ",e.formattedYear(e.headerDate)," "),tc(2),_h("ngTemplateOutlet",e.headerTemplate?e.headerTemplate:t)("ngTemplateOutletContext",e.headerContext)}}function AF(e,t){if(1&e&&(Eh(0),fu(1),Ih()),2&e){let e=Vh(2);tc(1),xu(" ",e.monthsViewNumber&&e.monthsViewNumber>1?e.resourceStrings.igx_calendar_multi_selection.replace("{0}",e.monthsViewNumber.toString()):e.resourceStrings.igx_calendar_singular_multi_selection," ")}}function RF(e,t){if(1&e&&(Eh(0),fu(1),Ih()),2&e){let e=Vh(2);tc(1),xu(" ",e.monthsViewNumber&&e.monthsViewNumber>1?e.resourceStrings.igx_calendar_range_selection.replace("{0}",e.monthsViewNumber.toString()):e.resourceStrings.igx_calendar_singular_range_selection," ")}}function kF(e,t){if(1&e&&(Eh(0),fu(1),Ih()),2&e){let e=Vh(2);tc(1),xu(" ",e.monthsViewNumber&&e.monthsViewNumber>1?e.resourceStrings.igx_calendar_single_selection.replace("{0}",e.monthsViewNumber.toString()):e.resourceStrings.igx_calendar_singular_single_selection," ")}}function OF(e,t){1&e&&Th(0)}function FF(e,t){if(1&e&&(Ch(0,"div",27),ag(1,"IgxGetViewDate"),yh(2,OF,1,0,"ng-container",14),Sh()),2&e){let e=t.index,i=Vh(2),n=xh(3);tu("width",100/i.monthsViewNumber,"%"),ph("data-month",cg(1,5,e,i.viewDate,!1)),tc(2),_h("ngTemplateOutlet",i.subheaderTemplate?i.subheaderTemplate:n)("ngTemplateOutletContext",i.getContext(e))}}function PF(e,t){if(1&e){let e=Rh();Ch(0,"igx-days-view",28,29),Fh("activeDateChange",(function(t){return Bs(e),zs(Vh(2).activeDate=t)}))("viewChanging",(function(t){return Bs(e),zs(Vh(2).viewChanging(t))}))("dateSelection",(function(t){return Bs(e),zs(Vh(2).childClicked(t))}))("monthsViewBlur",(function(){return Bs(e),zs(Vh(2).resetActiveDate())})),ag(2,"IgxGetViewDate"),Sh()}if(2&e){let e=t.index,i=Vh(2);_h("changeDaysView",!0)("selection",i.selection)("locale",i.locale)("value",i.value)("activeDate",i.activeDate)("viewDate",dg(2,13,e,i.viewDate))("weekStart",i.weekStart)("formatOptions",i.formatOptions)("formatViews",i.formatViews)("disabledDates",i.disabledDates)("specialDates",i.specialDates)("hideOutsideDays",i.hideOutsideDays)("showWeekNumbers",i.showWeekNumbers)}}var MF=function(e){return{"min-width.%":e}};function VF(e,t){if(1&e){let e=Rh();Ch(0,"div",15),Fh("@animateView.done",(function(t){return Bs(e),zs(Vh().viewRendered(t))}))("swiperight",(function(){return Bs(e),zs(Vh().previousMonth())}))("swipeleft",(function(){return Bs(e),zs(Vh().nextMonth())}))("pointerdown",(function(){return Bs(e),zs(Vh().suppressBlur())})),Ch(1,"section",16)(2,"span",17),yh(3,AF,2,1,"ng-container",18),yh(4,RF,2,1,"ng-container",18),yh(5,kF,2,1,"ng-container",18),Sh(),Ch(6,"div",19,20),ag(8,"date"),Ch(9,"igx-icon",21),fu(10,"keyboard_arrow_left"),Sh()(),yh(11,FF,3,9,"div",22),ag(12,"IgxMonthViewSlots"),Ch(13,"div",23,24),ag(15,"date"),Ch(16,"igx-icon",21),fu(17,"keyboard_arrow_right"),Sh()()(),Ch(18,"section",25),Fh("@animateChange.done",(function(t){return Bs(e),zs(Vh().animationDone(t))})),yh(19,PF,3,16,"igx-days-view",26),ag(20,"IgxMonthViewSlots"),Sh()()}if(2&e){let e=Vh();_h("@animateView",e.activeView),tc(3),_h("ngIf","multi"===e.selection),tc(1),_h("ngIf","range"===e.selection),tc(1),_h("ngIf","single"===e.selection),tc(1),_h("startScroll",e.startPrevMonthScroll)("stopScroll",e.stopMonthScroll)("ngStyle",ju(25,MF,100/(7*e.monthsViewNumber))),ph("aria-label",e.resourceStrings.igx_calendar_previous_month+", "+dg(8,15,e.getPrevMonth(e.viewDate),"LLLL")),tc(5),_h("ngForOf",lg(12,18,e.monthsViewNumber)),tc(2),_h("startScroll",e.startNextMonthScroll)("stopScroll",e.stopMonthScroll)("ngStyle",ju(27,MF,100/(7*e.monthsViewNumber))),ph("aria-label",e.resourceStrings.igx_calendar_next_month+", "+dg(15,20,e.getNextMonth(e.viewDate,e.monthsViewNumber),"LLLL")),tc(5),_h("@animateChange",e.animationAction),tc(1),_h("ngForOf",lg(20,23,e.monthsViewNumber))}}function NF(e,t){if(1&e){let e=Rh();Ch(0,"igx-months-view",30,31),Fh("@animateView.done",(function(t){return Bs(e),zs(Vh().viewRendered(t))}))("selected",(function(t){return Bs(e),zs(Vh().changeMonth(t))})),Sh()}if(2&e){let e=Vh();_h("@animateView",e.activeView)("date",e.viewDate)("locale",e.locale)("formatView",e.formatViews.month)("monthFormat",e.formatOptions.month)}}function LF(e,t){if(1&e){let e=Rh();Ch(0,"igx-years-view",32,33),Fh("@animateView.done",(function(t){return Bs(e),zs(Vh().viewRendered(t))}))("selected",(function(t){return Bs(e),zs(Vh().changeYear(t))})),Sh()}if(2&e){let e=Vh();_h("@animateView",e.activeView)("date",e.viewDate)("locale",e.locale)("formatView",e.formatViews.year)("yearFormat",e.formatOptions.year)}}var HF=0,BF=(()=>{let e=class extends XO{constructor(){super(...arguments),this.id="igx-calendar-"+HF++,this.hasHeader=!0,this.vertical=!1,this.showWeekNumbers=!1,this.animationAction="",this.styleClass=!0,this.activeDate=(new Date).toLocaleDateString(),this.isKeydownTrigger=!1,this._monthsViewNumber=1,this.startPrevMonthScroll=(e=!1)=>{this.startMonthScroll$.next(),this.monthScrollDirection=NO.PREV,this.animationAction=NO.PREV,this.previousMonth(e)},this.startNextMonthScroll=(e=!1)=>{this.startMonthScroll$.next(),this.monthScrollDirection=NO.NEXT,this.animationAction=NO.NEXT,this.nextMonth(e)},this.stopMonthScroll=e=>{e.stopPropagation(),this.daysView.stopMonthScroll$.next(!0),this.daysView.stopMonthScroll$.complete(),this.monthScrollDirection===NO.PREV?this.prevMonthBtn.nativeElement.focus():this.monthScrollDirection===NO.NEXT&&this.nextMonthBtn.nativeElement.focus(),this.platform.isActivationKey(e)&&this.resetActiveDate(),this.monthScrollDirection=NO.NONE}}get monthsViewNumber(){return this._monthsViewNumber}set monthsViewNumber(e){e<1||(this._monthsViewNumber=e)}get styleVerticalClass(){return this.vertical}get isYearView(){return this.activeView===HO}get headerTemplate(){return this.headerTemplateDirective?this.headerTemplateDirective.template:null}set headerTemplate(e){this.headerTemplateDirective=e}get subheaderTemplate(){return this.subheaderTemplateDirective?this.subheaderTemplateDirective.template:null}set subheaderTemplate(e){this.subheaderTemplateDirective=e}get headerContext(){let e=this.headerDate;return this.generateContext(e)}get context(){let e=this.viewDate;return this.generateContext(e)}get headerDate(){return this.selectedDates?this.selectedDates:new Date}onKeydownPageDown(e){if(e.preventDefault(),!this.isDefaultView)return;let t,i="PageDown"===e.key,n=i?1:-1,r=this.daysView;for(;!t&&r;)t=r.dates.find((e=>e.nativeElement===document.activeElement)),r=r.nextMonthView;if(t){this.nextDate=new Date(t.date.date);let e=this.nextDate.getFullYear(),s=this.nextDate.getMonth()+n;i?s>11&&(s=0,e+=n):s<0&&(s=11,e+=n);let o=WO(this.nextDate.getFullYear(),s),a=this.nextDate.getDate();a>o[1]&&(a=o[1]),this.nextDate.setDate(a),this.nextDate.setMonth(s),this.nextDate.setFullYear(e),this.callback=e=>{let t;for(r=this.daysView;!t&&r||t&&!t.isCurrentMonth;)t=r.dates.find((t=>t.date.date.getTime()===e.getTime())),r=r.nextMonthView;t&&t.isFocusable&&t.nativeElement.focus()}}i?e.repeat?requestAnimationFrame((()=>this.nextMonth(!0))):this.nextMonth(!0):e.repeat?requestAnimationFrame((()=>this.previousMonth(!0))):this.previousMonth(!0)}onKeydownShiftPageUp(e){if(e.preventDefault(),!this.isDefaultView)return;let t="PageDown"===e.key,i=t?1:-1;this.previousViewDate=this.viewDate,this.viewDate=this.calendarModel.timedelta(this.viewDate,"year",i),this.animationAction=t?NO.NEXT:NO.PREV,this.isKeydownTrigger=!0;let n,r=this.daysView;for(;!n&&r;)n=r.dates.find((e=>e.nativeElement===document.activeElement)),r=r.nextMonthView;if(n){this.nextDate=new Date(n.date.date);let e=this.nextDate.getFullYear()+i,t=WO(e,this.nextDate.getMonth()),s=this.nextDate.getDate();s>t[1]&&(s=t[1]),this.nextDate.setDate(s),this.nextDate.setFullYear(e),this.callback=e=>{let t;for(r=this.daysView;!t&&r||t&&!t.isCurrentMonth;)t=r.dates.find((t=>t.date.date.getTime()===e.getTime())),r=r.nextMonthView;t&&t.isFocusable&&t.nativeElement.focus()}}}onKeydownHome(e){this.daysView&&this.daysView.onKeydownHome(e)}onKeydownEnd(e){this.daysView&&this.daysView.onKeydownEnd(e)}onMouseUp(e){this.monthScrollDirection!==NO.NONE&&this.stopMonthScroll(e)}ngAfterViewInit(){this.setSiblingMonths(this.monthViews),this._monthViewsChanges$=this.monthViews.changes.subscribe((e=>{this.setSiblingMonths(e)})),this.startMonthScroll$.pipe(Si(this.stopMonthScroll$),_i((()=>this.scrollMonth$.pipe((e=>e.lift(new class{constructor(e){if(this._skipCount=e,this._skipCount<0)throw new Et}call(e,t){return 0===this._skipCount?t.subscribe(new He(e)):t.subscribe(new xi(e,this._skipCount))}}(1))),ei((()=>Ut(300))),Si(this.stopMonthScroll$))))).subscribe((()=>{switch(this.monthScrollDirection){case NO.PREV:this.previousMonth();break;case NO.NEXT:this.nextMonth();case NO.NONE:}}))}formattedMonth(e){return this.formatViews.month?this.formatterMonth.format(e):`${e.getMonth()}`}previousMonth(e=!1){e&&this.animationAction===NO.NEXT||(this.previousViewDate=this.viewDate,this.viewDate=this.calendarModel.getPrevMonth(this.viewDate),this.animationAction=NO.PREV,this.isKeydownTrigger=e)}suppressBlur(){this.monthViews?.forEach((e=>e.shouldResetDate=!1)),this.daysView&&(this.daysView.shouldResetDate=!1)}nextMonth(e=!1){e&&"prev"===this.animationAction||(this.isKeydownTrigger=e,this.previousViewDate=this.viewDate,this.viewDate=this.calendarModel.getNextMonth(this.viewDate),this.animationAction=NO.NEXT)}onActiveViewDecade(e,t){super.activeViewDecade(t),requestAnimationFrame((()=>{this.dacadeView&&(this.dacadeView.date=e,this.dacadeView.calendarDir.find((e=>e.isCurrentYear)).nativeElement.focus())}))}onActiveViewDecadeKB(e,t,i){super.activeViewDecadeKB(e,i),requestAnimationFrame((()=>{this.dacadeView&&(this.dacadeView.date=t,this.dacadeView.calendarDir.find((e=>e.isCurrentYear)).nativeElement.focus())}))}getFormattedDate(){let e=this.headerDate;return{monthday:this.formatterMonthday.format(e),weekday:this.formatterWeekday.format(e)}}childClicked(e){e.isPrevMonth&&this.previousMonth(),e.isNextMonth&&this.nextMonth(),this.monthViews.forEach((e=>{e.shiftKey=this.shiftKey,e.lastSelectedDate=this.lastSelectedDate})),this.selectDateFromClient(e.date),"multi"===this.selection&&this._deselectDate&&this.deselectDateInMonthViews(e.date),this.selected.emit(this.selectedDates),this.monthViews.forEach((e=>{e.shiftKey=this.shiftKey,e.lastSelectedDate=this.lastSelectedDate}))}viewChanging(e){this.animationAction=e.monthAction,this.isKeydownTrigger=!0,this.nextDate=e.nextDate,this.callback=t=>{let i=this.daysView.dates.find((e=>e.date.date.getTime()===t.getTime()));i&&this.daysView.daysNavService.focusNextDate(i.nativeElement,e.key,!0)},this.previousViewDate=this.viewDate,this.viewDate=this.nextDate}changeMonth(e){this.previousViewDate=this.viewDate,this.viewDate=this.calendarModel.getFirstViewDate(e,"month",this.activeViewIdx),this.activeView=LO,requestAnimationFrame((()=>{let e=this.monthsBtns.find(((e,t)=>t===this.activeViewIdx));e&&e.nativeElement.focus()}))}onActiveViewYear(e,t){this.activeView=HO,this.activeViewIdx=t,requestAnimationFrame((()=>{this.monthsView.date=e,this.focusMonth()}))}onActiveViewYearKB(e,t,i){this.platform.isActivationKey(t)&&(t.preventDefault(),this.onActiveViewYear(e,i))}deselectDate(e){super.deselectDate(e),this.monthViews.forEach((e=>{e.selectedDates=this.selectedDates,e.rangeStarted=!1})),this._onChangeCallback(this.selectedDates)}getViewDate(e){return this.calendarModel.timedelta(this.viewDate,"month",e)}getContext(e){let t=this.getViewDate(e);return this.generateContext(t,e)}animationDone(e){if((e.fromState===NO.NONE&&(e.toState===NO.PREV||e.toState===NO.NEXT)||"void"===e.fromState&&e.toState===NO.NONE)&&this.viewDateChanged.emit({previousValue:this.previousViewDate,currentValue:this.viewDate}),this.isKeydownTrigger||this.resetActiveDate(),this.monthScrollDirection!==NO.NONE&&this.scrollMonth$.next(),!this.isDefaultView)return;let t=this.daysView,i=t?.dates.find((e=>e.selected));for(;!i&&t?.nextMonthView;)t=t.nextMonthView,i=t.dates.find((e=>e.selected));i&&i.isFocusable&&!this.isKeydownTrigger?setTimeout((()=>{i.nativeElement.focus()}),parseInt(Dx.options.params.duration,10)):this.callback&&(e.toState===NO.NEXT||e.toState===NO.PREV)&&this.callback(this.nextDate),this.animationAction=NO.NONE}viewRendered(e){"void"!==e.fromState&&(this.activeViewChanged.emit(this.activeView),this.isDefaultView&&this.resetActiveDate())}resetActiveDate(){if(!this.monthViews)return;let e=[];this.monthViews.map((e=>e.dates)).forEach((t=>{e=e.concat(t.toArray())}));let t=e.find((e=>e.selected&&e.isCurrentMonth))||e.find((e=>e.isToday&&e.isCurrentMonth))||e.find((e=>e.isFocusable));t&&(this.activeDate=t.date.date.toLocaleDateString())}ngOnDestroy(){this._monthViewsChanges$&&this._monthViewsChanges$.unsubscribe()}getPrevMonth(e){return this.calendarModel.getPrevMonth(e)}getNextMonth(e,t){return this.calendarModel.getDateByView(e,"Month",t)}generateContext(e,t){return{$implicit:m({index:t,monthView:()=>this.onActiveViewYear(e,t),yearView:()=>this.onActiveViewDecade(e,t)},this.calendarModel.formatToParts(e,this.locale,this.formatOptions,["era","year","month","day","weekday"]))}}setSiblingMonths(e){e.forEach(((e,t)=>{let i=this.getMonthView(t-1),n=this.getMonthView(t+1);e.nextMonthView=n,e.prevMonthView=i}))}getMonthView(e){return-1===e||e===this.monthViews.length?null:this.monthViews.toArray()[e]}deselectDateInMonthViews(e){this.monthViews.forEach((t=>{t.deselectMultipleInMonth(e)}))}focusMonth(){let e=this.monthsView.monthsRef.find((e=>e.index===this.monthsView.date.getMonth()));e&&e.nativeElement.focus()}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.cmp=tr({type:e,selectors:[["igx-calendar"]],contentQueries:function(e,t,i){if(1&e&&(zg(i,RO,7,RO),zg(i,kO,7,kO)),2&e){let e;Hg(e=Gg())&&(t.headerTemplateDirective=e.first),Hg(e=Gg())&&(t.subheaderTemplateDirective=e.first)}},viewQuery:function(e,t){if(1&e&&(Bg(vF,5,JO),Bg(xF,5,rF),Bg(_F,5,mF),Bg(wF,5),Bg(CF,5),Bg(SF,5),Bg(_F,5,mF)),2&e){let e;Hg(e=Gg())&&(t.monthsView=e.first),Hg(e=Gg())&&(t.dacadeView=e.first),Hg(e=Gg())&&(t.daysView=e.first),Hg(e=Gg())&&(t.prevMonthBtn=e.first),Hg(e=Gg())&&(t.nextMonthBtn=e.first),Hg(e=Gg())&&(t.monthsBtns=e),Hg(e=Gg())&&(t.monthViews=e)}},hostVars:5,hostBindings:function(e,t){1&e&&Fh("keydown.pagedown",(function(e){return t.onKeydownPageDown(e)}))("keydown.pageup",(function(e){return t.onKeydownPageDown(e)}))("keydown.shift.pageup",(function(e){return t.onKeydownShiftPageUp(e)}))("keydown.shift.pagedown",(function(e){return t.onKeydownShiftPageUp(e)}))("keydown.home",(function(e){return t.onKeydownHome(e)}))("keydown.end",(function(e){return t.onKeydownEnd(e)}))("mouseup",(function(e){return t.onMouseUp(e)}),!1,Wd),2&e&&(ph("id",t.id),iu("igx-calendar--vertical",t.styleVerticalClass)("igx-calendar",t.styleClass))},inputs:{id:"id",hasHeader:"hasHeader",vertical:"vertical",monthsViewNumber:"monthsViewNumber",showWeekNumbers:"showWeekNumbers",animationAction:"animationAction"},standalone:!0,features:[Nu([{multi:!0,provide:h_,useExisting:e}]),th,Wu],decls:8,vars:4,consts:[["defaultHeader",""],["defaultMonth",""],["aria-labelledby","igx-aria-calendar-title-month igx-aria-calendar-title-year","class","igx-calendar__header",4,"ngIf"],["class","igx-calendar__body",3,"swiperight","swipeleft","pointerdown",4,"ngIf"],[3,"date","locale","formatView","monthFormat","selected",4,"ngIf"],[3,"date","locale","formatView","yearFormat","selected",4,"ngIf"],["class","igx-calendar__aria-off-screen","aria-live","polite",4,"ngIf"],["tabindex","0","role","button",1,"igx-calendar-picker__date",3,"keydown","click"],["monthsBtn",""],["yearsBtn",""],["aria-live","polite",1,"igx-calendar__aria-off-screen"],["aria-labelledby","igx-aria-calendar-title-month igx-aria-calendar-title-year",1,"igx-calendar__header"],["id","igx-aria-calendar-title-year",1,"igx-calendar__header-year"],["id","igx-aria-calendar-title-month",1,"igx-calendar__header-date"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-calendar__body",3,"swiperight","swipeleft","pointerdown"],[1,"igx-calendar-picker"],["tabindex","0",1,"igx-calendar__aria-off-screen"],[4,"ngIf"],["tabindex","0","role","button","data-action","prev","igxCalendarScrollMonth","",1,"igx-calendar-picker__prev",3,"startScroll","stopScroll","ngStyle"],["prevMonthBtn",""],["aria-hidden","true"],["class","igx-calendar-picker__dates",3,"width",4,"ngFor","ngForOf"],["tabindex","0","role","button","data-action","next","igxCalendarScrollMonth","",1,"igx-calendar-picker__next",3,"startScroll","stopScroll","ngStyle"],["nextMonthBtn",""],[2,"display","flex"],["role","grid",3,"changeDaysView","selection","locale","value","activeDate","viewDate","weekStart","formatOptions","formatViews","disabledDates","specialDates","hideOutsideDays","showWeekNumbers","activeDateChange","viewChanging","dateSelection","monthsViewBlur",4,"ngFor","ngForOf"],[1,"igx-calendar-picker__dates"],["role","grid",3,"changeDaysView","selection","locale","value","activeDate","viewDate","weekStart","formatOptions","formatViews","disabledDates","specialDates","hideOutsideDays","showWeekNumbers","activeDateChange","viewChanging","dateSelection","monthsViewBlur"],["days",""],[3,"date","locale","formatView","monthFormat","selected"],["months",""],[3,"date","locale","formatView","yearFormat","selected"],["decade",""]],template:function(e,t){1&e&&(yh(0,bF,4,2,"ng-template",null,0,jg),yh(2,EF,9,11,"ng-template",null,1,jg),yh(4,TF,5,3,"header",2),yh(5,VF,21,29,"div",3),yh(6,NF,2,5,"igx-months-view",4),yh(7,LF,2,5,"igx-years-view",5)),2&e&&(tc(4),_h("ngIf","single"===t.selection&&t.hasHeader),tc(1),_h("ngIf",t.isDefaultView),tc(1),_h("ngIf",t.isYearView),tc(1),_h("ngIf",t.isDecadeView))},dependencies:[$m,Zm,OO,Xm,XI,zm,mF,JO,rF,af,fF,yF],encapsulation:2,data:{animation:[xy("animateView",[by("void => 0",Ey(Fy)),by("void => *",Ey(Wv,{params:{duration:".2s",fromScale:.9}}))]),xy("animateChange",[by("* => prev",Ey(bx,{params:{fromPosition:"translateX(-30%)"}})),by("* => next",Ey(Dx,{params:{fromPosition:"translateX(30%)"}}))])]}}),e})();function zF(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o}function GF(e,t){return function(i,n){t(i,n,e)}}var $F="none",WF="slide",KF="fade",jF=class{constructor(e,t){this.animationService=e,this.cdr=t,this.animationType=WF,this.enterAnimationDone=new Pd,this.leaveAnimationDone=new Pd,this.defaultAnimationDuration=320,this.animationPosition=0,this.newDuration=0}triggerAnimations(){this.animationType!==$F&&(this.animationStarted(this.leaveAnimationPlayer)||this.animationStarted(this.enterAnimationPlayer)?requestAnimationFrame((()=>{this.resetAnimations(),this.playAnimations()})):this.playAnimations())}animationStarted(e){return e&&e.hasStarted()}playAnimations(){this.playLeaveAnimation(),this.playEnterAnimation()}resetAnimations(){this.animationStarted(this.leaveAnimationPlayer)&&(this.leaveAnimationPlayer.reset(),this.leaveAnimationDone.emit()),this.animationStarted(this.enterAnimationPlayer)&&(this.enterAnimationPlayer.reset(),this.enterAnimationDone.emit(),this.cdr.markForCheck())}getAnimation(){let e;switch(e=this.newDuration?this.animationPosition?this.animationPosition*this.newDuration:this.newDuration:this.animationPosition?this.animationPosition*this.defaultAnimationDuration:this.defaultAnimationDuration,this.animationType){case WF:let t=this.animationPosition?100*this.animationPosition:100;return{enterAnimation:Ey(bx,{params:{delay:"0s",duration:`${e}ms`,endOpacity:1,startOpacity:1,fromPosition:`translateX(${1===this.currentItem.direction?t:-t}%)`,toPosition:"translateX(0%)"}}),leaveAnimation:Ey(bx,{params:{delay:"0s",duration:`${e}ms`,endOpacity:1,startOpacity:1,fromPosition:"translateX(0%)",toPosition:`translateX(${1===this.currentItem.direction?-t:t}%)`}})};case KF:return{enterAnimation:Ey(Fy,{params:{duration:`${e}ms`,startOpacity:`${this.animationPosition}`}}),leaveAnimation:null}}return{enterAnimation:null,leaveAnimation:null}}playEnterAnimation(){let e=this.getAnimation().enterAnimation;e&&(this.enterAnimationPlayer=this.animationService.buildAnimation(e,this.getCurrentElement()),this.enterAnimationPlayer.animationEnd.subscribe((()=>{this.enterAnimationPlayer&&(this.enterAnimationPlayer.reset(),this.enterAnimationPlayer=null),this.animationPosition=0,this.newDuration=0,this.previousItem.previous=!1,this.enterAnimationDone.emit(),this.cdr.markForCheck()})),this.previousItem.previous=!0,this.enterAnimationPlayer.play())}playLeaveAnimation(){let e=this.getAnimation().leaveAnimation;e&&(this.leaveAnimationPlayer=this.animationService.buildAnimation(e,this.getPreviousElement()),this.leaveAnimationPlayer.animationEnd.subscribe((()=>{this.leaveAnimationPlayer&&(this.leaveAnimationPlayer.reset(),this.leaveAnimationPlayer=null),this.animationPosition=0,this.newDuration=0,this.leaveAnimationDone.emit()})),this.leaveAnimationPlayer.play())}};jF=zF([GF(0,da(BE))],jF);var UF=["chipArea"],qF=["defaultRemoveIcon"],YF=["defaultSelectIcon"];function XF(e,t){1&e&&Th(0)}function ZF(e,t){if(1&e&&(Ch(0,"div",10),yh(1,XF,1,0,"ng-container",11),Sh()),2&e){let e=Vh();_h("ngClass",e.selectClass(e.selected)),tc(1),_h("ngTemplateOutlet",e.selectIconTemplate)}}function QF(e,t){1&e&&Th(0)}function JF(e,t){if(1&e){let e=Rh();Ch(0,"div",12),Fh("keydown",(function(t){return Bs(e),zs(Vh().onRemoveBtnKeyDown(t))}))("pointerdown",(function(t){return Bs(e),zs(Vh().onRemoveMouseDown(t))}))("mousedown",(function(t){return Bs(e),zs(Vh().onRemoveMouseDown(t))}))("click",(function(t){return Bs(e),zs(Vh().onRemoveClick(t))}))("touchmove",(function(){return Bs(e),zs(Vh().onRemoveTouchMove())}))("touchend",(function(t){return Bs(e),zs(Vh().onRemoveTouchEnd(t))})),yh(1,QF,1,0,"ng-container",11),Sh()}if(2&e){let e=Vh();ph("tabIndex",e.tabIndex),tc(1),_h("ngTemplateOutlet",e.removeButtonTemplate)}}function eP(e,t){1&e&&(Ch(0,"igx-icon"),fu(1,"done"),Sh()),2&e&&ph("aria-label",Vh().resourceStrings.igx_chip_select)}function tP(e,t){1&e&&(Ch(0,"igx-icon"),fu(1,"cancel"),Sh()),2&e&&ph("aria-label",Vh().resourceStrings.igx_chip_remove)}var iP=[[["igx-prefix"],["","igxPrefix",""]],"*",[["igx-suffix"],["","igxSuffix",""]]],nP=function(e){return{chip:e}},rP=["igx-prefix,[igxPrefix]","*","igx-suffix,[igxSuffix]"],sP="primary",oP="info",aP="success",lP="warning",dP="danger",cP=0,hP=(()=>{let e=class extends kI{set tabIndex(e){this._tabIndex=e}get tabIndex(){return null!==this._tabIndex?this._tabIndex:this.disabled?null:0}set selected(e){this.changeSelection(e)}get selected(){return this._selected}set color(e){this.chipArea.nativeElement.style.backgroundColor=e}get color(){return this.chipArea.nativeElement.style.backgroundColor}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}get isPrimary(){return this.variant===sP}get isInfo(){return this.variant===oP}get isSuccess(){return this.variant===aP}get isWarning(){return this.variant===lP}get isDanger(){return this.variant===dP}get componentSize(){return this.getComponentSizeStyles()}get removeButtonTemplate(){if(!this.disabled)return this.removeIcon||this.defaultRemoveIcon}get selectIconTemplate(){return this.selectIcon||this.defaultSelectIcon}get ghostStyles(){switch(this.displayDensity){case AI:return{"--component-size":"var(--ig-size, var(--ig-size-small))"};case TI:return{"--component-size":"var(--ig-size, var(--ig-size-medium))"};default:return{"--component-size":"var(--ig-size, var(--ig-size-large))"}}}get nativeElement(){return this.ref.nativeElement}constructor(e,t,i,n){super(n,t),this.cdr=e,this.ref=t,this.renderer=i,this._displayDensityOptions=n,this.id="igx-chip-"+cP++,this.role="option",this.draggable=!1,this.animateOnRelease=!0,this.hideBaseOnDrag=!0,this.removable=!1,this.selectable=!1,this.class="",this.disabled=!1,this.selectedChange=new Pd,this.moveStart=new Pd,this.moveEnd=new Pd,this.remove=new Pd,this.chipClick=new Pd,this.selectedChanging=new Pd,this.selectedChanged=new Pd,this.keyDown=new Pd,this.dragEnter=new Pd,this.dragLeave=new Pd,this.dragOver=new Pd,this.dragDrop=new Pd,this.defaultClass="igx-chip",this.hideBaseElement=!1,this.destroy$=new Xe,this._tabIndex=null,this._selected=!1,this._selectedItemClass="igx-chip__item--selected",this._movedWhileRemoving=!1,this._resourceStrings=FI.ChipResStrings}keyEvent(e){this.onChipKeyDown(e)}selectClass(e){let t="igx-chip__select";return{[t]:e,[`${t}--hidden`]:!e}}onSelectTransitionDone(e){e.target.tagName&&this.selectedChanged.emit({owner:this,originalEvent:e})}onChipKeyDown(e){let t={originalEvent:e,owner:this,cancel:!1};this.keyDown.emit(t),!t.cancel&&(("Delete"===e.key||"Del"===e.key)&&this.removable&&this.remove.emit({originalEvent:e,owner:this}),(" "===e.key||"Spacebar"===e.key)&&this.selectable&&!this.disabled&&this.changeSelection(!this.selected,e),"Tab"!==e.key&&e.preventDefault())}onRemoveBtnKeyDown(e){(" "===e.key||"Spacebar"===e.key||"Enter"===e.key)&&(this.remove.emit({originalEvent:e,owner:this}),e.preventDefault(),e.stopPropagation())}onRemoveMouseDown(e){e.stopPropagation()}onRemoveClick(e){this.remove.emit({originalEvent:e,owner:this})}onRemoveTouchMove(){this._movedWhileRemoving=!0}onRemoveTouchEnd(e){this._movedWhileRemoving||this.onRemoveClick(e),this._movedWhileRemoving=!1}onChipDragStart(e){this.moveStart.emit({originalEvent:e,owner:this}),e.cancel=!this.draggable||this.disabled}onChipDragEnd(){this.animateOnRelease&&this.dragDirective.transitionToOrigin()}onChipMoveEnd(e){this.moveEnd.emit({originalEvent:e,owner:this}),this.selected&&this.chipArea.nativeElement.focus()}onChipGhostCreate(){this.hideBaseElement=this.hideBaseOnDrag}onChipGhostDestroy(){this.hideBaseElement=!1}onChipDragClicked(e){let t={originalEvent:e,owner:this,cancel:!1};this.chipClick.emit(t),!t.cancel&&this.selectable&&!this.disabled&&this.changeSelection(!this.selected,e)}onChipDragEnterHandler(e){if(this.dragDirective===e.drag)return;let t={owner:this,dragChip:e.drag.data?.chip,originalEvent:e};this.dragEnter.emit(t)}onChipDragLeaveHandler(e){if(this.dragDirective===e.drag)return;let t={owner:this,dragChip:e.drag.data?.chip,originalEvent:e};this.dragLeave.emit(t)}onChipDrop(e){if(e.cancel=!0,this.dragDirective===e.drag)return;let t={owner:this,dragChip:e.drag.data?.chip,originalEvent:e};this.dragDrop.emit(t)}onChipOverHandler(e){if(this.dragDirective===e.drag)return;let t={owner:this,dragChip:e.drag.data?.chip,originalEvent:e};this.dragOver.emit(t)}changeSelection(e,t=null){let i={originalEvent:t,owner:this,selected:!1,cancel:!1};e&&!this._selected?(i.selected=!0,this.selectedChanging.emit(i),i.cancel||(this.renderer.addClass(this.chipArea.nativeElement,this._selectedItemClass),this._selected=e,this.selectedChange.emit(this._selected),this.selectedChanged.emit({owner:this,originalEvent:t}))):!e&&this._selected&&(this.selectedChanging.emit(i),i.cancel||(this.renderer.removeClass(this.chipArea.nativeElement,this._selectedItemClass),this._selected=e,this.selectedChange.emit(this._selected),this.selectedChanged.emit({owner:this,originalEvent:t})))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};return e.fac=function(t){return new(t||e)(nc(fp),nc(wd),nc(bd),nc(RI,8))},e.cmp=tr({type:e,selectors:[["igx-chip"]],viewQuery:function(e,t){if(1&e&&(Bg(UF,7,JT),Bg(UF,7,wd),Bg(qF,7,yg),Bg(YF,7,yg)),2&e){let e;Hg(e=Gg())&&(t.dragDirective=e.first),Hg(e=Gg())&&(t.chipArea=e.first),Hg(e=Gg())&&(t.defaultRemoveIcon=e.first),Hg(e=Gg())&&(t.defaultSelectIcon=e.first)}},hostVars:20,hostBindings:function(e,t){1&e&&Fh("keydown",(function(e){return t.keyEvent(e)})),2&e&&(ph("id",t.id)("role",t.role)("tabIndex",t.tabIndex)("aria-selected",t.selected),tu("--component-size",t.componentSize),iu("igx-chip--disabled",t.disabled)("igx-chip",t.defaultClass)("igx-chip--primary",t.isPrimary)("igx-chip--info",t.isInfo)("igx-chip--success",t.isSuccess)("igx-chip--warning",t.isWarning)("igx-chip--danger",t.isDanger))},inputs:{variant:"variant",id:"id",tabIndex:"tabIndex",data:"data",draggable:"draggable",animateOnRelease:"animateOnRelease",hideBaseOnDrag:"hideBaseOnDrag",removable:"removable",removeIcon:"removeIcon",selectable:"selectable",selectIcon:"selectIcon",class:"class",disabled:"disabled",selected:"selected",color:"color",resourceStrings:"resourceStrings"},outputs:{selectedChange:"selectedChange",moveStart:"moveStart",moveEnd:"moveEnd",remove:"remove",chipClick:"chipClick",selectedChanging:"selectedChanging",selectedChanged:"selectedChanged",keyDown:"keyDown",dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",dragDrop:"dragDrop"},standalone:!0,features:[th,Wu],ngContentSelectors:rP,decls:15,vars:8,consts:[["ghostClass","igx-chip__ghost","igxDrop","",1,"igx-chip__item",3,"igxDrag","ghostStyle","dragStart","ghostCreate","ghostDestroy","dragEnd","transitioned","dragClick","enter","leave","over","dropped"],["chipArea",""],[1,"igx-chip__start"],["selectContainer",""],[3,"ngClass",4,"ngIf"],[1,"igx-chip__content"],[1,"igx-chip__end"],["class","igx-chip__remove",3,"keydown","pointerdown","mousedown","click","touchmove","touchend",4,"ngIf"],["defaultSelectIcon",""],["defaultRemoveIcon",""],[3,"ngClass"],[4,"ngTemplateOutlet"],[1,"igx-chip__remove",3,"keydown","pointerdown","mousedown","click","touchmove","touchend"]],template:function(e,t){1&e&&(Lh(iP),Ch(0,"div",0,1),Fh("dragStart",(function(e){return t.onChipDragStart(e)}))("ghostCreate",(function(){return t.onChipGhostCreate()}))("ghostDestroy",(function(){return t.onChipGhostDestroy()}))("dragEnd",(function(){return t.onChipDragEnd()}))("transitioned",(function(e){return t.onChipMoveEnd(e)}))("dragClick",(function(e){return t.onChipDragClicked(e)}))("enter",(function(e){return t.onChipDragEnterHandler(e)}))("leave",(function(e){return t.onChipDragLeaveHandler(e)}))("over",(function(e){return t.onChipOverHandler(e)}))("dropped",(function(e){return t.onChipDrop(e)})),Ch(2,"div",2,3),yh(4,ZF,2,2,"div",4),Hh(5),Sh(),Ch(6,"div",5),Hh(7,1),Sh(),Ch(8,"div",6),Hh(9,2),yh(10,JF,2,2,"div",7),Sh()(),yh(11,eP,2,1,"ng-template",null,8,jg),yh(13,tP,2,1,"ng-template",null,9,jg)),2&e&&(tu("visibility",t.hideBaseElement?"hidden":"visible"),_h("igxDrag",ju(6,nP,t))("ghostStyle",t.ghostStyles),tc(4),_h("ngIf",t.selected),tc(6),_h("ngIf",t.removable))},dependencies:[eA,JT,Bm,Zm,$m,XI],encapsulation:2}),e})(),uP=["*"],gP=(()=>{let e=class{get _widthToRem(){return Eb(this.width)}get _heightToRem(){return Eb(this.height)}constructor(e,t,i){this.cdr=e,this.element=t,this._iterableDiffers=i,this.role="listbox",this.ariaLabel="chip area",this.reorder=new Pd,this.selectionChange=new Pd,this.moveStart=new Pd,this.moveEnd=new Pd,this.destroy$=new Xe,this.hostClass="igx-chip-area",this._differ=null,this._differ=this._iterableDiffers.find([]).create(null)}ngAfterViewInit(){if(this.chipsList.length){let e=this.chipsList.filter((e=>e.selected));e.length&&this.selectionChange.emit({originalEvent:null,newSelection:e,owner:this})}}ngDoCheck(){if(this.chipsList){let e=this._differ.diff(this.chipsList.toArray());e&&(e.forEachAddedItem((e=>{e.item.moveStart.pipe(Si(e.item.destroy$)).subscribe((e=>{this.onChipMoveStart(e)})),e.item.moveEnd.pipe(Si(e.item.destroy$)).subscribe((e=>{this.onChipMoveEnd(e)})),e.item.dragEnter.pipe(Si(e.item.destroy$)).subscribe((e=>{this.onChipDragEnter(e)})),e.item.keyDown.pipe(Si(e.item.destroy$)).subscribe((e=>{this.onChipKeyDown(e)})),e.item.selectable&&e.item.selectedChanging.pipe(Si(e.item.destroy$)).subscribe((e=>{this.onChipSelectionChange(e)}))})),this.modifiedChipsArray=this.chipsList.toArray())}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onChipKeyDown(e){let t=!1,i=this.chipsList.toArray(),n=i.findIndex((t=>t===e.owner));!0===e.originalEvent.shiftKey?"ArrowLeft"===e.originalEvent.key||"Left"===e.originalEvent.key?(t=this.positionChipAtIndex(n,n-1,!1,e.originalEvent),t&&setTimeout((()=>{this.chipsList.get(n-1).nativeElement.focus()}))):("ArrowRight"===e.originalEvent.key||"Right"===e.originalEvent.key)&&(t=this.positionChipAtIndex(n,n+1,!0,e.originalEvent)):("ArrowLeft"===e.originalEvent.key||"Left"===e.originalEvent.key)&&n>0?i[n-1].nativeElement.focus():("ArrowRight"===e.originalEvent.key||"Right"===e.originalEvent.key)&&n<i.length-1&&i[n+1].nativeElement.focus()}onChipMoveStart(e){this.moveStart.emit({originalEvent:e.originalEvent,owner:this})}onChipMoveEnd(e){this.moveEnd.emit({originalEvent:e.originalEvent,owner:this})}onChipDragEnter(e){let t=this.chipsList.toArray().findIndex((t=>t===e.owner)),i=this.chipsList.toArray().findIndex((t=>t===e.dragChip));i<t?this.positionChipAtIndex(i,t,!0,e.originalEvent):this.positionChipAtIndex(i,t,!1,e.originalEvent)}positionChipAtIndex(e,t,i,n){if(e<0||this.chipsList.length<=e||t<0||this.chipsList.length<=t)return!1;let r=this.chipsList.toArray(),s=[];for(let n=0;n<r.length;n++)i?e<=n&&n<t?s.push(r[n+1]):n===t?s.push(r[e]):s.push(r[n]):t<n&&n<=e?s.push(r[n-1]):n===t?s.push(r[e]):s.push(r[n]);this.modifiedChipsArray=s;let o={chipsArray:this.modifiedChipsArray,originalEvent:n,owner:this};return this.reorder.emit(o),!0}onChipSelectionChange(e){let t=this.chipsList.filter((e=>e.selected));e.selected&&!t.includes(e.owner)?t.push(e.owner):!e.selected&&t.includes(e.owner)&&(t=t.filter((t=>t.id!==e.owner.id))),this.selectionChange.emit({originalEvent:e.originalEvent,newSelection:t,owner:this})}};return e.fac=function(t){return new(t||e)(nc(fp),nc(wd),nc(Tp))},e.cmp=tr({type:e,selectors:[["igx-chips-area"]],contentQueries:function(e,t,i){if(1&e&&zg(i,hP,5),2&e){let e;Hg(e=Gg())&&(t.chipsList=e)}},hostVars:8,hostBindings:function(e,t){2&e&&(ph("role",t.role)("aria-label",t.ariaLabel),nu(t.hostClass),tu("width",t._widthToRem,"rem")("height",t._heightToRem,"rem"))},inputs:{width:"width",height:"height"},outputs:{reorder:"reorder",selectionChange:"selectionChange",moveStart:"moveStart",moveEnd:"moveEnd"},standalone:!0,features:[Wu],ngContentSelectors:uP,decls:1,vars:0,template:function(e,t){1&e&&(Lh(),Hh(0))},encapsulation:2}),e})(),pP=(new Ll("IgxComboComponentToken"),["*"]),mP=(()=>{let e=class{constructor(){this.clicked=new Pd}onClick(e){e.stopPropagation(),this.clicked.emit()}};return e.fac=function(t){return new(t||e)},e.cmp=tr({type:e,selectors:[["igx-picker-toggle"]],hostBindings:function(e,t){1&e&&Fh("click",(function(e){return t.onClick(e)}))},outputs:{clicked:"clicked"},standalone:!0,features:[Wu],ngContentSelectors:pP,decls:1,vars:0,template:function(e,t){1&e&&(Lh(),Hh(0))},encapsulation:2}),e})(),fP=(()=>{let e=class extends mP{};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.cmp=tr({type:e,selectors:[["igx-picker-clear"]],standalone:!0,features:[th,Wu],ngContentSelectors:pP,decls:1,vars:0,template:function(e,t){1&e&&(Lh(),Hh(0))},encapsulation:2}),e})(),yP=(()=>{let e=class{constructor(e){this.template=e}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxPickerActions",""]],standalone:!0}),e})(),vP="horizontal",xP="vertical",_P="dropdown",wP="dialog";function CP(e,t){if(1&e){let e=Rh();Ch(0,"button",5,6),Fh("click",(function(){Bs(e);let t=Vh(3);return zs(t.calendarClose.emit({owner:t}))})),fu(2),Sh()}if(2&e){let e=Vh(3);tc(2),xu(" ",e.closeButtonLabel," ")}}function SP(e,t){if(1&e){let e=Rh();Ch(0,"button",5,7),Fh("click",(function(){Bs(e);let t=Vh(3);return zs(t.todaySelection.emit({owner:t}))})),fu(2),Sh()}if(2&e){let e=Vh(3);tc(2),xu(" ",e.todayButtonLabel," ")}}function bP(e,t){if(1&e&&(Ch(0,"div",3),yh(1,CP,3,1,"button",4),yh(2,SP,3,1,"button",4),Sh()),2&e){let e=Vh(2);tc(1),_h("ngIf",e.closeButtonLabel),tc(1),_h("ngIf",e.todayButtonLabel)}}function DP(e,t){if(1&e&&yh(0,bP,3,2,"div",2),2&e){let e=Vh();_h("ngIf",e.closeButtonLabel||e.todayButtonLabel)}}function EP(e,t){1&e&&Th(0)}var IP=function(e){return{$implicit:e}},TP=(()=>{let e=class{constructor(){this.calendarClose=new Pd,this.todaySelection=new Pd,this.styleClass="igx-date-picker",this.vertical=!1,this.mode=_P}get dropdownCSS(){return this.mode===_P}get verticalCSS(){return this.vertical&&this.mode===wP}onEscape(e){e.preventDefault(),this.calendarClose.emit()}get isReadonly(){return this.mode===wP}};return e.fac=function(t){return new(t||e)},e.cmp=tr({type:e,selectors:[["igx-calendar-container"]],viewQuery:function(e,t){if(1&e&&Bg(BF,7),2&e){let e;Hg(e=Gg())&&(t.calendar=e.first)}},hostVars:6,hostBindings:function(e,t){1&e&&Fh("keydown.alt.arrowup",(function(e){return t.onEscape(e)})),2&e&&iu("igx-date-picker",t.styleClass)("igx-date-picker--dropdown",t.dropdownCSS)("igx-date-picker--vertical",t.verticalCSS)},outputs:{calendarClose:"calendarClose",todaySelection:"todaySelection"},standalone:!0,features:[Wu],decls:4,vars:4,consts:[["defaultPickerActions",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","igx-date-picker__buttons",4,"ngIf"],[1,"igx-date-picker__buttons"],["type","button","igxButton","flat","igxRipple","",3,"click",4,"ngIf"],["type","button","igxButton","flat","igxRipple","",3,"click"],["closeButton",""],["todayButton",""]],template:function(e,t){if(1&e&&(yh(0,DP,1,1,"ng-template",null,0,jg),bh(2,"igx-calendar"),yh(3,EP,1,0,"ng-container",1)),2&e){let e=xh(1);tc(3),_h("ngTemplateOutlet",(null==t.pickerActions?null:t.pickerActions.template)||e)("ngTemplateOutletContext",ju(2,IP,t.calendar))}},dependencies:[$m,HI,DA,BF,Zm],styles:["[_nghost-%COMP%]{display:block}"]}),e})(),AP=(()=>{let e=class extends kI{get locale(){return this._locale}set locale(e){this._locale=e;try{jp(this._locale)}catch{this._locale=this._localeId}}get weekStart(){return this._weekStart??jp(this._locale)}set weekStart(e){this._weekStart=e}set type(e){this._type=e}get type(){return this._type||this._inputGroupType}get collapsed(){return this._collapsed}get isDropdown(){return this.mode===_P}constructor(e,t,i,n){super(i||{displayDensity:"comfortable"},e),this.element=e,this._localeId=t,this._displayDensityOptions=i,this._inputGroupType=n,this.placeholder="",this.mode=_P,this.disabled=!1,this.opening=new Pd,this.opened=new Pd,this.closing=new Pd,this.closed=new Pd,this._collapsed=!0,this._destroy$=new Xe,this.locale=this.locale||this._localeId}ngAfterViewInit(){this.subToIconsClicked(this.toggleComponents,(()=>this.open())),this.toggleComponents.changes.pipe(Si(this._destroy$)).subscribe((()=>this.subToIconsClicked(this.toggleComponents,(()=>this.open()))))}ngAfterContentChecked(){this.inputGroup&&this.prefixes?.length>0&&(this.inputGroup.prefixes=this.prefixes),this.inputGroup&&this.suffixes?.length>0&&(this.inputGroup.suffixes=this.suffixes)}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}subToIconsClicked(e,t){e.forEach((i=>{i.clicked.pipe(Si(Yt(e.changes,this._destroy$))).subscribe(t)}))}};return e.fac=function(t){return new(t||e)(nc(wd),nc(Xg),nc(RI,8),nc(BI,8))},e.dir=or({type:e,contentQueries:function(e,t,i){if(1&e&&(zg(i,mP,5),zg(i,DI,5),zg(i,EI,5)),2&e){let e;Hg(e=Gg())&&(t.toggleComponents=e),Hg(e=Gg())&&(t.prefixes=e),Hg(e=Gg())&&(t.suffixes=e)}},viewQuery:function(e,t){if(1&e&&Bg(UT,5),2&e){let e;Hg(e=Gg())&&(t.inputGroup=e.first)}},inputs:{inputFormat:"inputFormat",displayFormat:"displayFormat",placeholder:"placeholder",mode:"mode",overlaySettings:"overlaySettings",disabled:"disabled",locale:"locale",weekStart:"weekStart",outlet:"outlet",type:"type",tabIndex:"tabIndex"},outputs:{opening:"opening",opened:"opened",closing:"closing",closed:"closed"},features:[th]}),e})();function RP(e,t){if(1&e){let e=Rh();Ch(0,"igx-prefix",7),Fh("click",(function(){return Bs(e),zs(Vh().toggle())})),Ch(1,"igx-icon",8),fu(2,"today"),Sh()()}if(2&e){let e=Vh();tc(1),_h("title",e.value?e.pickerResourceStrings.igx_date_picker_change_date:e.pickerResourceStrings.igx_date_picker_choose_date)}}function kP(e,t){if(1&e){let e=Rh();Ch(0,"igx-suffix",7),Fh("click",(function(){return Bs(e),zs(Vh().clear())})),Ch(1,"igx-icon"),fu(2,"clear"),Sh()()}}var OP=[[["","igxLabel",""]],[["igx-prefix"],["","igxPrefix",""]],[["igx-suffix"],["","igxSuffix",""]],[["igx-hint"],["","igxHint",""]]],FP=["[igxLabel]","igx-prefix,[igxPrefix]","igx-suffix,[igxSuffix]","igx-hint,[igxHint]"],PP=0,MP=(()=>{let e=class extends AP{get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,this._onValidatorChange()}get specialDates(){return this._specialDates}set specialDates(e){this._specialDates=e}get value(){return this._value}set value(e){this._value=e,this.setDateValue(e),this.dateTimeEditor.value!==e&&(this.dateTimeEditor.value=this._dateValue),this.valueChange.emit(this.dateValue),this._onChangeCallback(this.dateValue)}set minValue(e){this._minValue=e,this._onValidatorChange()}get minValue(){return this._minValue}set maxValue(e){this._maxValue=e,this._onValidatorChange()}get maxValue(){return this._maxValue}get dialogOverlaySettings(){return Object.assign({},this._dialogOverlaySettings,this.overlaySettings)}get dropDownOverlaySettings(){return Object.assign({},this._dropDownOverlaySettings,this.overlaySettings)}get inputGroupElement(){return this.inputGroup?.element.nativeElement}get dateValue(){return this._dateValue}get pickerFormatViews(){return Object.assign({},this._defFormatViews,this.formatViews)}get pickerCalendarFormat(){return Object.assign({},this._calendarFormat,this.calendarFormat)}constructor(e,t,i,n,r,s,o,a,l){super(e,t,a,l),this._overlayService=i,this._injector=n,this._renderer=r,this.platform=s,this.cdr=o,this.displayMonthsCount=1,this.headerOrientation=vP,this.spinLoop=!0,this.id="igx-date-picker-"+PP++,this.readOnly=!1,this.valueChange=new Pd,this.validationFailed=new Pd,this.displayValue={transform:e=>this.formatter(e)},this._resourceStrings=FI.DatePickerResourceStrings,this._ngControl=null,this._specialDates=null,this._disabledDates=null,this._overlaySubFilter=[Xt((e=>e.id===this._overlayId)),Si(this._destroy$)],this._dropDownOverlaySettings={target:this.inputGroupElement,closeOnOutsideClick:!0,modal:!1,closeOnEscape:!0,scrollStrategy:new rI,positionStrategy:new XE({openAnimation:Fy,closeAnimation:Py})},this._dialogOverlaySettings={closeOnOutsideClick:!0,modal:!0,closeOnEscape:!0},this._calendarFormat={day:"numeric",month:"short",weekday:"short",year:"numeric"},this._defFormatViews={day:!1,month:!0,year:!1},this._onChangeCallback=bt,this._onTouchedCallback=bt,this._onValidatorChange=bt,this.onStatusChanged=()=>{this.disabled=this._ngControl.disabled,this.updateValidity(),this.inputGroup.isRequired=this.required},this.locale=this.locale||this._localeId}get required(){if(this._ngControl&&this._ngControl.control&&this._ngControl.control.validator){let e=this._ngControl.control.validator({});return e&&e.required}return!1}get pickerResourceStrings(){return Object.assign({},this._resourceStrings,this.resourceStrings)}onKeyDown(e){switch(e.key){case this.platform.KEYMAP.ARROW_UP:e.altKey&&this.close();break;case this.platform.KEYMAP.ARROW_DOWN:e.altKey&&this.open();break;case this.platform.KEYMAP.SPACE:e.preventDefault(),this.open()}}open(e){if(!this.collapsed||this.disabled)return;let t=Object.assign({},this.isDropdown?this.dropDownOverlaySettings:this.dialogOverlaySettings,e);this.isDropdown&&this.inputGroupElement&&(t.target=this.inputGroupElement),this.outlet&&(t.outlet=this.outlet),this._overlayId=this._overlayService.attach(TP,this.viewContainerRef,t),this._overlayService.show(this._overlayId)}toggle(e){this.collapsed?this.open(e):this.close()}close(){this.collapsed||this._overlayService.hide(this._overlayId)}select(e){this.value=e}selectToday(){let e=new Date;e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),this.select(e),this.close()}clear(){this.disabled||(this._calendar?.deselectDate(),this.dateTimeEditor.clear())}increment(e,t){this.dateTimeEditor.increment(e,t)}decrement(e,t){this.dateTimeEditor.decrement(e,t)}writeValue(e){this._value=e,this.setDateValue(e),this.dateTimeEditor.value!==e&&(this.dateTimeEditor.value=this._dateValue)}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}setDisabledState(e){this.disabled=e}registerOnValidatorChange(e){this._onValidatorChange=e}validate(e){if(!e.value)return null;if(rb(e.value)&&!$A.isValidDate(e.value))return{value:!0};let t={},i=$A.isValidDate(e.value)?e.value:$A.parseIsoDate(e.value);return i&&this.disabledDates&&KO(i,this.disabledDates)&&Object.assign(t,{dateIsDisabled:!0}),Object.assign(t,$A.validateMinMax(i,this.minValue,this.maxValue,!1)),Object.keys(t).length>0?t:null}ngOnInit(){this._ngControl=this._injector.get(U_,null),this.locale=this.locale||this._localeId,super.ngOnInit()}ngAfterViewInit(){super.ngAfterViewInit(),this.subscribeToClick(),this.subscribeToOverlayEvents(),this.subscribeToDateEditorEvents(),this.subToIconsClicked(this.clearComponents,(()=>this.clear())),this.clearComponents.changes.pipe(Si(this._destroy$)).subscribe((()=>this.subToIconsClicked(this.clearComponents,(()=>this.clear())))),this._dropDownOverlaySettings.excludeFromOutsideClick=[this.inputGroup.element.nativeElement],Wt(this.inputDirective.nativeElement,"blur").pipe(Si(this._destroy$)).subscribe((()=>{this.collapsed&&(this._onTouchedCallback(),this.updateValidity())})),this._ngControl&&(this._statusChanges$=this._ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this)),this._ngControl.control.validator&&(this.inputGroup.isRequired=this.required,this.cdr.detectChanges()))}ngAfterViewChecked(){this.labelDirective&&this._renderer.setAttribute(this.inputDirective.nativeElement,"aria-labelledby",this.labelDirective.id)}ngOnDestroy(){super.ngOnDestroy(),this._statusChanges$&&this._statusChanges$.unsubscribe(),this._overlayId&&(this._overlayService.detach(this._overlayId),delete this._overlayId)}getEditElement(){return this.inputDirective.nativeElement}subscribeToClick(){Wt(this.getEditElement(),"click").pipe(Si(this._destroy$)).subscribe((()=>{this.isDropdown||this.toggle()}))}setDateValue(e){rb(e)&&isNaN(e.getTime())?this._dateValue=e:this._dateValue=$A.isValidDate(e)?e:$A.parseIsoDate(e)}updateValidity(){this._ngControl&&!this.disabled&&this.isTouchedOrDirty?this.hasValidators&&this.inputGroup.isFocused?this.inputDirective.valid=this._ngControl.valid?wI.VALID:wI.INVALID:this.inputDirective.valid=this._ngControl.valid?wI.INITIAL:wI.INVALID:this.inputDirective.valid=wI.INITIAL}get isTouchedOrDirty(){return this._ngControl.control.touched||this._ngControl.control.dirty}get hasValidators(){return!!this._ngControl.control.validator||!!this._ngControl.control.asyncValidator}handleSelection(e){this.dateValue&&$A.isValidDate(this.dateValue)&&(e.setHours(this.dateValue.getHours()),e.setMinutes(this.dateValue.getMinutes()),e.setSeconds(this.dateValue.getSeconds()),e.setMilliseconds(this.dateValue.getMilliseconds())),this.value=e,this._calendar.viewDate=e,this.close()}subscribeToDateEditorEvents(){this.dateTimeEditor.valueChange.pipe(Si(this._destroy$)).subscribe((e=>{this.value=e})),this.dateTimeEditor.validationFailed.pipe(Si(this._destroy$)).subscribe((e=>{this.validationFailed.emit({owner:this,prevValue:e.oldValue,currentValue:this.value})}))}subscribeToOverlayEvents(){this._overlayService.opening.pipe(...this._overlaySubFilter).subscribe((e=>{let t={owner:this,event:e.event,cancel:e.cancel};this.opening.emit(t),e.cancel=t.cancel,t.cancel?this._overlayService.detach(this._overlayId):(this._initializeCalendarContainer(e.componentRef.instance),this._collapsed=!1)})),this._overlayService.opened.pipe(...this._overlaySubFilter).subscribe((()=>{this.opened.emit({owner:this}),this._calendar?.daysView?.selectedDates?this._calendar?.daysView?.focusActiveDate():this._targetViewDate&&(this._targetViewDate.setHours(0,0,0,0),this._calendar?.daysView?.dates.find((e=>e.date.date.getTime()===this._targetViewDate.getTime()))?.nativeElement.focus())})),this._overlayService.closing.pipe(...this._overlaySubFilter).subscribe((e=>{let t={owner:this,event:e.event,cancel:e.cancel};this.closing.emit(t),e.cancel=t.cancel,!t.cancel&&(!this.getEditElement()||t.event&&this.isDropdown?(this._onTouchedCallback(),this.updateValidity()):this.inputDirective.focus())})),this._overlayService.closed.pipe(...this._overlaySubFilter).subscribe((()=>{this.closed.emit({owner:this}),this._overlayService.detach(this._overlayId),this._collapsed=!0,this._overlayId=null}))}getMinMaxDates(){return{minValue:$A.isValidDate(this.minValue)?this.minValue:$A.parseIsoDate(this.minValue),maxValue:$A.isValidDate(this.maxValue)?this.maxValue:$A.parseIsoDate(this.maxValue)}}setDisabledDates(){this._calendar.disabledDates=this.disabledDates?[...this.disabledDates]:[];let{minValue:e,maxValue:t}=this.getMinMaxDates();e&&this._calendar.disabledDates.push({type:FO.Before,dateRange:[e]}),t&&this._calendar.disabledDates.push({type:FO.After,dateRange:[t]})}_initializeCalendarContainer(e){this._calendar=e.calendar;let t=this.headerOrientation===xP;this._calendar.hasHeader=!this.isDropdown,this._calendar.formatOptions=this.pickerCalendarFormat,this._calendar.formatViews=this.pickerFormatViews,this._calendar.locale=this.locale,this._calendar.vertical=t,this._calendar.weekStart=this.weekStart,this._calendar.specialDates=this.specialDates,this._calendar.headerTemplate=this.headerTemplate,this._calendar.subheaderTemplate=this.subheaderTemplate,this._calendar.hideOutsideDays=this.hideOutsideDays,this._calendar.monthsViewNumber=this.displayMonthsCount,this._calendar.showWeekNumbers=this.showWeekNumbers,this._calendar.selected.pipe(Si(this._destroy$)).subscribe((e=>this.handleSelection(e))),this.setDisabledDates(),$A.isValidDate(this.dateValue)&&(this._calendar.value=this.dateValue),this.setCalendarViewDate(),e.mode=this.mode,e.vertical=t,e.closeButtonLabel=this.cancelButtonLabel,e.todayButtonLabel=this.todayButtonLabel,e.pickerActions=this.pickerActions,e.calendarClose.pipe(Si(this._destroy$)).subscribe((()=>this.close())),e.todaySelection.pipe(Si(this._destroy$)).subscribe((()=>this.selectToday()))}setCalendarViewDate(){let{minValue:e,maxValue:t}=this.getMinMaxDates(),i=$A.isValidDate(this.dateValue)?this.dateValue:new Date;e&&$A.lessThanMinValue(i,e)?this._calendar.viewDate=this._targetViewDate=e:t&&$A.greaterThanMaxValue(i,t)?this._calendar.viewDate=this._targetViewDate=t:this._calendar.viewDate=this._targetViewDate=i}};return e.fac=function(t){return new(t||e)(nc(wd),nc(Xg),nc(nI),nc(Rd),nc(bd),nc(ob),nc(fp),nc(RI,8),nc(BI,8))},e.cmp=tr({type:e,selectors:[["igx-date-picker"]],contentQueries:function(e,t,i){if(1&e&&(zg(i,bI,5),zg(i,RO,5),zg(i,kO,5),zg(i,yP,5),zg(i,fP,4)),2&e){let e;Hg(e=Gg())&&(t.label=e.first),Hg(e=Gg())&&(t.headerTemplate=e.first),Hg(e=Gg())&&(t.subheaderTemplate=e.first),Hg(e=Gg())&&(t.pickerActions=e.first),Hg(e=Gg())&&(t.clearComponents=e)}},viewQuery:function(e,t){if(1&e&&(Bg(WA,7),Bg(UT,5,Cg),Bg(bI,5),Bg(CI,5)),2&e){let e;Hg(e=Gg())&&(t.dateTimeEditor=e.first),Hg(e=Gg())&&(t.viewContainerRef=e.first),Hg(e=Gg())&&(t.labelDirective=e.first),Hg(e=Gg())&&(t.inputDirective=e.first)}},hostVars:1,hostBindings:function(e,t){1&e&&Fh("keydown",(function(e){return t.onKeyDown(e)})),2&e&&ph("id",t.id)},inputs:{hideOutsideDays:"hideOutsideDays",displayMonthsCount:"displayMonthsCount",showWeekNumbers:"showWeekNumbers",formatter:"formatter",headerOrientation:"headerOrientation",todayButtonLabel:"todayButtonLabel",cancelButtonLabel:"cancelButtonLabel",spinLoop:"spinLoop",spinDelta:"spinDelta",outlet:"outlet",id:"id",formatViews:"formatViews",disabledDates:"disabledDates",specialDates:"specialDates",calendarFormat:"calendarFormat",value:"value",minValue:"minValue",maxValue:"maxValue",resourceStrings:"resourceStrings",readOnly:"readOnly"},outputs:{valueChange:"valueChange",validationFailed:"validationFailed"},standalone:!0,features:[Nu([{provide:h_,useExisting:e,multi:!0},{provide:y_,useExisting:e,multi:!0}]),th,Wu],ngContentSelectors:FP,decls:12,vars:18,consts:[[3,"displayDensity","type"],[3,"click",4,"ngIf"],["igxInput","","aria-haspopup","dialog","aria-autocomplete","none","role","combobox",1,"igx-date-picker__input-date",3,"displayValuePipe","igxDateTimeEditor","displayFormat","minValue","maxValue","spinDelta","spinLoop","disabled","placeholder","readonly","igxTextSelection","locale"],["ngProjectAs","[igxLabel]",5,["","igxLabel",""]],["ngProjectAs","igx-prefix",5,["igx-prefix"]],["ngProjectAs","igx-suffix",5,["igx-suffix"]],["ngProjectAs","igx-hint",5,["igx-hint"]],[3,"click"],[3,"title"]],template:function(e,t){1&e&&(Lh(OP),Ch(0,"igx-input-group",0),yh(1,RP,3,1,"igx-prefix",1),bh(2,"input",2),yh(3,kP,3,0,"igx-suffix",1),Eh(4,3),Hh(5),Ih(),Eh(6,4),Hh(7,1),Ih(),Eh(8,5),Hh(9,2),Ih(),Eh(10,6),Hh(11,3),Ih(),Sh()),2&e&&(_h("displayDensity",t.displayDensity)("type",t.type),tc(1),_h("ngIf",!t.toggleComponents.length),tc(1),_h("displayValuePipe",t.formatter?t.displayValue:null)("igxDateTimeEditor",t.inputFormat)("displayFormat",t.displayFormat)("minValue",t.minValue)("maxValue",t.maxValue)("spinDelta",t.spinDelta)("spinLoop",t.spinLoop)("disabled",t.disabled)("placeholder",t.placeholder)("readonly",!t.isDropdown||t.readOnly)("igxTextSelection",t.isDropdown&&!t.readOnly)("locale",t.locale),ph("aria-expanded",!t.collapsed)("aria-labelledby",null==t.label?null:t.label.id),tc(1),_h("ngIf",!t.clearComponents.length&&t.value))},dependencies:[$m,UT,DI,XI,CI,WA,RA,EI],styles:["[_nghost-%COMP%]{display:block}"]}),e})();function VP(e,t){if(1&e&&(Ch(0,"h4",7),fu(1),Sh()),2&e){let e=Vh();ph("id",e.titleID),tc(1),vu(e.title)}}function NP(e,t){if(1&e){let e=Rh();Ch(0,"igx-input-group",8)(1,"input",9),Fh("ngModelChange",(function(t){return Bs(e),zs(Vh().filterCriteria=t)})),Sh()()}if(2&e){let e=Vh();tc(1),_h("ngModel",e.filterCriteria)("placeholder",e.filterColumnsPrompt),ph("aria-describedby",e.titleID)}}function LP(e,t){if(1&e){let e=Rh();Ch(0,"igx-checkbox",10),Fh("click",(function(){let t=Bs(e).$implicit;return zs(Vh().toggleColumn(t))})),fu(1),Sh()}if(2&e){let e=t.$implicit,i=Vh();tu("margin-left",e.level*i.indentation,"px"),_h("readonly",!0)("checked",i.actionsDirective.columnChecked(e)),tc(1),xu(" ",e.header||e.field," ")}}var HP=0,BP=(()=>{let e=class{constructor(e){this.differs=e,this.indentation=30,this.cssClass="igx-column-actions",this.columnsAreaMaxHeight="100%",this.hideFilter=!1,this.title="",this.columnToggled=new Pd,this.actionableColumns=[],this.filteredColumns=[],this.pipeTrigger=0,this._differ=null,this._filterColumnsPrompt="",this._filterCriteria="",this._columnDisplayOrder=gD,this._id="igx-column-actions-"+HP++,this.trackChanges=(e,t)=>t.field+"_"+this.actionsDirective.actionEnabledColumnsFilter(t,e,[]),this._differ=this.differs.find([]).create(this.trackChanges)}get filterColumnsPrompt(){return this._filterColumnsPrompt}set filterColumnsPrompt(e){this._filterColumnsPrompt=e||""}get filterCriteria(){return this._filterCriteria}set filterCriteria(e){(e=e||"")!==this._filterCriteria&&(this._filterCriteria=e,this.pipeTrigger++)}get columnDisplayOrder(){return this._columnDisplayOrder}set columnDisplayOrder(e){e&&e!==this._columnDisplayOrder&&(this._columnDisplayOrder=e,this.pipeTrigger++)}get uncheckAllText(){return this._uncheckAllText||this.actionsDirective.uncheckAllLabel}set uncheckAllText(e){this._uncheckAllText=e}get checkAllText(){return this._checkAllText||this.actionsDirective.checkAllLabel}set checkAllText(e){this._checkAllText=e}get checkAllDisabled(){return this.actionsDirective.allUnchecked}get uncheckAllDisabled(){return this.actionsDirective.allChecked}get id(){return this._id}set id(e){this._id=e}get titleID(){return this.id+"_title"}ngDoCheck(){this._differ&&this._differ.diff(this.grid?.columnList)&&this.pipeTrigger++}uncheckAllColumns(){this.actionsDirective.uncheckAll()}checkAllColumns(){this.actionsDirective.checkAll()}toggleColumn(e){this.actionsDirective.toggleColumn(e),this.columnToggled.emit({column:e,checked:this.actionsDirective.columnChecked(e)})}};return e.fac=function(t){return new(t||e)(nc(Tp))},e.cmp=tr({type:e,selectors:[["igx-column-actions"]],viewQuery:function(e,t){if(1&e&&Bg(nk,5),2&e){let e;Hg(e=Gg())&&(t.columnItems=e)}},hostVars:3,hostBindings:function(e,t){2&e&&(ph("id",t.id),nu(t.cssClass))},inputs:{grid:"grid",indentation:"indentation",columnsAreaMaxHeight:"columnsAreaMaxHeight",hideFilter:"hideFilter",title:"title",filterColumnsPrompt:"filterColumnsPrompt",filterCriteria:"filterCriteria",columnDisplayOrder:"columnDisplayOrder",uncheckAllText:"uncheckAllText",checkAllText:"checkAllText",id:"id"},outputs:{columnToggled:"columnToggled"},standalone:!0,features:[Wu],decls:13,vars:21,consts:[[1,"igx-column-actions__header"],["class","igx-column-actions__header-title",4,"ngIf"],["class","igx-column-actions__header-input",4,"ngIf"],["tabindex","0",1,"igx-column-actions__columns"],["class","igx-column-actions__columns-item",3,"readonly","checked","margin-left","click",4,"ngFor","ngForOf"],[1,"igx-column-actions__buttons"],["type","button","igxButton","","igxRipple","",3,"disabled","click"],[1,"igx-column-actions__header-title"],[1,"igx-column-actions__header-input"],["igxInput","","type","text","autocomplete","off",3,"ngModel","placeholder","ngModelChange"],[1,"igx-column-actions__columns-item",3,"readonly","checked","click"]],template:function(e,t){if(1&e&&(Ch(0,"div",0),yh(1,VP,2,2,"h4",1),yh(2,NP,2,3,"igx-input-group",2),Sh(),Ch(3,"div",3),yh(4,LP,2,5,"igx-checkbox",4),ag(5,"sortActionColumns"),ag(6,"filterActionColumns"),ag(7,"columnActionEnabled"),Sh(),Ch(8,"div",5)(9,"button",6),Fh("click",(function(){return t.uncheckAllColumns()})),fu(10),Sh(),Ch(11,"button",6),Fh("click",(function(){return t.checkAllColumns()})),fu(12),Sh()()),2&e){let e;tc(1),_h("ngIf",t.title),tc(1),_h("ngIf",!t.hideFilter),tc(1),tu("max-height",t.columnsAreaMaxHeight),tc(1),_h("ngForOf",cg(5,9,cg(6,13,cg(7,17,null==(e=t.grid)?null:e._columns,t.actionsDirective.actionEnabledColumnsFilter,t.pipeTrigger),t.filterCriteria,t.pipeTrigger),t.columnDisplayOrder,t.pipeTrigger)),tc(5),_h("disabled",t.uncheckAllDisabled),tc(1),vu(t.uncheckAllText),tc(1),_h("disabled",t.checkAllDisabled),tc(1),vu(t.checkAllText)}},dependencies:function(){return[$m,UT,qw,p_,Y_,ww,CI,zm,nk,HI,DA,zP,GP,$P]},encapsulation:2}),e})(),zP=(()=>{let e=class{constructor(e){this.columnActions=e}transform(e,t,i){if(!e)return e;let n=e.slice(0);return n.length&&n[0].grid.hasColumnLayouts&&(n=n.filter((e=>e.columnLayout))),t&&(n=n.filter(t)),this.columnActions.actionableColumns=n,n}};return e.fac=function(t){return new(t||e)(nc(BP,16))},e.pipe=ar({name:"columnActionEnabled",type:e,pure:!0,standalone:!0}),e})(),GP=(()=>{let e=class{constructor(e){this.columnActions=e}transform(e,t,i){if(!e)return e;let n=e.slice(0);if(t&&t.length>0){let i=e=>{let n=e.header||e.field;return!!n&&(n.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>=0||(e.children?.some(i)??!1))};n=e.filter(i)}return this.columnActions.filteredColumns=n,n}};return e.fac=function(t){return new(t||e)(nc(BP,16))},e.pipe=ar({name:"filterActionColumns",type:e,pure:!0,standalone:!0}),e})(),$P=(()=>{let e=class{transform(e,t,i){return t===uD?e.sort(((e,t)=>(e.header||e.field).localeCompare(t.header||t.field))):e}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"sortActionColumns",type:e,pure:!0,standalone:!0}),e})(),WP=(()=>{let e=class{};return e.fac=function(t){return new(t||e)},e.dir=or({type:e}),e})(),KP=(()=>{let e=class extends WP{constructor(e){super(),this.columnActions=e,this.actionEnabledColumnsFilter=e=>!e.disableHiding,e.actionsDirective=this}get checkAllLabel(){return this.columnActions.grid?.resourceStrings.igx_grid_hiding_check_all_label??"Show All"}get uncheckAllLabel(){return this.columnActions.grid?.resourceStrings.igx_grid_hiding_uncheck_all_label??"Hide All"}checkAll(){this.columnActions.filteredColumns.forEach((e=>e.toggleVisibility(!1)))}uncheckAll(){this.columnActions.filteredColumns.forEach((e=>e.toggleVisibility(!0)))}columnChecked(e){return!e.hidden}toggleColumn(e){e.toggleVisibility()}get allChecked(){return this.columnActions.filteredColumns.every((e=>!this.columnChecked(e)))}get allUnchecked(){return this.columnActions.filteredColumns.every((e=>this.columnChecked(e)))}};return e.fac=function(t){return new(t||e)(nc(BP))},e.dir=or({type:e,selectors:[["","igxColumnHiding",""]],standalone:!0,features:[th]}),e})(),jP=(()=>{let e=class extends WP{constructor(e){super(),this.columnActions=e,this.actionEnabledColumnsFilter=e=>!e.disablePinning&&!e.level,e.actionsDirective=this}get checkAllLabel(){return this.columnActions.grid?.resourceStrings.igx_grid_pinning_check_all_label??"Pin All"}get uncheckAllLabel(){return this.columnActions.grid?.resourceStrings.igx_grid_pinning_uncheck_all_label??"Unpin All"}checkAll(){this.columnActions.filteredColumns.forEach((e=>e.pinned=!0))}uncheckAll(){this.columnActions.filteredColumns.forEach((e=>e.pinned=!1))}columnChecked(e){return e.pinned}toggleColumn(e){e.pinned=!e.pinned}get allUnchecked(){return!this.columnActions.filteredColumns.some((e=>!this.columnChecked(e)))}get allChecked(){return!this.columnActions.filteredColumns.some((e=>this.columnChecked(e)))}};return e.fac=function(t){return new(t||e)(nc(BP))},e.dir=or({type:e,selectors:[["","igxColumnPinning",""]],standalone:!0,features:[th]}),e})();(()=>{let e=class extends Lw{};e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.dir=or({type:e,selectors:[["igx-column","required",""]],standalone:!0,features:[Nu([{provide:y_,useExisting:e,multi:!0}]),th]})})(),(()=>{let e=class extends Vw{};e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.dir=or({type:e,selectors:[["igx-column","min",""]],standalone:!0,features:[Nu([{provide:y_,useExisting:e,multi:!0}]),th]})})(),(()=>{let e=class extends Pw{};e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.dir=or({type:e,selectors:[["igx-column","max",""]],standalone:!0,features:[Nu([{provide:y_,useExisting:e,multi:!0}]),th]})})(),(()=>{let e=class extends Bw{};e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.dir=or({type:e,selectors:[["igx-column","email",""]],standalone:!0,features:[Nu([{provide:y_,useExisting:e,multi:!0}]),th]})})(),(()=>{let e=class extends Gw{};e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.dir=or({type:e,selectors:[["igx-column","minlength",""]],standalone:!0,features:[Nu([{provide:y_,useExisting:e,multi:!0}]),th]})})(),(()=>{let e=class extends Ww{};e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.dir=or({type:e,selectors:[["igx-column","maxlength",""]],standalone:!0,features:[Nu([{provide:y_,useExisting:e,multi:!0}]),th]})})(),(()=>{let e=class extends jw{};e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.dir=or({type:e,selectors:[["igx-column","pattern",""]],standalone:!0,features:[Nu([{provide:y_,useExisting:e,multi:!0}]),th]})})();function UP(){return(e,t,i)=>{let n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};let r=i.set||function(e){this[n]=e};return i.set=function(e){let i=this._init,n=this[t];if((e!==n||"object"==typeof e&&e===n)&&(r.call(this,e),this.ngOnChanges&&!i)){let i={[t]:new ms(n,e,!1)};this.ngOnChanges(i)}},i}}function qP(){return(e,t,i)=>{let n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};let r=i.set||function(e){this[n]=e};return i.set=function(e){let i=this[t];r.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.columnChange&&this.columnChange.emit()},i}}function YP(e=!1){return(t,i,n)=>{let r=`__${i}`,s=(n=n||{enumerable:!0,configurable:!0})?n.set:null;return n.get=n.get||function(){return this[r]},n.set=function(t){if(s)s.call(this,t),this.grid&&this.grid.notifyChanges(e&&!this.grid.isPivot);else{if(t===this[i])return;this[r]=t,this.grid&&this.grid.notifyChanges(e&&!this.grid.isPivot)}},n}}var XP=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxFilterCellTemplate",""]],standalone:!0}),e})(),ZP=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxCell",""]],standalone:!0}),e})(),QP=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxCellValidationError",""]],standalone:!0}),e})(),JP=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxHeader",""]],standalone:!0}),e})(),eM=((()=>{let e=class{constructor(e){this.template=e}};e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxFooter",""]],standalone:!0})})(),(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxCellEditor",""]],standalone:!0}),e})()),tM=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxCollapsibleIndicator",""]],standalone:!0}),e})(),iM=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxSummary",""]],standalone:!0}),e})(),nM=function(e){return e[e.BeforeDropTarget=0]="BeforeDropTarget",e[e.AfterDropTarget=1]="AfterDropTarget",e}(nM||{}),rM=(()=>{let e=class{};return e.fac=function(t){return new(t||e)},e.prov=Zi({token:e,factory:e.fac,providedIn:"root"}),e})(),sM=class{constructor(e,t,i){this.grid=e,"number"==typeof t?this._rowIndex=t:(this._row=t,this._rowIndex=t.index),this._column=i}get row(){return this._row||this.grid.createRow(this._rowIndex)}get column(){return this._column}get editValue(){if(this.isCellInEditMode())return this.grid.crudService.cell.editValue}set editValue(e){this.isCellInEditMode()&&(this.grid.crudService.cell.editValue=e)}get validation(){let e=this.grid.validation.getFormControl(this.row.key,this.column.field);return{status:e?.status||"VALID",errors:e?.errors}}get editable(){return this.column.editable&&!this.row?.disabled}get width(){return this.column.width}get value(){return this.column.field?this.column.hasNestedPath?vb(this.row?.data,this.column.field):this.row?.data[this.column.field]:void 0}set value(e){this.update(e)}get id(){let e=this.grid.primaryKey;return{rowID:e?this.row?.data[e]:this.row?.data,columnID:this.column.index,rowIndex:this._rowIndex||this.row?.index}}get editMode(){return this.isCellInEditMode()}set editMode(e){let t=this.isCellInEditMode();!this.row||this.row?.deleted||t===e||(this.editable&&e?(this.endEdit(),this.grid.crudService.enterEditMode(this)):this.grid.crudService.endCellEdit(),this.grid.notifyChanges())}get selected(){return this.grid.selectionService.selected(this.selectionNode)}set selected(e){let t=this.selectionNode;e?this.grid.selectionService.add(t):this.grid.selectionService.remove(t),this.grid.notifyChanges()}get active(){let e=this.grid.navigation.activeNode;return!!e&&e.row===this.row?.index&&e.column===this.column.visibleIndex}update(e){if(this.row?.deleted)return;this.endEdit();let t=this.isCellInEditMode()?this.grid.crudService.cell:this.grid.crudService.createCell(this);t.editValue=e,this.grid.gridAPI.update_cell(t),this.grid.crudService.endCellEdit(),this.grid.notifyChanges()}get selectionNode(){return{row:this.row?.index,column:this.column.columnLayoutChild?this.column.parent.visibleIndex:this.column.visibleIndex,layout:this.column.columnLayoutChild?{rowStart:this.column.rowStart,colStart:this.column.colStart,rowEnd:this.column.rowEnd,colEnd:this.column.colEnd,columnVisibleIndex:this.column.visibleIndex}:null}}isCellInEditMode(){if(this.grid.crudService.cellInEditMode){let e=this.grid.crudService.cell.id;return e.rowID===this.id.rowID&&e.rowIndex===this.id.rowIndex&&e.columnID===this.id.columnID}return!1}endEdit(){this.isCellInEditMode()||(this.grid.gridAPI.update_cell(this.grid.crudService.cell),this.grid.crudService.endCellEdit())}},oM=class{set field(e){this._field=e,this.hasNestedPath=e?.includes(".")}get field(){return this._field}get selectable(){return this._selectable}set selectable(e){this._selectable=e}get groupable(){return this._groupable}set groupable(e){this._groupable=e,this.grid.groupablePipeTrigger++}get editable(){let e=this.grid&&this.grid.rowEditable,t=this.grid&&this.grid.transactions.enabled;return(!this.isPrimaryColumn||!e&&!t)&&(void 0!==this._editable?this._editable:e)}set editable(e){this._editable=e}get hasSummary(){return this._hasSummary}set hasSummary(e){this._hasSummary=e,this.grid&&this.grid.summaryService.resetSummaryHeight()}get hidden(){return this._hidden}set hidden(e){if(this._hidden!==e){if(this._hidden=e,this.hiddenChange.emit(this._hidden),this.columnLayoutChild&&this.parent.hidden!==e)return void(this.parent.hidden=e);this.grid&&(this.grid.crudService.endEdit(!1),this.grid.summaryService.resetSummaryHeight(),this.grid.filteringService.refreshExpressions(),this.grid.filteringService.hideFilteringRowOnColumnVisibilityChange(this),this.grid.notifyChanges())}}get selected(){return this.grid.selectionService.isColumnSelected(this.field)}set selected(e){this.selectable&&e!==this.selected&&(e?this.grid.selectionService.selectColumnsWithNoEvent([this.field]):this.grid.selectionService.deselectColumnsWithNoEvent([this.field]),this.grid.notifyChanges())}get width(){return this._width&&"string"==typeof this._width&&"auto"===this._width?this.autoSize?this.autoSize+"px":"fit-content":this.widthSetByUser?this._width:this.defaultWidth}set width(e){e&&(this._calcWidth=null,this.calcPixelWidth=NaN,this.widthSetByUser=!0,("number"==typeof e||e.match(/^[0-9]*$/))&&(e+="px"),"fit-content"===e&&(e="auto"),this._width=e,this.grid&&this.cacheCalcWidth(),this.widthChange.emit(this._width))}get calcWidth(){return this.getCalcWidth()}get maxWidthPx(){let e=this.grid.calcWidth;return this.maxWidth&&"string"==typeof this.maxWidth&&-1!==this.maxWidth.indexOf("%")?parseFloat(this.maxWidth)/100*e:parseFloat(this.maxWidth)}get maxWidthPercent(){let e=this.grid.calcWidth;return this.maxWidth&&"string"==typeof this.maxWidth&&-1!==this.maxWidth.indexOf("%")?parseFloat(this.maxWidth):parseFloat(this.maxWidth)/e*100}get minWidthPx(){let e=this.grid.calcWidth;return this.minWidth&&"string"==typeof this.minWidth&&-1!==this.minWidth.indexOf("%")?parseFloat(this.minWidth)/100*e:parseFloat(this.minWidth)}get minWidthPercent(){let e=this.grid.calcWidth;return this.minWidth&&"string"==typeof this.minWidth&&-1!==this.minWidth.indexOf("%")?parseFloat(this.minWidth):parseFloat(this.minWidth)/e*100}set minWidth(e){let t=parseFloat(e);Number.isNaN(t)||(this._defaultMinWidth=e)}get minWidth(){return this._defaultMinWidth?this._defaultMinWidth:this.defaultMinWidth}get resolvedWidth(){return this.columnLayoutChild?"":this._width&&"string"==typeof this._width&&"auto"===this._width?this.width:this.calcPixelWidth+"px"}get index(){return this.grid._columns.indexOf(this)}get pinned(){return this._pinned}set pinned(e){if(this._pinned!==e){let t=this.width&&"string"==typeof this.width&&"fit-content"===this.width;if(this.grid&&this.width&&(t||!isNaN(parseInt(this.width,10))))return void(e?this.pin():this.unpin());this._pinned=e,this.pinnedChange.emit(this._pinned)}}get summaries(){return this._summaries}set summaries(e){(e=>"function"==typeof e&&!!e.prototype&&!!e.prototype.constructor)(e)&&(this._summaries=new e),this.grid&&(this.grid.summaryService.removeSummariesCachePerColumn(this.field),this.grid.summaryPipeTrigger++,this.grid.summaryService.resetSummaryHeight())}get filters(){return this._filters}set filters(e){this._filters=e}get sortStrategy(){return this._sortStrategy}set sortStrategy(e){this._sortStrategy=e}get groupingComparer(){return this._groupingComparer}set groupingComparer(e){this._groupingComparer=e}get defaultMinWidth(){if(!this.grid)return"80";switch(this.grid.displayDensity){case TI:return"64";case AI:return"56";default:return"80"}}get summaryTemplate(){return this._summaryTemplate}set summaryTemplate(e){this._summaryTemplate=e}get bodyTemplate(){return this._bodyTemplate}set bodyTemplate(e){this._bodyTemplate=e}get headerTemplate(){return this._headerTemplate}set headerTemplate(e){this._headerTemplate=e}get inlineEditorTemplate(){return this._inlineEditorTemplate}set inlineEditorTemplate(e){this._inlineEditorTemplate=e}get errorTemplate(){return this._errorTemplate}set errorTemplate(e){this._errorTemplate=e}get filterCellTemplate(){return this._filterCellTemplate}set filterCellTemplate(e){this._filterCellTemplate=e}get cells(){return this.grid.dataView.map(((e,t)=>{if(!this.grid.isGroupByRecord(e)&&!this.grid.isSummaryRow(e))return 1===this.grid.pagingMode&&0!==this.grid.page?t+=this.grid.perPage*this.grid.page:t=this.grid.dataRowList.first.index+t,new sM(this.grid,t,this)})).filter((e=>e))}get _cells(){return this.grid.rowList.filter((e=>e instanceof kk)).map((e=>{if(e._cells)return e._cells.filter((e=>e.columnIndex===this.index))})).reduce(((e,t)=>e.concat(t)),[])}get visibleIndex(){if(!isNaN(this._vIndex))return this._vIndex;let e=this.grid.unpinnedColumns.filter((e=>!e.columnGroup)),t=this.grid.pinnedColumns.filter((e=>!e.columnGroup)),i=this,n=-1;if(this.columnGroup&&(i=this.allChildren.filter((e=>!e.columnGroup&&!e.hidden))[0]),this.columnLayoutChild)return this.parent.childrenVisibleIndexes.find((e=>e.column===this)).index;if(this.pinned){let r=t.indexOf(i);n=this.grid.isPinningToStart?r:e.length+r}else{let r=e.indexOf(i);n=-1===r?-1:this.grid.isPinningToStart?t.length+r:r}return this._vIndex=n,n}get columnGroup(){return!1}get columnLayout(){return!1}get columnLayoutChild(){return this.parent&&this.parent.columnLayout}get allChildren(){return[]}get level(){let e=this.parent,t=0;for(;e;)t++,e=e.parent;return t}get isLastPinned(){return this.grid.isPinningToStart&&this.grid.pinnedColumns[this.grid.pinnedColumns.length-1]===this}get isFirstPinned(){let e=this.grid.pinnedColumns.filter((e=>!e.columnGroup));return!this.grid.isPinningToStart&&e[0]===this}get rightPinnedOffset(){return this.pinned&&!this.grid.isPinningToStart?-this.grid.pinnedWidth-this.grid.headerFeaturesWidth+"px":null}get gridRowSpan(){return this.rowEnd&&this.rowStart?this.rowEnd-this.rowStart:1}get gridColumnSpan(){return this.colEnd&&this.colStart?this.colEnd-this.colStart:1}set visibleWhenCollapsed(e){this._visibleWhenCollapsed=e,this.visibleWhenCollapsedChange.emit(this._visibleWhenCollapsed),this.parent&&this.parent?.setExpandCollapseState?.()}get visibleWhenCollapsed(){return this._visibleWhenCollapsed}set pipeArgs(e){this._columnPipeArgs=Object.assign(this._columnPipeArgs,e),this.grid.summaryService.clearSummaryCache(),this.grid.pipeTrigger++}get pipeArgs(){return this._columnPipeArgs}get collapsible(){return!1}set collapsible(e){}get expanded(){return!0}set expanded(e){}get filteringExpressionsTree(){return this.grid.filteringExpressionsTree.find(this.field)}get columnChildren(){return this.children.toArray()}set columnChildren(e){}get isPrimaryColumn(){return void 0!==this.field&&void 0!==this.grid&&this.field===this.grid.primaryKey}constructor(e,t,i,n){this.grid=e,this._validators=t,this.cdr=i,this.platform=n,this.validators=[],this.header="",this.title="",this.sortable=!1,this.filterable=!0,this.resizable=!1,this.autosizeHeader=!0,this.hiddenChange=new Pd,this.expandedChange=new Pd,this.collapsibleChange=new Pd,this.visibleWhenCollapsedChange=new Pd,this.columnChange=new Pd,this.disableHiding=!1,this.disablePinning=!1,this.movable=!1,this.headerClasses="",this.headerStyles=null,this.headerGroupClasses="",this.headerGroupStyles=null,this.cellStyles=null,this.filteringIgnoreCase=!0,this.sortingIgnoreCase=!0,this.searchable=!0,this.dataType=Wb.String,this.widthChange=new Pd,this.pinnedChange=new Pd,this.defaultTimeFormat="hh:mm:ss tt",this.defaultDateTimeFormat="dd/MM/yyyy HH:mm:ss tt",this.parent=null,this.destroy$=new Xe,this._applySelectableClass=!1,this._vIndex=NaN,this._pinned=!1,this._summaries=null,this._filters=null,this._sortStrategy=kb.instance(),this._hidden=!1,this._disablePinning=!1,this._defaultMinWidth="",this._hasSummary=!1,this._groupable=!1,this._collapsible=!1,this._expanded=!0,this._selectable=!0,this._calcWidth=null,this._columnPipeArgs={digitsInfo:"1.0-3"},this.validators=t}resetCaches(){this._vIndex=NaN,this.grid&&this.cacheCalcWidth()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngAfterContentInit(){if(this.summaryTemplateDirective&&(this._summaryTemplate=this.summaryTemplateDirective.template),this.cellTemplate&&(this._bodyTemplate=this.cellTemplate.template),this.cellValidationErrorTemplate&&(this._errorTemplate=this.cellValidationErrorTemplate.template),this.headTemplate&&this.headTemplate.length&&(this._headerTemplate=this.headTemplate.toArray()[0].template),this.editorTemplate&&(this._inlineEditorTemplate=this.editorTemplate.template),this.filterCellTemplateDirective&&(this._filterCellTemplate=this.filterCellTemplateDirective.template),this._columnPipeArgs.format||(this._columnPipeArgs.format=this.dataType===Wb.Time?"mediumTime":this.dataType===Wb.DateTime?"medium":"mediumDate"),!this.summaries)switch(this.dataType){case Wb.Number:case Wb.Currency:case Wb.Percent:this.summaries=yk;break;case Wb.Date:case Wb.DateTime:this.summaries=vk;break;case Wb.Time:this.summaries=xk;break;default:this.summaries=fk}if(!this.filters)switch(this.dataType){case Wb.Boolean:this.filters=jA.instance();break;case Wb.Number:case Wb.Currency:case Wb.Percent:this.filters=ZA.instance();break;case Wb.Date:this.filters=qA.instance();break;case Wb.Time:this.filters=XA.instance();break;case Wb.DateTime:this.filters=YA.instance();break;case Wb.Image:this.filterable=!1;break;default:this.filters=QA.instance()}}getGridTemplate(e){return e?`repeat(${this.grid.isPivot?this.children.length-1:this.grid.multiRowLayoutRowSize},1fr)`:this.getColumnSizesString(this.children)}getInitialChildColumnSizes(e){let t=[];e.forEach((e=>{if(!e.colStart)return;let i=e.widthSetByUser&&t[e.colStart-1]&&!t[e.colStart-1].widthSetByUser,n=t[e.colStart-1]&&t[e.colStart-1].colSpan>e.gridColumnSpan,r=e.widthSetByUser&&t[e.colStart-1]&&t[e.colStart-1].widthSetByUser,s=!e.widthSetByUser&&t[e.colStart-1]&&!t[e.colStart-1].widthSetByUser;if(void 0===t[e.colStart-1])t[e.colStart-1]={ref:e,width:"fit-content"===e.width?e.autoSize:e.widthSetByUser||this.grid.columnWidthSetByUser?parseInt(e.calcWidth,10):null,colSpan:e.gridColumnSpan,colEnd:e.colStart+e.gridColumnSpan,widthSetByUser:e.widthSetByUser};else if(i||n&&(r||s)){if(r&&n)for(let i=e.colStart-1+e.gridColumnSpan;i<t[e.colStart-1].colEnd-1&&(!t[i]||!t[i].widthSetByUser);i++)t[i]=t[e.colStart-1];t[e.colStart-1]={ref:e,width:"fit-content"===e.width?e.autoSize:e.widthSetByUser||this.grid.columnWidthSetByUser?parseInt(e.calcWidth,10):null,colSpan:e.gridColumnSpan,colEnd:e.colStart+e.gridColumnSpan,widthSetByUser:e.widthSetByUser}}else if(r&&t[e.colStart-1].colSpan<e.gridColumnSpan)for(let i=e.colStart-1+t[e.colStart-1].colSpan;i<e.colStart-1+e.gridColumnSpan&&(!t[i]||!t[i].widthSetByUser);i++)t[i]={ref:e,width:"fit-content"===e.width?e.autoSize:e.widthSetByUser||this.grid.columnWidthSetByUser?parseInt(e.calcWidth,10):null,colSpan:e.gridColumnSpan,colEnd:e.colStart+e.gridColumnSpan,widthSetByUser:e.widthSetByUser}}));for(let e=0;e<t.length;e++)if(t[e]&&t[e].colSpan>1){let i=1;for(;i<t[e].colSpan&&e+i+1<t[e].colEnd&&(!t[e+i]||!(!t[e].width&&t[e+i].width||!t[e].width&&!t[e+i].width&&t[e+i].colSpan<=t[e].colSpan||t[e+i].width&&t[e+i].colSpan<=t[e].colSpan));i++){let n=t[e].widthSetByUser?t[e].width/t[e].colSpan:t[e].width;t[e+i]={ref:t[e].ref,width:n,colSpan:1,colEnd:t[e].colEnd,widthSetByUser:t[e].widthSetByUser}}t[e].width=t[e].widthSetByUser?t[e].width/t[e].colSpan:t[e].width,t[e].colSpan=1,e+=i-1}return t}getFilledChildColumnSizes(e){let t=this.getInitialChildColumnSizes(e),i=[];for(let e of t)e&&e.width?i.push(e.width+"px"):i.push(parseInt(this.grid.getPossibleColumnWidth(),10)+"px");return i}getResizableColUnderEnd(){if(this.columnLayout||!this.columnLayoutChild||this.columnGroup)return[{target:this,spanUsed:1}];let e=this.getInitialChildColumnSizes(this.parent.children),t=[],i=this.colEnd?this.colEnd:this.colStart+1;for(let n=0;n<e.length;n++)this.colStart<=n+1&&n+1<i&&t.push({target:e[n].ref,spanUsed:1});let n=[];for(let e of t)n.length&&n[n.length-1].target.field===e.target.field?n[n.length-1].spanUsed++:n.push(e);return n}pin(e){let t=this.grid;if(this._pinned)return!1;if(this.parent&&!this.parent.pinned)return this.topLevelParent.pin(e);let i=void 0!==e;if(i&&(e<0||e>t.pinnedColumns.length)||!this.parent&&!this.pinnable)return!1;let n=t._pinnedColumns.filter((e=>0===e.level)),r={column:this,insertAtIndex:e=i?e:n.length,isPinned:!1,cancel:!1};if(this.grid.columnPin.emit(r),r.cancel)return;this.grid.crudService.endEdit(!1),this._pinned=!0,this.pinnedChange.emit(this._pinned);let s=r.insertAtIndex===t._pinnedColumns.length?t._pinnedColumns[r.insertAtIndex-1]:t._pinnedColumns[r.insertAtIndex];if(-1===t._pinnedColumns.indexOf(this)){if(t.hasColumnGroups){n.splice(r.insertAtIndex,0,this);let e=[];n.forEach((t=>{e.push(t),e=e.concat(t.allChildren)})),t._pinnedColumns=e}else t._pinnedColumns.splice(r.insertAtIndex,0,this);if(-1!==t._unpinnedColumns.indexOf(this)){let e=this.allChildren.length;t._unpinnedColumns.splice(t._unpinnedColumns.indexOf(this),1+e)}}i&&(e===t._pinnedColumns.length-1?t._moveColumns(this,s,nM.AfterDropTarget):t._moveColumns(this,s,nM.BeforeDropTarget)),this.columnGroup&&(this.allChildren.forEach((e=>e.pin())),t.reinitPinStates()),t.resetCaches(),t.notifyChanges(),this.columnLayoutChild&&this.grid.columns.filter((e=>e.columnLayout)).forEach((e=>e.populateVisibleIndexes())),this.grid.filteringService.refreshExpressions();let o={column:this,insertAtIndex:e,isPinned:!0};return this.grid.columnPinned.emit(o),!0}unpin(e){let t=this.grid;if(!this._pinned)return!1;if(this.parent&&this.parent.pinned)return this.topLevelParent.unpin(e);let i=void 0!==e;if(i&&(e<0||e>t._unpinnedColumns.length))return!1;if(!i){let i=t.unpinnedColumns.map((e=>e.index));i.push(this.index),i.sort(((e,t)=>e-t)),e=i.indexOf(this.index)}let n={column:this,insertAtIndex:e,isPinned:!0,cancel:!1};if(this.grid.columnPin.emit(n),n.cancel)return;this.grid.crudService.endEdit(!1),this._pinned=!1,this.pinnedChange.emit(this._pinned);let r=n.insertAtIndex===t._unpinnedColumns.length?t._unpinnedColumns[n.insertAtIndex-1]:t._unpinnedColumns[n.insertAtIndex];return i||(t._unpinnedColumns.splice(e,0,this),-1!==t._pinnedColumns.indexOf(this)&&t._pinnedColumns.splice(t._pinnedColumns.indexOf(this),1)),i&&t.moveColumn(this,r),this.columnGroup&&this.allChildren.forEach((e=>e.unpin())),t.reinitPinStates(),t.resetCaches(),t.notifyChanges(),this.columnLayoutChild&&this.grid.columns.filter((e=>e.columnLayout)).forEach((e=>e.populateVisibleIndexes())),this.grid.filteringService.refreshExpressions(),this.grid.columnPinned.emit({column:this,insertAtIndex:e,isPinned:!1}),!0}move(e){let t,i=this.grid.columns.filter((e=>e.visibleIndex>-1)),n=i.map((e=>e.visibleIndex)).reduce(((e,t)=>Math.max(e,t))),r=this.parent,s=this.visibleIndex<e;if(e===this.visibleIndex||e<0||e>n||(r&&(i=i.filter((e=>e.level>=this.level&&e!==this&&e.parent!==this&&e.topLevelParent===this.topLevelParent))),s?(i=i.filter((e=>e.visibleIndex>this.visibleIndex)),t=i.find((t=>t.level===this.level&&t.visibleIndex+t.calcChildren()-this.calcChildren()===e))):(i=i.filter((e=>e.visibleIndex<this.visibleIndex)),t=i.find((t=>t.level===this.level&&t.visibleIndex===e))),!t||t.pinned&&this.disablePinning))return;let o=s?nM.AfterDropTarget:nM.BeforeDropTarget;this.grid.moveColumn(this,t,o)}calcChildren(){return this.hidden?0:1}toggleVisibility(e){let t=e??!this.hidden,i={column:this,newValue:t,cancel:!1};this.grid.columnVisibilityChanging.emit(i),!i.cancel&&(this.hidden=t,this.grid.columnVisibilityChanged.emit({column:this,newValue:t}))}get topLevelParent(){let e=this.parent;for(;e&&e.parent;)e=e.parent;return e}get headerCell(){return this.grid.headerCellList.find((e=>e.column===this))}get filterCell(){return this.grid.filterCellList.find((e=>e.column===this))}get headerGroup(){return this.grid.headerGroupsList.find((e=>e.column===this))}autosize(e=!1){this.columnGroup||(this.width=this.getAutoSize(e),this.grid.reflow())}getAutoSize(e=!1){let t,i=e?Object.values(this.getHeaderCellWidths()).reduce(((e,t)=>e+t))+"px":this.getLargestCellWidth(),n=this.width&&"string"==typeof this.width&&-1!==this.width.indexOf("%");if(n){let e=this.grid.calcWidth;t=parseFloat(i)/e*100+"%"}else t=i;let r=n?this.maxWidthPercent:this.maxWidthPx,s=n?this.minWidthPercent:this.minWidthPx;return this.maxWidth&&parseFloat(t)>r?t=n?r+"%":r+"px":parseFloat(t)<s&&(t=n?s+"%":s+"px"),t}getCalcWidth(){return this._calcWidth&&!isNaN(this.calcPixelWidth)||this.cacheCalcWidth(),this._calcWidth}getHeaderCellWidths(){return this.grid.getHeaderCellWidth(this.headerCell.nativeElement)}getLargestCellWidth(){let e=this.grid.document.createRange(),t=new Map;if(this._cells.length>0){let i=[];this._cells.forEach((t=>i.push(t.calculateSizeToFit(e))));let n=i.indexOf(Math.max(...i)),r=this.grid.document.defaultView.getComputedStyle(this._cells[n].nativeElement),s=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth);t.set(Math.max(...i),s)}if(this.headerCell&&this.autosizeHeader){let e=this.getHeaderCellWidths();t.set(e.width,e.padding)}let i=Math.max(...Array.from(t.keys())),n=Math.ceil(i+t.get(i));return Number.isNaN(n)?this.width:n+"px"}getCellWidth(){let e=this.width,t=e&&"string"==typeof e&&-1!==e.indexOf("%");if(this.columnLayoutChild)return"";if(e&&!t){let t=e;return("string"!=typeof t||!1===t.endsWith("px"))&&(t+="px"),t}return e}populateVisibleIndexes(){}getColumnSizesString(e){return this.getFilledChildColumnSizes(e).join(" ")}cacheCalcWidth(){let e=this.width;e&&"string"==typeof e&&-1!==e.indexOf("%")?this._calcWidth=Math.floor(parseFloat(e)/100*this.grid.calcWidth):!e||e&&"string"==typeof e&&"fit-content"===e&&!this.autoSize?this._calcWidth=this.defaultWidth||this.grid.getPossibleColumnWidth():this._calcWidth=this.width,this.calcPixelWidth=parseInt(this._calcWidth,10)}setExpandCollapseState(){this.children.filter((e=>void 0!==e.visibleWhenCollapsed)).forEach((e=>{this.collapsible?e.hidden=this._expanded?e.visibleWhenCollapsed:!e.visibleWhenCollapsed:e.hidden=this.hidden}))}checkCollapsibleState(){if(!this.children)return!1;let e=this.children.map((e=>e.visibleWhenCollapsed));return e.some((e=>!0===e))&&e.some((e=>!1===e))}get pinnable(){return this.grid._init||!this.pinned}get applySelectableClass(){return this._applySelectableClass}set applySelectableClass(e){this.selectable&&(this._applySelectableClass=e)}};oM.fac=function(e){return new(e||oM)(nc(hk),nc(y_,10),nc(fp),nc(ob))},oM.cmp=tr({type:oM,selectors:[["igx-column"]],contentQueries:function(e,t,i){if(1&e&&(zg(i,XP,5,XP),zg(i,iM,5,iM),zg(i,ZP,5,ZP),zg(i,QP,5,QP),zg(i,eM,5,eM),zg(i,tM,5,tM),zg(i,JP,4,JP)),2&e){let e;Hg(e=Gg())&&(t.filterCellTemplateDirective=e.first),Hg(e=Gg())&&(t.summaryTemplateDirective=e.first),Hg(e=Gg())&&(t.cellTemplate=e.first),Hg(e=Gg())&&(t.cellValidationErrorTemplate=e.first),Hg(e=Gg())&&(t.editorTemplate=e.first),Hg(e=Gg())&&(t.collapseIndicatorTemplate=e.first),Hg(e=Gg())&&(t.headTemplate=e)}},inputs:{field:"field",header:"header",title:"title",sortable:"sortable",selectable:"selectable",groupable:"groupable",editable:"editable",filterable:"filterable",resizable:"resizable",autosizeHeader:"autosizeHeader",hasSummary:"hasSummary",hidden:"hidden",disableHiding:"disableHiding",disablePinning:"disablePinning",movable:"movable",width:"width",maxWidth:"maxWidth",headerClasses:"headerClasses",headerStyles:"headerStyles",headerGroupClasses:"headerGroupClasses",headerGroupStyles:"headerGroupStyles",cellClasses:"cellClasses",cellStyles:"cellStyles",formatter:"formatter",summaryFormatter:"summaryFormatter",filteringIgnoreCase:"filteringIgnoreCase",sortingIgnoreCase:"sortingIgnoreCase",searchable:"searchable",dataType:"dataType",collapsibleIndicatorTemplate:"collapsibleIndicatorTemplate",rowEnd:"rowEnd",colEnd:"colEnd",rowStart:"rowStart",colStart:"colStart",additionalTemplateContext:"additionalTemplateContext",minWidth:"minWidth",pinned:"pinned",summaries:"summaries",filters:"filters",sortStrategy:"sortStrategy",groupingComparer:"groupingComparer",summaryTemplate:"summaryTemplate",bodyTemplate:["cellTemplate","bodyTemplate"],headerTemplate:"headerTemplate",inlineEditorTemplate:["cellEditorTemplate","inlineEditorTemplate"],errorTemplate:"errorTemplate",filterCellTemplate:"filterCellTemplate",visibleWhenCollapsed:"visibleWhenCollapsed",pipeArgs:"pipeArgs"},outputs:{hiddenChange:"hiddenChange",expandedChange:"expandedChange",collapsibleChange:"collapsibleChange",visibleWhenCollapsedChange:"visibleWhenCollapsedChange",columnChange:"columnChange",widthChange:"widthChange",pinnedChange:"pinnedChange"},standalone:!0,features:[Wu],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0});var aM=oM;zF([YP(),qP()],aM.prototype,"header",void 0),zF([YP(),qP()],aM.prototype,"title",void 0),zF([qP()],aM.prototype,"sortable",void 0),zF([qP()],aM.prototype,"selectable",null),zF([YP(!0),qP()],aM.prototype,"groupable",null),zF([qP()],aM.prototype,"editable",null),zF([YP(),qP()],aM.prototype,"filterable",void 0),zF([qP()],aM.prototype,"resizable",void 0),zF([qP()],aM.prototype,"autosizeHeader",void 0),zF([YP(!0),qP()],aM.prototype,"hasSummary",null),zF([YP(!0),qP()],aM.prototype,"hidden",null),zF([YP(),qP()],aM.prototype,"disableHiding",void 0),zF([YP(),qP()],aM.prototype,"disablePinning",void 0),zF([YP(!0),qP()],aM.prototype,"width",null),zF([qP()],aM.prototype,"maxWidth",void 0),zF([YP(),qP()],aM.prototype,"headerClasses",void 0),zF([YP(),qP()],aM.prototype,"headerStyles",void 0),zF([YP(),qP()],aM.prototype,"headerGroupClasses",void 0),zF([YP(),qP()],aM.prototype,"headerGroupStyles",void 0),zF([YP(),qP()],aM.prototype,"cellClasses",void 0),zF([YP(),qP()],aM.prototype,"cellStyles",void 0),zF([YP(),qP()],aM.prototype,"formatter",void 0),zF([YP(),qP()],aM.prototype,"summaryFormatter",void 0),zF([qP()],aM.prototype,"filteringIgnoreCase",void 0),zF([qP()],aM.prototype,"sortingIgnoreCase",void 0),zF([YP(),qP()],aM.prototype,"searchable",void 0),zF([YP(),qP()],aM.prototype,"minWidth",null),zF([qP()],aM.prototype,"pinned",null),zF([YP(!0),qP()],aM.prototype,"summaries",null),zF([YP(),qP()],aM.prototype,"summaryTemplate",null),zF([YP(),qP()],aM.prototype,"bodyTemplate",null),zF([YP(),qP()],aM.prototype,"headerTemplate",null),zF([YP(),qP()],aM.prototype,"inlineEditorTemplate",null),zF([YP(),qP()],aM.prototype,"errorTemplate",null),zF([YP(),qP()],aM.prototype,"filterCellTemplate",null),zF([YP(!0)],aM.prototype,"visibleWhenCollapsed",null),zF([YP(),qP()],aM.prototype,"pipeArgs",null);var lM=[[["igx-column"],["igc-column"],["igx-column-group"],["igc-column-group"]]],dM=["igx-column,igc-column,igx-column-group,igc-column-group"],cM=(()=>{let e=class extends aM{constructor(){super(...arguments),this.children=new mg,this.searchable=!0}set collapsible(e){this._collapsible=e,this.collapsibleChange.emit(this._collapsible),this.children&&!this.hidden&&(this._collapsible?this.setExpandCollapseState():this.children.forEach((e=>e.hidden=!1)))}get collapsible(){return this._collapsible&&this.checkCollapsibleState()}set expanded(e){this._expanded=e,this.expandedChange.emit(this._expanded),this.collapsible&&!this.hidden&&this.children&&this.setExpandCollapseState()}get expanded(){return this._expanded}get summaries(){return this._summaries}set summaries(e){}get filters(){return this._filters}set filters(e){}get selectable(){return this.children&&this.children.some((e=>e.selectable))}set selectable(e){}get bodyTemplate(){return this._bodyTemplate}set bodyTemplate(e){}get inlineEditorTemplate(){return this._inlineEditorTemplate}set inlineEditorTemplate(e){}get cells(){return[]}get hidden(){return this.allChildren.every((e=>e.hidden))}set hidden(e){this._hidden=e,this.hiddenChange.emit(this._hidden),this._hidden||!this.collapsible?this.children.forEach((e=>e.hidden=this._hidden)):this.children.forEach((e=>{void 0!==e.visibleWhenCollapsed?e.hidden=this.expanded?e.visibleWhenCollapsed:!e.visibleWhenCollapsed:e.hidden=!1}))}get selected(){let e=this.allChildren.filter((e=>!e.columnGroup&&e.selectable&&!e.hidden));return e.length>0&&e.every((e=>e.selected))}set selected(e){this.selectable&&this.children.forEach((t=>{t.selected=e}))}ngAfterContentInit(){this.headTemplate&&this.headTemplate.length&&(this._headerTemplate=this.headTemplate.toArray()[0].template),this.collapseIndicatorTemplate&&(this.collapsibleIndicatorTemplate=this.collapseIndicatorTemplate.template),this.children.first===this&&this.children.reset(this.children.toArray().slice(1)),this.children.forEach((e=>{e.parent=this,this.pinned&&(e.pinned=this.pinned)})),this.collapsible&&this.setExpandCollapseState(),this.children.changes.pipe(Si(this.destroy$)).subscribe((e=>{let t=!1;e.forEach((e=>{e.parent=this,this.pinned&&e.pinned!==this.pinned&&(t=!0,e.pinned=this.pinned)})),this.collapsible&&this.setExpandCollapseState(),t&&this.grid.initPinning()}))}get allChildren(){return ab(this.children.toArray())}get columnGroup(){return!0}get columnLayout(){return!1}get width(){return`${this.children.reduce(((e,t)=>t.hidden?e:e+parseInt(t.calcWidth,10)),0)}px`}set width(e){}get resolvedWidth(){return this.width}get applySelectableClass(){return this._applySelectableClass}set applySelectableClass(e){this.selectable&&(this._applySelectableClass=e,this.children.forEach((t=>{t.applySelectableClass=e})))}calcChildren(){let e=this.allChildren.filter((e=>e.visibleIndex>-1)),t=e[0].visibleIndex;return e[e.length-1].visibleIndex-t+1}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.cmp=tr({type:e,selectors:[["igx-column-group"]],contentQueries:function(e,t,i){if(1&e&&zg(i,aM,4,aM),2&e){let e;Hg(e=Gg())&&(t.children=e)}},inputs:{collapsible:"collapsible",expanded:"expanded",summaries:"summaries",searchable:"searchable",filters:"filters",collapsibleIndicatorTemplate:"collapsibleIndicatorTemplate",hidden:"hidden"},standalone:!0,features:[Nu([{provide:aM,useExisting:$i((()=>e))}]),th,Wu],ngContentSelectors:dM,decls:3,vars:0,consts:[[2,"display","none"],["sink",""]],template:function(e,t){1&e&&(Lh(lM),Ch(0,"div",0,1),Hh(2),Sh())},encapsulation:2,changeDetection:0}),e})(),hM=[[["igx-column"],["igc-column"]]],uM=["igx-column,igc-column"],gM=(()=>{let e=class extends cM{constructor(){super(...arguments),this.childrenVisibleIndexes=[]}get width(){return this.getFilledChildColumnSizes(this.children).reduce(((e,t)=>e+parseInt(t,10)),0)}set width(e){}get columnLayout(){return!0}getCalcWidth(){let e=0;if(this.headerGroup&&this.headerGroup.hasLastPinnedChildColumn){let t=this.grid.document.defaultView.getComputedStyle(this.headerGroup.nativeElement.children[0]);e=parseInt(t.borderRightWidth,10)}return super.getCalcWidth()+e}get visibleIndex(){if(!isNaN(this._vIndex))return this._vIndex;let e=this.grid.unpinnedColumns.filter((e=>e.columnLayout&&!e.hidden)),t=this.grid.pinnedColumns.filter((e=>e.columnLayout&&!e.hidden)),i=-1;if(this.pinned)i=t.indexOf(this);else{let n=e.indexOf(this);i=-1===n?-1:t.length+n}return this._vIndex=i,i}get hidden(){return this._hidden}set hidden(e){if(this._hidden=e,this.children.forEach((t=>t.hidden=e)),this.grid&&this.grid.columns&&this.grid.columns.length>0){let e=this.grid&&this.grid.pinnedColumns&&this.grid.unpinnedColumns?this.grid.pinnedColumns.concat(this.grid.unpinnedColumns):[];!this._hidden&&!e.find((e=>e.field===this.field))&&this.grid.resetColumnCollections(),this.grid.columns.filter((e=>e.columnLayout)).forEach((e=>e.populateVisibleIndexes()))}}ngAfterContentInit(){super.ngAfterContentInit(),this.hidden?this.children.forEach((e=>e.hidden=this.hidden)):this.hidden=this.allChildren.some((e=>e.hidden))}get hasLastPinnedChildColumn(){return this.children.some((e=>e.isLastPinned))}get hasFirstPinnedChildColumn(){return this.children.some((e=>e.isFirstPinned))}populateVisibleIndexes(){this.childrenVisibleIndexes=[];let e=this.grid?.pinnedColumns&&this.grid?.unpinnedColumns?this.grid.pinnedColumns.concat(this.grid.unpinnedColumns):[],t=e.filter((e=>!e.columnGroup&&!e.hidden)).sort(((t,i)=>t.rowStart-i.rowStart||e.indexOf(t.parent)-e.indexOf(i.parent)||t.colStart-i.colStart));this.children.forEach((e=>{let i=e.rowStart||1,n=0;n=t.filter((e=>!e.columnGroup&&(e.rowStart||1)<=i)).indexOf(e),this.childrenVisibleIndexes.push({column:e,index:n})}))}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.cmp=tr({type:e,selectors:[["igx-column-layout"]],inputs:{hidden:"hidden"},standalone:!0,features:[Nu([{provide:aM,useExisting:$i((()=>e))}]),th,Wu],ngContentSelectors:uM,decls:3,vars:0,consts:[[2,"display","none"],["sink",""]],template:function(e,t){1&e&&(Lh(hM),Ch(0,"div",0,1),Hh(2),Sh())},encapsulation:2,changeDetection:0}),e})(),pM=[[["igx-prefix"],["","igxPrefix",""]],"*",[["igx-suffix"],["","igxSuffix",""]]],mM=["igx-prefix, [igxPrefix]","*","igx-suffix, [igxSuffix]"],fM=(()=>{let e=class extends FR{get text(){return this._text}set text(e){this._text=e}get itemText(){return void 0!==this._text?this._text:this.elementRef.nativeElement.textContent.trim()}get selected(){return!this.isHeader&&!this.disabled&&this.selection.is_item_selected(this.dropDown.id,this)}set selected(e){e&&!this.isHeader&&!this.disabled&&this.dropDown.selectItem(this)}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.cmp=tr({type:e,selectors:[["igx-select-item"]],inputs:{text:"text"},standalone:!0,features:[th,Wu],ngContentSelectors:mM,decls:5,vars:0,consts:[[1,"igx-drop-down__content"],[1,"igx-drop-down__inner"]],template:function(e,t){1&e&&(Lh(pM),Ch(0,"span",0),Hh(1),Ch(2,"span",1),Hh(3,1),Sh(),Hh(4,2),Sh())},encapsulation:2}),e})(),yM=class extends YE{constructor(e,t,i){super(),this.select=e,this.platform=i,this._selectDefaultSettings={horizontalDirection:zE.Right,verticalDirection:GE.Bottom,horizontalStartPoint:zE.Left,verticalStartPoint:GE.Top,openAnimation:Fy,closeAnimation:Py},this.global_yOffset=0,this.global_xOffset=0,this.global_styles={},this.settings=Object.assign({},this._selectDefaultSettings,t)}position(e,t,i,n,r){let s=r||this.settings.target,o=super.calculateElementRectangles(e,s),a={verticalOffset:this.global_yOffset,horizontalOffset:this.global_xOffset,targetRect:o.targetRect,contentElementRect:o.elementRect,styles:this.global_styles,scrollContainer:this.select.scrollContainer,scrollContainerRect:this.select.scrollContainer.getBoundingClientRect()};n&&(this.select.scrollContainer.scrollTop=0,a.viewPortRect=UE.getViewportRect(i),a.itemElement=this.getInteractionItemElement(),a.itemRect=a.itemElement.getBoundingClientRect(),a.styles=this.calculateStyles(a,s),a.scrollAmount=this.calculateScrollAmount(a),this.calculateYoffset(a),this.calculateXoffset(a),super.updateViewPortFit(a),(a.fitVertical.back<0||a.fitVertical.forward<0)&&this.fitInViewport(e,a),this.select.scrollContainer.scrollTop=a.scrollAmount),this.setStyles(e,a)}getInteractionItemElement(){let e;return e=this.select.selectedItem?this.select.selectedItem.element.nativeElement:this.select.getFirstItemElement(),e}fitInViewport(e,t){let i=t.scrollContainerRect.bottom-t.contentElementRect.bottom,n=t.scrollContainerRect.top-t.contentElementRect.top,r=t.targetRect.bottom+t.styles.itemTextToInputTextDiff-i,s=t.targetRect.top-t.styles.itemTextToInputTextDiff-n;t.fitVertical.back<0?t.scrollContainer.scrollHeight-t.scrollContainerRect.height-t.scrollAmount+t.fitVertical.back>0&&s>t.viewPortRect.top?(t.scrollAmount-=t.fitVertical.back,t.verticalOffset-=t.fitVertical.back,this.global_yOffset=t.verticalOffset):(t.verticalOffset=0,this.global_yOffset=0):t.fitVertical.forward<0&&(t.scrollAmount+t.fitVertical.forward>0&&r<t.viewPortRect.bottom?(t.scrollAmount+=t.fitVertical.forward,t.verticalOffset+=t.fitVertical.forward,this.global_yOffset=t.verticalOffset):(t.verticalOffset=-t.contentElementRect.height+t.targetRect.height,this.global_yOffset=t.verticalOffset))}setStyles(e,t){super.setStyle(e,t.targetRect,t.contentElementRect,t),e.style.width=`${t.styles.contentElementNewWidth}px`,this.global_styles.contentElementNewWidth=t.styles.contentElementNewWidth}calculateScrollAmount(e){let t=e.itemRect,i=e.scrollContainer,n=e.scrollContainerRect,r=n.top-t.top,s=i.scrollTop-r;return s-=i.clientHeight/2,s+=t.height/2,Math.round(Math.min(Math.max(0,s),i.scrollHeight-n.height))}calculateStyles(e,t){let i={},n=window.getComputedStyle(t),r=window.getComputedStyle(e.itemElement),s=parseFloat(n.fontSize),o=parseFloat(n.paddingTop),a=parseFloat(n.paddingBottom),l=parseFloat(r.fontSize),d=(e.targetRect.bottom-a-(e.targetRect.top+o)-s)/2,c=(e.itemRect.height-l)/2;i.itemTextToInputTextDiff=Math.round(c-d-o);let h=parseFloat(r.paddingLeft),u=parseFloat(r.textIndent);return i.itemTextPadding=h,i.itemTextIndent=u,i.contentElementNewWidth=e.targetRect.width+24+2*h,i}calculateYoffset(e){e.verticalOffset=-(e.itemRect.top-e.contentElementRect.top+e.styles.itemTextToInputTextDiff-e.scrollAmount),this.global_yOffset=e.verticalOffset}calculateXoffset(e){e.horizontalOffset=e.styles.itemTextIndent-e.styles.itemTextPadding,this.global_xOffset=e.horizontalOffset}};yM=zF([GF(2,ca())],yM);var vM=(()=>{let e=class extends fI{get target(){return this._target}set target(e){this._target=e||this.dropdown}constructor(){super(null),this._target=null,this.inputStream="",this.clearStream$=Ve.EMPTY}handleKeyDown(e){if(!e)return;let t=e.key.toLowerCase();if(!e.altKey||"arrowdown"!==t&&"arrowup"!==t&&"down"!==t&&"up"!==t){if(this.target.collapsed)switch(t){case"space":case"spacebar":case" ":case"enter":return e.preventDefault(),void this.target.open();case"arrowdown":case"down":return this.target.navigateNext(),this.target.selectItem(this.target.focusedItem),void e.preventDefault();case"arrowup":case"up":return this.target.navigatePrev(),this.target.selectItem(this.target.focusedItem),void e.preventDefault()}else("tab"===t||e.shiftKey&&"tab"===t)&&this.target.close();super.handleKeyDown(e),this.captureKey(e)}else this.target.toggle()}captureKey(e){if(!e||!e.key||e.key.length>1||" "===e.key||"spacebar"===e.key)return;this.clearStream$.unsubscribe(),this.clearStream$=function(e=0,t,i){let n=-1;return jt(t)?n=Number(t)<1?1:Number(t):ut(t)&&(i=t),ut(i)||(i=Ct),new We((t=>{let r=jt(e)?e:+e-i.now();return i.schedule(Jt,r,{index:0,period:n,subscriber:t})}))}(500).subscribe((()=>{this.inputStream=""})),this.inputStream+=e.key;let t=this.target.focusedItem;t&&this.inputStream.length>1&&t.itemText.toLowerCase().startsWith(this.inputStream.toLowerCase())||this.activateItemByText(this.inputStream)}activateItemByText(e){let t=this.target.items,i=this.findNextItem(t,e);!i&&e.charAt(0)===e.charAt(e.length-1)&&(e=e.slice(0,1),i=this.findNextItem(t,e)),i&&(this.target.collapsed&&this.target.selectItem(i),this.target.navigateItem(t.indexOf(i)))}ngOnDestroy(){this.clearStream$.unsubscribe()}findNextItem(e,t){let i=e.indexOf(this.target.focusedItem)||0;return e.slice(i+1).find((e=>!e.disabled&&e.itemText.toLowerCase().startsWith(t.toLowerCase())))||e.slice(0,i).find((e=>!e.disabled&&e.itemText.toLowerCase().startsWith(t.toLowerCase())))}};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","igxSelectItemNavigation",""]],inputs:{target:["igxSelectItemNavigation","target"]},standalone:!0,features:[th]}),e})(),xM=["inputGroup"],_M=["input"];function wM(e,t){1&e&&Th(0)}var CM=function(e){return{$implicit:e}};function SM(e,t){if(1&e&&(Eh(0),yh(1,wM,1,0,"ng-container",15),Ih()),2&e){let e=Vh();tc(1),_h("ngTemplateOutlet",e.toggleIconTemplate)("ngTemplateOutletContext",ju(2,CM,e.collapsed))}}function bM(e,t){if(1&e&&(Ch(0,"igx-icon"),fu(1),Sh()),2&e){let e=Vh(),t=xh(1);tc(1),xu(" ","material"===t.theme?e.collapsed?"expand_more":"expand_less":e.collapsed?"arrow_drop_down":"arrow_drop_up"," ")}}function DM(e,t){1&e&&Hh(0,5,["*ngTemplateOutlet","headerTemplate"])}function EM(e,t){if(1&e&&(Ch(0,"div",16),yh(1,DM,1,0,"ng-content",17),Sh()),2&e){let e=Vh();tc(1),_h("ngTemplateOutlet",e.headerTemplate)}}function IM(e,t){1&e&&Th(0)}function TM(e,t){if(1&e&&(Ch(0,"div",18),yh(1,IM,1,0,"ng-container",17),Sh()),2&e){let e=Vh();tc(1),_h("ngTemplateOutlet",e.footerTemplate)}}var AM=[[["","igxLabel",""]],[["igx-prefix"],["","igxPrefix",""]],[["igx-suffix"],["","igxSuffix",""]],[["igx-hint"],["","igxHint",""]],[["igx-select-item"],["igx-select-item-group"]],"*"],RM=["[igxLabel]","igx-prefix,[igxPrefix]","igx-suffix,[igxSuffix]","igx-hint, [igxHint]","igx-select-item, igx-select-item-group","*"],kM=(()=>{let e=class{};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","igxSelectToggleIcon",""]],standalone:!0}),e})(),OM=(()=>{let e=class{};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","igxSelectHeader",""]],standalone:!0}),e})(),FM=(()=>{let e=class{};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","igxSelectFooter",""]],standalone:!0}),e})(),PM=(()=>{let e=class extends HR{get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this.setSelection(this.items.find((e=>e.value===this.value))))}get type(){return this._type||this._inputGroupType||"line"}set type(e){this._type=e}get selectionValue(){let e=this.selectedItem;return e?e.itemText:""}get selectedItem(){return this.selection.first_item(this.id)}constructor(e,t,i,n,r,s,o){super(e,t,i,r),this.overlayService=n,this._inputGroupType=s,this._injector=o,this.disabled=!1,this.maxHeight="256px",this.opening=new Pd,this.opened=new Pd,this.closing=new Pd,this.closed=new Pd,this.toggleIconTemplate=null,this.headerTemplate=null,this.footerTemplate=null,this.cssClass=!1,this.allowItemsFocus=!1,this.ngControl=null,this._type=null,this._onChangeCallback=bt,this._onTouchedCallback=bt,this.writeValue=e=>{this.value=e}}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}setDisabledState(e){this.disabled=e}getEditElement(){return this.input.nativeElement}selectItem(e,t){let i=this.selectedItem??{};if(null===e||e.disabled||e.isHeader)return;if(e===i)return void this.toggleDirective.close();let n={oldSelection:i,newSelection:e,cancel:!1,owner:this};this.selectionChanging.emit(n),!n.cancel&&(this.setSelection(e),this._value=e.value,t&&this.toggleDirective.close(),this.cdr.detectChanges(),this._onChangeCallback(this.value))}getFirstItemElement(){return this.children.first.element.nativeElement}open(e){this.disabled||0===this.items.length||(this.selectedItem||this.navigateFirst(),super.open(Object.assign({},this._overlayDefaults,this.overlaySettings,e)))}inputGroupClick(e,t){let i=e.target;this.hintElement&&i.contains(this.hintElement.nativeElement)||this.toggle(Object.assign({},this._overlayDefaults,this.overlaySettings,t))}ngAfterContentInit(){this._overlayDefaults={target:this.getEditElement(),modal:!1,positionStrategy:new yM(this),scrollStrategy:new rI,excludeFromOutsideClick:[this.inputGroup.element.nativeElement]};let e=this.children.changes.pipe(Si(this.destroy$)).subscribe((()=>{this.setSelection(this.items.find((e=>e.value===this.value))),this.cdr.detectChanges()}));Promise.resolve().then((()=>{e.closed||this.children.notifyOnChanges()}))}handleOpening(e){let t={owner:this,event:e.event,cancel:e.cancel};this.opening.emit(t),e.cancel=t.cancel}onToggleContentAppended(e){this.overlayService.getOverlayById(e.id)?.settings?.positionStrategy instanceof yM||super.onToggleContentAppended(e)}handleOpened(){this.updateItemFocus(),this.opened.emit({owner:this})}handleClosing(e){let t={owner:this,event:e.event,cancel:e.cancel};this.closing.emit(t),e.cancel=t.cancel}handleClosed(){this.focusItem(!1),this.closed.emit({owner:this})}onBlur(){this._onTouchedCallback(),this.ngControl&&this.ngControl.invalid?this.input.valid=wI.INVALID:this.input.valid=wI.INITIAL}onFocus(){this._onTouchedCallback()}ngOnInit(){this.ngControl=this._injector.get(U_,null),super.ngOnInit()}ngAfterViewInit(){super.ngAfterViewInit(),this.ngControl&&(this.ngControl.statusChanges.pipe(Si(this.destroy$)).subscribe(this.onStatusChanged.bind(this)),this.manageRequiredAsterisk()),this.cdr.detectChanges()}ngAfterContentChecked(){this.inputGroup&&this.prefixes?.length>0&&(this.inputGroup.prefixes=this.prefixes),this.inputGroup&&this.suffixes?.length>0&&(this.inputGroup.suffixes=this.suffixes)}mousedownHandler(e){e.preventDefault()}onStatusChanged(){this.manageRequiredAsterisk(),this.ngControl&&!this.disabled&&this.isTouchedOrDirty?this.hasValidators&&this.inputGroup.isFocused?this.input.valid=this.ngControl.valid?wI.VALID:wI.INVALID:this.input.valid=this.ngControl.valid?wI.INITIAL:wI.INVALID:this.input.valid=wI.INITIAL}get isTouchedOrDirty(){return this.ngControl.control.touched||this.ngControl.control.dirty}get hasValidators(){return!!this.ngControl.control.validator||!!this.ngControl.control.asyncValidator}navigate(e,t){this.collapsed&&this.selectedItem&&this.navigateItem(this.selectedItem.itemIndex),super.navigate(e,t)}manageRequiredAsterisk(){let e=this.elementRef.nativeElement.hasAttribute("required");if(this.ngControl&&this.ngControl.control.validator){let e=this.ngControl.control.validator({});this.inputGroup.isRequired=e&&e.required,this.cdr.markForCheck()}else this.inputGroup.isRequired&&this.ngControl&&!this.ngControl.control.validator&&!e&&(this.input.valid=wI.INITIAL,this.inputGroup.isRequired=!1,this.cdr.markForCheck())}setSelection(e){e&&void 0!==e.value&&null!==e.value?this.selection.set(this.id,new Set([e])):this.selection.clear(this.id)}};return e.fac=function(t){return new(t||e)(nc(wd),nc(fp),nc(bR),nc(nI),nc(RI,8),nc(BI,8),nc(Rd))},e.cmp=tr({type:e,selectors:[["igx-select"]],contentQueries:function(e,t,i){if(1&e&&(zg(i,bI,7),zg(i,kM,5,yg),zg(i,OM,5,yg),zg(i,FM,5,yg),zg(i,vI,5,wd),zg(i,fM,5),zg(i,DI,5),zg(i,EI,5)),2&e){let e;Hg(e=Gg())&&(t.label=e.first),Hg(e=Gg())&&(t.toggleIconTemplate=e.first),Hg(e=Gg())&&(t.headerTemplate=e.first),Hg(e=Gg())&&(t.footerTemplate=e.first),Hg(e=Gg())&&(t.hintElement=e.first),Hg(e=Gg())&&(t.children=e),Hg(e=Gg())&&(t.prefixes=e),Hg(e=Gg())&&(t.suffixes=e)}},viewQuery:function(e,t){if(1&e&&(Bg(xM,7,UT),Bg(_M,7,CI)),2&e){let e;Hg(e=Gg())&&(t.inputGroup=e.first),Hg(e=Gg())&&(t.input=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&tu("max-height",t.maxHeight)},inputs:{placeholder:"placeholder",disabled:"disabled",overlaySettings:"overlaySettings",value:"value",type:"type"},outputs:{opening:"opening",opened:"opened",closing:"closing",closed:"closed"},standalone:!0,features:[Nu([{provide:h_,useExisting:e,multi:!0},{provide:mI,useExisting:e}]),th,Wu],ngContentSelectors:RM,decls:21,vars:20,consts:[[1,"input-group",3,"type","displayDensity","click"],["inputGroup",""],["ngProjectAs","[igxLabel]",5,["","igxLabel",""]],["ngProjectAs","igx-prefix",5,["igx-prefix"]],["type","text","igxInput","","readonly","true","role","combobox","aria-haspopup","listbox",1,"input",3,"igxSelectItemNavigation","disabled","value","blur","focus"],["input",""],["ngProjectAs","igx-suffix",5,["igx-suffix"]],[1,"igx-select__toggle-button"],[4,"ngIf"],["ngProjectAs","igx-hint, [igxHint]",5,["igx-hint"]],["igxToggle","",1,"igx-drop-down__list",3,"mousedown","appended","opening","opened","closing","closed"],["class","igx-drop-down__select-header",4,"ngIf"],["unselectable","on","role","listbox",1,"igx-drop-down__list-scroll"],["scrollContainer",""],["class","igx-drop-down__select-footer",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-drop-down__select-header"],[4,"ngTemplateOutlet"],[1,"igx-drop-down__select-footer"]],template:function(e,t){1&e&&(Lh(AM),Ch(0,"igx-input-group",0,1),Fh("click",(function(e){return t.inputGroupClick(e)})),Eh(2,2),Hh(3),Ih(),Eh(4,3),Hh(5,1),Ih(),Ch(6,"input",4,5),Fh("blur",(function(){return t.onBlur()}))("focus",(function(){return t.onFocus()})),Sh(),Eh(8,6),Hh(9,2),Ih(),Ch(10,"igx-suffix",7),yh(11,SM,2,4,"ng-container",8),yh(12,bM,2,1,"igx-icon",8),Sh(),Eh(13,9),Hh(14,3),Ih(),Sh(),Ch(15,"div",10),Fh("mousedown",(function(e){return t.mousedownHandler(e)}))("appended",(function(e){return t.onToggleContentAppended(e)}))("opening",(function(e){return t.handleOpening(e)}))("opened",(function(){return t.handleOpened()}))("closing",(function(e){return t.handleClosing(e)}))("closed",(function(){return t.handleClosed()})),yh(16,EM,2,1,"div",11),Ch(17,"div",12,13),Hh(19,4),Sh(),yh(20,TM,2,1,"div",14),Sh()),2&e&&(_h("type",t.type)("displayDensity",t.displayDensity),tc(6),_h("igxSelectItemNavigation",t)("disabled",t.disabled)("value",t.selectionValue),ph("placeholder",t.placeholder)("aria-labelledby",null==t.label?null:t.label.id)("aria-expanded",!t.collapsed)("aria-owns",t.listId)("aria-activedescendant",t.collapsed||null==t.focusedItem?null:t.focusedItem.id),tc(5),_h("ngIf",t.toggleIconTemplate),tc(1),_h("ngIf",!t.toggleIconTemplate),tc(3),tu("--component-size",t.getComponentSizeStyles()),tc(1),_h("ngIf",t.headerTemplate),tc(1),tu("max-height",t.maxHeight),ph("id",t.listId)("aria-labelledby",null==t.label?null:t.label.id),tc(3),_h("ngIf",t.footerTemplate))},dependencies:[UT,CI,vM,EI,$m,Zm,XI,FA],styles:["[_nghost-%COMP%]{display:block}"]}),e})(),MM="IgxTimePickerComponentToken",VM=(()=>{let e=class{constructor(e,t,i){this.timePicker=e,this.elementRef=t,this.touchManager=i,this.tabindex=0,this.onPanMove=e=>{let t=e.deltaY<0?-1:e.deltaY>0?1:0;0!==t&&this.nextItem(t)}}get defaultCSS(){return!0}get hourCSS(){return"hourList"===this.type}get minuteCSS(){return"minuteList"===this.type}get secondsCSS(){return"secondsList"===this.type}get ampmCSS(){return"ampmList"===this.type}onFocus(){this.isActive=!0}onBlur(){this.isActive=!1}onKeydownArrowDown(e){e.preventDefault(),this.nextItem(1)}onKeydownArrowUp(e){e.preventDefault(),this.nextItem(-1)}onKeydownArrowRight(e){e.preventDefault();let t=e.target.className;-1!==t.indexOf("hourList")&&this.timePicker.minuteList?this.timePicker.minuteList.nativeElement.focus():-1===t.indexOf("hourList")&&-1===t.indexOf("minuteList")||!this.timePicker.secondsList?(-1!==t.indexOf("hourList")||-1!==t.indexOf("minuteList")||-1!==t.indexOf("secondsList"))&&this.timePicker.ampmList&&this.timePicker.ampmList.nativeElement.focus():this.timePicker.secondsList.nativeElement.focus()}onKeydownArrowLeft(e){e.preventDefault();let t=e.target.className;-1!==t.indexOf("ampmList")&&this.timePicker.secondsList?this.timePicker.secondsList.nativeElement.focus():-1!==t.indexOf("secondsList")&&this.timePicker.secondsList&&t.indexOf("minutesList")&&this.timePicker.minuteList||-1!==t.indexOf("ampmList")&&this.timePicker.minuteList?this.timePicker.minuteList.nativeElement.focus():(-1!==t.indexOf("ampmList")||-1!==t.indexOf("secondsList")||-1!==t.indexOf("minuteList"))&&this.timePicker.hourList&&this.timePicker.hourList.nativeElement.focus()}onKeydownEnter(e){e.preventDefault(),this.timePicker.okButtonClick()}onKeydownEscape(e){e.preventDefault(),this.timePicker.cancelButtonClick()}onHover(){this.elementRef.nativeElement.focus()}onScroll(e){e.preventDefault(),e.stopPropagation();let t=e.deltaY;0!==t&&this.nextItem(t)}ngOnInit(){let e={recognizers:[[tF.Hammer?.Pan,{direction:tF.Hammer?.DIRECTION_VERTICAL,threshold:10}]]};this.touchManager.addEventListener(this.elementRef.nativeElement,"pan",this.onPanMove,e)}ngOnDestroy(){this.touchManager.destroy()}nextItem(e){switch(this.type){case"hourList":this.timePicker.nextHour(e);break;case"minuteList":this.timePicker.nextMinute(e);break;case"secondsList":this.timePicker.nextSeconds(e);break;case"ampmList":this.timePicker.nextAmPm(e)}}};return e.fac=function(t){return new(t||e)(nc(MM),nc(wd),nc(tF))},e.dir=or({type:e,selectors:[["","igxItemList",""]],hostVars:11,hostBindings:function(e,t){1&e&&Fh("focus",(function(){return t.onFocus()}))("blur",(function(){return t.onBlur()}))("keydown.arrowdown",(function(e){return t.onKeydownArrowDown(e)}))("keydown.arrowup",(function(e){return t.onKeydownArrowUp(e)}))("keydown.arrowright",(function(e){return t.onKeydownArrowRight(e)}))("keydown.arrowleft",(function(e){return t.onKeydownArrowLeft(e)}))("keydown.enter",(function(e){return t.onKeydownEnter(e)}))("keydown.escape",(function(e){return t.onKeydownEscape(e)}))("mouseover",(function(){return t.onHover()}))("wheel",(function(e){return t.onScroll(e)})),2&e&&(ph("tabindex",t.tabindex),iu("igx-time-picker__column",t.defaultCSS)("igx-time-picker__hourList",t.hourCSS)("igx-time-picker__minuteList",t.minuteCSS)("igx-time-picker__secondsList",t.secondsCSS)("igx-time-picker__ampmList",t.ampmCSS))},inputs:{type:["igxItemList","type"]},standalone:!0,features:[Nu([tF])]}),e})(),NM=(()=>{let e=class{get defaultCSS(){return!0}get selectedCSS(){return this.isSelectedTime}get activeCSS(){return this.isSelectedTime&&this.itemList.isActive}get isSelectedTime(){let e=this.value.length<2?`0${this.value}`:this.value,t=this.itemList.type,i=$A.parseDateTimeFormat(this.timePicker.inputFormat);switch(t){case"hourList":let t=i.find((e=>"hours"===e.type));return $A.getPartValue(this.timePicker.selectedDate,t,t.format.length)===e;case"minuteList":let n=i.find((e=>"minutes"===e.type));return $A.getPartValue(this.timePicker.selectedDate,n,n.format.length)===e;case"secondsList":let r=i.find((e=>"seconds"===e.type));return $A.getPartValue(this.timePicker.selectedDate,r,r.format.length)===e;case"ampmList":let s=i.find((e=>"tt"===e.format));return $A.getPartValue(this.timePicker.selectedDate,s,s.format.length)===this.value}}get minValue(){let e=this.itemList.type,t=$A.parseDateTimeFormat(this.timePicker.inputFormat);switch(e){case"hourList":return this.getHourPart(this.timePicker.minDropdownValue);case"minuteList":if(this.timePicker.selectedDate.getHours()===this.timePicker.minDropdownValue.getHours()){let e=t.find((e=>"minutes"===e.type));return $A.getPartValue(this.timePicker.minDropdownValue,e,e.format.length)}return"00";case"secondsList":let e=new Date(this.timePicker.selectedDate),i=new Date(this.timePicker.minDropdownValue);if(e.setSeconds(0),i.setSeconds(0),e.getTime()===i.getTime()){let e=t.find((e=>"seconds"===e.type));return $A.getPartValue(this.timePicker.minDropdownValue,e,e.format.length)}return"00";case"ampmList":let n=t.find((e=>"tt"===e.format));return $A.getPartValue(this.timePicker.minDropdownValue,n,n.format.length)}}get maxValue(){let e=this.itemList.type,t=$A.parseDateTimeFormat(this.timePicker.inputFormat);switch(e){case"hourList":return this.getHourPart(this.timePicker.maxDropdownValue);case"minuteList":if(this.timePicker.selectedDate.getHours()===this.timePicker.maxDropdownValue.getHours()){let e=t.find((e=>"minutes"===e.type));return $A.getPartValue(this.timePicker.maxDropdownValue,e,e.format.length)}{let e=new Date(this.timePicker.selectedDate),i=this.timePicker.itemsDelta.minutes,n=60%i,r=0===n?60-i:60-n;e.setMinutes(r);let s=t.find((e=>"minutes"===e.type));return $A.getPartValue(e,s,s.format.length)}case"secondsList":let e=new Date(this.timePicker.selectedDate),i=new Date(this.timePicker.maxDropdownValue);if(e.setSeconds(0),i.setSeconds(0),e.getTime()===i.getTime()){let e=t.find((e=>"seconds"===e.type));return $A.getPartValue(this.timePicker.maxDropdownValue,e,e.format.length)}{let i=this.timePicker.itemsDelta.seconds,n=60%i,r=0===n?60-i:60-n;e.setSeconds(r);let s=t.find((e=>"seconds"===e.type));return $A.getPartValue(e,s,s.format.length)}case"ampmList":let n=t.find((e=>"tt"===e.format));return $A.getPartValue(this.timePicker.maxDropdownValue,n,n.format.length)}}get hourValue(){return this.getHourPart(this.timePicker.selectedDate)}constructor(e,t){this.timePicker=e,this.itemList=t}onClick(e){if(""!==e){let t=this.itemList.type;this.timePicker.onItemClick(e,t)}}getHourPart(e){let t=$A.parseDateTimeFormat(this.timePicker.inputFormat),i=t.find((e=>"hours"===e.type)),n=t.find((e=>"tt"===e.format)),r=$A.getPartValue(e,i,i.format.length);return n?`${r} ${$A.getPartValue(e,n,n.format.length)}`:r}};return e.fac=function(t){return new(t||e)(nc(MM),nc(VM))},e.dir=or({type:e,selectors:[["","igxTimeItem",""]],hostVars:6,hostBindings:function(e,t){1&e&&Fh("click",(function(){return t.onClick(t.value)})),2&e&&iu("igx-time-picker__item",t.defaultCSS)("igx-time-picker__item--selected",t.selectedCSS)("igx-time-picker__item--active",t.activeCSS)},inputs:{value:["igxTimeItem","value"]},exportAs:["timeItem"],standalone:!0}),e})(),LM=(()=>{let e=class{constructor(e){this.timePicker=e}transform(e){let t=this.timePicker.inputFormat.replace("tt","aa");return new af(this.timePicker.locale).transform(e,t)}};return e.fac=function(t){return new(t||e)(nc(MM,16))},e.pipe=ar({name:"timeFormatPipe",type:e,pure:!0,standalone:!0}),e})(),HM=(()=>{let e=class{constructor(e){this.timePicker=e}transform(e,t,i,n,r){let s,o;switch(t){case"hour":s=this.generateHours(n,r);let e=this.timePicker.isTwelveHourFormat?this.toTwelveHourFormat(i.getHours()):i.getHours();s=this.scrollListItem(e,s),o=BA.Hours;break;case"minutes":s=this.generateMinutes(i,n,r),s=this.scrollListItem(i.getMinutes(),s),o=BA.Minutes;break;case"seconds":s=this.generateSeconds(i,n,r),s=this.scrollListItem(i.getSeconds(),s),o=BA.Seconds;break;case"ampm":s=this.generateAmPm(n,r);let t=this.timePicker.getPartValue(i,"ampm");s=this.scrollListItem(t,s),o=BA.AmPm}return this.getListView(s,o)}getListView(e,t){for(let i=0;i<e.length;i++)e[i]=this.getItemView(e[i],t);return e}getItemView(e,t){return null===e?e="":t&&"string"!=typeof e&&(e={hours:e<10&&(-1!==this.timePicker.inputFormat.indexOf("hh")||-1!==this.timePicker.inputFormat.indexOf("HH")),minutes:e<10&&-1!==this.timePicker.inputFormat.indexOf("mm"),seconds:e<10&&-1!==this.timePicker.inputFormat.indexOf("ss")}[t]?"0"+e:`${e}`),e}scrollListItem(e,t){let i,n=t.length;if(t){let r=t.indexOf(e);r<3?(i=t.slice(n-(3-r),n),i=i.concat(t.slice(0,r+4))):r+4>n?(i=t.slice(r-3,n),i=i.concat(t.slice(0,r+4-n))):i=t.slice(r-3,r+4)}return i}generateHours(e,t){let i=[],n=this.timePicker.isTwelveHourFormat?13:24;n/=this.timePicker.itemsDelta.hours;let r=e.getHours(),s=t.getHours();if(n>1)for(let e=0;e<24;e++){let t=e*this.timePicker.itemsDelta.hours;t>=r&&t<=s&&(t=this.timePicker.isTwelveHourFormat?this.toTwelveHourFormat(t):t,i.find((e=>e===t))||i.push(t))}else i.push(0);if(i.length<7||n<7||!this.timePicker.spinLoop){let e=!this.timePicker.spinLoop||i.length<7&&n<7?6:3;for(let t=0;t<e;t++)i.push(null)}return i}generateMinutes(e,t,i){let n=[],r=60/this.timePicker.itemsDelta.minutes;e=new Date(e);for(let s=0;s<r;s++){let r=s*this.timePicker.itemsDelta.minutes;e.setMinutes(r),e>=t&&e<=i&&n.push(s*this.timePicker.itemsDelta.minutes)}if(n.length<7||r<7||!this.timePicker.spinLoop){let e=!this.timePicker.spinLoop||n.length<7&&r<7?6:3;for(let t=0;t<e;t++)n.push(null)}return n}generateSeconds(e,t,i){let n=[],r=60/this.timePicker.itemsDelta.seconds;e=new Date(e);for(let s=0;s<r;s++){let r=s*this.timePicker.itemsDelta.seconds;e.setSeconds(r),e.getTime()>=t.getTime()&&e.getTime()<=i.getTime()&&n.push(s*this.timePicker.itemsDelta.seconds)}if(n.length<7||r<7||!this.timePicker.spinLoop){let e=!this.timePicker.spinLoop||n.length<7&&r<7?6:3;for(let t=0;t<e;t++)n.push(null)}return n}generateAmPm(e,t){let i=[],n=e.getHours(),r=t.getHours();n<12&&i.push("AM"),(n>=12||r>=12)&&i.push("PM");for(let e=0;e<5;e++)i.push(null);return i}toTwelveHourFormat(e){return e>12?e-=12:0===e&&(e=12),e}};return e.fac=function(t){return new(t||e)(nc(MM,16))},e.pipe=ar({name:"timeItemPipe",type:e,pure:!0,standalone:!0}),e})(),BM=["hourList"],zM=["minuteList"],GM=["secondsList"],$M=["ampmList"];function WM(e,t){if(1&e){let e=Rh();Ch(0,"igx-prefix",15),Fh("click",(function(){return Bs(e),zs(Vh().toggle())})),Ch(1,"igx-icon",16),fu(2,"access_time"),Sh()()}if(2&e){let e=Vh();tc(1),_h("title",e.value?e.resourceStrings.igx_time_picker_change_time:e.resourceStrings.igx_time_picker_choose_time)}}function KM(e,t){if(1&e){let e=Rh();Ch(0,"igx-suffix",15),Fh("click",(function(t){return Bs(e),Vh().clear(),zs(t.stopPropagation())})),Ch(1,"igx-icon"),fu(2,"clear"),Sh()()}}function jM(e,t){if(1&e){let e=Rh();Ch(0,"button",20),Fh("click",(function(){return Bs(e),zs(Vh(3).cancelButtonClick())})),fu(1),Sh()}if(2&e){let e=Vh(3);tc(1),xu(" ",e.cancelButtonLabel," ")}}function UM(e,t){if(1&e){let e=Rh();Ch(0,"button",20),Fh("click",(function(){return Bs(e),zs(Vh(3).okButtonClick())})),fu(1),Sh()}if(2&e){let e=Vh(3);tc(1),xu(" ",e.okButtonLabel," ")}}function qM(e,t){if(1&e&&(Ch(0,"div",18),yh(1,jM,2,1,"button",19),yh(2,UM,2,1,"button",19),Sh()),2&e){let e=Vh(2);tc(1),_h("ngIf",e.cancelButtonLabel),tc(1),_h("ngIf",e.okButtonLabel)}}function YM(e,t){if(1&e&&yh(0,qM,3,2,"div",17),2&e){let e=Vh();_h("ngIf",e.cancelButtonLabel||e.okButtonLabel)}}function XM(e,t){if(1&e&&(Ch(0,"div",21)(1,"h2",22)(2,"span"),fu(3),ag(4,"timeFormatPipe"),Sh()()()),2&e){let e=Vh();tc(3),vu(lg(4,1,e.selectedDate))}}function ZM(e,t){if(1&e&&(Ch(0,"span",26,27),fu(2),Sh()),2&e){let e=t.$implicit,i=xh(1);_h("igxTimeItem",e),ph("role",i.isSelectedTime?"spinbutton":null)("aria-valuenow",i.isSelectedTime?i.hourValue:null)("aria-valuemin",i.isSelectedTime?i.minValue:null)("aria-valuemax",i.isSelectedTime?i.maxValue:null),tc(2),vu(e)}}var QM=function(e,t,i,n){return[e,"hour",t,i,n]};function JM(e,t){if(1&e&&(Ch(0,"div",23,24),yh(2,ZM,3,6,"span",25),ag(3,"timeItemPipe"),Sh()),2&e){let e=Vh();_h("igxItemList","hourList"),tc(2),_h("ngForOf",ug(3,2,Yu(8,QM,e.hourItems,e.selectedDate,e.minDropdownValue,e.maxDropdownValue)))}}function eV(e,t){if(1&e&&(Ch(0,"span",30,27),fu(2),Sh()),2&e){let e=t.$implicit,i=xh(1);_h("igxTimeItem",e),ph("role",i.isSelectedTime?"spinbutton":null)("aria-valuenow",i.isSelectedTime?e:null)("aria-valuemin",i.isSelectedTime?i.minValue:null)("aria-valuemax",i.isSelectedTime?i.maxValue:null),tc(2),vu(e)}}var tV=function(e,t,i,n){return[e,"minutes",t,i,n]};function iV(e,t){if(1&e&&(Ch(0,"div",23,28),yh(2,eV,3,6,"span",29),ag(3,"timeItemPipe"),Sh()),2&e){let e=Vh();_h("igxItemList","minuteList"),tc(2),_h("ngForOf",ug(3,2,Yu(8,tV,e.minuteItems,e.selectedDate,e.minDropdownValue,e.maxDropdownValue)))}}function nV(e,t){if(1&e&&(Ch(0,"span",33,27),fu(2),Sh()),2&e){let e=t.$implicit,i=xh(1);_h("igxTimeItem",e),ph("role",i.isSelectedTime?"spinbutton":null)("aria-valuenow",i.isSelectedTime?e:null)("aria-valuemin",i.isSelectedTime?i.minValue:null)("aria-valuemax",i.isSelectedTime?i.maxValue:null),tc(2),vu(e)}}var rV=function(e,t,i,n){return[e,"seconds",t,i,n]};function sV(e,t){if(1&e&&(Ch(0,"div",23,31),yh(2,nV,3,6,"span",32),ag(3,"timeItemPipe"),Sh()),2&e){let e=Vh();_h("igxItemList","secondsList"),tc(2),_h("ngForOf",ug(3,2,Yu(8,rV,e.secondsItems,e.selectedDate,e.minDropdownValue,e.maxDropdownValue)))}}function oV(e,t){if(1&e&&(Ch(0,"span",36,27),fu(2),Sh()),2&e){let e=t.$implicit,i=xh(1);_h("igxTimeItem",e),ph("role",i.isSelectedTime?"spinbutton":null)("aria-valuenow",i.isSelectedTime?e:null)("aria-valuemin",i.isSelectedTime?i.minValue:null)("aria-valuemax",i.isSelectedTime?i.maxValue:null),tc(2),vu(e)}}var aV=function(e,t,i,n){return[e,"ampm",t,i,n]};function lV(e,t){if(1&e&&(Ch(0,"div",23,34),yh(2,oV,3,6,"span",35),ag(3,"timeItemPipe"),Sh()),2&e){let e=Vh();_h("igxItemList","ampmList"),tc(2),_h("ngForOf",ug(3,2,Yu(8,aV,e.ampmItems,e.selectedDate,e.minDropdownValue,e.maxDropdownValue)))}}function dV(e,t){1&e&&Th(0)}var cV=[[["","igxLabel",""]],[["igx-prefix"],["","igxPrefix",""]],[["igx-suffix"],["","igxSuffix",""]],[["igx-hint"],["","igxHint",""]]],hV=function(e,t){return{"igx-time-picker--dropdown":e,"igx-time-picker--vertical":t}},uV=["[igxLabel]","igx-prefix,[igxPrefix]","igx-suffix,[igxSuffix]","igx-hint,[igxHint]"],gV=0,pV=(()=>{let e=class extends AP{set minValue(e){this._minValue=e;let t=this.parseToDate(e);t&&(this._dateMinValue=new Date,this._dateMinValue.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),this.minDropdownValue=this.setMinMaxDropdownValue("min",this._dateMinValue)),this.setSelectedValue(this._selectedDate),this._onValidatorChange()}get minValue(){return this._minValue}get collapsed(){return this.toggleRef?.collapsed}set maxValue(e){this._maxValue=e;let t=this.parseToDate(e);t&&(this._dateMaxValue=new Date,this._dateMaxValue.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),this.maxDropdownValue=this.setMinMaxDropdownValue("max",this._dateMaxValue)),this.setSelectedValue(this._selectedDate),this._onValidatorChange()}get maxValue(){return this._maxValue}get showClearButton(){return!this.clearComponents.length&&($A.isValidDate(this.value)?0!==this.value.getHours()||0!==this.value.getMinutes()||0!==this.value.getSeconds():!!this.dateTimeEditor.value)}get showHoursList(){return-1!==this.inputFormat.indexOf("h")||-1!==this.inputFormat.indexOf("H")}get showMinutesList(){return-1!==this.inputFormat.indexOf("m")}get showSecondsList(){return-1!==this.inputFormat.indexOf("s")}get showAmPmList(){return-1!==this.inputFormat.indexOf("t")||-1!==this.inputFormat.indexOf("a")}get isTwelveHourFormat(){return-1!==this.inputFormat.indexOf("h")}get isVertical(){return this.headerOrientation===xP}get selectedDate(){return this._selectedDate}get minDateValue(){if(!this._dateMinValue){let e=new Date;return e.setHours(0,0,0,0),e}return this._dateMinValue}get maxDateValue(){if(!this._dateMaxValue){let e=new Date;return e.setHours(23,59,59,999),e}return this._dateMaxValue}get required(){if(this._ngControl&&this._ngControl.control&&this._ngControl.control.validator){let e=this._ngControl.control.validator({});return!(!e||!e.required)}return!1}get dialogOverlaySettings(){return Object.assign({},this._defaultDialogOverlaySettings,this.overlaySettings)}get dropDownOverlaySettings(){return Object.assign({},this._defaultDropDownOverlaySettings,this.overlaySettings)}get value(){return this._value}set value(e){let t=this._value;this._value=e;let i=this.parseToDate(e);i?(this._dateValue=new Date,this._dateValue.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),this.setSelectedValue(this._dateValue)):(this._dateValue=null,this.setSelectedValue(null)),this.dateTimeEditor&&(this.dateTimeEditor.value=i),this.emitValueChange(t,this._value),this._onChangeCallback(this._value)}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}set okButtonLabel(e){this._okButtonLabel=e}get okButtonLabel(){return null===this._okButtonLabel?this.resourceStrings.igx_time_picker_ok:this._okButtonLabel}set cancelButtonLabel(e){this._cancelButtonLabel=e}get cancelButtonLabel(){return null===this._cancelButtonLabel?this.resourceStrings.igx_time_picker_cancel:this._cancelButtonLabel}set itemsDelta(e){Object.assign(this._itemsDelta,e)}get itemsDelta(){return this._itemsDelta}constructor(e,t,i,n,r,s,o){super(e,t,i,n),this._injector=r,this.platform=s,this.cdr=o,this.id="igx-time-picker-"+gV++,this.inputFormat=$A.DEFAULT_TIME_INPUT_FORMAT,this.mode=_P,this.spinLoop=!0,this.headerOrientation=vP,this.readOnly=!1,this.selected=new Pd,this.valueChange=new Pd,this.validationFailed=new Pd,this.cleared=!1,this.isNotEmpty=!1,this.displayValue={transform:e=>this.formatter(e)},this.hourItems=[],this.minuteItems=[],this.secondsItems=[],this.ampmItems=[],this._resourceStrings=FI.TimePickerResStrings,this._okButtonLabel=null,this._cancelButtonLabel=null,this._itemsDelta={hours:1,minutes:1,seconds:1},this._ngControl=null,this._onChangeCallback=bt,this._onTouchedCallback=bt,this._onValidatorChange=bt,this._defaultDialogOverlaySettings={closeOnOutsideClick:!0,modal:!0,closeOnEscape:!0,outlet:this.outlet},this._defaultDropDownOverlaySettings={target:this.element.nativeElement,modal:!1,closeOnOutsideClick:!0,scrollStrategy:new rI,positionStrategy:new XE,outlet:this.outlet},this.locale=this.locale||this._localeId}onKeyDown(e){switch(e.key){case this.platform.KEYMAP.ARROW_UP:e.altKey&&this.isDropdown&&this.close();break;case this.platform.KEYMAP.ARROW_DOWN:e.altKey&&this.isDropdown&&this.open();break;case this.platform.KEYMAP.ESCAPE:this.cancelButtonClick();break;case this.platform.KEYMAP.SPACE:this.open(),e.preventDefault()}}getPartValue(e,t){let i=$A.parseDateTimeFormat(this.inputFormat).find((e=>e.type===t));return $A.getPartValue(e,i,i.format.length)}toISOString(e){return e.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}writeValue(e){this._value=e;let t=this.parseToDate(e);t?(this._dateValue=new Date,this._dateValue.setHours(t.getHours(),t.getMinutes(),t.getSeconds()),this.setSelectedValue(this._dateValue)):this.setSelectedValue(null),this.dateTimeEditor&&(this.dateTimeEditor.value=t)}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}registerOnValidatorChange(e){this._onValidatorChange=e}validate(e){if(!e.value)return null;if(rb(e.value)&&!$A.isValidDate(e.value))return{value:!0};let t={},i=$A.isValidDate(e.value)?e.value:$A.parseIsoDate(e.value);return Object.assign(t,$A.validateMinMax(i,this.minValue,this.maxValue,!0,!1)),Object.keys(t).length>0?t:null}setDisabledState(e){this.disabled=e}ngOnInit(){this._ngControl=this._injector.get(U_,null),this.minDropdownValue=this.setMinMaxDropdownValue("min",this.minDateValue),this.maxDropdownValue=this.setMinMaxDropdownValue("max",this.maxDateValue),this.setSelectedValue(this._dateValue),super.ngOnInit()}ngAfterViewInit(){super.ngAfterViewInit(),this.subscribeToDateEditorEvents(),this.subscribeToToggleDirectiveEvents(),this._defaultDropDownOverlaySettings.excludeFromOutsideClick=[this._inputGroup.element.nativeElement],Wt(this.inputDirective.nativeElement,"blur").pipe(Si(this._destroy$)).subscribe((()=>{this.collapsed&&this.updateValidityOnBlur()})),this.subToIconsClicked(this.clearComponents,(()=>this.clear())),this.clearComponents.changes.pipe(Si(this._destroy$)).subscribe((()=>this.subToIconsClicked(this.clearComponents,(()=>this.clear())))),this._ngControl&&(this._statusChanges$=this._ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this)),this._inputGroup.isRequired=this.required,this.cdr.detectChanges())}ngOnDestroy(){super.ngOnDestroy(),this._statusChanges$&&this._statusChanges$.unsubscribe()}getEditElement(){return this.dateTimeEditor.nativeElement}open(e){if(this.disabled||!this.toggleRef.collapsed)return;this.setSelectedValue(this._dateValue);let t=Object.assign({},this.isDropdown?this.dropDownOverlaySettings:this.dialogOverlaySettings,e);this.toggleRef.open(t)}close(){this.toggleRef.close()}toggle(e){this.toggleRef.collapsed?this.open(e):this.close()}clear(){if(!this.disabled)if(this.toggleRef.collapsed||this.close(),$A.isValidDate(this.value)){let e=new Date(this.value);this.value.setHours(0,0,0),this.value.getTime()!==e.getTime()&&(this.emitValueChange(e,this.value),this._dateValue.setHours(0,0,0),this.dateTimeEditor.value=new Date(this.value),this.setSelectedValue(this._dateValue))}else this.value=null}select(e){this.value=e}increment(e,t){this.dateTimeEditor.increment(e,t)}decrement(e,t){this.dateTimeEditor.decrement(e,t)}cancelButtonClick(){this.setSelectedValue(this._dateValue),this.dateTimeEditor.value=this.parseToDate(this.value),this.close()}okButtonClick(){this.updateValue(this._selectedDate),this.close()}onItemClick(e,t){let i=new Date(this._selectedDate);switch(t){case"hourList":{let t,n=parseInt(e,10);if(this.showAmPmList){t=this.getPartValue(i,"ampm"),n=this.toTwentyFourHourFormat(n,t);let e=this.minDropdownValue?.getHours()||0,r=this.maxDropdownValue?.getHours()||24;(n<e||n>r)&&(n=n<12?n+12:n-12)}i.setHours(n),i=this.validateDropdownValue(i),this.valueInRange(i,this.minDropdownValue,this.maxDropdownValue)&&this.setSelectedValue(i);break}case"minuteList":{let t=parseInt(e,10);i.setMinutes(t),i=this.validateDropdownValue(i),this.setSelectedValue(i);break}case"secondsList":{let t=parseInt(e,10);i.setSeconds(t),this.valueInRange(i,this.minDropdownValue,this.maxDropdownValue)&&this.setSelectedValue(i);break}case"ampmList":{let t=this._selectedDate.getHours();t="AM"===e?t-12:t+12,i.setHours(t),i=this.validateDropdownValue(i,!0),this.setSelectedValue(i);break}}this.updateEditorValue()}nextHour(e){e=e>0?1:-1;let t=new Date(this._selectedDate),i=this.minDropdownValue?.getHours(),n=this.maxDropdownValue?.getHours(),r=t.getHours(),s=r+e*this.itemsDelta.hours;(r===n&&e>0||r===i&&e<0)&&(s=this.spinLoop?e>0?i:n:r),this._selectedDate.setHours(s),this._selectedDate=this.validateDropdownValue(this._selectedDate),this._selectedDate=new Date(this._selectedDate),this.updateEditorValue()}nextMinute(e){e=e>0?1:-1;let t=this.minDropdownValue.getHours(),i=this.maxDropdownValue.getHours(),n=this._selectedDate.getHours(),r=this._selectedDate.getMinutes(),s=n===t?this.minDropdownValue.getMinutes():0,o=n===i?this.maxDropdownValue.getMinutes():60%this.itemsDelta.minutes>0?60-60%this.itemsDelta.minutes:60-this.itemsDelta.minutes;e<0&&r===s||e>0&&r===o?r=this.spinLoop&&r===s?o:this.spinLoop&&r===o?s:r:r+=e*this.itemsDelta.minutes,this._selectedDate.setMinutes(r),this._selectedDate=this.validateDropdownValue(this._selectedDate),this._selectedDate=new Date(this._selectedDate),this.updateEditorValue()}nextSeconds(e){e=e>0?1:-1;let t=this.minDropdownValue.getHours(),i=this.maxDropdownValue.getHours(),n=this._selectedDate.getHours(),r=this._selectedDate.getMinutes(),s=this.minDropdownValue.getMinutes(),o=this.maxDropdownValue.getMinutes(),a=this._selectedDate.getSeconds(),l=n===t&&r===s?this.minDropdownValue.getSeconds():0,d=n===i&&r===o?this.maxDropdownValue.getSeconds():60%this.itemsDelta.seconds>0?60-60%this.itemsDelta.seconds:60-this.itemsDelta.seconds;e<0&&a===l||e>0&&a===d?a=this.spinLoop&&a===l?d:this.spinLoop&&a===d?l:a:a+=e*this.itemsDelta.seconds,this._selectedDate.setSeconds(a),this._selectedDate=this.validateDropdownValue(this._selectedDate),this._selectedDate=new Date(this._selectedDate),this.updateEditorValue()}nextAmPm(e){let t=this.getPartValue(this._selectedDate,"ampm");if(!e||"AM"===t&&e>0||"PM"===t&&e<0){let e=this._selectedDate.getHours();e+=12*(e<12?1:-1),this._selectedDate.setHours(e),this._selectedDate=this.validateDropdownValue(this._selectedDate,!0),this._selectedDate=new Date(this._selectedDate),this.updateEditorValue()}}setSelectedValue(e){this._selectedDate=e?new Date(e):null,$A.isValidDate(this._selectedDate)?this.minValue&&$A.lessThanMinValue(this._selectedDate,this.minDropdownValue,!0,!1)?this._selectedDate=new Date(this.minDropdownValue):this.maxValue&&$A.greaterThanMaxValue(this._selectedDate,this.maxDropdownValue,!0,!1)?this._selectedDate=new Date(this.maxDropdownValue):(this._selectedDate.getHours()%this.itemsDelta.hours>0&&this._selectedDate.setHours(this._selectedDate.getHours()+this.itemsDelta.hours-this._selectedDate.getHours()%this.itemsDelta.hours,0,0),this._selectedDate.getMinutes()%this.itemsDelta.minutes>0&&this._selectedDate.setHours(this._selectedDate.getHours(),this._selectedDate.getMinutes()+this.itemsDelta.minutes-this._selectedDate.getMinutes()%this.itemsDelta.minutes,0),this._selectedDate.getSeconds()%this.itemsDelta.seconds>0&&this._selectedDate.setSeconds(this._selectedDate.getSeconds()+this.itemsDelta.seconds-this._selectedDate.getSeconds()%this.itemsDelta.seconds)):this._selectedDate=new Date(this.minDropdownValue)}onStatusChanged(){this._ngControl&&!this._ngControl.disabled&&this.isTouchedOrDirty?this.hasValidators&&this._inputGroup.isFocused?this.inputDirective.valid=this._ngControl.valid?wI.VALID:wI.INVALID:this.inputDirective.valid=this._ngControl.valid?wI.INITIAL:wI.INVALID:this.inputDirective.valid=wI.INITIAL,this._inputGroup&&this._inputGroup.isRequired!==this.required&&(this._inputGroup.isRequired=this.required)}get isTouchedOrDirty(){return this._ngControl.control.touched||this._ngControl.control.dirty}get hasValidators(){return!!this._ngControl.control.validator||!!this._ngControl.control.asyncValidator}setMinMaxDropdownValue(e,t){let i,n="min"===e?1:-1,r=t.getHours(),s=t.getMinutes(),o=t.getSeconds();return this.showHoursList&&r%this.itemsDelta.hours>0?(i="min"===e?this.itemsDelta.hours-r%this.itemsDelta.hours:r%this.itemsDelta.hours,s="min"===e?0:60%this.itemsDelta.minutes>0?60-60%this.itemsDelta.minutes:60-this.itemsDelta.minutes,o="min"===e?0:60%this.itemsDelta.seconds>0?60-60%this.itemsDelta.seconds:60-this.itemsDelta.seconds,t.setHours(r+n*i,s,o)):this.showMinutesList&&s%this.itemsDelta.minutes>0?(i="min"===e?this.itemsDelta.minutes-s%this.itemsDelta.minutes:s%this.itemsDelta.minutes,o="min"===e?0:60%this.itemsDelta.seconds>0?60-60%this.itemsDelta.seconds:60-this.itemsDelta.seconds,t.setHours(r,s+n*i,o)):this.showSecondsList&&o%this.itemsDelta.seconds>0&&(i="min"===e?this.itemsDelta.seconds-o%this.itemsDelta.seconds:o%this.itemsDelta.seconds,t.setHours(r,s,o+n*i)),t}initializeContainer(){requestAnimationFrame((()=>{this.hourList?this.hourList.nativeElement.focus():this.minuteList?this.minuteList.nativeElement.focus():this.secondsList&&this.secondsList.nativeElement.focus()}))}validateDropdownValue(e,t=!1){return e>this.maxDropdownValue&&(t&&e.getHours()!==this.maxDropdownValue.getHours()?e.setHours(12):e=new Date(this.maxDropdownValue)),e<this.minDropdownValue&&(e=new Date(this.minDropdownValue)),e}emitValueChange(e,t){sb(e,t)||this.valueChange.emit(t)}emitValidationFailedEvent(e){let t={owner:this,previousValue:e,currentValue:this.value};this.validationFailed.emit(t)}updateValidityOnBlur(){this._onTouchedCallback(),this._ngControl&&(this._ngControl.valid?this.inputDirective.valid=wI.INITIAL:this.inputDirective.valid=wI.INVALID)}valueInRange(e,t,i){return!(t&&$A.lessThanMinValue(e,t,!0,!1)||i&&$A.greaterThanMaxValue(e,i,!0,!1))}parseToDate(e){return $A.isValidDate(e)?e:$A.parseIsoDate(e)}toTwentyFourHourFormat(e,t){return"PM"===t&&e<12?e+=12:"AM"===t&&12===e&&(e=0),e}updateValue(e){if(this.value)if(rb(this.value)){let t=new Date(this.value);t.setHours(e?.getHours()||0,e?.getMinutes()||0,e?.getSeconds()||0),this.value=t}else this.value=e&&this.toISOString(e);else this.value=e&&new Date(e)}updateEditorValue(){let e=this.dateTimeEditor.value?new Date(this.dateTimeEditor.value):new Date;e.setHours(this._selectedDate.getHours(),this._selectedDate.getMinutes(),this._selectedDate.getSeconds()),this.dateTimeEditor.value=e}subscribeToDateEditorEvents(){this.dateTimeEditor.valueChange.pipe(Si(this._destroy$)).subscribe((e=>{this.updateValue(e)})),this.dateTimeEditor.validationFailed.pipe(Si(this._destroy$)).subscribe((e=>{this.emitValidationFailedEvent(e.oldValue)}))}subscribeToToggleDirectiveEvents(){this.toggleRef&&(this._inputGroup&&(this.toggleRef.element.style.width=this._inputGroup.element.nativeElement.getBoundingClientRect().width+"px"),this.toggleRef.opening.pipe(Si(this._destroy$)).subscribe((e=>{let t={owner:this,event:e.event,cancel:!1};this.opening.emit(t),e.cancel=t.cancel,!t.cancel&&this.initializeContainer()})),this.toggleRef.opened.pipe(Si(this._destroy$)).subscribe((()=>{this.opened.emit({owner:this})})),this.toggleRef.closed.pipe(Si(this._destroy$)).subscribe((()=>{this.closed.emit({owner:this})})),this.toggleRef.closing.pipe(Si(this._destroy$)).subscribe((e=>{let t={owner:this,event:e.event,cancel:!1};if(this.closing.emit(t),e.cancel=t.cancel,t.cancel)return;let i=this.parseToDate(this.value);this.dateTimeEditor.value?.getTime()!==i?.getTime()&&this.updateValue(this._selectedDate);let n=this.getEditElement();!n||e.event&&this.isDropdown?this.updateValidityOnBlur():n.focus()})))}};return e.fac=function(t){return new(t||e)(nc(wd),nc(Xg),nc(RI,8),nc(BI,8),nc(Rd),nc(ob),nc(fp))},e.cmp=tr({type:e,selectors:[["igx-time-picker"]],contentQueries:function(e,t,i){if(1&e&&(zg(i,bI,5),zg(i,yP,5),zg(i,fP,4)),2&e){let e;Hg(e=Gg())&&(t.label=e.first),Hg(e=Gg())&&(t.timePickerActionsDirective=e.first),Hg(e=Gg())&&(t.clearComponents=e)}},viewQuery:function(e,t){if(1&e&&(Bg(BM,5),Bg(zM,5),Bg(GM,5),Bg($M,5),Bg(CI,5,CI),Bg(UT,5),Bg(WA,7),Bg(FA,5)),2&e){let e;Hg(e=Gg())&&(t.hourList=e.first),Hg(e=Gg())&&(t.minuteList=e.first),Hg(e=Gg())&&(t.secondsList=e.first),Hg(e=Gg())&&(t.ampmList=e.first),Hg(e=Gg())&&(t.inputDirective=e.first),Hg(e=Gg())&&(t._inputGroup=e.first),Hg(e=Gg())&&(t.dateTimeEditor=e.first),Hg(e=Gg())&&(t.toggleRef=e.first)}},hostVars:1,hostBindings:function(e,t){1&e&&Fh("keydown",(function(e){return t.onKeyDown(e)})),2&e&&ph("id",t.id)},inputs:{id:"id",displayFormat:"displayFormat",inputFormat:"inputFormat",mode:"mode",minValue:"minValue",maxValue:"maxValue",spinLoop:"spinLoop",formatter:"formatter",headerOrientation:"headerOrientation",readOnly:"readOnly",value:"value",resourceStrings:"resourceStrings",okButtonLabel:"okButtonLabel",cancelButtonLabel:"cancelButtonLabel",itemsDelta:"itemsDelta"},outputs:{selected:"selected",valueChange:"valueChange",validationFailed:"validationFailed"},standalone:!0,features:[Nu([{provide:h_,useExisting:e,multi:!0},{provide:MM,useExisting:e},{provide:y_,useExisting:e,multi:!0}]),th,Wu],ngContentSelectors:uV,decls:24,vars:28,consts:[[3,"displayDensity","type"],["igxInput","","type","text","role","combobox","aria-haspopup","dialog",3,"displayValuePipe","igxDateTimeEditor","readonly","minValue","maxValue","locale","spinDelta","spinLoop","placeholder","disabled","displayFormat","igxTextSelection","click"],[3,"click",4,"ngIf"],["ngProjectAs","[igxLabel]",5,["","igxLabel",""]],["ngProjectAs","igx-prefix",5,["igx-prefix"]],["ngProjectAs","igx-suffix",5,["igx-suffix"]],["ngProjectAs","igx-hint",5,["igx-hint"]],["defaultTimePickerActions",""],["igxToggle","","role","dialog",1,"igx-time-picker",3,"ngClass"],["toggleDirective","toggle"],["class","igx-time-picker__header",4,"ngIf"],[1,"igx-time-picker__main"],[1,"igx-time-picker__body"],[3,"igxItemList",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"click"],[3,"title"],["class","igx-time-picker__buttons",4,"ngIf"],[1,"igx-time-picker__buttons"],["type","button","igxButton","flat",3,"click",4,"ngIf"],["type","button","igxButton","flat",3,"click"],[1,"igx-time-picker__header"],[1,"igx-time-picker__header-hour"],[3,"igxItemList"],["hourList",""],["aria-label","hour",3,"igxTimeItem",4,"ngFor","ngForOf"],["aria-label","hour",3,"igxTimeItem"],["timeItem","timeItem"],["minuteList",""],["aria-label","minutes",3,"igxTimeItem",4,"ngFor","ngForOf"],["aria-label","minutes",3,"igxTimeItem"],["secondsList",""],["aria-label","seconds",3,"igxTimeItem",4,"ngFor","ngForOf"],["aria-label","seconds",3,"igxTimeItem"],["ampmList",""],["aria-label","ampm",3,"igxTimeItem",4,"ngFor","ngForOf"],["aria-label","ampm",3,"igxTimeItem"]],template:function(e,t){if(1&e&&(Lh(cV),Ch(0,"igx-input-group",0)(1,"input",1),Fh("click",(function(){return!t.isDropdown&&t.toggle()})),Sh(),yh(2,WM,3,1,"igx-prefix",2),Eh(3,3),Hh(4),Ih(),Eh(5,4),Hh(6,1),Ih(),yh(7,KM,3,0,"igx-suffix",2),Eh(8,5),Hh(9,2),Ih(),Eh(10,6),Hh(11,3),Ih(),Sh(),yh(12,YM,1,1,"ng-template",null,7,jg),Ch(14,"div",8,9),yh(16,XM,5,3,"div",10),Ch(17,"div",11)(18,"div",12),yh(19,JM,4,13,"div",13),yh(20,iV,4,13,"div",13),yh(21,sV,4,13,"div",13),yh(22,lV,4,13,"div",13),Sh(),yh(23,dV,1,0,"ng-container",14),Sh()()),2&e){let e=xh(13),i=xh(15);_h("displayDensity",t.displayDensity)("type",t.type),tc(1),_h("displayValuePipe",t.formatter?t.displayValue:null)("igxDateTimeEditor",t.inputFormat)("readonly",!t.isDropdown||t.readOnly)("minValue",t.minValue)("maxValue",t.maxValue)("locale",t.locale)("spinDelta",t.itemsDelta)("spinLoop",t.spinLoop)("placeholder",t.placeholder)("disabled",t.disabled)("displayFormat",t.displayFormat)("igxTextSelection",t.isDropdown&&!t.readOnly),ph("aria-expanded",!i.collapsed)("aria-labelledby",null==t.label?null:t.label.id),tc(1),_h("ngIf",!t.toggleComponents.length),tc(5),_h("ngIf",t.showClearButton),tc(7),_h("ngClass",Uu(25,hV,t.isDropdown,t.isVertical&&!t.isDropdown)),tc(2),_h("ngIf",!t.isDropdown),tc(3),_h("ngIf",t.showHoursList),tc(1),_h("ngIf",t.showMinutesList),tc(1),_h("ngIf",t.showSecondsList),tc(1),_h("ngIf",t.showAmPmList),tc(1),_h("ngTemplateOutlet",t.timePickerActionsDirective?t.timePickerActionsDirective.template:e)}},dependencies:[UT,CI,WA,RA,$m,DI,XI,EI,HI,FA,Bm,VM,zm,NM,Zm,LM,HM],styles:["[_nghost-%COMP%]{display:block}"]}),e})();function mV(e,t){if(1&e&&(Ch(0,"div",3)(1,"div",4)(2,"span"),fu(3),Sh()(),Ch(4,"div",5)(5,"span"),fu(6),Sh()()()),2&e){let e=Vh();tc(3),vu(e.resourceStrings.igx_query_builder_and_label),tc(3),vu(e.resourceStrings.igx_query_builder_or_label)}}var fV=["*"],yV=(()=>{let e=class{constructor(){this._resourceStrings=FI.QueryBuilderResStrings,this.showLegend=!0}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}};return e.fac=function(t){return new(t||e)},e.cmp=tr({type:e,selectors:[["igx-query-builder-header"]],inputs:{title:"title",showLegend:"showLegend",resourceStrings:"resourceStrings"},standalone:!0,features:[Wu],ngContentSelectors:fV,decls:5,vars:2,consts:[[1,"igx-query-builder__header"],[1,"ig-typography__h6",2,"pointer-events","none"],["class","igx-builder-legend",4,"ngIf"],[1,"igx-builder-legend"],[1,"igx-builder-legend__item--and"],[1,"igx-builder-legend__item--or"]],template:function(e,t){1&e&&(Lh(),Ch(0,"div",0)(1,"div",1),fu(2),Hh(3),Sh(),yh(4,mV,7,2,"div",2),Sh()),2&e&&(tc(2),xu(" ",t.title," "),tc(2),_h("ngIf",t.showLegend))},dependencies:[$m],encapsulation:2}),e})(),vV=["fieldSelect"],xV=["conditionSelect"],_V=["searchValueInput"],wV=["picker"],CV=["addRootAndGroupButton"],SV=["addConditionButton"],bV=["editingInputsContainer"],DV=["addModeContainer"],EV=["currentGroupButtonsContainer"],IV=["expressionsContainer"],TV=["overlayOutlet"];function AV(e,t){1&e&&bh(0,"igx-query-builder-header",11),2&e&&_h("title",Vh().resourceStrings.igx_query_builder_title)}function RV(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"button",12,13),Fh("click",(function(){return Bs(e),zs(Vh().addAndGroup())})),Ch(3,"igx-icon"),fu(4,"add"),Sh(),Ch(5,"span"),fu(6),Sh()(),Ch(7,"button",12),Fh("click",(function(){return Bs(e),zs(Vh().addOrGroup())})),Ch(8,"igx-icon"),fu(9,"add"),Sh(),Ch(10,"span"),fu(11),Sh()(),Ch(12,"div",14)(13,"h6",15),fu(14),Sh()(),Ih()}if(2&e){let e=Vh();tc(1),_h("displayDensity",e.displayDensity),tc(5),vu(e.resourceStrings.igx_query_builder_and_group),tc(1),_h("displayDensity",e.displayDensity),tc(4),vu(e.resourceStrings.igx_query_builder_or_group),tc(3),xu(" ",e.resourceStrings.igx_query_builder_initial_text," ")}}function kV(e,t){if(1&e){let e=Rh();Ch(0,"button",16,17),Fh("click",(function(){let t=Bs(e),i=t.$implicit,n=t.afterExpression;return zs(Vh().addCondition(i,n))})),Ch(2,"igx-icon"),fu(3,"add"),Sh(),Ch(4,"span"),fu(5),Sh()(),Ch(6,"button",16),Fh("click",(function(){let t=Bs(e),i=t.$implicit,n=t.afterExpression;return zs(Vh().addAndGroup(i,n))})),Ch(7,"igx-icon"),fu(8,"add"),Sh(),Ch(9,"span"),fu(10),Sh()(),Ch(11,"button",16),Fh("click",(function(){let t=Bs(e),i=t.$implicit,n=t.afterExpression;return zs(Vh().addOrGroup(i,n))})),Ch(12,"igx-icon"),fu(13,"add"),Sh(),Ch(14,"span"),fu(15),Sh()()}if(2&e){let e=Vh();_h("displayDensity",e.displayDensity)("disabled",e.hasEditedExpression),tc(5),vu(e.resourceStrings.igx_query_builder_add_condition),tc(1),_h("displayDensity",e.displayDensity)("disabled",e.hasEditedExpression),tc(4),vu(e.resourceStrings.igx_query_builder_and_group),tc(1),_h("displayDensity",e.displayDensity)("disabled",e.hasEditedExpression),tc(4),vu(e.resourceStrings.igx_query_builder_or_group)}}function OV(e,t){if(1&e&&(Ch(0,"span",28),fu(1),ag(2,"fieldFormatter"),ag(3,"date"),Sh()),2&e){let e=Vh(2).$implicit,t=Vh();tc(1),xu(" ",t.isDate(e.expression.searchVal)?t.getFormatter(e.expression.fieldName)?cg(2,1,e.expression.searchVal,t.getFormatter(e.expression.fieldName),void 0):hg(3,5,e.expression.searchVal,t.getFormat(e.expression.fieldName),void 0,t.locale):e.expression.searchVal," ")}}function FV(e,t){if(1&e){let e=Rh();Ch(0,"igx-icon",30),Fh("keydown",(function(t){return Bs(e),zs(Vh(4).invokeClick(t))}))("click",(function(){Bs(e);let t=Vh(3).$implicit;return zs(Vh().enterExpressionAdd(t))})),fu(1," add "),Sh()}}function PV(e,t){if(1&e){let e=Rh();Ch(0,"div",29)(1,"igx-icon",30),Fh("keydown",(function(t){return Bs(e),zs(Vh(3).invokeClick(t))}))("click",(function(){Bs(e);let t=Vh(2).$implicit;return zs(Vh().enterExpressionEdit(t))})),fu(2," edit "),Sh(),yh(3,FV,2,0,"igx-icon",31),Sh()}if(2&e){let e=Vh(2).$implicit,t=Vh();tc(3),_h("ngIf",!e.inAddMode&&(e.parent!==t.currentGroup||e!==t.currentGroup.children[t.currentGroup.children.length-1]))}}function MV(e,t){if(1&e){let e=Rh();Ch(0,"div",21),Fh("mouseenter",(function(){return Bs(e),zs(Vh().$implicit.hovered=!0)}))("mouseleave",(function(){return Bs(e),zs(Vh().$implicit.hovered=!1)})),Ch(1,"igx-chip",22),Fh("keydown",(function(t){return Bs(e),zs(Vh(2).invokeClick(t))}))("click",(function(){Bs(e);let t=Vh().$implicit;return zs(Vh().onChipClick(t))}))("dblclick",(function(){Bs(e);let t=Vh().$implicit;return zs(Vh().onChipDblClick(t))}))("remove",(function(){Bs(e);let t=Vh().$implicit;return zs(Vh().onChipRemove(t))}))("selectedChanged",(function(){return Bs(e),zs(Vh(2).onChipSelectionEnd())})),Ch(2,"span",23),fu(3),Sh(),Ch(4,"igx-prefix"),bh(5,"igx-icon",24),Sh(),Ch(6,"span",25),fu(7),Sh(),yh(8,OV,4,10,"span",26),Sh(),yh(9,PV,4,1,"div",27),Sh()}if(2&e){let e=Vh().$implicit,t=Vh();tc(1),_h("data",e)("displayDensity","compact"===t.displayDensity?"cosy":t.displayDensity)("removable",!0)("selected",e.selected),tc(2),vu(e.fieldLabel||e.expression.fieldName),tc(2),_h("name",e.expression.condition.iconName),tc(2),xu(" ",t.getConditionFriendlyName(e.expression.condition.name)," "),tc(1),_h("ngIf",!e.expression.condition.isUnary),tc(1),_h("ngIf",e.selected&&1===t.selectedExpressions.length||e.hovered)}}function VV(e,t){if(1&e&&(Ch(0,"igx-select-item",47),fu(1),Sh()),2&e){let e=t.$implicit;_h("value",e),tc(1),xu(" ",e.label||e.header||e.field," ")}}function NV(e,t){if(1&e&&(Ch(0,"igx-prefix"),bh(1,"igx-icon",24),Sh()),2&e){Vh();let e=xh(6),t=Vh(2);tc(1),_h("name",t.selectedField.filters.condition(e.value).iconName)}}function LV(e,t){if(1&e&&(Ch(0,"igx-select-item",48)(1,"div",49),bh(2,"igx-icon",24),Ch(3,"span",50),fu(4),Sh()()()),2&e){let e=t.$implicit,i=Vh(3);_h("value",e)("text",i.getConditionFriendlyName(e)),tc(2),_h("name",i.selectedField.filters.condition(e).iconName),tc(2),vu(i.getConditionFriendlyName(e))}}function HV(e,t){if(1&e){let e=Rh();Ch(0,"igx-input-group",51)(1,"input",52,53),Fh("ngModelChange",(function(t){return Bs(e),zs(Vh(3).searchValue=t)})),Sh()()}if(2&e){let e=Vh(3);_h("displayDensity","compact"),tc(1),_h("disabled",!e.selectedField||!e.selectedCondition||e.selectedField&&e.selectedField.filters.condition(e.selectedCondition).isUnary)("type",e.selectedField&&"number"===e.selectedField.dataType?"number":"text")("placeholder",e.resourceStrings.igx_query_builder_value_placeholder)("ngModel",e.searchValue)}}function BV(e,t){if(1&e){let e=Rh();Ch(0,"igx-date-picker",54,55),Fh("valueChange",(function(t){return Bs(e),zs(Vh(3).searchValue=t)}))("keydown",(function(t){return Bs(e),zs(Vh(3).openPicker(t))}))("click",(function(){return Bs(e),zs(xh(1).open())})),bh(2,"igx-picker-toggle")(3,"igx-picker-clear"),Sh()}if(2&e){let e=Vh(3);_h("value",e.searchValue)("readOnly",!0)("displayDensity","compact")("placeholder",e.resourceStrings.igx_query_builder_date_placeholder)("disabled",!e.selectedField||!e.selectedCondition||e.selectedField&&e.selectedField.filters.condition(e.selectedCondition).isUnary)("locale",e.locale)("outlet",e.pickerOutlet)("formatter",e.selectedField.formatter)("displayFormat",e.selectedField.pipeArgs.format)("weekStart",e.selectedField.pipeArgs.weekStart)}}function zV(e,t){if(1&e){let e=Rh();Ch(0,"igx-time-picker",56,55),Fh("valueChange",(function(t){return Bs(e),zs(Vh(3).searchValue=t)}))("click",(function(){return Bs(e),zs(xh(1).open())}))("keydown",(function(t){return Bs(e),zs(Vh(3).openPicker(t))})),bh(2,"igx-picker-toggle")(3,"igx-picker-clear"),Sh()}if(2&e){let e=Vh(3);_h("value",e.searchValue)("displayDensity","compact")("placeholder",e.resourceStrings.igx_query_builder_time_placeholder)("readOnly",!0)("disabled",!e.selectedField||!e.selectedCondition||e.selectedField&&e.selectedField.filters.condition(e.selectedCondition).isUnary)("locale",e.locale)("outlet",e.pickerOutlet)("formatter",e.selectedField.formatter)("inputFormat",e.selectedField.defaultTimeFormat)}}function GV(e,t){if(1&e){let e=Rh();Ch(0,"igx-input-group",57,58)(2,"input",59,60),Fh("ngModelChange",(function(t){return Bs(e),zs(Vh(3).searchValue=t)})),Sh()()}if(2&e){let e=Vh(3);_h("displayDensity","compact"),tc(2),_h("placeholder",e.resourceStrings.igx_query_builder_date_placeholder)("ngModel",e.searchValue)("disabled",!e.selectedField||!e.selectedCondition||e.selectedField&&e.selectedField.filters.condition(e.selectedCondition).isUnary)("igxDateTimeEditor",e.selectedField.defaultDateTimeFormat)}}function $V(e,t){if(1&e){let e=Rh();Ch(0,"div",32,33)(2,"igx-select",34,35),Fh("ngModelChange",(function(t){return Bs(e),zs(Vh(2).selectedField=t)})),yh(4,VV,2,2,"igx-select-item",36),Sh(),Ch(5,"igx-select",37,38),Fh("ngModelChange",(function(t){return Bs(e),zs(Vh(2).selectedCondition=t)})),yh(7,NV,2,1,"igx-prefix",3),yh(8,LV,5,4,"igx-select-item",39),Sh(),yh(9,HV,3,5,"igx-input-group",40),yh(10,BV,4,10,"igx-date-picker",41),yh(11,zV,4,9,"igx-time-picker",42),yh(12,GV,4,5,"igx-input-group",43),Ch(13,"div",44)(14,"button",45),Fh("click",(function(){return Bs(e),zs(Vh(2).commitOperandEdit())})),Ch(15,"igx-icon"),fu(16,"check"),Sh()(),Ch(17,"button",46),Fh("click",(function(){return Bs(e),zs(Vh(2).cancelOperandEdit())})),Ch(18,"igx-icon"),fu(19,"close"),Sh()()()()}if(2&e){let e=xh(6),t=Vh(2);tc(2),_h("displayDensity","compact")("overlaySettings",t.fieldSelectOverlaySettings)("placeholder",t.resourceStrings.igx_query_builder_column_placeholder)("ngModel",t.selectedField),tc(2),_h("ngForOf",t.fields),tc(1),_h("displayDensity","compact")("overlaySettings",t.conditionSelectOverlaySettings)("placeholder",t.resourceStrings.igx_query_builder_condition_placeholder)("ngModel",t.selectedCondition)("disabled",!t.selectedField),tc(2),_h("ngIf",t.selectedField&&e.value&&t.selectedField.filters.condition(e.value)),tc(1),_h("ngForOf",t.getConditionList()),tc(1),_h("ngIf",!t.selectedField||"date"!==t.selectedField.dataType&&"time"!==t.selectedField.dataType&&"dateTime"!==t.selectedField.dataType),tc(1),_h("ngIf",t.selectedField&&"date"===t.selectedField.dataType),tc(1),_h("ngIf",t.selectedField&&"time"===t.selectedField.dataType),tc(1),_h("ngIf",t.selectedField&&"dateTime"===t.selectedField.dataType),tc(2),_h("displayDensity",t.displayDensity)("disabled",!t.operandCanBeCommitted()),tc(3),_h("displayDensity",t.displayDensity)}}function WV(e,t){1&e&&Th(0)}function KV(e,t){if(1&e){let e=Rh();Ch(0,"div",61,62),yh(2,WV,1,0,"ng-container",63),Ch(3,"button",46),Fh("click",(function(){return Bs(e),zs(Vh(2).cancelOperandAdd())})),Ch(4,"igx-icon"),fu(5,"close"),Sh()()()}if(2&e){let e=Vh().$implicit,t=Vh(),i=xh(6);tc(2),_h("ngTemplateOutlet",i)("ngTemplateOutletContext",t.context(e.parent,e)),tc(1),_h("displayDensity",t.displayDensity)}}function jV(e,t){if(1&e&&(yh(0,MV,10,9,"div",18),yh(1,$V,20,19,"div",19),yh(2,KV,6,3,"div",20)),2&e){let e=t.$implicit;_h("ngIf",!e.inEditMode),tc(1),_h("ngIf",e.inEditMode),tc(1),_h("ngIf",e.inAddMode)}}function UV(e,t){1&e&&Th(0)}function qV(e,t){if(1&e&&(Eh(0),yh(1,UV,1,0,"ng-container",63),Ih()),2&e){let e=t.$implicit,i=Vh(2),n=xh(10),r=xh(8);tc(1),_h("ngTemplateOutlet",i.isExpressionGroup(e)?n:r)("ngTemplateOutletContext",i.context(e))}}function YV(e,t){1&e&&Th(0)}function XV(e,t){if(1&e){let e=Rh();Ch(0,"button",16),Fh("click",(function(){Bs(e);let t=Vh(2).$implicit;return zs(Vh().endGroup(t))})),Ch(1,"span"),fu(2),Sh()()}if(2&e){let e=Vh(2).$implicit,t=Vh();_h("displayDensity",t.displayDensity)("disabled",t.hasEditedExpression||e.children.length<2),tc(2),vu(t.resourceStrings.igx_query_builder_end_group)}}function ZV(e,t){if(1&e&&(Ch(0,"div",61,68),yh(2,YV,1,0,"ng-container",63),yh(3,XV,3,3,"button",69),Sh()),2&e){let e=Vh().$implicit,t=Vh(),i=xh(6);tc(2),_h("ngTemplateOutlet",i)("ngTemplateOutletContext",t.context(e)),tc(1),_h("ngIf",e!==t.rootGroup)}}var QV=function(e,t,i){return{"igx-filter-tree__line--and":e,"igx-filter-tree__line--or":t,"igx-filter-tree__line--selected":i}};function JV(e,t){if(1&e){let e=Rh();Ch(0,"div",64)(1,"div",65),Fh("keydown",(function(t){return Bs(e),zs(Vh().invokeClick(t))}))("click",(function(){let t=Bs(e).$implicit;return zs(Vh().onGroupClick(t))})),Sh(),Ch(2,"div",66),yh(3,qV,2,2,"ng-container",67),yh(4,ZV,4,3,"div",20),Sh()()}if(2&e){let e=t.$implicit,i=Vh();tc(1),_h("ngClass",qu(3,QV,0===e.operator,1===e.operator,e.selected)),tc(2),_h("ngForOf",e.children),tc(1),_h("ngIf",i.currentGroup===e)}}function eN(e,t){1&e&&Th(0)}function tN(e,t){if(1&e&&(Eh(0),yh(1,eN,1,0,"ng-container",63),Ih()),2&e){let e=Vh(),t=xh(10);tc(1),_h("ngTemplateOutlet",t)("ngTemplateOutletContext",e.context(e.rootGroup))}}function iN(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"igx-buttongroup",70),Fh("selected",(function(t){return Bs(e),zs(Vh().selectFilteringLogic(t))})),Sh(),Ch(2,"button",16),Fh("click",(function(){return Bs(e),zs(Vh().ungroup())})),bh(3,"igx-icon",71),Ch(4,"span"),fu(5),Sh()(),Ch(6,"button",72),Fh("click",(function(){return Bs(e),zs(Vh().deleteGroup())})),Ch(7,"igx-icon"),fu(8,"delete"),Sh(),Ch(9,"span"),fu(10),Sh()(),Ih()}if(2&e){let e=Vh();tc(1),_h("displayDensity",e.displayDensity)("values",e.filteringLogics),tc(1),_h("displayDensity",e.displayDensity)("disabled",!e.contextualGroup.parent),tc(3),vu(e.resourceStrings.igx_query_builder_ungroup),tc(1),_h("displayDensity",e.displayDensity),tc(4),vu(e.resourceStrings.igx_query_builder_delete)}}function nN(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"button",12),Fh("click",(function(){return Bs(e),zs(Vh().createAndGroup())})),fu(2),Sh(),Ch(3,"button",12),Fh("click",(function(){return Bs(e),zs(Vh().createOrGroup())})),fu(4),Sh(),Ch(5,"button",72),Fh("click",(function(){return Bs(e),zs(Vh().deleteFilters())})),fu(6),Sh(),Ih()}if(2&e){let e=Vh();tc(1),_h("displayDensity",e.displayDensity),tc(1),xu(" ",e.resourceStrings.igx_query_builder_create_and_group," "),tc(1),_h("displayDensity",e.displayDensity),tc(1),xu(" ",e.resourceStrings.igx_query_builder_create_or_group," "),tc(1),_h("displayDensity",e.displayDensity),tc(1),xu(" ",e.resourceStrings.igx_query_builder_delete_filters," ")}}var rN=[[["igx-query-builder-header"]]],sN=function(e,t){return{"igx-filter-contextual-menu--cosy":e,"igx-filter-contextual-menu--compact":t}},oN=["igx-query-builder-header"],aN=(()=>{let e=class{transform(e,t,i,n){return t(e,i,n)}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"fieldFormatter",type:e,pure:!0,standalone:!0}),e})(),lN=class{constructor(e){this.parent=e}},dN=class extends lN{constructor(e,t){super(t),this.operator=e,this.children=[]}},cN=class extends lN{constructor(e,t){super(t),this.expression=e}},hN=(()=>{let e=class extends kI{get fields(){return this._fields}set fields(e){this._fields=e,this._fields&&(this.registerSVGIcons(),this._fields.forEach((e=>{this.setFilters(e),this.setFormat(e)})))}get expressionTree(){return this._expressionTree}set expressionTree(e){this._expressionTree=e,this.init()}get locale(){return this._locale}set locale(e){this._locale=e;try{jp(this._locale)}catch{this._locale=this._localeId}}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}set editingInputsContainer(e){(e&&!this._editingInputsContainer||e&&this._editingInputsContainer&&this._editingInputsContainer.nativeElement!==e.nativeElement)&&requestAnimationFrame((()=>{this.scrollElementIntoView(e.nativeElement)})),this._editingInputsContainer=e}get editingInputsContainer(){return this._editingInputsContainer}set addModeContainer(e){(e&&!this._addModeContainer||e&&this._addModeContainer&&this._addModeContainer.nativeElement!==e.nativeElement)&&requestAnimationFrame((()=>{this.scrollElementIntoView(e.nativeElement)})),this._addModeContainer=e}get addModeContainer(){return this._addModeContainer}set currentGroupButtonsContainer(e){(e&&!this._currentGroupButtonsContainer||e&&this._currentGroupButtonsContainer&&this._currentGroupButtonsContainer.nativeElement!==e.nativeElement)&&requestAnimationFrame((()=>{this.scrollElementIntoView(e.nativeElement)})),this._currentGroupButtonsContainer=e}get currentGroupButtonsContainer(){return this._currentGroupButtonsContainer}constructor(e,t,i,n,r,s){super(s,n),this.cdr=e,this.iconService=t,this.platform=i,this.el=n,this._localeId=r,this._displayDensityOptions=s,this.cssClass="igx-query-builder",this.display="block",this.expressionTreeChange=new Pd,this.selectedExpressions=[],this.fieldSelectOverlaySettings={scrollStrategy:new rI,modal:!1,closeOnOutsideClick:!1},this.conditionSelectOverlaySettings={scrollStrategy:new rI,modal:!1,closeOnOutsideClick:!1},this.destroy$=new Xe,this._dblClickDelay=200,this._preventChipClick=!1,this._selectedGroups=[],this._resourceStrings=FI.QueryBuilderResStrings,this._positionSettings={horizontalStartPoint:zE.Right,verticalStartPoint:GE.Top},this._overlaySettings={closeOnOutsideClick:!1,modal:!1,positionStrategy:new qE(this._positionSettings),scrollStrategy:new sI},this.locale=this.locale||this._localeId}ngAfterViewInit(){this._overlaySettings.outlet=this.overlayOutlet,this.fieldSelectOverlaySettings.outlet=this.overlayOutlet,this.conditionSelectOverlaySettings.outlet=this.overlayOutlet}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}set selectedField(e){let t=this._selectedField;this._selectedField!==e&&(this._selectedField=e,t&&this._selectedField&&this._selectedField.dataType!==t.dataType&&(this.selectedCondition=null,this.searchValue=null,this.cdr.detectChanges()))}get selectedField(){return this._selectedField}setPickerOutlet(e){this.pickerOutlet=e}get isContextMenuVisible(){return!this.contextMenuToggle.collapsed}get hasEditedExpression(){return void 0!==this._editedExpression&&null!==this._editedExpression}addCondition(e,t){this.cancelOperandAdd();let i=new cN({fieldName:null,condition:null,ignoreCase:!0,searchVal:null},e);if(t){let n=e.children.indexOf(t);e.children.splice(n+1,0,i)}else e.children.push(i);this.enterExpressionEdit(i)}addAndGroup(e,t){this.addGroup(Yb.And,e,t)}addOrGroup(e,t){this.addGroup(Yb.Or,e,t)}endGroup(e){this.currentGroup=e.parent}commitOperandEdit(){this._editedExpression&&(this._editedExpression.expression.fieldName=this.selectedField.field,this._editedExpression.expression.condition=this.selectedField.filters.condition(this.selectedCondition),this._editedExpression.expression.searchVal=Kb.parseValue(this.selectedField.dataType,this.searchValue),this._editedExpression.fieldLabel=this.selectedField.label?this.selectedField.label:this.selectedField.header?this.selectedField.header:this.selectedField.field,this._editedExpression.inEditMode=!1,this._editedExpression=null),this._expressionTree=this.createExpressionTreeFromGroupItem(this.rootGroup),this.expressionTreeChange.emit()}cancelOperandAdd(){this._addModeExpression&&(this._addModeExpression.inAddMode=!1,this._addModeExpression=null)}cancelOperandEdit(){this._editedExpression&&(this._editedExpression.inEditMode=!1,this._editedExpression.expression.fieldName||this.deleteItem(this._editedExpression),this._editedExpression=null)}operandCanBeCommitted(){return this.selectedField&&this.selectedCondition&&(!!this.searchValue||this.selectedField.filters.condition(this.selectedCondition).isUnary)}exitOperandEdit(){this._editedExpression&&(this.operandCanBeCommitted()?this.commitOperandEdit():this.cancelOperandEdit())}isExpressionGroup(e){return e instanceof dN}onChipRemove(e){this.deleteItem(e)}onChipClick(e){this._clickTimer=setTimeout((()=>{this._preventChipClick||this.onToggleExpression(e),this._preventChipClick=!1}),this._dblClickDelay)}onChipDblClick(e){clearTimeout(this._clickTimer),this._preventChipClick=!0,this.enterExpressionEdit(e)}enterExpressionEdit(e){this.clearSelection(),this.exitOperandEdit(),this.cancelOperandAdd(),this._editedExpression&&(this._editedExpression.inEditMode=!1),e.hovered=!1,this.selectedField=e.expression.fieldName?this.fields.find((t=>t.field===e.expression.fieldName)):null,this.selectedCondition=e.expression.condition?e.expression.condition.name:null,this.searchValue=e.expression.searchVal,e.inEditMode=!0,this._editedExpression=e,this.cdr.detectChanges(),this.fieldSelectOverlaySettings.target=this.fieldSelect.element,this.fieldSelectOverlaySettings.excludeFromOutsideClick=[this.fieldSelect.element],this.fieldSelectOverlaySettings.positionStrategy=new XE,this.conditionSelectOverlaySettings.target=this.conditionSelect.element,this.conditionSelectOverlaySettings.excludeFromOutsideClick=[this.conditionSelect.element],this.conditionSelectOverlaySettings.positionStrategy=new XE,this.selectedField?this.selectedField.filters.condition(this.selectedCondition).isUnary?this.conditionSelect.input.nativeElement.focus():(this.searchValueInput?.nativeElement||this.picker?.getEditElement()).focus():this.fieldSelect.input.nativeElement.focus()}clearSelection(){for(let e of this._selectedGroups)e.selected=!1;this._selectedGroups=[];for(let e of this.selectedExpressions)e.selected=!1;this.selectedExpressions=[],this.toggleContextMenu()}enterExpressionAdd(e){this.clearSelection(),this.exitOperandEdit(),this._addModeExpression&&(this._addModeExpression.inAddMode=!1),e.inAddMode=!0,this._addModeExpression=e,e.selected&&this.toggleExpression(e)}contextMenuClosed(){this.contextualGroup=null}onKeyDown(e){e.stopPropagation();let t=e.key;!this.contextMenuToggle.collapsed&&t===this.platform.KEYMAP.ESCAPE&&this.clearSelection()}createAndGroup(){this.createGroup(Yb.And)}createOrGroup(){this.createGroup(Yb.Or)}deleteFilters(){for(let e of this.selectedExpressions)this.deleteItem(e);this.clearSelection()}onGroupClick(e){this.toggleGroup(e)}ungroup(){let e=this.contextualGroup,t=e.parent;if(t){let i=t.children.indexOf(e);t.children.splice(i,1,...e.children);for(let i of e.children)i.parent=t}this.clearSelection(),this.commitOperandEdit()}deleteGroup(){let e=this.contextualGroup,t=e.parent;if(t){let i=t.children.indexOf(e);t.children.splice(i,1)}else this.rootGroup=null;this.clearSelection(),this.commitOperandEdit()}selectFilteringLogic(e){this.contextualGroup.operator=e.index,this.commitOperandEdit()}getConditionFriendlyName(e){return this.resourceStrings[`igx_query_builder_filter_${e}`]||e}isDate(e){return e instanceof Date}onExpressionsScrolled(){this.contextMenuToggle.collapsed||(this.calculateContextMenuTarget(),this.contextMenuToggle.reposition())}invokeClick(e){this.platform.isActivationKey(e)&&(e.preventDefault(),e.currentTarget.click())}openPicker(e){this.platform.isActivationKey(e)&&(e.preventDefault(),this.picker.open())}onOutletPointerDown(e){e.preventDefault()}getConditionList(){return this.selectedField?this.selectedField.filters.conditionList():[]}getFormatter(e){return this.fields.find((t=>t.field===e)).formatter}getFormat(e){return this.fields.find((t=>t.field===e)).pipeArgs.format}setAddButtonFocus(){this.addRootAndGroupButton?this.addRootAndGroupButton.nativeElement.focus():this.addConditionButton&&this.addConditionButton.nativeElement.focus()}context(e,t){return{$implicit:e,afterExpression:t}}onChipSelectionEnd(){let e=this.findSingleSelectedGroup();(e||this.selectedExpressions.length>1)&&(this.contextualGroup=e,this.calculateContextMenuTarget(),this.contextMenuToggle.collapsed?this.contextMenuToggle.open(this._overlaySettings):this.contextMenuToggle.reposition())}setFormat(e){e.pipeArgs||(e.pipeArgs={digitsInfo:"1.0-3"}),e.pipeArgs.format||(e.pipeArgs.format=e.dataType===$b.Time?"mediumTime":e.dataType===$b.DateTime?"medium":"mediumDate"),e.defaultDateTimeFormat||(e.defaultDateTimeFormat="dd/MM/yyyy HH:mm:ss tt"),e.defaultTimeFormat||(e.defaultTimeFormat="hh:mm:ss tt")}setFilters(e){if(!e.filters)switch(e.dataType){case $b.Boolean:e.filters=jA.instance();break;case $b.Number:case $b.Currency:case $b.Percent:e.filters=ZA.instance();break;case $b.Date:e.filters=qA.instance();break;case $b.Time:e.filters=XA.instance();break;case $b.DateTime:e.filters=YA.instance();break;default:e.filters=QA.instance()}}onToggleExpression(e){this.exitOperandEdit(),this.toggleExpression(e),this.toggleContextMenu()}toggleExpression(e){if(e.selected=!e.selected,e.selected)this.selectedExpressions.push(e);else{let t=this.selectedExpressions.indexOf(e);this.selectedExpressions.splice(t,1),this.deselectParentRecursive(e)}}addGroup(e,t,i){this.cancelOperandAdd();let n=new dN(e,t);if(t)if(i){let e=t.children.indexOf(i);t.children.splice(e+1,0,n)}else t.children.push(n);else this.rootGroup=n;this.addCondition(n),this.currentGroup=n}createExpressionGroupItem(e,t){let i;if(e){i=new dN(e.operator,t);for(let t of e.filteringOperands)if(t instanceof qb)i.children.push(this.createExpressionGroupItem(t,i));else{let e=t,n={fieldName:e.fieldName,condition:e.condition,searchVal:e.searchVal,ignoreCase:e.ignoreCase},r=new cN(n,i),s=this.fields.find((t=>t.field===e.fieldName));r.fieldLabel=s.label||s.header||s.field,i.children.push(r)}}return i}createExpressionTreeFromGroupItem(e){if(!e)return null;let t=new qb(e.operator);for(let i of e.children)if(i instanceof dN){let e=this.createExpressionTreeFromGroupItem(i);t.filteringOperands.push(e)}else t.filteringOperands.push(i.expression);return t}toggleContextMenu(){let e=this.findSingleSelectedGroup();e||this.selectedExpressions.length>1?(this.contextualGroup=e,e&&(this.filteringLogics=[{label:this.resourceStrings.igx_query_builder_filter_operator_and,selected:e.operator===Yb.And},{label:this.resourceStrings.igx_query_builder_filter_operator_or,selected:e.operator===Yb.Or}])):this.contextMenuToggle&&this.contextMenuToggle.close()}findSingleSelectedGroup(){for(let e of this._selectedGroups)if(this.selectedExpressions.every((t=>this.isInsideGroup(t,e))))return e;return null}isInsideGroup(e,t){return!!e&&(e.parent===t||this.isInsideGroup(e.parent,t))}deleteItem(e){if(!e.parent)return this.rootGroup=null,this.currentGroup=null,void(this._expressionTree=null);e===this.currentGroup&&(this.currentGroup=this.currentGroup.parent);let t=e.parent.children,i=t.indexOf(e);t.splice(i,1),this._expressionTree=this.createExpressionTreeFromGroupItem(this.rootGroup),t.length||this.deleteItem(e.parent),this.expressionTreeChange.emit()}createGroup(e){let t=this.chips.toArray(),i=this.selectedExpressions.reduce(((e,i)=>Math.min(e,t.findIndex((e=>e.data===i)))),Number.MAX_VALUE),n=t[i].data,r=n.parent,s=new dN(e,r),o=r.children.indexOf(n);r.children.splice(o,0,s);for(let e of this.selectedExpressions)s.children.push(e),this.deleteItem(e),e.parent=s;this.clearSelection()}toggleGroup(e){this.exitOperandEdit(),e.children&&e.children.length&&(this.toggleGroupRecursive(e,!e.selected),e.selected||this.deselectParentRecursive(e),this.toggleContextMenu())}toggleGroupRecursive(e,t){if(e.selected!==t)if(e.selected=t,e.selected)this._selectedGroups.push(e);else{let t=this._selectedGroups.indexOf(e);this._selectedGroups.splice(t,1)}for(let i of e.children)if(i instanceof dN)this.toggleGroupRecursive(i,t);else{let e=i;e.selected!==t&&this.toggleExpression(e)}}deselectParentRecursive(e){let t=e.parent;if(t){if(t.selected){t.selected=!1;let e=this._selectedGroups.indexOf(t);this._selectedGroups.splice(e,1)}this.deselectParentRecursive(t)}}calculateContextMenuTarget(){let e=this.expressionsContainer.nativeElement.getBoundingClientRect(),t=this.chips.filter((e=>-1!==this.selectedExpressions.indexOf(e.data))),i=t.reduce(((e,t)=>Math.min(e,t.nativeElement.getBoundingClientRect().top)),Number.MAX_VALUE);i=Math.max(e.top,i),i=Math.min(e.bottom,i);let n=t.reduce(((e,t)=>Math.max(e,t.nativeElement.getBoundingClientRect().right)),0);n=Math.max(n,e.left),n=Math.min(n,e.right),this._overlaySettings.target=new jE(n,i)}scrollElementIntoView(e){let t=this.expressionsContainer.nativeElement,i=e.offsetTop-t.offsetTop;t.scrollTop+10>i?t.scrollTop=i-10:t.scrollTop+t.clientHeight<i+e.offsetHeight+10&&(t.scrollTop=i+e.offsetHeight+10-t.clientHeight)}init(){this.clearSelection(),this.cancelOperandAdd(),this.cancelOperandEdit(),this.rootGroup=this.createExpressionGroupItem(this.expressionTree),this.currentGroup=this.rootGroup}registerSVGIcons(){Xk.forEach((e=>this.iconService.addSvgIconFromText(e.name,e.value,"imx-icons")))}};return e.fac=function(t){return new(t||e)(nc(fp),nc(zI),nc(ob),nc(wd),nc(Xg),nc(RI,8))},e.cmp=tr({type:e,selectors:[["igx-query-builder"]],contentQueries:function(e,t,i){if(1&e&&zg(i,yV,5),2&e){let e;Hg(e=Gg())&&(t.headerContent=e.first)}},viewQuery:function(e,t){if(1&e&&(Bg(vV,5,PM),Bg(xV,5,PM),Bg(_V,5,wd),Bg(wV,5),Bg(CV,5,wd),Bg(SV,5,wd),Bg(bV,5,wd),Bg(DV,5,wd),Bg(EV,5,wd),Bg(FA,5),Bg(IV,5),Bg(TV,7,MA),Bg(hP,5)),2&e){let e;Hg(e=Gg())&&(t.fieldSelect=e.first),Hg(e=Gg())&&(t.conditionSelect=e.first),Hg(e=Gg())&&(t.searchValueInput=e.first),Hg(e=Gg())&&(t.picker=e.first),Hg(e=Gg())&&(t.addRootAndGroupButton=e.first),Hg(e=Gg())&&(t.addConditionButton=e.first),Hg(e=Gg())&&(t.editingInputsContainer=e.first),Hg(e=Gg())&&(t.addModeContainer=e.first),Hg(e=Gg())&&(t.currentGroupButtonsContainer=e.first),Hg(e=Gg())&&(t.contextMenuToggle=e.first),Hg(e=Gg())&&(t.expressionsContainer=e.first),Hg(e=Gg())&&(t.overlayOutlet=e.first),Hg(e=Gg())&&(t.chips=e)}},hostVars:4,hostBindings:function(e,t){2&e&&(tu("display",t.display),iu("igx-query-builder",t.cssClass))},inputs:{fields:"fields",expressionTree:"expressionTree",locale:"locale",resourceStrings:"resourceStrings"},outputs:{expressionTreeChange:"expressionTreeChange"},standalone:!0,features:[th,Wu],ngContentSelectors:oN,decls:20,vars:9,consts:[[3,"title",4,"ngIf"],[1,"igx-query-builder__main",3,"scroll"],["expressionsContainer",""],[4,"ngIf"],["addExpressionsTemplate",""],["filterOperandTemplate",""],["expressionTreeTemplate",""],["igxToggle","",1,"igx-filter-contextual-menu",3,"ngClass","keydown","closed"],["type","button","igxButton","icon",1,"igx-filter-contextual-menu__close-btn",3,"click"],["igxOverlayOutlet","",1,"igx-query-builder__outlet",3,"pointerdown"],["overlayOutlet",""],[3,"title"],["type","button","igxButton","outlined",3,"displayDensity","click"],["addRootAndGroupButton",""],[1,"igx-filter-empty"],[1,"igx-filter-empty__title"],["type","button","igxButton","outlined",3,"displayDensity","disabled","click"],["addConditionButton",""],["class","igx-filter-tree__expression-item",3,"mouseenter","mouseleave",4,"ngIf"],["class","igx-filter-tree__inputs",4,"ngIf"],["class","igx-filter-tree__buttons",4,"ngIf"],[1,"igx-filter-tree__expression-item",3,"mouseenter","mouseleave"],[3,"data","displayDensity","removable","selected","keydown","click","dblclick","remove","selectedChanged"],["igxPrefix","",1,"igx-filter-tree__expression-column"],["family","imx-icons",3,"name"],[1,"igx-filter-tree__expression-condition"],["igxSuffix","",4,"ngIf"],["class","igx-filter-tree__expression-actions",4,"ngIf"],["igxSuffix",""],[1,"igx-filter-tree__expression-actions"],["tabindex","0",3,"keydown","click"],["tabindex","0",3,"keydown","click",4,"ngIf"],[1,"igx-filter-tree__inputs"],["editingInputsContainer",""],["type","box",3,"displayDensity","overlaySettings","placeholder","ngModel","ngModelChange"],["fieldSelect",""],[3,"value",4,"ngFor","ngForOf"],["type","box",3,"displayDensity","overlaySettings","placeholder","ngModel","disabled","ngModelChange"],["conditionSelect",""],[3,"value","text",4,"ngFor","ngForOf"],["type","box",3,"displayDensity",4,"ngIf"],["type","box",3,"value","readOnly","displayDensity","placeholder","disabled","locale","outlet","formatter","displayFormat","weekStart","valueChange","keydown","click",4,"ngIf"],["type","box",3,"value","displayDensity","placeholder","readOnly","disabled","locale","outlet","formatter","inputFormat","valueChange","click","keydown",4,"ngIf"],["type","box","type","box",3,"displayDensity",4,"ngIf"],[1,"igx-filter-tree__inputs-actions"],["type","button","igxButton","icon",3,"displayDensity","disabled","click"],["type","button","igxButton","icon",3,"displayDensity","click"],[3,"value"],[3,"value","text"],[1,"igx-grid__filtering-dropdown-items"],[1,"igx-grid__filtering-dropdown-text"],["type","box",3,"displayDensity"],["igxInput","",3,"disabled","type","placeholder","ngModel","ngModelChange"],["searchValueInput",""],["type","box",3,"value","readOnly","displayDensity","placeholder","disabled","locale","outlet","formatter","displayFormat","weekStart","valueChange","keydown","click"],["picker",""],["type","box",3,"value","displayDensity","placeholder","readOnly","disabled","locale","outlet","formatter","inputFormat","valueChange","click","keydown"],["type","box","type","box",3,"displayDensity"],["inputGroup",""],["igxInput","","tabindex","0",3,"placeholder","ngModel","disabled","igxDateTimeEditor","ngModelChange"],["input",""],[1,"igx-filter-tree__buttons"],["addModeContainer",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-filter-tree"],["tabindex","0",1,"igx-filter-tree__line",3,"ngClass","keydown","click"],[1,"igx-filter-tree__expression"],[4,"ngFor","ngForOf"],["currentGroupButtonsContainer",""],["type","button","igxButton","outlined",3,"displayDensity","disabled","click",4,"ngIf"],["type","outline",3,"displayDensity","values","selected"],["family","imx-icons","name","ungroup"],["type","button","igxButton","outlined",1,"igx-filter-contextual-menu__delete-btn",3,"displayDensity","click"]],template:function(e,t){1&e&&(Lh(rN),yh(0,AV,1,1,"igx-query-builder-header",0),Hh(1),Ch(2,"div",1,2),Fh("scroll",(function(){return t.onExpressionsScrolled()})),yh(4,RV,15,5,"ng-container",3),yh(5,kV,16,9,"ng-template",null,4,jg),yh(7,jV,3,3,"ng-template",null,5,jg),yh(9,JV,5,7,"ng-template",null,6,jg),yh(11,tN,2,2,"ng-container",3),Ch(12,"div",7),Fh("keydown",(function(e){return t.onKeyDown(e)}))("closed",(function(){return t.contextMenuClosed()})),Ch(13,"button",8),Fh("click",(function(){return t.clearSelection()})),Ch(14,"igx-icon"),fu(15,"close"),Sh()(),yh(16,iN,11,7,"ng-container",3),yh(17,nN,7,6,"ng-container",3),Sh()(),Ch(18,"div",9,10),Fh("pointerdown",(function(e){return t.onOutletPointerDown(e)})),Sh()),2&e&&(_h("ngIf",!t.headerContent),tc(4),_h("ngIf",!t.rootGroup),tc(7),_h("ngIf",t.rootGroup),tc(1),_h("ngClass",Uu(6,sN,"cosy"===t.displayDensity,"compact"===t.displayDensity)),tc(4),_h("ngIf",t.contextualGroup),tc(1),_h("ngIf",!t.contextualGroup))},dependencies:[$m,yV,HI,XI,hP,DI,EI,PM,qw,p_,Y_,ww,zm,fM,UT,CI,MP,mP,fP,pV,WA,Zm,Bm,FA,IO,MA,af,aN],encapsulation:2}),e})(),uN=["queryBuilder"],gN=function(e){return{"igx-advanced-filter":!0,"igx-advanced-filter--inline":e}};function pN(e,t){if(1&e){let e=Rh();Ch(0,"article",1),Fh("dragStart",(function(t){return Bs(e),zs(Vh().dragStart(t))}))("dragMove",(function(t){return Bs(e),zs(Vh().onDragMove(t))}))("keydown",(function(t){return Bs(e),zs(Vh().onKeyDown(t))})),Ch(1,"igx-query-builder",2,3),bh(3,"igx-query-builder-header",4),Sh(),Ch(4,"footer",5)(5,"div",6)(6,"button",7),Fh("click",(function(t){return Bs(e),zs(Vh().onClearButtonClick(t))})),fu(7),Sh()(),Ch(8,"div",8)(9,"button",7),Fh("click",(function(){return Bs(e),zs(Vh().cancelChanges())})),fu(10),Sh()(),Ch(11,"div",9)(12,"button",10),Fh("click",(function(t){return Bs(e),zs(Vh().onApplyButtonClick(t))})),fu(13),Sh()()()()}if(2&e){let e=Vh();_h("ghost",!1)("dragTolerance",0)("ngClass",ju(13,gN,e.inline)),tc(1),_h("locale",e.grid.locale)("fields",e.filterableFields)("expressionTree",e.grid.advancedFilteringExpressionsTree),tc(2),_h("title",e.grid.resourceStrings.igx_grid_advanced_filter_title),tc(3),_h("displayDensity",e.displayDensity),tc(1),xu(" ",e.grid.resourceStrings.igx_grid_excel_custom_dialog_clear," "),tc(2),_h("displayDensity",e.displayDensity),tc(1),xu(" ",e.grid.resourceStrings.igx_grid_excel_cancel," "),tc(2),_h("displayDensity",e.displayDensity),tc(1),xu(" ",e.grid.resourceStrings.igx_grid_excel_apply," ")}}var mN=(()=>{let e=class{constructor(e,t){this.cdr=e,this.platform=t,this.display="block",this.inline=!0,this.lastActiveNode={},this.destroy$=new Xe}ngAfterViewInit(){this.queryBuilder.setPickerOutlet(this.grid.outlet)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}get displayDensity(){return this.grid.displayDensity}set grid(e){this._grid=e,this._grid&&this._grid.filteringService.registerSVGIcons(),this.assignResourceStrings()}get grid(){return this._grid}get filterableFields(){return this.grid.columns.filter((e=>!e.columnGroup&&e.filterable))}dragStart(e){this._overlayComponentId||(e.cancel=!0)}onDragMove(e){let t=e.nextPageX-e.pageX,i=e.nextPageY-e.pageY;e.cancel=!0,this._overlayService.setOffset(this._overlayComponentId,t,i)}onKeyDown(e){e.stopPropagation();let t=e.key;this.queryBuilder.isContextMenuVisible&&t===this.platform.KEYMAP.ESCAPE?this.queryBuilder.clearSelection():t===this.platform.KEYMAP.ESCAPE&&this.closeDialog()}initialize(e,t,i){this.inline=!1,this.grid=e,this._overlayService=t,this._overlayComponentId=i}onClearButtonClick(e){this.grid.crudService.endEdit(!1,e),this.queryBuilder.expressionTree=this.grid.advancedFilteringExpressionsTree=null}closeDialog(){this._overlayComponentId&&this._overlayService.hide(this._overlayComponentId),this.grid.navigation.activeNode=this.lastActiveNode,this.grid.navigation.activeNode&&-1===this.grid.navigation.activeNode.row&&this.grid.theadRow.nativeElement.focus()}applyChanges(e){this.grid.crudService.endEdit(!1,e),this.queryBuilder.exitOperandEdit(),this.grid.advancedFilteringExpressionsTree=this.queryBuilder.expressionTree}cancelChanges(){this.closeDialog()}onApplyButtonClick(e){this.applyChanges(e),this.closeDialog()}assignResourceStrings(){let e=this.grid.resourceStrings;if(e!==OI){let t=FI.QueryBuilderResStrings;Object.keys(e).forEach((i=>{let n=/^igx_grid_(advanced_)?filter_(row_)?/;if(!n.test(i))return;let r=i.replace(n,""),s=`igx_query_builder_filter_${r}`,o=`igx_query_builder_${r}`;void 0!==t[s]?t[s]=e[i]:void 0!==t[o]&&(t[o]=e[i])}))}}};return e.fac=function(t){return new(t||e)(nc(fp),nc(ob))},e.cmp=tr({type:e,selectors:[["igx-advanced-filtering-dialog"]],viewQuery:function(e,t){if(1&e&&Bg(uN,5,hN),2&e){let e;Hg(e=Gg())&&(t.queryBuilder=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&tu("display",t.display)},inputs:{grid:"grid"},standalone:!0,features:[Wu],decls:1,vars:1,consts:[["class","igx-advanced-filter","igxDrag","",3,"ghost","dragTolerance","ngClass","dragStart","dragMove","keydown",4,"ngIf"],["igxDrag","",1,"igx-advanced-filter",3,"ghost","dragTolerance","ngClass","dragStart","dragMove","keydown"],[3,"locale","fields","expressionTree"],["queryBuilder",""],["igxDragHandle","",3,"title"],[1,"igx-excel-filter__secondary-footer"],[1,"igx-excel-filter__clear"],["igxButton","flat","type","button",3,"displayDensity","click"],[1,"igx-excel-filter__cancel"],[1,"igx-excel-filter__apply"],["igxButton","raised","type","button",3,"displayDensity","click"]],template:function(e,t){1&e&&yh(0,pN,14,15,"article",0),2&e&&_h("ngIf",t.grid)},dependencies:[$m,JT,Bm,hN,yV,ZT,HI],encapsulation:2}),e})(),fN=(()=>{let e=class{constructor(e,t,i){this.cdr=e,this.element=t,this.platform=i}};return e.fac=function(t){return new(t||e)(nc(fp),nc(wd),nc(ob))},e.dir=or({type:e}),e})();function yN(e,t){if(1&e){let e=Rh();Ch(0,"div",1),Fh("keydown",(function(t){return Bs(e),zs(Vh().onClearFilterKeyDown(t))}))("click",(function(){return Bs(e),zs(Vh().clearFilter())})),Ch(1,"span"),fu(2),Sh(),Ch(3,"igx-icon"),fu(4,"clear"),Sh()()}if(2&e){let e=Vh();_h("ngClass",e.clearFilterClass()),ph("aria-disabled",!e.esf.column.filteringExpressionsTree),tc(2),vu(e.esf.grid.resourceStrings.igx_grid_excel_filter_clear)}}var vN=(()=>{let e=class{constructor(e,t){this.esf=e,this.platform=t}clearFilterClass(){return this.esf.column.filteringExpressionsTree?"igx-excel-filter__actions-clear":"igx-excel-filter__actions-clear--disabled"}clearFilter(){this.esf.grid.filteringService.clearFilter(this.esf.column.field),this.selectAllFilterItems()}onClearFilterKeyDown(e){e.key===this.platform.KEYMAP.ENTER&&this.clearFilter()}selectAllFilterItems(){this.esf.listData.forEach((e=>{e.isSelected=!0,e.indeterminate=!1})),this.esf.detectChanges()}};return e.fac=function(t){return new(t||e)(nc(fN),nc(ob))},e.cmp=tr({type:e,selectors:[["igx-excel-style-clear-filters"]],standalone:!0,features:[Wu],decls:1,vars:1,consts:[["tabindex","0","role","menuitem",3,"ngClass","keydown","click",4,"ngIf"],["tabindex","0","role","menuitem",3,"ngClass","keydown","click"]],template:function(e,t){1&e&&yh(0,yN,5,3,"div",0),2&e&&_h("ngIf",t.esf.column)},dependencies:[$m,Bm,XI],encapsulation:2}),e})(),xN=["overlayOutlet"],_N=["dropdownConditions"],wN=["logicOperatorButtonGroup"],CN=["inputValues"];function SN(e,t){1&e&&bh(0,"igx-icon",12),2&e&&_h("name",Vh().getIconName())}function bN(e,t){1&e&&(Ch(0,"igx-icon"),fu(1,"filter_list"),Sh())}function DN(e,t){if(1&e&&(Ch(0,"igx-select-item",13)(1,"div",14),bh(2,"igx-icon",12),Ch(3,"span",15),fu(4),Sh()()()),2&e){let e=t.$implicit,i=Vh();_h("value",e)("text",i.getConditionFriendlyName(e))("selected",i.isConditionSelected(e)),tc(2),_h("name",i.getCondition(e).iconName),tc(2),vu(i.translateCondition(e))}}function EN(e,t){if(1&e){let e=Rh();Ch(0,"button",16),Fh("click",(function(){return Bs(e),zs(Vh().onRemoveButtonClick())})),Ch(1,"igx-icon"),fu(2,"cancel"),Sh()()}2&e&&_h("displayDensity",Vh().displayDensity)}function IN(e,t){if(1&e){let e=Rh();Ch(0,"igx-buttongroup",null,17)(2,"span",18,19),Fh("keydown",(function(t){return Bs(e),zs(Vh().onLogicOperatorKeyDown(t,0))}))("click",(function(t){return Bs(e),zs(Vh().onLogicOperatorButtonClicked(t,0))})),fu(4),Sh(),Ch(5,"span",18,20),Fh("keydown",(function(t){return Bs(e),zs(Vh().onLogicOperatorKeyDown(t,1))}))("click",(function(t){return Bs(e),zs(Vh().onLogicOperatorButtonClicked(t,1))})),fu(7),Sh()()}if(2&e){let e=Vh();tc(2),_h("displayDensity",e.displayDensity)("selected",0===e.expressionUI.afterOperator),tc(2),xu(" ",e.grid.resourceStrings.igx_grid_filter_operator_and," "),tc(1),_h("displayDensity",e.displayDensity)("selected",1===e.expressionUI.afterOperator),tc(2),xu(" ",e.grid.resourceStrings.igx_grid_filter_operator_or," ")}}var TN=(()=>{let e=class{get isLast(){return this.expressionsList[this.expressionsList.length-1]===this.expressionUI}get isSingle(){return 1===this.expressionsList.length}get conditionsPlaceholder(){return this.grid.resourceStrings.igx_grid_filter_condition_placeholder}get inputValuePlaceholder(){return this.grid.resourceStrings.igx_grid_filter_row_placeholder}get type(){switch(this.column.dataType){case Wb.Number:case Wb.Currency:case Wb.Percent:return"number";default:return"text"}}constructor(e,t){this.cdr=e,this.platform=t,this.expressionRemoved=new Pd,this.logicOperatorChanged=new Pd,this.dropDownOverlaySettings={scrollStrategy:new rI,modal:!1,closeOnOutsideClick:!0}}get conditions(){return this.column.filters.conditionList()}get inputValuesElement(){return this.inputValuesDirective.nativeElement}ngAfterViewInit(){this.dropDownOverlaySettings.outlet=this.overlayOutlet,this.dropDownOverlaySettings.target=this.dropdownConditions.inputGroup.element.nativeElement,this.dropDownOverlaySettings.excludeFromOutsideClick=[this.dropdownConditions.inputGroup.element.nativeElement],this.dropDownOverlaySettings.positionStrategy=new qE}focus(){requestAnimationFrame((()=>this.inputValuesElement.focus()))}translateCondition(e){return this.grid.resourceStrings[`igx_grid_filter_${this.getCondition(e).name}`]||e}getIconName(){return this.column.dataType===Wb.Boolean&&null===this.expressionUI.expression.condition?this.getCondition(this.conditions[0]).iconName:this.expressionUI.expression.condition?this.expressionUI.expression.condition.iconName:"filter_list"}isConditionSelected(e){return this.expressionUI.expression.condition&&this.expressionUI.expression.condition.name===e}onConditionsChanged(e){let t=e.newSelection.value;this.expressionUI.expression.condition=this.getCondition(t),this.focus()}getCondition(e){return this.column.filters.condition(e)}getConditionFriendlyName(e){return this.grid.resourceStrings[`igx_grid_filter_${e}`]||e}onValuesInput(e){this.expressionUI.expression.searchVal=Kb.parseValue(this.column.dataType,e.target.value)}onLogicOperatorButtonClicked(e,t){0===this.logicOperatorButtonGroup.selectedButtons.length?(e.stopPropagation(),this.logicOperatorButtonGroup.selectButton(t)):this.logicOperatorChanged.emit({target:this.expressionUI,newValue:t})}onLogicOperatorKeyDown(e,t){e.key===this.platform.KEYMAP.ENTER&&(this.logicOperatorButtonGroup.selectButton(t),this.logicOperatorChanged.emit({target:this.expressionUI,newValue:t}))}onRemoveButtonClick(){this.expressionRemoved.emit(this.expressionUI)}onOutletPointerDown(e){e.preventDefault()}};return e.fac=function(t){return new(t||e)(nc(fp),nc(ob))},e.cmp=tr({type:e,selectors:[["igx-excel-style-default-expression"]],viewQuery:function(e,t){if(1&e&&(Bg(xN,7,MA),Bg(_N,7,PM),Bg(wN,5,IO),Bg(CN,7,CI)),2&e){let e;Hg(e=Gg())&&(t.overlayOutlet=e.first),Hg(e=Gg())&&(t.dropdownConditions=e.first),Hg(e=Gg())&&(t.logicOperatorButtonGroup=e.first),Hg(e=Gg())&&(t.inputValuesDirective=e.first)}},inputs:{column:"column",expressionUI:"expressionUI",expressionsList:"expressionsList",grid:"grid",displayDensity:"displayDensity"},outputs:{expressionRemoved:"expressionRemoved",logicOperatorChanged:"logicOperatorChanged"},standalone:!0,features:[Wu],decls:14,vars:13,consts:[["type","box",3,"displayDensity","placeholder","overlaySettings","selectionChanging"],["dropdownConditions",""],["family","imx-icons",3,"name",4,"ngIf"],[4,"ngIf"],[3,"value","text","selected",4,"ngFor","ngForOf"],["type","box",3,"displayDensity"],["inputGroupValues",""],["igxInput","","tabindex","0","autocomplete","off",3,"type","placeholder","disabled","value","input"],["inputValues",""],["type","button","igxButton","icon",3,"displayDensity","click",4,"ngIf"],["igxOverlayOutlet","",3,"pointerdown"],["overlayOutlet",""],["family","imx-icons",3,"name"],[3,"value","text","selected"],[1,"igx-grid__filtering-dropdown-items"],[1,"igx-grid__filtering-dropdown-text"],["type","button","igxButton","icon",3,"displayDensity","click"],["logicOperatorButtonGroup",""],["igxButton","","tabindex","0","type","button",3,"displayDensity","selected","keydown","click"],["andButton",""],["orButton",""]],template:function(e,t){1&e&&(Ch(0,"igx-select",0,1),Fh("selectionChanging",(function(e){return t.onConditionsChanged(e)})),Ch(2,"igx-prefix"),yh(3,SN,1,1,"igx-icon",2),yh(4,bN,2,0,"igx-icon",3),Sh(),yh(5,DN,5,5,"igx-select-item",4),Sh(),Ch(6,"igx-input-group",5,6)(8,"input",7,8),Fh("input",(function(e){return t.onValuesInput(e)})),Sh()(),yh(10,EN,3,1,"button",9),yh(11,IN,8,6,"igx-buttongroup",3),Ch(12,"div",10,11),Fh("pointerdown",(function(e){return t.onOutletPointerDown(e)})),Sh()),2&e&&(_h("displayDensity",t.displayDensity)("placeholder",t.conditionsPlaceholder)("overlaySettings",t.dropDownOverlaySettings),tc(3),_h("ngIf",t.expressionUI.expression.condition),tc(1),_h("ngIf",!t.expressionUI.expression.condition),tc(1),_h("ngForOf",t.conditions),tc(1),_h("displayDensity",t.displayDensity),tc(2),_h("type",t.type)("placeholder",t.inputValuePlaceholder)("disabled",t.expressionUI.expression.condition&&t.expressionUI.expression.condition.isUnary)("value",t.expressionUI.expression.searchVal),tc(2),_h("ngIf",!t.isSingle),tc(1),_h("ngIf",!t.isLast))},dependencies:[PM,DI,$m,XI,zm,fM,UT,CI,HI,IO,MA],encapsulation:2}),e})(),AN=["input"],RN=["picker"];function kN(e,t){1&e&&bh(0,"igx-icon",11),2&e&&_h("name",Vh().getIconName())}function ON(e,t){1&e&&(Ch(0,"igx-icon"),fu(1,"filter_list"),Sh())}function FN(e,t){if(1&e&&(Ch(0,"igx-select-item",12),bh(1,"igx-icon",11),Ch(2,"span"),fu(3),Sh()()),2&e){let e=t.$implicit,i=Vh();_h("value",e)("text",i.getConditionFriendlyName(e))("selected",i.isConditionSelected(e)),tc(1),_h("name",i.getCondition(e).iconName),tc(2),vu(i.translateCondition(e))}}function PN(e,t){if(1&e){let e=Rh();Ch(0,"igx-date-picker",13,14),Fh("valueChange",(function(t){return Bs(e),zs(Vh().expressionUI.expression.searchVal=t)}))("click",(function(){return Bs(e),zs(xh(1).open())})),bh(2,"igx-picker-toggle")(3,"igx-picker-clear"),Sh()}if(2&e){let e,t=Vh();_h("weekStart",null!==(e=t.column.pipeArgs.weekStart)&&void 0!==e?e:t.weekStart)("value",t.expressionUI.expression.searchVal)("locale",t.grid.locale)("outlet",t.grid.outlet)("displayDensity",t.displayDensity)("readOnly",!0)("placeholder",t.inputDatePlaceholder)("displayFormat",t.column.pipeArgs.format)("formatter",t.column.formatter)("disabled",t.expressionUI.expression.condition&&t.expressionUI.expression.condition.isUnary)}}function MN(e,t){if(1&e){let e=Rh();Ch(0,"igx-time-picker",15,14),Fh("valueChange",(function(t){return Bs(e),zs(Vh().expressionUI.expression.searchVal=t)}))("click",(function(){return Bs(e),zs(xh(1).open())})),bh(2,"igx-picker-toggle")(3,"igx-picker-clear"),Sh()}if(2&e){let e=Vh();_h("inputFormat",e.column.defaultTimeFormat)("value",e.expressionUI.expression.searchVal)("locale",e.grid.locale)("outlet",e.grid.outlet)("displayDensity",e.displayDensity)("readOnly",!0)("placeholder",e.inputTimePlaceholder)("displayFormat",e.column.pipeArgs.format)("formatter",e.column.formatter)("disabled",e.expressionUI.expression.condition&&e.expressionUI.expression.condition.isUnary)}}function VN(e,t){if(1&e){let e=Rh();Ch(0,"igx-input-group",16,17)(3,"input",18,19),Fh("ngModelChange",(function(t){return Bs(e),zs(Vh().expressionUI.expression.searchVal=t)})),Sh()()}if(2&e){let e=Vh();_h("displayDensity",e.displayDensity),tc(3),_h("placeholder",e.inputDatePlaceholder)("igxDateTimeEditor",e.column.defaultDateTimeFormat)("ngModel",e.expressionUI.expression.searchVal)("disabled",e.expressionUI.expression.condition&&e.expressionUI.expression.condition.isUnary)}}function NN(e,t){if(1&e){let e=Rh();Ch(0,"button",20),Fh("click",(function(){return Bs(e),zs(Vh().onRemoveButtonClick())})),Ch(1,"igx-icon"),fu(2,"cancel"),Sh()()}2&e&&_h("displayDensity",Vh().displayDensity)}function LN(e,t){if(1&e){let e=Rh();Ch(0,"igx-buttongroup",null,21)(2,"span",22,23),Fh("keydown",(function(t){return Bs(e),zs(Vh().onLogicOperatorKeyDown(t,0))}))("click",(function(t){return Bs(e),zs(Vh().onLogicOperatorButtonClicked(t,0))})),fu(4),Sh(),Ch(5,"span",22,24),Fh("keydown",(function(t){return Bs(e),zs(Vh().onLogicOperatorKeyDown(t,1))}))("click",(function(t){return Bs(e),zs(Vh().onLogicOperatorButtonClicked(t,1))})),fu(7),Sh()()}if(2&e){let e=Vh();tc(2),_h("displayDensity",e.displayDensity)("selected",0===e.expressionUI.afterOperator),tc(2),xu(" ",e.grid.resourceStrings.igx_grid_filter_operator_and," "),tc(1),_h("displayDensity",e.displayDensity)("selected",1===e.expressionUI.afterOperator),tc(2),xu(" ",e.grid.resourceStrings.igx_grid_filter_operator_or," ")}}var HN=(()=>{let e=class extends TN{get inputValuesElement(){return this.picker?.getEditElement()||this.input?.nativeElement}get inputDatePlaceholder(){return this.grid.resourceStrings.igx_grid_filter_row_date_placeholder}get inputTimePlaceholder(){return this.grid.resourceStrings.igx_grid_filter_row_time_placeholder}get weekStart(){return jp(this.grid.locale)}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.cmp=tr({type:e,selectors:[["igx-excel-style-date-expression"]],viewQuery:function(e,t){if(1&e&&(Bg(AN,5,CI),Bg(RN,5)),2&e){let e;Hg(e=Gg())&&(t.input=e.first),Hg(e=Gg())&&(t.picker=e.first)}},standalone:!0,features:[th,Wu],decls:13,vars:11,consts:[["type","box",3,"displayDensity","placeholder","overlaySettings","selectionChanging"],["dropdownConditions",""],["family","imx-icons",3,"name",4,"ngIf"],[4,"ngIf"],[3,"value","text","selected",4,"ngFor","ngForOf"],["type","box",3,"weekStart","value","locale","outlet","displayDensity","readOnly","placeholder","displayFormat","formatter","disabled","valueChange","click",4,"ngIf"],["type","box",3,"inputFormat","value","locale","outlet","displayDensity","readOnly","placeholder","displayFormat","formatter","disabled","valueChange","click",4,"ngIf"],["type","box",3,"displayDensity",4,"ngIf"],["type","button","igxButton","icon",3,"displayDensity","click",4,"ngIf"],["igxOverlayOutlet","",3,"pointerdown"],["overlayOutlet",""],["family","imx-icons",3,"name"],[3,"value","text","selected"],["type","box",3,"weekStart","value","locale","outlet","displayDensity","readOnly","placeholder","displayFormat","formatter","disabled","valueChange","click"],["picker",""],["type","box",3,"inputFormat","value","locale","outlet","displayDensity","readOnly","placeholder","displayFormat","formatter","disabled","valueChange","click"],["type","box",3,"displayDensity"],["dropDownTarget","","inputGroup",""],["igxInput","","tabindex","0",3,"placeholder","igxDateTimeEditor","ngModel","disabled","ngModelChange"],["input",""],["type","button","igxButton","icon",3,"displayDensity","click"],["logicOperatorButtonGroup",""],["igxButton","","tabindex","0","type","button",3,"displayDensity","selected","keydown","click"],["andButton",""],["orButton",""]],template:function(e,t){1&e&&(Ch(0,"igx-select",0,1),Fh("selectionChanging",(function(e){return t.onConditionsChanged(e)})),Ch(2,"igx-prefix"),yh(3,kN,1,1,"igx-icon",2),yh(4,ON,2,0,"igx-icon",3),Sh(),yh(5,FN,4,5,"igx-select-item",4),Sh(),yh(6,PN,4,10,"igx-date-picker",5),yh(7,MN,4,10,"igx-time-picker",6),yh(8,VN,5,5,"igx-input-group",7),yh(9,NN,3,1,"button",8),yh(10,LN,8,6,"igx-buttongroup",3),Ch(11,"div",9,10),Fh("pointerdown",(function(e){return t.onOutletPointerDown(e)})),Sh()),2&e&&(_h("displayDensity",t.displayDensity)("placeholder",t.conditionsPlaceholder)("overlaySettings",t.dropDownOverlaySettings),tc(3),_h("ngIf",t.expressionUI.expression.condition),tc(1),_h("ngIf",!t.expressionUI.expression.condition),tc(1),_h("ngForOf",t.conditions),tc(1),_h("ngIf","date"===t.column.dataType),tc(1),_h("ngIf","time"===t.column.dataType),tc(1),_h("ngIf","dateTime"===t.column.dataType),tc(1),_h("ngIf",!t.isSingle),tc(1),_h("ngIf",!t.isLast))},dependencies:[PM,DI,$m,XI,zm,fM,MP,mP,fP,pV,UT,qw,p_,Y_,ww,CI,WA,HI,IO,MA],encapsulation:2}),e})(),BN=class{constructor(){this.isSpecial=!1,this.isBlanks=!1}},zN=class{constructor(){this.isSelected=!1,this.isVisible=!0}};function GN(e,t,i){$N(e,t,i),i.length&&(i[i.length-1].afterOperator=null)}function $N(e,t,i){if(e)if(e instanceof qb){let n=e;for(let e of n.filteringOperands)$N(e,n.operator,i);i.length&&(i[i.length-1].afterOperator=t)}else{let n=new zN;n.expression=e,n.afterOperator=t;let r=i[i.length-1];r&&(n.beforeOperator=r.afterOperator),i.push(n)}}var WN=["toggle"],KN=["defaultExpressionTemplate"],jN=["dateExpressionTemplate"],UN=["expressionsContainer"];function qN(e,t){if(1&e){let e=Rh();Ch(0,"igx-excel-style-date-expression",15),Fh("expressionRemoved",(function(t){return Bs(e),zs(Vh(2).onExpressionRemoved(t))}))("logicOperatorChanged",(function(t){return Bs(e),zs(Vh(2).onLogicOperatorChanged(t))})),Sh()}if(2&e){let e=t.$implicit,i=Vh(2);_h("expressionUI",e)("column",i.column)("grid",i.grid)("displayDensity",i.displayDensity)("expressionsList",i.expressionsList)}}function YN(e,t){if(1&e&&(Eh(0),yh(1,qN,1,5,"igx-excel-style-date-expression",14),Ih()),2&e){let e=Vh();tc(1),_h("ngForOf",e.expressionsList)}}function XN(e,t){if(1&e){let e=Rh();Ch(0,"igx-excel-style-default-expression",15),Fh("expressionRemoved",(function(t){return Bs(e),zs(Vh(2).onExpressionRemoved(t))}))("logicOperatorChanged",(function(t){return Bs(e),zs(Vh(2).onLogicOperatorChanged(t))})),Sh()}if(2&e){let e=t.$implicit,i=Vh(2);_h("expressionUI",e)("column",i.column)("grid",i.grid)("displayDensity",i.displayDensity)("expressionsList",i.expressionsList)}}function ZN(e,t){if(1&e&&(Eh(0),yh(1,XN,1,5,"igx-excel-style-default-expression",14),Ih()),2&e){let e=Vh();tc(1),_h("ngForOf",e.expressionsList)}}var QN=function(e,t){return{"igx-excel-filter__secondary--cosy":e,"igx-excel-filter__secondary--compact":t}},JN=(()=>{let e=class{constructor(e,t,i){this.overlayService=e,this.cdr=t,this.platform=i,this.expressionsList=new Array,this._customDialogPositionSettings={verticalDirection:GE.Middle,horizontalDirection:zE.Center,horizontalStartPoint:zE.Center,verticalStartPoint:GE.Middle},this._customDialogOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new XE(this._customDialogPositionSettings),scrollStrategy:new rI}}ngAfterViewInit(){this._customDialogOverlaySettings.outlet=this.grid.outlet}get template(){return this.column.dataType===Wb.Date?this.dateExpressionTemplate:this.defaultExpressionTemplate}get grid(){return this.filteringService.grid}onCustomDialogOpening(){this.selectedOperator&&this.createInitialExpressionUIElement()}onCustomDialogOpened(){this.expressionComponents.first&&this.expressionComponents.first.focus()}open(e){this._customDialogOverlaySettings.target=this.overlayComponentId?this.grid.rootGrid?this.grid.rootGrid.nativeElement:this.grid.nativeElement:e,this.toggle.open(this._customDialogOverlaySettings),this.overlayComponentId=this.toggle.overlayId}onClearButtonClick(){this.filteringService.clearFilter(this.column.field),this.createInitialExpressionUIElement(),this.cdr.detectChanges()}closeDialog(){this.overlayComponentId?(this.overlayService.hide(this.overlayComponentId),this.overlayComponentId=null):this.toggle.close()}onApplyButtonClick(){this.expressionsList=this.expressionsList.filter((e=>e.expression.condition&&(e.expression.searchVal||0===e.expression.searchVal||e.expression.condition.isUnary))),this.expressionsList.length>0&&(this.expressionsList[0].beforeOperator=null,this.expressionsList[this.expressionsList.length-1].afterOperator=null),this.filteringService.filterInternal(this.column.field,this.expressionsList),this.closeDialog()}onAddButtonClick(){let e=new zN;e.expression={condition:null,fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:null},this.expressionsList[this.expressionsList.length-1].afterOperator=Yb.And,e.beforeOperator=this.expressionsList[this.expressionsList.length-1].afterOperator,this.expressionsList.push(e),this.markChildrenForCheck(),this.scrollToBottom()}onExpressionRemoved(e){let t=this.expressionsList.indexOf(e);0===t&&this.expressionsList.length>1?this.expressionsList[1].beforeOperator=null:t===this.expressionsList.length-1?this.expressionsList[t-1].afterOperator=null:(this.expressionsList[t-1].afterOperator=this.expressionsList[t+1].beforeOperator,this.expressionsList[0].beforeOperator=null,this.expressionsList[this.expressionsList.length-1].afterOperator=null),this.expressionsList.splice(t,1),this.cdr.detectChanges(),this.markChildrenForCheck()}onLogicOperatorChanged(e){let t=this.expressionsList.indexOf(e.target);e.target.afterOperator=e.newValue,t+1<this.expressionsList.length&&(this.expressionsList[t+1].beforeOperator=e.newValue)}onKeyDown(e){e.stopPropagation()}onApplyButtonKeyDown(e){e.key===this.platform.KEYMAP.TAB&&!e.shiftKey&&(e.stopPropagation(),e.preventDefault())}createCondition(e){switch(this.column.dataType){case Wb.Boolean:return jA.instance().condition(e);case Wb.Number:case Wb.Currency:case Wb.Percent:return ZA.instance().condition(e);case Wb.Date:return qA.instance().condition(e);case Wb.Time:return XA.instance().condition(e);case Wb.DateTime:return YA.instance().condition(e);default:return QA.instance().condition(e)}}markChildrenForCheck(){this.expressionComponents.forEach((e=>e.cdr.markForCheck())),this.expressionDateComponents.forEach((e=>e.cdr.markForCheck()))}createInitialExpressionUIElement(){this.expressionsList=[];let e=new zN;e.expression={condition:this.createCondition(this.selectedOperator),fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:null},e.afterOperator=Yb.And,this.expressionsList.push(e);let t=new zN;t.expression={condition:null,fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:null},t.beforeOperator=Yb.And,this.expressionsList.push(t)}scrollToBottom(){requestAnimationFrame((()=>{this.expressionsContainer.nativeElement.scrollTop=this.expressionsContainer.nativeElement.scrollHeight}))}};return e.fac=function(t){return new(t||e)(nc(nI),nc(fp),nc(ob))},e.cmp=tr({type:e,selectors:[["igx-excel-style-custom-dialog"]],viewQuery:function(e,t){if(1&e&&(Bg(WN,7,FA),Bg(KN,5,yg),Bg(jN,5,yg),Bg(UN,7),Bg(TN,5),Bg(HN,5)),2&e){let e;Hg(e=Gg())&&(t.toggle=e.first),Hg(e=Gg())&&(t.defaultExpressionTemplate=e.first),Hg(e=Gg())&&(t.dateExpressionTemplate=e.first),Hg(e=Gg())&&(t.expressionsContainer=e.first),Hg(e=Gg())&&(t.expressionComponents=e),Hg(e=Gg())&&(t.expressionDateComponents=e)}},inputs:{expressionsList:"expressionsList",column:"column",selectedOperator:"selectedOperator",filteringService:"filteringService",overlayComponentId:"overlayComponentId",displayDensity:"displayDensity"},standalone:!0,features:[Wu],decls:24,vars:16,consts:[["igxToggle","",1,"igx-excel-filter__secondary",3,"ngClass","keydown","opening","opened"],["toggle",""],[1,"igx-excel-filter__secondary-header"],[1,"ig-typography__h6"],[1,"igx-excel-filter__secondary-main"],["expressionsContainer",""],[4,"ngIf"],["type","button","igxButton","",1,"igx-excel-filter__add-filter",3,"displayDensity","click"],[1,"igx-excel-filter__secondary-footer"],[1,"igx-excel-filter__clear"],["type","button","igxButton","flat",3,"displayDensity","click"],[1,"igx-excel-filter__cancel"],[1,"igx-excel-filter__apply"],["type","button","igxButton","raised",3,"displayDensity","click","keydown"],["class","igx-excel-filter__condition",3,"expressionUI","column","grid","displayDensity","expressionsList","expressionRemoved","logicOperatorChanged",4,"ngFor","ngForOf"],[1,"igx-excel-filter__condition",3,"expressionUI","column","grid","displayDensity","expressionsList","expressionRemoved","logicOperatorChanged"]],template:function(e,t){1&e&&(Ch(0,"article",0,1),Fh("keydown",(function(e){return t.onKeyDown(e)}))("opening",(function(){return t.onCustomDialogOpening()}))("opened",(function(){return t.onCustomDialogOpened()})),Ch(2,"header",2)(3,"h4",3),fu(4),Sh()(),Ch(5,"article",4,5),yh(7,YN,2,1,"ng-container",6),yh(8,ZN,2,1,"ng-container",6),Ch(9,"button",7),Fh("click",(function(){return t.onAddButtonClick()})),Ch(10,"igx-icon"),fu(11,"add"),Sh(),Ch(12,"span"),fu(13),Sh()()(),Ch(14,"footer",8)(15,"div",9)(16,"button",10),Fh("click",(function(){return t.onClearButtonClick()})),fu(17),Sh()(),Ch(18,"div",11)(19,"button",10),Fh("click",(function(){return t.closeDialog()})),fu(20),Sh()(),Ch(21,"div",12)(22,"button",13),Fh("click",(function(){return t.onApplyButtonClick()}))("keydown",(function(e){return t.onApplyButtonKeyDown(e)})),fu(23),Sh()()()()),2&e&&(_h("ngClass",Uu(13,QN,"cosy"===t.grid.displayDensity,"compact"===t.grid.displayDensity)),tc(4),_u(" ",t.grid.resourceStrings.igx_grid_excel_custom_dialog_header,"",t.column.header||t.column.field," "),tc(3),_h("ngIf","date"===t.column.dataType||"dateTime"===t.column.dataType||"time"===t.column.dataType),tc(1),_h("ngIf","date"!==t.column.dataType&&"dateTime"!==t.column.dataType&&"time"!==t.column.dataType),tc(1),_h("displayDensity",t.displayDensity),tc(4),vu(t.grid.resourceStrings.igx_grid_excel_custom_dialog_add),tc(3),_h("displayDensity",t.displayDensity),tc(1),xu(" ",t.grid.resourceStrings.igx_grid_excel_custom_dialog_clear," "),tc(2),_h("displayDensity",t.displayDensity),tc(1),xu(" ",t.grid.resourceStrings.igx_grid_excel_cancel," "),tc(2),_h("displayDensity",t.displayDensity),tc(1),xu(" ",t.grid.resourceStrings.igx_grid_excel_apply," "))},dependencies:[FA,Bm,$m,zm,HN,TN,HI,XI],encapsulation:2}),e})(),eL=["customDialog"],tL=["subMenu"];function iL(e,t){if(1&e&&(Ch(0,"igx-drop-down-item",7)(1,"div",8),bh(2,"igx-icon",9),Ch(3,"span",10),fu(4),Sh()()()),2&e){let e=t.$implicit,i=Vh(2);_h("value",e),tc(2),_h("name",i.getCondition(e).iconName),tc(2),vu(i.translateCondition(e))}}function nL(e,t){if(1&e&&(Ch(0,"igx-drop-down-item")(1,"div",8)(2,"igx-icon"),fu(3,"filter_list"),Sh(),Ch(4,"span",10),fu(5),Sh()()()),2&e){let e=Vh(2);tc(5),vu(e.esf.grid.resourceStrings.igx_grid_excel_custom_filter)}}function rL(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"div",1),Fh("keydown",(function(t){return Bs(e),zs(Vh().onTextFilterKeyDown(t))}))("click",(function(t){return Bs(e),zs(Vh().onTextFilterClick(t))})),Ch(2,"span"),fu(3),Sh(),Ch(4,"igx-icon"),fu(5,"keyboard_arrow_right"),Sh()(),Ch(6,"igx-drop-down",2,3),Fh("selectionChanging",(function(t){return Bs(e),zs(Vh().onSubMenuSelection(t))}))("closed",(function(){return Bs(e),zs(Vh().onSubMenuClosed())})),Ch(8,"div"),yh(9,iL,5,3,"igx-drop-down-item",4),yh(10,nL,6,1,"igx-drop-down-item",0),Sh()(),bh(11,"igx-excel-style-custom-dialog",5,6),Ih()}if(2&e){let e=xh(7),t=Vh();tc(1),_h("igxDropDownItemNavigation",e),ph("aria-controls",e.listId)("aria-activedescendant",e.collapsed||null==e.focusedItem?null:e.focusedItem.id),tc(2),vu(t.subMenuText),tc(3),_h("maxHeight","397px")("displayDensity",t.esf.displayDensity),tc(3),_h("ngForOf",t.conditions),tc(1),_h("ngIf",t.showCustomFilterItem()),tc(1),_h("column",t.esf.column)("filteringService",t.esf.grid.filteringService)("overlayComponentId",t.esf.overlayComponentId)("displayDensity",t.esf.displayDensity)}}var sL=(()=>{let e=class{constructor(e,t){this.esf=e,this.platform=t,this.shouldOpenSubMenu=!0,this.destroy$=new Xe,this._subMenuPositionSettings={verticalStartPoint:GE.Top},this._subMenuOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new XE(this._subMenuPositionSettings),scrollStrategy:new rI},this.esf.columnChange.pipe(Si(this.destroy$)).subscribe((()=>{this.esf.grid&&(this.shouldOpenSubMenu=!0,this._subMenuOverlaySettings.outlet=this.esf.grid.outlet)})),this.esf.grid&&(this._subMenuOverlaySettings.outlet=this.esf.grid.outlet)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onTextFilterKeyDown(e){e.key===this.platform.KEYMAP.ENTER?this.onTextFilterClick(e):e.key===this.platform.KEYMAP.TAB&&this.subMenu.close()}onTextFilterClick(e){if(this.shouldOpenSubMenu){this._subMenuOverlaySettings.target=e.currentTarget;let t=this.esf.grid.nativeElement.getBoundingClientRect(),i=this.esf.mainDropdown.nativeElement.getBoundingClientRect(),n=i.left+i.width,r=t.left+t.width;n+=window.pageXOffset,r+=window.pageXOffset,Math.abs(n-r)<200?(this._subMenuOverlaySettings.positionStrategy.settings.horizontalDirection=zE.Left,this._subMenuOverlaySettings.positionStrategy.settings.horizontalStartPoint=zE.Left):(this._subMenuOverlaySettings.positionStrategy.settings.horizontalDirection=zE.Right,this._subMenuOverlaySettings.positionStrategy.settings.horizontalStartPoint=zE.Right),this.subMenu.open(this._subMenuOverlaySettings),this.shouldOpenSubMenu=!1}}getCondition(e){return this.esf.column.filters.condition(e)}translateCondition(e){return this.esf.grid.resourceStrings[`igx_grid_filter_${this.getCondition(e).name}`]||e}onSubMenuSelection(e){this.esf.expressionsList&&this.esf.expressionsList.length&&"in"!==this.esf.expressionsList[0].expression.condition.name&&(this.customDialog.expressionsList=this.esf.expressionsList),this.customDialog.selectedOperator=e.newSelection.value,e.cancel=!0,this.esf.overlayComponentId&&this.esf.hide(),this.subMenu.close(),this.customDialog.open(this.esf.mainDropdown.nativeElement)}onSubMenuClosed(){requestAnimationFrame((()=>{this.shouldOpenSubMenu=!0}))}showCustomFilterItem(){let e=this.esf.column.filteringExpressionsTree;return e&&e.filteringOperands&&e.filteringOperands.length&&!(e.filteringOperands[0].condition&&"in"===e.filteringOperands[0].condition.name)}get subMenuText(){switch(this.esf.column.dataType){case Wb.Boolean:return this.esf.grid.resourceStrings.igx_grid_excel_boolean_filter;case Wb.Number:case Wb.Percent:return this.esf.grid.resourceStrings.igx_grid_excel_number_filter;case Wb.Date:case Wb.DateTime:case Wb.Time:return this.esf.grid.resourceStrings.igx_grid_excel_date_filter;case Wb.Currency:return this.esf.grid.resourceStrings.igx_grid_excel_currency_filter;default:return this.esf.grid.resourceStrings.igx_grid_excel_text_filter}}get conditions(){return this.esf.column.filters.conditionList()}};return e.fac=function(t){return new(t||e)(nc(fN),nc(ob))},e.cmp=tr({type:e,selectors:[["igx-excel-style-conditional-filter"]],viewQuery:function(e,t){if(1&e&&(Bg(eL,5,JN),Bg(tL,5,HR)),2&e){let e;Hg(e=Gg())&&(t.customDialog=e.first),Hg(e=Gg())&&(t.subMenu=e.first)}},standalone:!0,features:[Wu],decls:1,vars:1,consts:[[4,"ngIf"],["tabindex","0","role","menuitem","aria-haspopup","true",1,"igx-excel-filter__actions-filter",3,"igxDropDownItemNavigation","keydown","click"],[3,"maxHeight","displayDensity","selectionChanging","closed"],["subMenu",""],[3,"value",4,"ngFor","ngForOf"],[3,"column","filteringService","overlayComponentId","displayDensity"],["customDialog",""],[3,"value"],[1,"igx-grid__filtering-dropdown-items"],["family","imx-icons",3,"name"],[1,"igx-grid__filtering-dropdown-text"]],template:function(e,t){1&e&&yh(0,rL,13,12,"ng-container",0),2&e&&_h("ngIf",t.esf.column)},dependencies:[$m,fI,XI,HR,zm,FR,JN],encapsulation:2}),e})();function oL(e,t){if(1&e){let e=Rh();Ch(0,"button",5),Fh("click",(function(){return Bs(e),zs(Vh(2).esf.onSelect())})),Ch(1,"igx-icon"),fu(2,"done"),Sh()()}if(2&e){let e=Vh(2);_h("ngClass",e.esf.column.selected?"igx-excel-filter__actions-selected":"igx-excel-filter__actions-select"),ph("aria-label",e.esf.column.selected?e.esf.grid.resourceStrings.igx_grid_excel_deselect:e.esf.grid.resourceStrings.igx_grid_excel_select)}}function aL(e,t){if(1&e){let e=Rh();Ch(0,"button",6),Fh("click",(function(){return Bs(e),zs(Vh(2).esf.onPin())})),bh(1,"igx-icon",7),Sh()}if(2&e){let e=Vh(2);ph("aria-label",e.esf.column.pinned?e.esf.grid.resourceStrings.igx_grid_excel_unpin:e.esf.grid.resourceStrings.igx_grid_excel_pin),tc(1),_h("name",e.esf.column.pinned?"unpin-left":"pin-left")}}function lL(e,t){if(1&e){let e=Rh();Ch(0,"button",6),Fh("click",(function(){return Bs(e),zs(Vh(2).esf.onHideToggle())})),Ch(1,"igx-icon"),fu(2),Sh()()}if(2&e){let e=Vh(2);ph("aria-label",e.esf.column.hidden?e.esf.grid.resourceStrings.igx_grid_excel_show:e.esf.grid.resourceStrings.igx_grid_excel_hide),tc(2),vu(e.esf.column.hidden?"visibility":"visibility_off")}}function dL(e,t){if(1&e&&(Ch(0,"header",1)(1,"h4"),fu(2),Sh(),Ch(3,"div",2),yh(4,oL,3,2,"button",3),yh(5,aL,2,2,"button",4),yh(6,lL,3,2,"button",4),Sh()()),2&e){let e=Vh();tc(2),vu(e.esf.column.header||e.esf.column.field),tc(2),_h("ngIf",e.showSelecting),tc(1),_h("ngIf",e.showPinning),tc(1),_h("ngIf",e.showHiding)}}var cL=(()=>{let e=class{constructor(e){this.esf=e}};return e.fac=function(t){return new(t||e)(nc(fN))},e.cmp=tr({type:e,selectors:[["igx-excel-style-header"]],inputs:{showPinning:"showPinning",showSelecting:"showSelecting",showHiding:"showHiding"},standalone:!0,features:[Wu],decls:1,vars:1,consts:[["class","igx-excel-filter__menu-header",4,"ngIf"],[1,"igx-excel-filter__menu-header"],[1,"igx-excel-filter__menu-header-actions"],["type","button","igxButton","icon",3,"ngClass","click",4,"ngIf"],["type","button","igxButton","icon",3,"click",4,"ngIf"],["type","button","igxButton","icon",3,"ngClass","click"],["type","button","igxButton","icon",3,"click"],["family","imx-icons",3,"name"]],template:function(e,t){1&e&&yh(0,dL,7,4,"header",0),2&e&&_h("ngIf",t.esf.column)},dependencies:[$m,HI,Bm,XI],encapsulation:2}),e})();function hL(e,t){if(1&e){let e=Rh();Ch(0,"div",1),Fh("click",(function(){return Bs(e),zs(Vh().esf.onHideToggle())})),Ch(1,"span"),fu(2),Sh(),Ch(3,"igx-icon"),fu(4),Sh()()}if(2&e){let e=Vh();tc(2),vu(e.esf.column.hidden?e.esf.grid.resourceStrings.igx_grid_excel_show:e.esf.grid.resourceStrings.igx_grid_excel_hide),tc(2),vu(e.esf.column.hidden?"visibility":"visibility_off")}}var uL=(()=>{let e=class{constructor(e){this.esf=e}};return e.fac=function(t){return new(t||e)(nc(fN))},e.cmp=tr({type:e,selectors:[["igx-excel-style-hiding"]],standalone:!0,features:[Wu],decls:1,vars:1,consts:[["class","igx-excel-filter__actions-hide","tabindex","0","role","menuitem",3,"click",4,"ngIf"],["tabindex","0","role","menuitem",1,"igx-excel-filter__actions-hide",3,"click"]],template:function(e,t){1&e&&yh(0,hL,5,2,"div",0),2&e&&_h("ngIf",t.esf.column)},dependencies:[$m,XI],encapsulation:2}),e})();function gL(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"header"),fu(2),Sh(),Ch(3,"igx-buttongroup")(4,"button",1),Fh("click",(function(){return Bs(e),zs(Vh().onMoveButtonClicked(0))})),Ch(5,"igx-icon"),fu(6,"arrow_back"),Sh(),Ch(7,"span"),fu(8),Sh()(),Ch(9,"button",1),Fh("click",(function(){return Bs(e),zs(Vh().onMoveButtonClicked(1))})),Ch(10,"span"),fu(11),Sh(),Ch(12,"igx-icon"),fu(13,"arrow_forwards"),Sh()()(),Ih()}if(2&e){let e=Vh();tc(2),xu(" ",e.esf.grid.resourceStrings.igx_grid_excel_filter_moving_header,"\n"),tc(2),_h("displayDensity",e.esf.displayDensity)("disabled",e.canNotMoveLeft),tc(4),xu(" ","compact"===e.esf.displayDensity?e.esf.grid.resourceStrings.igx_grid_excel_filter_moving_left_short:e.esf.grid.resourceStrings.igx_grid_excel_filter_moving_left," "),tc(1),_h("displayDensity",e.esf.displayDensity)("disabled",e.canNotMoveRight),tc(2),xu(" ","compact"===e.esf.displayDensity?e.esf.grid.resourceStrings.igx_grid_excel_filter_moving_right_short:e.esf.grid.resourceStrings.igx_grid_excel_filter_moving_right," ")}}var pL=(()=>{let e=class{constructor(e){this.esf=e,this.defaultClass=!0}get visibleColumns(){return this.esf.grid.visibleColumns.filter((e=>!e.columnGroup))}get canNotMoveLeft(){return 0===this.esf.column.visibleIndex||0===this.esf.grid.unpinnedColumns.indexOf(this.esf.column)&&this.esf.column.disablePinning||0!==this.esf.column.level&&!this.findColumn(0,this.visibleColumns)}get canNotMoveRight(){return this.esf.column.visibleIndex===this.visibleColumns.length-1||0!==this.esf.column.level&&!this.findColumn(1,this.visibleColumns)}onMoveButtonClicked(e){let t;this.esf.column.pinned?this.esf.column.isLastPinned&&1===e&&this.esf.grid.isPinningToStart?(t=this.esf.grid.unpinnedColumns[0],e=0):this.esf.column.isFirstPinned&&0===e&&!this.esf.grid.isPinningToStart?(t=this.esf.grid.unpinnedColumns[this.esf.grid.unpinnedColumns.length-1],e=1):t=this.findColumn(e,this.esf.grid.pinnedColumns):0===this.esf.grid.unpinnedColumns.indexOf(this.esf.column)&&0===e&&this.esf.grid.isPinningToStart?(t=this.esf.grid.pinnedColumns[this.esf.grid.pinnedColumns.length-1],t.parent&&(t=t.topLevelParent),e=1):this.esf.grid.unpinnedColumns.indexOf(this.esf.column)!==this.esf.grid.unpinnedColumns.length-1||1!==e||this.esf.grid.isPinningToStart?t=this.findColumn(e,this.esf.grid.unpinnedColumns):(t=this.esf.grid.pinnedColumns[0],e=0),this.esf.grid.moveColumn(this.esf.column,t,e)}findColumn(e,t){let i=t.indexOf(this.esf.column);if(0===e){for(;i>0;)if(i--,t[i].level===this.esf.column.level&&t[i].parent===this.esf.column.parent)return t[i];return t[0]}for(;i<t.length-1;)if(i++,t[i].level===this.esf.column.level&&t[i].parent===this.esf.column.parent)return t[i]}};return e.fac=function(t){return new(t||e)(nc(fN))},e.cmp=tr({type:e,selectors:[["igx-excel-style-moving"]],hostVars:2,hostBindings:function(e,t){2&e&&iu("igx-excel-filter__move",t.defaultClass)},standalone:!0,features:[Wu],decls:1,vars:1,consts:[[4,"ngIf"],["type","button","igxButton","",3,"displayDensity","disabled","click"]],template:function(e,t){1&e&&yh(0,gL,14,7,"ng-container",0),2&e&&_h("ngIf",t.esf.column)},dependencies:[$m,IO,HI,XI],encapsulation:2}),e})();function mL(e,t){if(1&e){let e=Rh();Ch(0,"div",1),Fh("click",(function(){return Bs(e),zs(Vh().esf.onPin())})),Ch(1,"span"),fu(2),Sh(),bh(3,"igx-icon",2),Sh()}if(2&e){let e=Vh();_h("ngClass",e.esf.column.pinned?"igx-excel-filter__actions-unpin":"igx-excel-filter__actions-pin"),tc(2),vu(e.esf.column.pinned?e.esf.grid.resourceStrings.igx_grid_excel_unpin:e.esf.grid.resourceStrings.igx_grid_excel_pin),tc(1),Bh("name",e.esf.column.pinned?"unpin-left":"pin-left")}}var fL=(()=>{let e=class{constructor(e){this.esf=e}};return e.fac=function(t){return new(t||e)(nc(fN))},e.cmp=tr({type:e,selectors:[["igx-excel-style-pinning"]],standalone:!0,features:[Wu],decls:1,vars:1,consts:[["tabindex","0","role","menuitem",3,"ngClass","click",4,"ngIf"],["tabindex","0","role","menuitem",3,"ngClass","click"],["family","imx-icons",3,"name"]],template:function(e,t){1&e&&yh(0,mL,4,3,"div",0),2&e&&_h("ngIf",t.esf.column)},dependencies:[$m,Bm,XI],encapsulation:2}),e})(),yL=(()=>{let e=class{constructor(e){this.template=e}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxProgressBarText",""]],standalone:!0}),e})(),vL=(()=>{let e=class{constructor(e){this.template=e}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxProgressBarGradient",""]],standalone:!0}),e})(),xL=["indicator"],_L=function(e,t,i,n,r){return{"igx-linear-bar__value--start":e,"igx-linear-bar__value--center":t,"igx-linear-bar__value--end":i,"igx-linear-bar__value--top":n,"igx-linear-bar__value--hidden":r}},wL=["circle"];function CL(e,t){1&e&&(uo(),Th(0))}function SL(e,t){1&e&&(uo(),Ch(0,"linearGradient",9),bh(1,"stop",10)(2,"stop",11),Sh()),2&e&&_h("id",Vh().gradientId)}function bL(e,t){1&e&&Th(0)}function DL(e,t){if(1&e&&(uo(),go(),Ch(0,"span",12),yh(1,bL,1,0,"ng-container",5),Sh()),2&e){let e=Vh(),t=xh(11);tc(1),_h("ngTemplateOutlet",e.textTemplate?e.textTemplate.template:t)("ngTemplateOutletContext",e.context)}}function EL(e,t){if(1&e&&(uo(),fu(0)),2&e){let e=Vh();xu(" ",e.textContent?e.textContent:e.valueInPercent+"%","\n")}}var IL=function(e){return{$implicit:e}},TL="start",AL="error",RL="info",kL="warning",OL="success",FL=(()=>{let e=class{constructor(){this.progressChanged=new Pd,this.indeterminate=!1,this.animationDuration=2e3,this._initValue=0,this._contentInit=!1,this._max=100,this._value=0,this._newVal=0,this._animate=!0,this._internalState={oldVal:0,newVal:0}}get step(){return this._step?this._step:.01*this._max}set step(e){let t=Number(e);t>this.max||(this._step=t)}set animate(e){this._animate=e,this.animationDuration=e?2e3:0}get animate(){return this._animate}set max(e){e<0||this._max===e||this._animation&&"finished"!==this._animation.playState||(this._internalState.newVal=Math.round(zL(BL(this.value,e),e)),this._value=this._internalState.oldVal=Math.round(zL(this.valueInPercent,e)),this._max=e,this.triggerProgressTransition(this._internalState.oldVal,this._internalState.newVal,!0))}get max(){return this._max}get valueInPercent(){return BL(this._value,this._max)}get value(){return this._value}set value(e){if(this._animation&&"finished"!==this._animation.playState||e<0)return;let t=HL(e,this.max);isNaN(t)||this._value===e||this.indeterminate||(this._contentInit?this.triggerProgressTransition(this._value,t):this._initValue=t)}triggerProgressTransition(e,t,i=!1){if(e===t)return;let n={currentValue:t,previousValue:e},r=this.directionFlow(e,t);if(this._animate){let i=BL(t,this.max),n=BL(e,this.max),s=this.animationDuration/Math.abs(i-n)/(this._step?this._step:1);this.runAnimation(t),this._interval=setInterval((()=>this.increase(t,r)),s)}else this.updateProgress(t);i||this.progressChanged.emit(n)}increase(e,t){let i=BL(e,this._max);if(this._value=HL(this._value,this._max)+t,t>0&&this.valueInPercent>=i||t<0&&this.valueInPercent<=i)return this._value!==e&&(this._value=e),clearInterval(this._interval)}directionFlow(e,t){return e<t?this.step:-this.step}updateProgress(e){this._value=HL(e,this._max),this.runAnimation(e)}};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,hostVars:2,hostBindings:function(e,t){2&e&&ph("aria-valuemax",t.max)("aria-valuenow",t.value)},inputs:{indeterminate:"indeterminate",animationDuration:"animationDuration",step:"step",animate:"animate",max:"max",value:"value"},outputs:{progressChanged:"progressChanged"}}),e})(),PL=0,ML=0,VL=0,NL=(()=>{let e=class extends FL{constructor(){super(...arguments),this.valueMin=0,this.cssClass="igx-linear-bar",this.striped=!1,this.role="progressbar",this.id="igx-linear-bar-"+PL++,this.textAlign=TL,this.textVisibility=!0,this.textTop=!1,this.type="default",this.animationState={width:"0%"}}get isIndeterminate(){return this.indeterminate}get error(){return this.type===AL}get info(){return this.type===RL}get warning(){return this.type===kL}get success(){return this.type===OL}ngAfterContentInit(){this.triggerProgressTransition(0,this._initValue),this._contentInit=!0}runAnimation(e){if(this._animation&&"finished"!==this._animation.playState)return;let t=this.max<=0?0:BL(e,this.max),i=[];i[0]=m({},this.animationState),this.animationState.width=t+"%",i[1]=m({},this.animationState),this._animation=this._progressIndicator.nativeElement.animate(i,{easing:"ease-out",fill:"forwards",duration:this.animationDuration})}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.cmp=tr({type:e,selectors:[["igx-linear-bar"]],viewQuery:function(e,t){if(1&e&&Bg(xL,7),2&e){let e;Hg(e=Gg())&&(t._progressIndicator=e.first)}},hostVars:17,hostBindings:function(e,t){2&e&&(ph("aria-valuemin",t.valueMin)("role",t.role)("id",t.id),iu("igx-linear-bar",t.cssClass)("igx-linear-bar--striped",t.striped)("igx-linear-bar--indeterminate",t.isIndeterminate)("igx-linear-bar--danger",t.error)("igx-linear-bar--info",t.info)("igx-linear-bar--warning",t.warning)("igx-linear-bar--success",t.success))},inputs:{striped:"striped",role:"role",id:"id",textAlign:"textAlign",textVisibility:"textVisibility",textTop:"textTop",text:"text",type:"type"},standalone:!0,features:[th,Wu],decls:6,vars:10,consts:[[1,"igx-linear-bar__base"],[1,"igx-linear-bar__indicator"],["indicator",""],[1,"igx-linear-bar__indicator-secondary"],[1,"igx-linear-bar__value",3,"ngClass"]],template:function(e,t){1&e&&(Ch(0,"div",0),bh(1,"div",1,2)(3,"div",3),Sh(),Ch(4,"span",4),fu(5),Sh()),2&e&&(tc(1),tu("width",0),tc(3),_h("ngClass",Xu(4,_L,"start"===t.textAlign,"center"===t.textAlign,"end"===t.textAlign,t.textTop,!t.textVisibility)),tc(1),xu(" ",t.text?t.text:t.valueInPercent+"%","\n"))},dependencies:[Bm],encapsulation:2}),e})(),LL=(()=>{let e=class extends FL{get isIndeterminate(){return this.indeterminate}get context(){return{$implicit:{value:this.value,valueInPercent:this.valueInPercent,max:this.max}}}constructor(e,t){super(),this.renderer=e,this._directionality=t,this.cssClass="igx-circular-bar",this.id="igx-circular-bar-"+ML++,this.textVisibility=!0,this.gradientId="igx-circular-gradient-"+VL++,this._circleRadius=46,this._circumference=2*Math.PI*this._circleRadius,this.STROKE_OPACITY_DVIDER=100,this.STROKE_OPACITY_ADDITION=.2,this.animationState={strokeDashoffset:289,strokeOpacity:1}}ngAfterContentInit(){this.triggerProgressTransition(0,this._initValue),this._contentInit=!0}ngAfterViewInit(){this.renderer.setStyle(this._svgCircle.nativeElement,"stroke",`url(#${this.gradientId})`)}get textContent(){return this.text}runAnimation(e){if(this._animation&&"finished"!==this._animation.playState)return;let t=this.max<=0?0:BL(e,this.max),i=[];i[0]=m({},this.animationState),this.animationState.strokeDashoffset=this.getProgress(t),this.animationState.strokeOpacity=BL(e,this.max)/this.STROKE_OPACITY_DVIDER+this.STROKE_OPACITY_ADDITION,i[1]=m({},this.animationState),this._animation=this._svgCircle.nativeElement.animate(i,{easing:"ease-out",fill:"forwards",duration:this.animationDuration})}getProgress(e){return this._directionality.rtl?this._circumference+e*this._circumference/100:this._circumference-e*this._circumference/100}};return e.fac=function(t){return new(t||e)(nc(bd),nc(IA))},e.cmp=tr({type:e,selectors:[["igx-circular-bar"]],contentQueries:function(e,t,i){if(1&e&&(zg(i,yL,5,yL),zg(i,vL,5,vL)),2&e){let e;Hg(e=Gg())&&(t.textTemplate=e.first),Hg(e=Gg())&&(t.gradientTemplate=e.first)}},viewQuery:function(e,t){if(1&e&&Bg(wL,7),2&e){let e;Hg(e=Gg())&&(t._svgCircle=e.first)}},hostVars:5,hostBindings:function(e,t){2&e&&(ph("id",t.id),iu("igx-circular-bar",t.cssClass)("igx-circular-bar--indeterminate",t.isIndeterminate))},inputs:{id:"id",isIndeterminate:"isIndeterminate",textVisibility:"textVisibility",text:"text"},standalone:!0,features:[th,Wu],decls:12,vars:7,consts:[["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","viewBox","0 0 100 100","preserveAspectRatio","xMidYMid meet","role","progressbar","aria-valuemin","0"],["svg",""],["cx","50","cy","50","r","46",1,"igx-circular-bar__inner"],["cx","50","cy","50","r","46",1,"igx-circular-bar__outer"],["circle",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["defaultGradientTemplate",""],["class","igx-circular-bar__text",4,"ngIf"],["defaultTextTemplate",""],["gradientTransform","rotate(90)",3,"id"],["offset","0%",1,"igx-circular-bar__gradient-start"],["offset","100%",1,"igx-circular-bar__gradient-end"],[1,"igx-circular-bar__text"]],template:function(e,t){if(1&e&&(uo(),Ch(0,"svg",0,1),bh(2,"circle",2)(3,"circle",3,4),Ch(5,"defs"),yh(6,CL,1,0,"ng-container",5),Sh(),yh(7,SL,3,1,"ng-template",null,6,jg),Sh(),yh(9,DL,2,2,"span",7),yh(10,EL,1,1,"ng-template",null,8,jg)),2&e){let e=xh(8);ph("aria-valuemax",t.max)("aria-valuenow",t.value),tc(6),_h("ngTemplateOutlet",t.gradientTemplate?t.gradientTemplate.template:e)("ngTemplateOutletContext",ju(5,IL,t.gradientId)),tc(3),_h("ngIf",t.textVisibility)}},dependencies:[Zm,$m],encapsulation:2}),e})(),HL=(e,t,i=0)=>Math.max(Math.min(e,t),i),BL=(e,t)=>t?Math.floor(100*e/t):0,zL=(e,t)=>t*e/100,GL="None",$L="Cascading",WL=new Ll("IgxTreeToken"),KL=new Ll("IgxTreeNodeToken"),jL=(()=>{let e=class{constructor(){this.expandedNodes=new Set,this.collapsingNodes=new Set,this.siblingComparer=(e,t)=>t!==e&&t.level===e.level}expand(e,t){this.collapsingNodes.delete(e),this.expandedNodes.has(e)||(e.expandedChange.emit(!0),this.expandedNodes.add(e),this.tree.singleBranchExpand&&this.tree.findNodes(e,this.siblingComparer)?.forEach((e=>{t?e.collapse():e.expanded=!1})))}collapsing(e){this.collapsingNodes.add(e)}collapse(e){this.expandedNodes.has(e)&&e.expandedChange.emit(!1),this.collapsingNodes.delete(e),this.expandedNodes.delete(e)}isExpanded(e){return this.expandedNodes.has(e)}register(e){this.tree=e}};return e.fac=function(t){return new(t||e)},e.prov=Zi({token:e,factory:e.fac}),e})(),UL=(()=>{let e=class{constructor(){this.nodeSelection=new Set,this.indeterminateNodes=new Set}register(e){this.tree=e}selectMultipleNodes(e,t){if(!this.nodeSelection.size)return void this.selectNode(e);let i=this.tree.nodes.toArray().indexOf(this.getSelectedNodes()[this.nodeSelection.size-1]),n=this.tree.nodes.toArray().indexOf(e),r=this.tree.nodes.toArray().slice(Math.min(n,i),Math.max(n,i)+1).filter((e=>!this.isNodeSelected(e))),s=this.getSelectedNodes().concat(r);this.emitNodeSelectionEvent(s,r,[],t)}selectNode(e,t){this.tree.selection!==GL&&this.emitNodeSelectionEvent([...this.getSelectedNodes(),e],[e],[],t)}deselectNode(e,t){let i=this.getSelectedNodes().filter((t=>t!==e));this.emitNodeSelectionEvent(i,[],[e],t)}clearNodesSelection(){this.nodeSelection.clear(),this.indeterminateNodes.clear()}isNodeSelected(e){return this.nodeSelection.has(e)}isNodeIndeterminate(e){return this.indeterminateNodes.has(e)}selectNodesWithNoEvent(e,t=!1,i=!0){if(this.tree&&this.tree.selection===$L)return void this.cascadeSelectNodesWithNoEvent(e,t);let n=this.getSelectedNodes();t&&this.nodeSelection.clear(),e.forEach((e=>this.nodeSelection.add(e))),i&&this.emitSelectedChangeEvent(n)}deselectNodesWithNoEvent(e,t=!0){let i=this.getSelectedNodes();e?this.tree&&this.tree.selection===$L?this.cascadeDeselectNodesWithNoEvent(e):e.forEach((e=>this.nodeSelection.delete(e))):this.nodeSelection.clear(),t&&this.emitSelectedChangeEvent(i)}ensureStateOnNodeDelete(e){this.tree?.selection===$L&&requestAnimationFrame((()=>{if(this.isNodeSelected(e))this.deselectNodesWithNoEvent([e],!1);else{if(!e.parentNode)return;let t=e.parentNode?.allChildren.find((e=>!e._children?.length));if(!t)return;this.retriggerNodeState(t)}}))}retriggerNodeState(e){e.selected?(this.nodeSelection.delete(e),this.selectNodesWithNoEvent([e],!1,!1)):(this.nodeSelection.add(e),this.deselectNodesWithNoEvent([e],!1))}getSelectedNodes(){return this.nodeSelection.size?Array.from(this.nodeSelection):[]}getIndeterminateNodes(){return this.indeterminateNodes.size?Array.from(this.indeterminateNodes):[]}emitNodeSelectionEvent(e,t,i,n){if(this.tree.selection===$L)return void this.emitCascadeNodeSelectionEvent(e,t,i,n);let r=this.getSelectedNodes();if(this.areEqualCollections(r,e))return;let s={oldSelection:r,newSelection:e,added:t,removed:i,event:n,cancel:!1,owner:this.tree};this.tree.nodeSelection.emit(s),!s.cancel&&this.selectNodesWithNoEvent(s.newSelection,!0)}areEqualCollections(e,t){return e.length===t.length&&new Set(e.concat(t)).size===e.length}cascadeSelectNodesWithNoEvent(e,t=!1){let i=this.getSelectedNodes();if(t)this.indeterminateNodes.clear(),this.nodeSelection.clear(),this.calculateNodesNewSelectionState({added:e,removed:[]});else{let t={oldSelection:i,newSelection:[...i,...e]};this.populateAddRemoveArgs(t),this.calculateNodesNewSelectionState(t)}this.nodeSelection=new Set(this.nodesToBeSelected),this.indeterminateNodes=new Set(this.nodesToBeIndeterminate),this.emitSelectedChangeEvent(i)}cascadeDeselectNodesWithNoEvent(e){let t={added:[],removed:e};this.calculateNodesNewSelectionState(t),this.nodeSelection=new Set(this.nodesToBeSelected),this.indeterminateNodes=new Set(this.nodesToBeIndeterminate)}calculateNodesNewSelectionState(e){this.nodesToBeSelected=new Set(e.oldSelection?e.oldSelection:this.getSelectedNodes()),this.nodesToBeIndeterminate=new Set(this.getIndeterminateNodes()),this.cascadeSelectionState(e.removed,!1),this.cascadeSelectionState(e.added,!0)}cascadeSelectionState(e,t){if(e&&0!==e.length&&e&&e.length>0){let i=this.getCascadingNodeCollection(e);i.nodes.forEach((e=>{t?this.nodesToBeSelected.add(e):this.nodesToBeSelected.delete(e),this.nodesToBeIndeterminate.delete(e)})),Array.from(i.parents).forEach((e=>{this.handleParentSelectionState(e)}))}}emitCascadeNodeSelectionEvent(e,t,i,n){let r=this.getSelectedNodes();if(this.areEqualCollections(r,e))return;let s={oldSelection:r,newSelection:e,added:t,removed:i,event:n,cancel:!1,owner:this.tree};this.calculateNodesNewSelectionState(s),s.newSelection=Array.from(this.nodesToBeSelected),this.populateAddRemoveArgs(s),this.tree.nodeSelection.emit(s),!s.cancel&&(this.areEqualCollections(Array.from(this.nodesToBeSelected),s.newSelection)?(this.nodeSelection=new Set(this.nodesToBeSelected),this.indeterminateNodes=new Set(this.nodesToBeIndeterminate),this.emitSelectedChangeEvent(r)):this.cascadeSelectNodesWithNoEvent(s.newSelection,!0))}handleParentSelectionState(e){e&&(this.handleNodeSelectionState(e),e.parentNode&&this.handleParentSelectionState(e.parentNode))}handleNodeSelectionState(e){let t=e&&e._children?e._children.toArray():[];t.length?t.every((e=>this.nodesToBeSelected.has(e)))?(this.nodesToBeSelected.add(e),this.nodesToBeIndeterminate.delete(e)):t.some((e=>this.nodesToBeSelected.has(e)||this.nodesToBeIndeterminate.has(e)))?(this.nodesToBeIndeterminate.add(e),this.nodesToBeSelected.delete(e)):(this.nodesToBeIndeterminate.delete(e),this.nodesToBeSelected.delete(e)):(this.isNodeSelected(e)?this.nodesToBeSelected.add(e):this.nodesToBeSelected.delete(e),this.nodesToBeIndeterminate.delete(e))}getCascadingNodeCollection(e){let t={parents:new Set,nodes:new Set(e)};return Array.from(t.nodes).forEach((e=>{(e.allChildren?.toArray()||[]).forEach((e=>{t.nodes.add(e)})),e&&e.parentNode&&t.parents.add(e.parentNode)})),t}populateAddRemoveArgs(e){e.removed=e.oldSelection.filter((t=>e.newSelection.indexOf(t)<0)),e.added=e.newSelection.filter((t=>e.oldSelection.indexOf(t)<0))}emitSelectedChangeEvent(e){this.getSelectedNodes().forEach((t=>{e.indexOf(t)<0&&t.selectedChange.emit(!0)})),e.forEach((e=>{this.nodeSelection.has(e)||e.selectedChange.emit(!1)}))}};return e.fac=function(t){return new(t||e)},e.prov=Zi({token:e,factory:e.fac}),e})(),qL=(()=>{let e=class{constructor(e,t){this.treeService=e,this.selectionService=t,this._focusedNode=null,this._lastFocusedNode=null,this._activeNode=null,this._visibleChildren=[],this._invisibleChildren=new Set,this._disabledChildren=new Set,this._cacheChange=new Xe,this._cacheChange.subscribe((()=>{this._visibleChildren=this.tree?.nodes?this.tree.nodes.filter((e=>!(this._invisibleChildren.has(e)||this._disabledChildren.has(e)))):[]}))}register(e){this.tree=e}get focusedNode(){return this._focusedNode}set focusedNode(e){this._focusedNode!==e&&(this._lastFocusedNode=this._focusedNode,this._lastFocusedNode&&(this._lastFocusedNode.tabIndex=-1),this._focusedNode=e,null!==this._focusedNode&&(this._focusedNode.tabIndex=0,this._focusedNode.header.nativeElement.focus()))}get activeNode(){return this._activeNode}set activeNode(e){this._activeNode!==e&&(this._activeNode=e,this.tree.activeNodeChanged.emit(this._activeNode))}get visibleChildren(){return this._visibleChildren}update_disabled_cache(e){e.disabled?this._disabledChildren.add(e):this._disabledChildren.delete(e),this._cacheChange.next()}init_invisible_cache(){this.tree.nodes.filter((e=>0===e.level)).forEach((e=>{this.update_visible_cache(e,e.expanded,!1)})),this._cacheChange.next()}update_visible_cache(e,t,i=!0){t?e._children.forEach((e=>{this._invisibleChildren.delete(e),this.update_visible_cache(e,e.expanded,!1)})):e.allChildren.forEach((e=>this._invisibleChildren.add(e))),i&&this._cacheChange.next()}setFocusedAndActiveNode(e,t=!0){t&&(this.activeNode=e),this.focusedNode=e}handleKeydown(e){let t=e.key.toLowerCase();if(this.focusedNode){if(!db.has(t)&&"*"!==t)return void("enter"===t&&(this.activeNode=this.focusedNode));e.preventDefault(),e.repeat?setTimeout((()=>this.handleNavigation(e)),1):this.handleNavigation(e)}}ngOnDestroy(){this._cacheChange.next(),this._cacheChange.complete()}handleNavigation(e){switch(e.key.toLowerCase()){case"home":this.setFocusedAndActiveNode(this.visibleChildren[0]);break;case"end":this.setFocusedAndActiveNode(this.visibleChildren[this.visibleChildren.length-1]);break;case"arrowleft":case"left":this.handleArrowLeft();break;case"arrowright":case"right":this.handleArrowRight();break;case"arrowup":case"up":this.handleUpDownArrow(!0,e);break;case"arrowdown":case"down":this.handleUpDownArrow(!1,e);break;case"*":this.handleAsterisk();break;case" ":case"spacebar":case"space":this.handleSpace(e.shiftKey);break;default:return}}handleArrowLeft(){if(this.focusedNode.expanded&&!this.treeService.collapsingNodes.has(this.focusedNode)&&this.focusedNode._children?.length)this.activeNode=this.focusedNode,this.focusedNode.collapse();else{let e=this.focusedNode.parentNode;e&&!e.disabled&&this.setFocusedAndActiveNode(e)}}handleArrowRight(){if(this.focusedNode._children.length>0)if(this.focusedNode.expanded){if(this.treeService.collapsingNodes.has(this.focusedNode))return void this.focusedNode.expand();let e=this.focusedNode._children.find((e=>!e.disabled));e&&this.setFocusedAndActiveNode(e)}else this.activeNode=this.focusedNode,this.focusedNode.expand()}handleUpDownArrow(e,t){let i=this.getVisibleNode(this.focusedNode,e?-1:1);i!==this.focusedNode&&(t.ctrlKey?this.setFocusedAndActiveNode(i,!1):this.setFocusedAndActiveNode(i))}handleAsterisk(){(this.focusedNode.parentNode?this.focusedNode.parentNode._children:this.tree.rootNodes)?.forEach((e=>{!e.disabled&&(!e.expanded||this.treeService.collapsingNodes.has(e))&&e.expand()}))}handleSpace(e=!1){if(this.tree.selection!==GL){if(this.activeNode=this.focusedNode,e)return void this.selectionService.selectMultipleNodes(this.focusedNode);this.focusedNode.selected?this.selectionService.deselectNode(this.focusedNode):this.selectionService.selectNode(this.focusedNode)}}getVisibleNode(e,t=1){let i=this.visibleChildren.indexOf(e);return this.visibleChildren[i+t]||e}};return e.fac=function(t){return new(t||e)(_n(jL),_n(UL))},e.prov=Zi({token:e,factory:e.fac}),e})(),YL=["ghostTemplate"],XL=["defaultIndicator"],ZL=["childrenContainer"];function QL(e,t){}function JL(e,t){1&e&&yh(0,QL,0,0,"ng-template")}function eH(e,t){1&e&&yh(0,JL,1,0,null,1),2&e&&(Vh(),_h("ngTemplateOutlet",xh(9)))}function tH(e,t){}function iH(e,t){1&e&&yh(0,tH,0,0,"ng-template")}function nH(e,t){1&e&&(Ch(0,"div",7,8),Hh(2),Sh())}function rH(e,t){if(1&e&&(Ch(0,"igx-icon"),fu(1),Sh()),2&e){let e=Vh();ph("aria-label",e.expanded?e.resourceStrings.igx_collapse:e.resourceStrings.igx_expand),tc(1),xu(" ",e.expanded?"keyboard_arrow_down":"keyboard_arrow_right"," ")}}function sH(e,t){if(1&e&&bh(0,"igx-checkbox",9),2&e){let e=Vh();_h("checked",e.selected)("readonly",!0)("indeterminate",e.indeterminate)("tabindex",-1)}}function oH(e,t){1&e&&bh(0,"span",19)}function aH(e,t){1&e&&Th(0)}var lH=function(e){return{"igx-tree-node__toggle-button--hidden":e}},dH=function(e){return{$implicit:e}};function cH(e,t){if(1&e){let e=Rh();Ch(0,"span",20),Fh("click",(function(){return Bs(e),zs(Vh(2).indicatorClick())})),yh(1,aH,1,0,"ng-container",21),Sh()}if(2&e){let e=Vh(2);_h("ngClass",ju(3,lH,!(null!=e._children&&e._children.length))),tc(1),_h("ngTemplateOutlet",e.expandIndicatorTemplate)("ngTemplateOutletContext",ju(5,dH,e.expanded))}}function hH(e,t){1&e&&(Ch(0,"span",22),bh(1,"igx-circular-bar",23),Sh()),2&e&&(tc(1),_h("animate",!1)("indeterminate",!0)("textVisibility",!1))}function uH(e,t){1&e&&Th(0)}function gH(e,t){if(1&e){let e=Rh();Ch(0,"div",24),Fh("pointerdown",(function(e){return e.preventDefault()}))("click",(function(t){return Bs(e),zs(Vh(2).onSelectorClick(t))})),yh(1,uH,1,0,"ng-container",1),Sh()}if(2&e){Vh(2);let e=xh(7);tc(1),_h("ngTemplateOutlet",e)}}function pH(e,t){1&e&&bh(0,"span",19)}var mH=function(e,t,i,n){return{"igx-tree-node__wrapper--selected":e,"igx-tree-node__wrapper--active":t,"igx-tree-node__wrapper--focused":i,"igx-tree-node__wrapper--disabled":n}},fH=function(){return[]};function yH(e,t){if(1&e){let e=Rh();Ch(0,"div",10,11),Fh("pointerdown",(function(t){return Bs(e),zs(Vh().onPointerDown(t))}))("focus",(function(){return Bs(e),zs(Vh().handleFocus())}))("blur",(function(){return Bs(e),zs(Vh().clearFocus())})),Ch(2,"div",12),yh(3,oH,1,0,"span",13),Sh(),yh(4,cH,2,7,"span",14),yh(5,hH,2,3,"span",15),yh(6,gH,2,1,"div",16),Ch(7,"div",17),Hh(8,1),Sh()(),Ch(9,"div",18),yh(10,pH,1,0,"span",13),bh(11,"div"),Sh()}if(2&e){let e=Vh();_h("tabIndex",e.tabIndex)("ngClass",Yu(8,mH,e.selected,e.active,e.focused,e.disabled)),ph("role",e.role),tc(3),_h("ngForOf",Ku(13,fH).constructor(e.level)),tc(1),_h("ngIf",!e.loading),tc(1),_h("ngIf",e.loading),tc(1),_h("ngIf",e.showSelectors),tc(4),_h("ngForOf",Ku(14,fH).constructor(e.level))}}function vH(e,t){}function xH(e,t){1&e&&yh(0,vH,0,0,"ng-template")}function _H(e,t){if(1&e&&(Ch(0,"div",25),yh(1,xH,1,0,null,1),Sh()),2&e){Vh();let e=xh(9);tc(1),_h("ngTemplateOutlet",e)}}var wH=[[["igx-tree-node"]],"*"],CH=["igx-tree-node","*"],SH=(()=>{let e=class{set parentNode(e){e&&(this._parentNode=e,this._parentNode.addLinkChild(this))}get parentNode(){return this._parentNode}get target(){return this.node||this.parentNode}constructor(e,t,i){this.node=e,this.navService=t,this.elementRef=i,this.role="treeitem",this._parentNode=null}get tabIndex(){return this.navService.focusedNode===this.target?this.target?.disabled?-1:0:-1}handleBlur(){this.target.isFocused=!1}handleFocus(){this.target&&!this.target.disabled&&(this.navService.focusedNode!==this.target&&(this.navService.focusedNode=this.target),this.target.isFocused=!0)}ngOnDestroy(){this.target.removeLinkChild(this)}};return e.fac=function(t){return new(t||e)(nc(KL,8),nc(qL),nc(wd))},e.dir=or({type:e,selectors:[["","igxTreeNodeLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&Fh("blur",(function(){return t.handleBlur()}))("focus",(function(){return t.handleFocus()})),2&e&&ph("role",t.role)("tabindex",t.tabIndex)},inputs:{parentNode:["igxTreeNodeLink","parentNode"]},standalone:!0}),e})(),bH=(()=>{let e=class extends pR{set tabIndex(e){this._tabIndex=e}get tabIndex(){return this.disabled?-1:null===this._tabIndex?null===this.navService.focusedNode?this.hasLinkChildren?-1:0:-1:this.hasLinkChildren?-1:this._tabIndex}get animationSettings(){return this.tree.animationSettings}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings||(this._resourceStrings=FI.TreeResStrings),this._resourceStrings}set active(e){e&&(this.navService.activeNode=this,this.tree.activeNodeBindingChange.emit(this))}get active(){return this.navService.activeNode===this}get focused(){return this.isFocused&&this.navService.focusedNode===this}get path(){return this.parentNode?.path?[...this.parentNode.path,this]:[this]}get disabled(){return this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.tree.disabledChange.emit(this))}get size(){switch(this.tree.displayDensity){case AI:return"var(--ig-size, var(--ig-size-small))";case TI:return"var(--ig-size, var(--ig-size-medium))";default:return"var(--ig-size, var(--ig-size-large))"}}get role(){return this.hasLinkChildren?"none":"treeitem"}get children(){return this._children?.length?this._children.toArray():null}get hasLinkChildren(){return this.linkChildren?.length>0||this.registeredChildren?.length>0}get isCompact(){return this.tree?.displayDensity===AI}get isCosy(){return this.tree?.displayDensity===TI}constructor(e,t,i,n,r,s,o,a){super(s),this.tree=e,this.selectionService=t,this.treeService=i,this.navService=n,this.cdr=r,this.element=o,this.parentNode=a,this.loading=!1,this.selectedChange=new Pd,this.expandedChange=new Pd,this.cssClass="igx-tree-node",this.registeredChildren=[],this._resourceStrings=FI.TreeResStrings,this._tabIndex=null,this._disabled=!1}get showSelectors(){return this.tree.selection!==GL}get indeterminate(){return this.selectionService.isNodeIndeterminate(this)}get level(){return this.parentNode?this.parentNode.level+1:0}get selected(){return this.selectionService.isNodeSelected(this)}set selected(e){this.tree?.nodes&&this.tree.nodes.find((e=>e===this))||!e?(e&&!this.selectionService.isNodeSelected(this)&&this.selectionService.selectNodesWithNoEvent([this]),!e&&this.selectionService.isNodeSelected(this)&&this.selectionService.deselectNodesWithNoEvent([this])):this.tree.forceSelect.push(this)}get expanded(){return this.treeService.isExpanded(this)}set expanded(e){e?this.treeService.expand(this,!1):this.treeService.collapse(this)}get expandIndicatorTemplate(){return this.tree?.expandIndicator||this._defaultExpandIndicatorTemplate}get nativeElement(){return this.element.nativeElement}ngOnInit(){this.openAnimationDone.pipe(Si(this.destroy$)).subscribe((()=>{this.tree.nodeExpanded.emit({owner:this.tree,node:this})})),this.closeAnimationDone.pipe(Si(this.destroy$)).subscribe((()=>{this.tree.nodeCollapsed.emit({owner:this.tree,node:this}),this.treeService.collapse(this),this.cdr.markForCheck()}))}handleFocus(){if(!this.disabled){if(this.navService.focusedNode!==this&&(this.navService.focusedNode=this),this.isFocused=!0,this.linkChildren?.length)return void this.linkChildren.first.nativeElement.focus();if(this.registeredChildren.length)return void this.registeredChildren[0].elementRef.nativeElement.focus()}}clearFocus(){this.isFocused=!1}onSelectorClick(e){e.preventDefault(),e.shiftKey?this.selectionService.selectMultipleNodes(this,e):this.selected?this.selectionService.deselectNode(this,e):this.selectionService.selectNode(this,e)}toggle(){this.expanded?this.collapse():this.expand()}indicatorClick(){this.toggle(),this.navService.setFocusedAndActiveNode(this)}onPointerDown(e){e.stopPropagation(),this.navService.setFocusedAndActiveNode(this)}ngOnDestroy(){super.ngOnDestroy(),this.selectionService.ensureStateOnNodeDelete(this)}expand(){if(this.expanded&&!this.treeService.collapsingNodes.has(this))return;let e={owner:this.tree,node:this,cancel:!1};this.tree.nodeExpanding.emit(e),e.cancel||(this.treeService.expand(this,!0),this.cdr.detectChanges(),this.playOpenAnimation(this.childrenContainer))}collapse(){if(!this.expanded||this.treeService.collapsingNodes.has(this))return;let e={owner:this.tree,node:this,cancel:!1};this.tree.nodeCollapsing.emit(e),e.cancel||(this.treeService.collapsing(this),this.playCloseAnimation(this.childrenContainer))}addLinkChild(e){this._tabIndex=-1,this.registeredChildren.push(e)}removeLinkChild(e){let t=this.registeredChildren.indexOf(e);-1!==t&&this.registeredChildren.splice(t,1)}};return e.fac=function(t){return new(t||e)(nc(WL),nc(UL),nc(jL),nc(qL),nc(fp),nc(BE),nc(wd),nc(KL,12))},e.cmp=tr({type:e,selectors:[["igx-tree-node"]],contentQueries:function(e,t,i){if(1&e&&(zg(i,SH,4,wd),zg(i,KL,4,KL),zg(i,KL,5,KL)),2&e){let e;Hg(e=Gg())&&(t.linkChildren=e),Hg(e=Gg())&&(t._children=e),Hg(e=Gg())&&(t.allChildren=e)}},viewQuery:function(e,t){if(1&e&&(Bg(YL,5,wd),Bg(XL,7,yg),Bg(ZL,5,wd)),2&e){let e;Hg(e=Gg())&&(t.header=e.first),Hg(e=Gg())&&(t._defaultExpandIndicatorTemplate=e.first),Hg(e=Gg())&&(t.childrenContainer=e.first)}},hostVars:7,hostBindings:function(e,t){2&e&&(ph("role",t.role),tu("--component-size",t.size),iu("igx-tree-node--disabled",t.disabled)("igx-tree-node",t.cssClass))},inputs:{data:"data",loading:"loading",resourceStrings:"resourceStrings",active:"active",disabled:"disabled",selected:"selected",expanded:"expanded"},outputs:{selectedChange:"selectedChange",expandedChange:"expandedChange"},standalone:!0,features:[Nu([{provide:KL,useExisting:e}]),th,Wu],ngContentSelectors:CH,decls:12,vars:2,consts:[["noDragTemplate",""],[4,"ngTemplateOutlet"],["class","igx-tree-node__group","role","group",4,"ngIf"],["defaultIndicator",""],["selectMarkerTemplate",""],["headerTemplate",""],["dragTemplate",""],["role","group",1,"igx-tree-node__group"],["childrenContainer",""],[3,"checked","readonly","indeterminate","tabindex"],[1,"igx-tree-node__wrapper",3,"tabIndex","ngClass","pointerdown","focus","blur"],["ghostTemplate",""],["aria-hidden","true"],["aria-hidden","true","class","igx-tree-node__spacer",4,"ngFor","ngForOf"],["class","igx-tree-node__toggle-button",3,"ngClass","click",4,"ngIf"],["class","igx-tree-node__toggle-button",4,"ngIf"],["class","igx-tree-node__select",3,"pointerdown","click",4,"ngIf"],[1,"igx-tree-node__content"],[1,"igx-tree-node__drop-indicator"],["aria-hidden","true",1,"igx-tree-node__spacer"],[1,"igx-tree-node__toggle-button",3,"ngClass","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-tree-node__toggle-button"],[3,"animate","indeterminate","textVisibility"],[1,"igx-tree-node__select",3,"pointerdown","click"],[1,"igx-tree-node__drag-wrapper"]],template:function(e,t){if(1&e&&(Lh(wH),yh(0,eH,1,1,"ng-template",null,0,jg),yh(2,iH,1,0,null,1),yh(3,nH,3,0,"div",2),yh(4,rH,2,2,"ng-template",null,3,jg),yh(6,sH,1,4,"ng-template",null,4,jg),yh(8,yH,12,15,"ng-template",null,5,jg),yh(10,_H,2,1,"ng-template",null,6,jg)),2&e){let e=xh(1);tc(2),_h("ngTemplateOutlet",e),tc(1),_h("ngIf",t.expanded&&!t.loading)}},dependencies:[Zm,$m,XI,nk,Bm,zm,LL],encapsulation:2}),e})(),DH=[[["igx-tree-node"]]],EH=["igx-tree-node"],IH=(()=>{let e=class{};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","igxTreeExpandIndicator",""]],standalone:!0}),e})(),TH=(()=>{let e=class extends kI{get selection(){return this._selection}set selection(e){this._selection=e,this.selectionService.clearNodesSelection()}get rootNodes(){return this.nodes?.filter((e=>0===e.level))}constructor(e,t,i,n,r){super(r,n),this.navService=e,this.selectionService=t,this.treeService=i,this.element=n,this._displayDensityOptions=r,this.cssClass="igx-tree",this.singleBranchExpand=!1,this.animationSettings={openAnimation:o_,closeAnimation:a_},this.nodeSelection=new Pd,this.nodeExpanding=new Pd,this.nodeExpanded=new Pd,this.nodeCollapsing=new Pd,this.nodeCollapsed=new Pd,this.activeNodeChanged=new Pd,this.disabledChange=new Pd,this.activeNodeBindingChange=new Pd,this.forceSelect=[],this._selection=GL,this.destroy$=new Xe,this.unsubChildren$=new Xe,this._comparer=(e,t)=>t.data===e,this.selectionService.register(this),this.treeService.register(this),this.navService.register(this)}get nativeElement(){return this.element.nativeElement}expandAll(e){(e=e||this.nodes.toArray()).forEach((e=>e.expanded=!0))}collapseAll(e){(e=e||this.nodes.toArray()).forEach((e=>e.expanded=!1))}deselectAll(e){this.selectionService.deselectNodesWithNoEvent(e)}findNodes(e,t){let i=t||this._comparer,n=this.nodes.filter((t=>i(e,t)));return 0===n?.length?null:n}handleKeydown(e){this.navService.handleKeydown(e)}ngOnInit(){super.ngOnInit(),this.disabledChange.pipe(Si(this.destroy$)).subscribe((e=>{this.navService.update_disabled_cache(e)})),this.activeNodeBindingChange.pipe(Si(this.destroy$)).subscribe((e=>{this.expandToNode(this.navService.activeNode),this.scrollNodeIntoView(e?.header?.nativeElement)})),this.densityChanged.pipe(Si(this.destroy$)).subscribe((()=>{requestAnimationFrame((()=>{this.scrollNodeIntoView(this.navService.activeNode?.header.nativeElement)}))})),this.subToCollapsing()}ngAfterViewInit(){this.nodes.changes.pipe(Si(this.destroy$)).subscribe((()=>{this.subToChanges()})),this.scrollNodeIntoView(this.navService.activeNode?.header?.nativeElement),this.subToChanges()}ngOnDestroy(){this.unsubChildren$.next(),this.unsubChildren$.complete(),this.destroy$.next(),this.destroy$.complete()}expandToNode(e){e&&e.parentNode&&e.path.forEach((t=>{t!==e&&!t.expanded&&(t.expanded=!0)}))}subToCollapsing(){this.nodeCollapsing.pipe(Si(this.destroy$)).subscribe((e=>{e.cancel||this.navService.update_visible_cache(e.node,!1)})),this.nodeExpanding.pipe(Si(this.destroy$)).subscribe((e=>{e.cancel||this.navService.update_visible_cache(e.node,!0)}))}subToChanges(){this.unsubChildren$.next();let e=[...this.forceSelect];requestAnimationFrame((()=>{this.selectionService.selectNodesWithNoEvent(e)})),this.forceSelect=[],this.nodes.forEach((e=>{e.expandedChange.pipe(Si(this.unsubChildren$)).subscribe((t=>{this.navService.update_visible_cache(e,t)})),e.closeAnimationDone.pipe(Si(this.unsubChildren$)).subscribe((()=>{let e=this.navService.focusedNode?.header.nativeElement;this.scrollNodeIntoView(e)})),e.openAnimationDone.pipe(Si(this.unsubChildren$)).subscribe((()=>{let e=this.navService.focusedNode?.header.nativeElement;this.scrollNodeIntoView(e)}))})),this.navService.init_invisible_cache()}scrollNodeIntoView(e){if(!e)return;let t=e.getBoundingClientRect(),i=this.nativeElement.getBoundingClientRect(),n=i.top>t.top?t.top-i.top:0,r=i.bottom<t.bottom?t.bottom-i.bottom:0;(n||r)&&this.nativeElement.scrollHeight>this.nativeElement.clientHeight&&(this.nativeElement.scrollTop=this.nativeElement.scrollTop+r+n+(n?-1:1)*t.height)}};return e.fac=function(t){return new(t||e)(nc(qL),nc(UL),nc(jL),nc(wd),nc(RI,8))},e.cmp=tr({type:e,selectors:[["igx-tree"]],contentQueries:function(e,t,i){if(1&e&&(zg(i,IH,5,yg),zg(i,bH,5)),2&e){let e;Hg(e=Gg())&&(t.expandIndicator=e.first),Hg(e=Gg())&&(t.nodes=e)}},hostVars:2,hostBindings:function(e,t){2&e&&iu("igx-tree",t.cssClass)},inputs:{selection:"selection",singleBranchExpand:"singleBranchExpand",animationSettings:"animationSettings"},outputs:{nodeSelection:"nodeSelection",nodeExpanding:"nodeExpanding",nodeExpanded:"nodeExpanded",nodeCollapsing:"nodeCollapsing",nodeCollapsed:"nodeCollapsed",activeNodeChanged:"activeNodeChanged"},standalone:!0,features:[Nu([jL,UL,qL,{provide:WL,useExisting:e}]),th,Wu],ngContentSelectors:EH,decls:2,vars:0,consts:[["role","tree",1,"igx-tree__root",3,"keydown"]],template:function(e,t){1&e&&(Lh(DH),Ch(0,"div",0),Fh("keydown",(function(e){return t.handleKeydown(e)})),Hh(1),Sh())},encapsulation:2}),e})(),AH=(()=>{let e=class extends kI{constructor(e,t){super(e,t),this._displayDensityOptions=e,this.el=t}};return e.fac=function(t){return new(t||e)(nc(RI,8),nc(wd,8))},e.dir=or({type:e,selectors:[["","igxListBase",""]],standalone:!0,features:[th]}),e})(),RH=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e}(RH||{}),kH=(()=>{let e=class{constructor(e){this.template=e}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxEmptyList",""]],standalone:!0}),e})(),OH=(()=>{let e=class{constructor(e){this.template=e}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxDataLoading",""]],standalone:!0}),e})(),FH=(()=>{let e=class{constructor(e){this.template=e}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxListItemLeftPanning",""]],standalone:!0}),e})(),PH=(()=>{let e=class{constructor(e){this.template=e}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxListItemRightPanning",""]],standalone:!0}),e})(),MH=["leftPanningTmpl"],VH=["rightPanningTmpl"];function NH(e,t){1&e&&Th(0)}function LH(e,t){if(1&e&&(Ch(0,"div",7,8),yh(2,NH,1,0,"ng-container",9),Sh()),2&e){let e=Vh();tu("width",e.offsetWidthInRem,"rem")("height",e.offsetHeightInRem,"rem"),tc(2),_h("ngTemplateOutlet",e.list.listItemLeftPanningTemplate.template)("ngTemplateOutletContext",e.context)}}function HH(e,t){1&e&&Th(0)}function BH(e,t){if(1&e&&(Ch(0,"div",10,11),yh(2,HH,1,0,"ng-container",9),Sh()),2&e){let e=Vh();tu("width",e.offsetWidthInRem,"rem")("height",e.offsetHeightInRem,"rem"),tc(2),_h("ngTemplateOutlet",e.list.listItemRightPanningTemplate.template)("ngTemplateOutletContext",e.context)}}function zH(e,t){1&e&&Hh(0)}function GH(e,t){1&e&&(Ch(0,"div",12),Hh(1,1),Sh())}function $H(e,t){1&e&&(Ch(0,"div",13),Hh(1,2),Sh())}function WH(e,t){1&e&&(Ch(0,"div",14),Hh(1,3),Sh())}function KH(e,t){1&e&&Th(0)}function jH(e,t){if(1&e&&(Eh(0),yh(1,KH,1,0,"ng-container",15),Ih()),2&e){Vh();let e=xh(3);tc(1),_h("ngTemplateOutlet",e)}}function UH(e,t){1&e&&Th(0)}function qH(e,t){1&e&&Th(0)}function YH(e,t){1&e&&Th(0)}function XH(e,t){1&e&&Th(0)}function ZH(e,t){if(1&e&&(Eh(0),Ch(1,"div",16),yh(2,UH,1,0,"ng-container",15),yh(3,qH,1,0,"ng-container",15),yh(4,YH,1,0,"ng-container",15),yh(5,XH,1,0,"ng-container",15),Sh(),Ih()),2&e){Vh();let e=xh(5),t=xh(7),i=xh(9),n=xh(3);tc(2),_h("ngTemplateOutlet",e),tc(1),_h("ngTemplateOutlet",t),tc(1),_h("ngTemplateOutlet",i),tc(1),_h("ngTemplateOutlet",n)}}var QH=["*",[["","igxListThumbnail",""],["igx-list__item-thumbnail"],["igx-avatar"]],[["","igxListLine",""],["",8,"igx-list__item-lines"],["","igxListLineTitle",""],["","igxListLineSubTitle",""],["",8,"igx-list__item-line-title"],["",8,"igx-list__item-line-subtitle"]],[["","igxListAction",""],["",8,"igx-list__item-actions"]]],JH=["*","[igxListThumbnail], igx-list__item-thumbnail, igx-avatar","[igxListLine], .igx-list__item-lines, [igxListLineTitle], [igxListLineSubTitle], .igx-list__item-line-title, .igx-list__item-line-subtitle","[igxListAction], .igx-list__item-actions"],eB=(()=>{let e=class{get panState(){return this._panState}get index(){return null!==this._index?this._index:this.list.children.toArray().indexOf(this)}set index(e){this._index=e}get element(){return this.elementRef.nativeElement}get contentElement(){let e=this.element.getElementsByClassName("igx-list__item-content");return e&&e.length>0?e[0]:null}get context(){return{$implicit:this}}get width(){if(this.element)return this.element.offsetWidth}get maxLeft(){return-this.width}get maxRight(){return this.width}get offsetWidthInRem(){return Eb(this.element.offsetWidth)}get offsetHeightInRem(){return Eb(this.element.offsetHeight)}constructor(e,t,i){this.list=e,this.elementRef=t,this._renderer=i,this.hidden=!1,this.touchAction="pan-y",this._panState=RH.NONE,this.panOffset=0,this._index=null,this.lastPanDir=RH.NONE}get role(){return this._role?this._role:this.isHeader?"separator":"listitem"}set role(e){this._role=e}get headerStyle(){return this.isHeader}get innerStyle(){return!this.isHeader}get display(){return this.hidden?"none":""}clicked(e){this.list.itemClicked.emit({item:this,event:e,direction:this.lastPanDir}),this.lastPanDir=RH.NONE}panStart(){this.isTrue(this.isHeader)||!this.isTrue(this.list.allowLeftPanning)&&!this.isTrue(this.list.allowRightPanning)||this.list.startPan.emit({item:this,direction:this.lastPanDir,keepitem:!1})}panCancel(){this.resetPanPosition(),this.list.endPan.emit({item:this,direction:this.lastPanDir,keepItem:!1})}panMove(e){if(this.isTrue(this.isHeader)||!this.isTrue(this.list.allowLeftPanning)&&!this.isTrue(this.list.allowRightPanning))return;let t=e.deltaX<0;t&&this.isTrue(this.list.allowLeftPanning)?(this.showLeftPanTemplate(),this.setContentElementLeft(Math.max(this.maxLeft,e.deltaX))):!t&&this.isTrue(this.list.allowRightPanning)&&(this.showRightPanTemplate(),this.setContentElementLeft(Math.min(this.maxRight,e.deltaX)))}panEnd(){if(this.isTrue(this.isHeader)||!this.isTrue(this.list.allowLeftPanning)&&!this.isTrue(this.list.allowRightPanning))return;let e=this.panOffset,t=this.width*this.list.panEndTriggeringThreshold;if(0===e)return;let i=e>0?RH.RIGHT:RH.LEFT;this.lastPanDir=i;let n={item:this,direction:i,keepItem:!1};this.list.endPan.emit(n);let r=this._panState;if(Math.abs(e)<t)return this.resetPanPosition(),void this.list.resetPan.emit(this);if(i===RH.LEFT?this.list.leftPan.emit(n):this.list.rightPan.emit(n),!0===n.keepItem?(this.setContentElementLeft(0),this._panState=RH.NONE):i===RH.LEFT?(this.setContentElementLeft(this.maxLeft),this._panState=RH.LEFT):(this.setContentElementLeft(this.maxRight),this._panState=RH.RIGHT),r!==this._panState){let e={oldState:r,newState:this._panState,item:this};this.list.panStateChange.emit(e)}this.hideLeftAndRightPanTemplates()}showLeftPanTemplate(){this.setLeftAndRightTemplatesVisibility("visible","hidden")}showRightPanTemplate(){this.setLeftAndRightTemplatesVisibility("hidden","visible")}hideLeftAndRightPanTemplates(){setTimeout((()=>{this.setLeftAndRightTemplatesVisibility("hidden","hidden")}),500)}setLeftAndRightTemplatesVisibility(e,t){this.leftPanningTemplateElement&&this.leftPanningTemplateElement.nativeElement&&(this.leftPanningTemplateElement.nativeElement.style.visibility=e),this.rightPanningTemplateElement&&this.rightPanningTemplateElement.nativeElement&&(this.rightPanningTemplateElement.nativeElement.style.visibility=t)}setContentElementLeft(e){this.panOffset=e,this.contentElement.style.transform="translateX("+e+"px)"}isTrue(e){return"boolean"==typeof e?e:"true"===e}resetPanPosition(){this.setContentElementLeft(0),this._panState=RH.NONE,this.hideLeftAndRightPanTemplates()}};return e.fac=function(t){return new(t||e)(nc(AH),nc(wd),nc(bd))},e.cmp=tr({type:e,selectors:[["igx-list-item"]],viewQuery:function(e,t){if(1&e&&(Bg(MH,5),Bg(VH,5)),2&e){let e;Hg(e=Gg())&&(t.leftPanningTemplateElement=e.first),Hg(e=Gg())&&(t.rightPanningTemplateElement=e.first)}},hostVars:10,hostBindings:function(e,t){1&e&&Fh("click",(function(e){return t.clicked(e)}))("panstart",(function(){return t.panStart()}))("pancancel",(function(){return t.panCancel()}))("panmove",(function(e){return t.panMove(e)}))("panend",(function(){return t.panEnd()})),2&e&&(ph("aria-label",t.ariaLabel)("role",t.role),tu("touch-action",t.touchAction)("display",t.display),iu("igx-list__header",t.headerStyle)("igx-list__item-base",t.innerStyle))},inputs:{isHeader:"isHeader",hidden:"hidden",index:"index",role:"role"},standalone:!0,features:[Nu([tF]),Wu],ngContentSelectors:JH,decls:12,vars:4,consts:[["class","igx-list__item-right",3,"width","height",4,"ngIf"],["class","igx-list__item-left",3,"width","height",4,"ngIf"],["itemsContent",""],["itemThumbnails",""],["itemLines",""],["itemActions",""],[4,"ngIf"],[1,"igx-list__item-right"],["leftPanningTmpl",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-list__item-left"],["rightPanningTmpl",""],[1,"igx-list__item-thumbnail"],[1,"igx-list__item-lines"],[1,"igx-list__item-actions"],[4,"ngTemplateOutlet"],[1,"igx-list__item-content"]],template:function(e,t){1&e&&(Lh(QH),yh(0,LH,3,6,"div",0),yh(1,BH,3,6,"div",1),yh(2,zH,1,0,"ng-template",null,2,jg),yh(4,GH,2,0,"ng-template",null,3,jg),yh(6,$H,2,0,"ng-template",null,4,jg),yh(8,WH,2,0,"ng-template",null,5,jg),yh(10,jH,2,1,"ng-container",6),yh(11,ZH,6,4,"ng-container",6)),2&e&&(_h("ngIf",!t.isHeader&&t.list.listItemLeftPanningTemplate),tc(1),_h("ngIf",!t.isHeader&&t.list.listItemRightPanningTemplate),tc(9),_h("ngIf",t.isHeader),tc(1),_h("ngIf",!t.isHeader))},dependencies:[$m,Zm],encapsulation:2,changeDetection:0}),e})(),tB=["defaultEmptyList"],iB=["defaultDataLoading"];function nB(e,t){if(1&e&&(Ch(0,"article",3),fu(1),Sh()),2&e){let e=Vh();tc(1),xu(" ",e.resourceStrings.igx_list_no_items," ")}}function rB(e,t){if(1&e&&(Ch(0,"article",3),fu(1),Sh()),2&e){let e=Vh();tc(1),xu(" ",e.resourceStrings.igx_list_loading," ")}}function sB(e,t){1&e&&Th(0)}function oB(e,t){if(1&e&&(Eh(0),yh(1,sB,1,0,"ng-container",4),Ih()),2&e){let e=Vh();tc(1),_h("ngTemplateOutlet",e.template)("ngTemplateOutletContext",e.context)}}var aB=["*"],lB=0,dB=(()=>{let e=class extends AH{set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}constructor(e,t){super(t,e),this.element=e,this.panEndTriggeringThreshold=.5,this.id="igx-list-"+lB++,this.allowLeftPanning=!1,this.allowRightPanning=!1,this.isLoading=!1,this.leftPan=new Pd,this.rightPan=new Pd,this.startPan=new Pd,this.endPan=new Pd,this.resetPan=new Pd,this.panStateChange=new Pd,this.itemClicked=new Pd,this._resourceStrings=FI.ListResStrings,this._role="list"}get sortedChildren(){return void 0!==this.children?this.children.toArray().sort(((e,t)=>e.index-t.index)):null}get role(){return this._role}set role(e){this._role=e}get isListEmpty(){return!this.children||0===this.children.length}get cssClass(){return!this.isListEmpty}get componentSize(){if(!this.isListEmpty)return this.getComponentSizeStyles()}get items(){let e=[];if(void 0!==this.children)for(let t of this.sortedChildren)t.isHeader||e.push(t);return e}get headers(){let e=[];if(void 0!==this.children)for(let t of this.children.toArray())t.isHeader&&e.push(t);return e}get context(){return{$implicit:this}}get template(){return this.isLoading?this.dataLoadingTemplate?this.dataLoadingTemplate.template:this.defaultDataLoadingTemplate:this.emptyListTemplate?this.emptyListTemplate.template:this.defaultEmptyListTemplate}};return e.fac=function(t){return new(t||e)(nc(wd),nc(RI,8))},e.cmp=tr({type:e,selectors:[["igx-list"]],contentQueries:function(e,t,i){if(1&e&&(zg(i,kH,5,kH),zg(i,OH,5,OH),zg(i,FH,5,FH),zg(i,PH,5,PH),zg(i,eB,5)),2&e){let e;Hg(e=Gg())&&(t.emptyListTemplate=e.first),Hg(e=Gg())&&(t.dataLoadingTemplate=e.first),Hg(e=Gg())&&(t.listItemLeftPanningTemplate=e.first),Hg(e=Gg())&&(t.listItemRightPanningTemplate=e.first),Hg(e=Gg())&&(t.children=e)}},viewQuery:function(e,t){if(1&e&&(Bg(tB,7,yg),Bg(iB,7,yg)),2&e){let e;Hg(e=Gg())&&(t.defaultEmptyListTemplate=e.first),Hg(e=Gg())&&(t.defaultDataLoadingTemplate=e.first)}},hostVars:8,hostBindings:function(e,t){2&e&&(ph("id",t.id)("role",t.role),tu("--component-size",t.componentSize),iu("igx-list--empty",t.isListEmpty)("igx-list",t.cssClass))},inputs:{panEndTriggeringThreshold:"panEndTriggeringThreshold",id:"id",allowLeftPanning:"allowLeftPanning",allowRightPanning:"allowRightPanning",isLoading:"isLoading",resourceStrings:"resourceStrings",role:"role"},outputs:{leftPan:"leftPan",rightPan:"rightPan",startPan:"startPan",endPan:"endPan",resetPan:"resetPan",panStateChange:"panStateChange",itemClicked:"itemClicked"},standalone:!0,features:[Nu([{provide:AH,useExisting:e}]),th,Wu],ngContentSelectors:aB,decls:6,vars:1,consts:[["defaultEmptyList",""],["defaultDataLoading",""],[4,"ngIf"],[1,"igx-list__message"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Lh(),Hh(0),yh(1,nB,2,1,"ng-template",null,0,jg),yh(3,rB,2,1,"ng-template",null,1,jg),yh(5,oB,2,2,"ng-container",2)),2&e&&(tc(5),_h("ngIf",!t.children||0===t.children.length||t.isLoading))},dependencies:[$m,Zm],encapsulation:2}),e})(),cB=["input"],hB=["cancelButton"],uB=["list"],gB=["selectAllCheckbox"],pB=["addToCurrentFilterCheckbox"],mB=["tree"],fB=["defaultExcelStyleLoadingValuesTemplate"];function yB(e,t){if(1&e){let e=Rh();Ch(0,"igx-icon",15),Fh("click",(function(){return Bs(e),zs(Vh().clearInput())})),fu(1," clear "),Sh()}}function vB(e,t){if(1&e){let e=Rh();Ch(0,"igx-list-item",23)(1,"igx-checkbox",24),Fh("change",(function(t){return Bs(e),zs(Vh(2).onCheckboxChange(t))})),fu(2),Sh()()}if(2&e){let e=t.$implicit,i=t.index,n=Vh(2);iu("igx-list__item-base--active",(null==n.focusedItem?null:n.focusedItem.id)===n.getItemId(i)),ph("id",n.getItemId(i)),tc(1),_h("value",e)("tabindex",-1)("checked",null==e?null:e.isSelected)("disableRipple",!0)("indeterminate",null==e?null:e.indeterminate)("disableTransitions",!0),tc(1),xu(" ",e.label," ")}}function xB(e,t){1&e&&Th(0)}function _B(e,t){if(1&e&&(Ch(0,"div",25),yh(1,xB,1,0,"ng-container",26),Sh()),2&e){let e=Vh(2);tc(1),_h("ngTemplateOutlet",e.valuesLoadingTemplate)}}function wB(e,t){1&e&&Th(0)}function CB(e,t){1&e&&yh(0,wB,1,0,"ng-container",26),2&e&&(Vh(2),_h("ngTemplateOutlet",xh(9)))}function SB(e,t){if(1&e){let e=Rh();Ch(0,"igx-list",16,17),Fh("keydown",(function(t){return Bs(e),zs(Vh().handleKeyDown(t))}))("focus",(function(){return Bs(e),zs(Vh().onFocus())}))("focusout",(function(){return Bs(e),zs(Vh().onFocusOut())})),Ch(2,"div",18),yh(3,vB,3,10,"igx-list-item",19),Sh(),yh(4,_B,2,1,"ng-template",20),yh(5,CB,1,1,"ng-template",21),Ch(6,"div",22),fu(7),Sh()()}if(2&e){let e=Vh();_h("displayDensity",e.esf.displayDensity)("isLoading",e.isLoading),ph("aria-activedescendant",e.activeDescendant),tc(3),_h("igxForOf",e.displayedListData)("igxForScrollOrientation","vertical")("igxForContainerSize",e.containerSize)("igxForItemSize",e.itemSize),tc(4),xu(" ",null==e.esf.grid?null:e.esf.grid.resourceStrings.igx_grid_excel_matches_count.replace("{0}",e.matchesCount)," ")}}function bB(e,t){if(1&e&&(Ch(0,"div",34)(1,"igx-checkbox",38,39),fu(3),Sh()()),2&e){let e=Vh(3);tc(1),_h("value",e.addToCurrentFilterItem)("checked",e.addToCurrentFilterItem.isSelected)("disableRipple",!0)("disableTransitions",!0),tc(2),xu(" ",e.addToCurrentFilterItem.label," ")}}function DB(e,t){if(1&e){let e=Rh();Ch(0,"div",33)(1,"div",34)(2,"igx-checkbox",35,36),Fh("change",(function(t){return Bs(e),zs(Vh(2).onSelectAllCheckboxChange(t))})),fu(4),Sh()(),yh(5,bB,4,5,"div",37),Sh()}if(2&e){let e=Vh(2);tc(2),_h("value",e.selectAllItem)("checked",null==e.selectAllItem?null:e.selectAllItem.isSelected)("disableRipple",!0)("indeterminate",null==e.selectAllItem?null:e.selectAllItem.indeterminate)("disableTransitions",!0),tc(2),xu(" ",e.selectAllItem.label," "),tc(1),_h("ngIf",e.searchValue)}}function EB(e,t){if(1&e&&(Ch(0,"igx-tree-node",40)(1,"div"),fu(2),Sh()()),2&e){let e=t.$implicit;_h("data",e)("selected",e.isSelected),tc(2),vu(e.label)}}function IB(e,t){if(1&e&&(Ch(0,"igx-tree-node",40)(1,"div"),fu(2),Sh(),yh(3,EB,3,3,"igx-tree-node",31),Sh()),2&e){let e=t.$implicit;_h("data",e)("selected",e.isSelected),tc(2),vu(e.label),tc(1),_h("ngForOf",e.children)}}function TB(e,t){if(1&e&&(Ch(0,"igx-tree-node",40)(1,"div"),fu(2),Sh(),yh(3,IB,4,4,"igx-tree-node",31),Sh()),2&e){let e=t.$implicit;_h("data",e)("selected",e.isSelected),tc(2),vu(e.label),tc(1),_h("ngForOf",e.children)}}function AB(e,t){if(1&e&&(Ch(0,"igx-tree-node",40)(1,"div"),fu(2),Sh(),yh(3,TB,4,4,"igx-tree-node",31),Sh()),2&e){let e=t.$implicit;_h("data",e)("selected",e.isSelected),tc(2),vu(e.label),tc(1),_h("ngForOf",e.children)}}function RB(e,t){if(1&e&&(Ch(0,"igx-tree-node",40)(1,"div"),fu(2),Sh(),yh(3,AB,4,4,"igx-tree-node",31),Sh()),2&e){let e=t.$implicit;_h("data",e)("selected",e.isSelected),tc(2),vu(e.label),tc(1),_h("ngForOf",e.children)}}function kB(e,t){if(1&e&&(Ch(0,"igx-tree-node",40)(1,"div"),fu(2),Sh(),yh(3,RB,4,4,"igx-tree-node",31),Sh()),2&e){let e=t.$implicit;_h("data",e)("selected",e.isSelected),tc(2),vu(e.label),tc(1),_h("ngForOf",e.children)}}function OB(e,t){if(1&e&&(Ch(0,"igx-tree-node",40)(1,"div"),fu(2),Sh(),yh(3,kB,4,4,"igx-tree-node",31),Sh()),2&e){let e=t.$implicit;_h("data",e)("selected",e.isSelected),tc(2),vu(e.label),tc(1),_h("ngForOf",e.children)}}function FB(e,t){if(1&e&&(Ch(0,"igx-tree-node",40)(1,"div"),fu(2),Sh(),yh(3,OB,4,4,"igx-tree-node",31),Sh()),2&e){let e=t.$implicit;_h("data",e)("selected",e.isSelected),tc(2),vu(e.label),tc(1),_h("ngForOf",e.children)}}function PB(e,t){if(1&e&&(Ch(0,"igx-tree-node",40)(1,"div"),fu(2),Sh(),yh(3,FB,4,4,"igx-tree-node",31),Sh()),2&e){let e=t.$implicit;_h("data",e)("selected",e.isSelected),tc(2),vu(e.label),tc(1),_h("ngForOf",e.children)}}function MB(e,t){if(1&e&&(Ch(0,"igx-tree-node",40)(1,"div"),fu(2),Sh(),yh(3,PB,4,4,"igx-tree-node",31),Sh()),2&e){let e=t.$implicit;_h("data",e)("selected",e.isSelected),tc(2),vu(e.label),tc(1),_h("ngForOf",e.children)}}function VB(e,t){1&e&&Th(0)}function NB(e,t){if(1&e&&(Ch(0,"div",25),yh(1,VB,1,0,"ng-container",26),Sh()),2&e){let e=Vh(2);tc(1),_h("ngTemplateOutlet",e.valuesLoadingTemplate)}}function LB(e,t){1&e&&Th(0)}function HB(e,t){1&e&&yh(0,LB,1,0,"ng-container",26),2&e&&(Vh(2),_h("ngTemplateOutlet",xh(9)))}function BB(e,t){if(1&e){let e=Rh();Ch(0,"div",27),yh(1,DB,6,7,"div",28),Ch(2,"igx-tree",29,30),Fh("nodeSelection",(function(t){return Bs(e),zs(Vh().onNodeSelectionChange(t))})),yh(4,MB,4,4,"igx-tree-node",31),Sh(),yh(5,NB,2,1,"ng-template",20),yh(6,HB,1,1,"ng-template",32),Sh()}if(2&e){let e=Vh();tc(1),_h("ngIf",!e.isTreeEmpty()),tc(1),_h("displayDensity",e.esf.displayDensity),tc(2),_h("ngForOf",e.displayedListData),tc(2),_h("ngIf",e.isTreeEmpty())}}function zB(e,t){if(1&e&&(Ch(0,"div",41),fu(1),Sh()),2&e){let e=Vh();tc(1),xu(" ",null==e.esf.grid?null:e.esf.grid.resourceStrings.igx_grid_excel_no_matches," ")}}function GB(e,t){1&e&&bh(0,"igx-circular-bar",42),2&e&&_h("indeterminate",!0)}var $B=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}constructor(e){this.template=e}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxExcelStyleLoading",""]],standalone:!0}),e})(),WB=0,KB=(()=>{let e=class e{get selectAllItem(){if(!this._selectAllItem){let e={isSelected:!1,isFiltered:!1,indeterminate:!1,isSpecial:!0,isBlanks:!1,value:this.esf.grid.resourceStrings.igx_grid_excel_select_all,label:this.esf.grid.resourceStrings.igx_grid_excel_select_all};this._selectAllItem=e}return this._selectAllItem}get addToCurrentFilterItem(){if(!this._addToCurrentFilterItem){let e={isSelected:!1,isFiltered:!1,indeterminate:!1,isSpecial:!0,isBlanks:!1,value:this.esf.grid.resourceStrings.igx_grid_excel_add_to_filter,label:this.esf.grid.resourceStrings.igx_grid_excel_add_to_filter};this._addToCurrentFilterItem=e}return this._addToCurrentFilterItem}get isLoading(){return this._isLoading}set isLoading(e){this._isLoading=e,this.cdr.destroyed||this.cdr.detectChanges()}get valuesLoadingTemplate(){return this.esf.grid?.excelStyleLoadingValuesTemplateDirective?this.esf.grid.excelStyleLoadingValuesTemplateDirective.template:this.defaultExcelStyleLoadingValuesTemplate}constructor(e,t,i){this.cdr=e,this.esf=t,this.platform=i,this.defaultClass=!0,this.displayedListData=[],this.activeDescendant="",this._id="igx-excel-style-search-"+WB++,this._focusedItem=null,this.destroy$=new Xe,this.refreshSize=()=>{this.virtDir&&(this.virtDir.igxForContainerSize=this.containerSize,this.virtDir.igxForItemSize=this.itemSize,this.virtDir.recalcUpdateSizes(),this.cdr.detectChanges())},t.loadingStart.pipe(Si(this.destroy$)).subscribe((()=>{this.displayedListData=[],this.isLoading=!0})),t.loadingEnd.pipe(Si(this.destroy$)).subscribe((()=>{this.refreshSize(),this.isLoading=!1})),t.initialized.pipe(Si(this.destroy$)).subscribe((()=>{requestAnimationFrame((()=>{this.refreshSize(),this.searchInput.nativeElement.focus()}))})),t.columnChange.pipe(Si(this.destroy$)).subscribe((()=>{this.virtDir?.resetScrollPosition(),this.virtDir&&(this.virtDir.state.startIndex=0)})),t.listDataLoaded.pipe(Si(this.destroy$)).subscribe((()=>{this._selectAllItem=this.esf.listData[0],this.isHierarchical()&&this.esf.listData[0].isSpecial&&this.esf.listData.splice(0,1),this.searchValue?this.clearInput():this.filterListData(),this.cdr.detectChanges(),requestAnimationFrame((()=>{this.refreshSize(),this.searchInput.nativeElement.focus()}))}))}ngAfterViewInit(){requestAnimationFrame(this.refreshSize)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}clearInput(){this.searchValue=null,this.filterListData()}onCheckboxChange(e){let t=this.displayedListData.indexOf(e.checkbox.value),i=this.displayedListData[0];if(0===t)this.displayedListData.forEach((t=>{t!==this.addToCurrentFilterItem&&(t.isSelected=e.checked)})),i.indeterminate=!1;else{e.checkbox.value.isSelected=e.checked;let t=this.displayedListData.indexOf(this.addToCurrentFilterItem)>-1?2:1,n=this.displayedListData.slice(t,this.displayedListData.length);n.find((e=>!1===e.isSelected))?n.find((e=>!0===e.isSelected))?i.indeterminate=!0:(i.indeterminate=!1,i.isSelected=!1):(i.indeterminate=!1,i.isSelected=!0)}}onSelectAllCheckboxChange(e){this._selectAllItem.isSelected=e.checked,this._selectAllItem.indeterminate=!1,this.tree.nodes.forEach((t=>t.data.isSelected=e.checked))}onNodeSelectionChange(e){e.added.forEach((e=>{e.data.isSelected=!0})),e.removed.forEach((e=>{e.data.isSelected=!1})),this._hierarchicalSelectedItems=e.newSelection.map((e=>e.data));let t=this.selectAllItem;0===this._hierarchicalSelectedItems.length?(t.indeterminate=!1,t.isSelected=!1):this._hierarchicalSelectedItems.length===this.tree.nodes.length?(t.indeterminate=!1,t.isSelected=!0):(t.indeterminate=!0,t.isSelected=!1)}get itemSize(){let e="40px";switch(this.esf.displayDensity){case TI:e="32px";break;case AI:e="24px"}return e}get containerSize(){return this.esf.listData.length?this.list?.element.nativeElement.offsetHeight:0}get id(){return this._id}set id(e){this._id=e}getItemId(e){return`${this.id}-item-${e}`}setActiveDescendant(){this.activeDescendant=this.focusedItem?.id||""}get focusedItem(){return this._focusedItem}set focusedItem(e){this._focusedItem=e}get applyButtonDisabled(){return this._selectAllItem&&!this._selectAllItem.isSelected&&!this._selectAllItem.indeterminate||this.displayedListData&&0===this.displayedListData.length}onInputKeyDown(e){switch(e.key){case this.platform.KEYMAP.ENTER:return e.preventDefault(),void this.applyFilter();case this.platform.KEYMAP.ESCAPE:return void(this.searchValue&&(e.stopPropagation(),this.clearInput()))}}filterListData(){if((this.esf.column?.dataType===Wb.Number||this.esf.column?.dataType===Wb.Currency||this.esf.column?.dataType===Wb.Percent)&&this.rejectNonNumericalEntries(),!this.esf.listData||!this.esf.listData.length)return void(this.displayedListData=[]);let e;if(e=this._selectAllItem?this._selectAllItem:this.esf.listData[0],!this.searchValue){let t=this.esf.listData.some((e=>e.isFiltered)),i=this.esf.listData.some((e=>!e.isFiltered));return e.indeterminate=t&&i,this.isHierarchical()&&this.tree&&(this._hierarchicalSelectedItems=this.tree.nodes.map((e=>e.data)).filter((e=>e.isFiltered))),this.esf.listData.forEach((e=>e.isSelected=e.isFiltered)),this.displayedListData!==this.esf.listData&&(this.displayedListData=this.esf.listData,this.isHierarchical()&&(this.cdr.detectChanges(),this.tree.nodes.forEach((e=>{let n=e.data;e.selected=n.isSelected||n.isFiltered,t=t||e.selected,i=i||!e.selected})),e.indeterminate=t&&i)),e.label=this.esf.grid.resourceStrings.igx_grid_excel_select_all,this.matchesCount=this.displayedListData.length-1,void this.cdr.detectChanges()}let t=this.searchValue.toLowerCase();if(this.isHierarchical()){this._hierarchicalSelectedItems=[],this.esf.listData.forEach((e=>e.isSelected=!1));let e=JS(this.esf.listData,"children");this.displayedListData=this.hierarchicalSelectMatches(e,t),this.cdr.detectChanges(),this.tree.nodes.forEach((e=>{e.selected=!0,e.data.label.toString().toLowerCase().indexOf(t)>-1&&this.expandAllParentNodes(e)}))}else this.displayedListData=this.esf.listData.filter(((e,i)=>0===i&&e.isSpecial||null!==e.label&&void 0!==e.label&&!e.isBlanks&&e.label.toString().toLowerCase().indexOf(t)>-1)),this.esf.listData.forEach((e=>e.isSelected=!1)),this.displayedListData.forEach((e=>e.isSelected=!0)),this.displayedListData.splice(1,0,this.addToCurrentFilterItem),2===this.displayedListData.length&&(this.displayedListData=[]);this.displayedListData.length>2?this.matchesCount=this.displayedListData.length-2:this.matchesCount=0,e.indeterminate=!1,e.isSelected=!0,e.label=this.esf.grid.resourceStrings.igx_grid_excel_select_all_search_results,this.cdr.detectChanges()}applyFilter(){let t,i=new qb(Yb.Or,this.esf.column.field),n=[];if(this.isHierarchical())this.addToCurrentFilterCheckbox&&this.addToCurrentFilterCheckbox.checked&&this.addFilteredToSelectedItems(this.esf.listData),n=this._hierarchicalSelectedItems;else{let e=this.displayedListData[1];n=e===this.addToCurrentFilterItem&&e.isSelected?this.esf.listData.slice(1,this.esf.listData.length).filter((e=>e.isSelected||e.isFiltered)):this.esf.listData.slice(1,this.esf.listData.length).filter((e=>e.isSelected))}if(t=this.isHierarchical()?this.esf.listData.find((e=>!1===e.isSelected)):this.esf.listData.slice(1,this.esf.listData.length).find((e=>!1===e.isSelected)),t){if(n.length<=e.filterOptimizationThreshold)n.forEach((e=>{let t=null;if(null!==e.value&&void 0!==e.value)if(this.esf.column.dataType===Wb.Boolean)t=this.createCondition(e.value.toString());else{let e=this.esf.column.dataType===Wb.Time?"at":"equals";t=this.createCondition(e)}else t=this.createCondition("empty");i.filteringOperands.push({condition:t,fieldName:this.esf.column.field,ignoreCase:this.esf.column.filteringIgnoreCase,searchVal:e.value})}));else{let e,t=n.findIndex((e=>null===e.value||void 0===e.value));t>=0&&(e=n[t],n.splice(t,1)),i.filteringOperands.push({condition:this.createCondition("in"),fieldName:this.esf.column.field,ignoreCase:this.esf.column.filteringIgnoreCase,searchVal:new Set(this.esf.column.dataType===Wb.Date||this.esf.column.dataType===Wb.DateTime?n.map((e=>e.value.toISOString())):this.esf.column.dataType===Wb.Time?n.map((e=>e.value.toLocaleTimeString())):n.map((e=>e.value)))}),e&&i.filteringOperands.push({condition:this.createCondition("empty"),fieldName:this.esf.column.field,ignoreCase:this.esf.column.filteringIgnoreCase,searchVal:e.value})}let t=this.esf.grid,r=this.esf.column;t.filteringService.filterInternal(r.field,i),this.esf.expressionsList=new Array,t.filteringService.generateExpressionsList(r.filteringExpressionsTree,t.filteringLogic,this.esf.expressionsList)}else this.esf.grid.filteringService.clearFilter(this.esf.column.field);this.esf.closeDropdown()}handleKeyDown(e){if(e){let t=e.key.toLowerCase();if(-1===["space","spacebar"," ","arrowup","up","arrowdown","down","home","end"].indexOf(t))return;switch(e.preventDefault(),e.stopPropagation(),t){case"arrowup":case"up":this.onArrowUpKeyDown();break;case"arrowdown":case"down":this.onArrowDownKeyDown();break;case"home":this.onHomeKeyDown();break;case"end":this.onEndKeyDown();break;case"space":case"spacebar":case" ":this.onActionKeyDown();break;default:return}}}onFocus(){let e=this.virtDir.state.startIndex;this.virtDir.igxForOf.length>0&&(this.focusedItem={id:this.getItemId(e),index:e,checked:this.virtDir.igxForOf[e].isSelected}),this.setActiveDescendant()}onFocusOut(){this.focusedItem=null,this.setActiveDescendant()}isHierarchical(){return this.esf.isHierarchical}isTreeEmpty(){return this.esf.isHierarchical&&0===this.displayedListData.length}hierarchicalSelectMatches(e,t){return e.forEach((e=>{e.indeterminate=!1,e.isSelected=!1;let i=this.tree.nodes.filter((t=>t.data.label===e.label))[0];i&&(i.expanded=!1),e.label.toString().toLowerCase().indexOf(t)>-1?(e.isSelected=!0,this.hierarchicalSelectAllChildren(e),this._hierarchicalSelectedItems.push(e)):e.children.length>0&&(e.children=this.hierarchicalSelectMatches(e.children,t),e.children.length>0&&(e.isSelected=!0,i&&(i.expanded=!0)))})),e.filter((e=>!0===e.isSelected))}hierarchicalSelectAllChildren(e){e.children.forEach((e=>{e.indeterminate=!1,e.isSelected=!0,this._hierarchicalSelectedItems.push(e),e.children&&this.hierarchicalSelectAllChildren(e)}))}expandAllParentNodes(e){e.parentNode&&(e.parentNode.expanded=!0,this.expandAllParentNodes(e.parentNode))}addFilteredToSelectedItems(e){e.forEach((e=>{e.children&&this.addFilteredToSelectedItems(e.children),e.isFiltered&&this._hierarchicalSelectedItems.indexOf(e)<0&&this._hierarchicalSelectedItems.push(e)}))}createCondition(e){switch(this.esf.column.dataType){case Wb.Boolean:return jA.instance().condition(e);case Wb.Number:case Wb.Currency:case Wb.Percent:return ZA.instance().condition(e);case Wb.Date:return qA.instance().condition(e);case Wb.Time:return XA.instance().condition(e);case Wb.DateTime:return YA.instance().condition(e);default:return QA.instance().condition(e)}}rejectNonNumericalEntries(){let e=/[^0-9\.,eE\-]/g;this.searchValue&&e.test(this.searchValue)&&(this.searchInput.value=this.searchValue.replace(e,""),this.searchValue=this.searchInput.value)}onArrowUpKeyDown(){this.focusedItem&&0===this.focusedItem.index&&0===this.virtDir.state.startIndex||(this.navigateItem(this.focusedItem?this.focusedItem.index-1:0),this.setActiveDescendant())}onArrowDownKeyDown(){let e=this.virtDir.igxForOf.length-1;this.focusedItem&&this.focusedItem.index===e||(this.navigateItem(this.focusedItem?this.focusedItem.index+1:0),this.setActiveDescendant())}onHomeKeyDown(){this.navigateItem(0),this.setActiveDescendant()}onEndKeyDown(){this.navigateItem(this.virtDir.igxForOf.length-1),this.setActiveDescendant()}onActionKeyDown(){let e=this.displayedListData[this.focusedItem.index],t={checked:!e.isSelected,checkbox:this.checkboxes.find((t=>t.value===e))};this.onCheckboxChange(t)}navigateItem(e){if(-1===e||e>=this.virtDir.igxForOf.length)return;let t=e>(this.focusedItem?this.focusedItem.index:-1)?hI.Down:hI.Up,i=this.isIndexOutOfBounds(e,t);this.focusedItem={id:this.getItemId(e),index:e,checked:this.virtDir.igxForOf[e].isSelected},i&&this.virtDir.scrollTo(e)}isIndexOutOfBounds(e,t){let i=this.virtDir.state,n=this.virtDir.getScroll().scrollTop,r=this.virtDir.getScrollForIndex(e,t===hI.Down),s=e<i.startIndex||e>i.chunkSize+i.startIndex,o=t===hI.Down?n<r:n>r;return s||o}};return e.filterOptimizationThreshold=2,e.fac=function(t){return new(t||e)(nc(fp),nc(fN),nc(ob))},e.cmp=tr({type:e,selectors:[["igx-excel-style-search"]],viewQuery:function(e,t){if(1&e&&(Bg(cB,7,CI),Bg(hB,7,HI),Bg(uB,5,dB),Bg(gB,5,nk),Bg(pB,5,nk),Bg(mB,5,TH),Bg(mA,5),Bg(fB,5,yg),Bg(nk,5)),2&e){let e;Hg(e=Gg())&&(t.searchInput=e.first),Hg(e=Gg())&&(t.cancelButton=e.first),Hg(e=Gg())&&(t.list=e.first),Hg(e=Gg())&&(t.selectAllCheckbox=e.first),Hg(e=Gg())&&(t.addToCurrentFilterCheckbox=e.first),Hg(e=Gg())&&(t.tree=e.first),Hg(e=Gg())&&(t.virtDir=e.first),Hg(e=Gg())&&(t.defaultExcelStyleLoadingValuesTemplate=e.first),Hg(e=Gg())&&(t.checkboxes=e)}},hostVars:3,hostBindings:function(e,t){2&e&&(ph("id",t.id),iu("igx-excel-filter__menu-main",t.defaultClass))},inputs:{id:"id"},standalone:!0,features:[Wu],decls:20,vars:11,consts:[["type","box",3,"displayDensity"],["igxPrefix",""],["igxInput","","tabindex","0","autocomplete","off",3,"ngModel","placeholder","ngModelChange","keydown"],["input",""],["igxSuffix","","tabindex","0",3,"click",4,"ngIf"],["role","listbox","tabindex","0",3,"displayDensity","isLoading","keydown","focus","focusout",4,"ngIf"],["class","igx-excel-filter__tree",4,"ngIf"],["emptySearch",""],["defaultExcelStyleLoadingValuesTemplate",""],[1,"igx-excel-filter__menu-footer"],[1,"igx-excel-filter__cancel"],["type","button","igxButton","flat",3,"displayDensity","click"],["cancelButton",""],[1,"igx-excel-filter__apply"],["type","button","igxButton","raised",3,"displayDensity","disabled","click"],["igxSuffix","","tabindex","0",3,"click"],["role","listbox","tabindex","0",3,"displayDensity","isLoading","keydown","focus","focusout"],["list",""],[2,"overflow","hidden","position","relative"],["role","option",3,"igx-list__item-base--active",4,"igxFor","igxForOf","igxForScrollOrientation","igxForContainerSize","igxForItemSize"],["igxDataLoading",""],["igxEmptyList",""],["aria-live","polite","aria-atomic","true",1,"igx-excel-filter__filter-results"],["role","option"],[3,"value","tabindex","checked","disableRipple","indeterminate","disableTransitions","change"],[1,"igx-excel-filter__loading"],[4,"ngTemplateOutlet"],[1,"igx-excel-filter__tree"],["class","igx-excel-filter__tree-alike",4,"ngIf"],["selection","Cascading",3,"displayDensity","nodeSelection"],["tree",""],[3,"data","selected",4,"ngFor","ngForOf"],[3,"ngIf"],[1,"igx-excel-filter__tree-alike"],[1,"igx-excel-filter__tree-alike-item"],[3,"value","checked","disableRipple","indeterminate","disableTransitions","change"],["selectAllCheckbox",""],["class","igx-excel-filter__tree-alike-item",4,"ngIf"],[3,"value","checked","disableRipple","disableTransitions"],["addToCurrentFilterCheckbox",""],[3,"data","selected"],[1,"igx-excel-filter__empty"],[3,"indeterminate"]],template:function(e,t){1&e&&(Ch(0,"igx-input-group",0)(1,"igx-icon",1),fu(2,"search"),Sh(),Ch(3,"input",2,3),Fh("ngModelChange",(function(e){return t.searchValue=e}))("ngModelChange",(function(){return t.filterListData()}))("keydown",(function(e){return t.onInputKeyDown(e)})),Sh(),yh(5,yB,2,0,"igx-icon",4),Sh(),yh(6,SB,8,8,"igx-list",5),yh(7,BB,7,4,"div",6),yh(8,zB,2,1,"ng-template",null,7,jg),yh(10,GB,1,1,"ng-template",null,8,jg),Ch(12,"footer",9)(13,"div",10)(14,"button",11,12),Fh("click",(function(){return t.esf.cancel()})),fu(16),Sh()(),Ch(17,"div",13)(18,"button",14),Fh("click",(function(){return t.applyFilter()})),fu(19),Sh()()()),2&e&&(_h("displayDensity",t.esf.displayDensity),tc(3),_h("ngModel",t.searchValue)("placeholder",null==t.esf.column?null:t.esf.column.grid.resourceStrings.igx_grid_excel_search_placeholder),tc(2),_h("ngIf",t.searchValue||0===t.searchValue),tc(1),_h("ngIf",!t.isHierarchical()),tc(1),_h("ngIf",t.isHierarchical()),tc(7),_h("displayDensity",t.esf.displayDensity),tc(2),xu(" ",null==t.esf.grid?null:t.esf.grid.resourceStrings.igx_grid_excel_cancel," "),tc(2),_h("displayDensity",t.esf.displayDensity)("disabled",t.applyButtonDisabled),tc(1),xu(" ",null==t.esf.grid?null:t.esf.grid.resourceStrings.igx_grid_excel_apply," "))},dependencies:[UT,XI,DI,qw,p_,Y_,ww,CI,$m,EI,dB,mA,eB,nk,OH,Zm,kH,TH,zm,bH,LL,HI],encapsulation:2}),e})();function jB(e,t){if(1&e){let e=Rh();Ch(0,"div",1),Fh("click",(function(){return Bs(e),zs(Vh().esf.onSelect())})),Ch(1,"span"),fu(2),Sh(),Ch(3,"igx-icon"),fu(4,"done"),Sh()()}if(2&e){let e=Vh();_h("ngClass",e.esf.column.selected?"igx-excel-filter__actions-selected":"igx-excel-filter__actions-select"),ph("aria-pressed",e.esf.column.selected),tc(2),vu(e.esf.grid.resourceStrings.igx_grid_excel_select)}}var UB=(()=>{let e=class{constructor(e){this.esf=e}};return e.fac=function(t){return new(t||e)(nc(fN))},e.cmp=tr({type:e,selectors:[["igx-excel-style-selecting"]],standalone:!0,features:[Wu],decls:1,vars:1,consts:[["tabindex","0","role","button",3,"ngClass","click",4,"ngIf"],["tabindex","0","role","button",3,"ngClass","click"]],template:function(e,t){1&e&&yh(0,jB,5,3,"div",0),2&e&&_h("ngIf",t.esf.column)},dependencies:[$m,Bm,XI],encapsulation:2}),e})(),qB=["sortButtonGroup"];function YB(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"header"),fu(2),Sh(),Ch(3,"igx-buttongroup",null,1)(5,"button",2),Fh("click",(function(){return Bs(e),zs(Vh().onSortButtonClicked(1))})),Ch(6,"igx-icon"),fu(7,"arrow_upwards"),Sh(),Ch(8,"span"),fu(9),Sh()(),Ch(10,"button",2),Fh("click",(function(){return Bs(e),zs(Vh().onSortButtonClicked(2))})),Ch(11,"igx-icon"),fu(12,"arrow_downwards"),Sh(),Ch(13,"span"),fu(14),Sh()()(),Ih()}if(2&e){let e=Vh();tc(2),xu(" ",e.esf.grid.resourceStrings.igx_grid_excel_filter_sorting_header,"\n"),tc(3),_h("displayDensity",e.esf.displayDensity),ph("data-togglable",!0),tc(4),xu(" ","compact"===e.esf.displayDensity?e.esf.grid.resourceStrings.igx_grid_excel_filter_sorting_asc_short:e.esf.grid.resourceStrings.igx_grid_excel_filter_sorting_asc," "),tc(1),_h("displayDensity",e.esf.displayDensity),ph("data-togglable",!0),tc(4),xu(" ","compact"===e.esf.displayDensity?e.esf.grid.resourceStrings.igx_grid_excel_filter_sorting_desc_short:e.esf.grid.resourceStrings.igx_grid_excel_filter_sorting_desc," ")}}var XB=(()=>{let e=class{constructor(e,t){this.esf=e,this.cdr=t,this.defaultClass=!0,this.destroy$=new Xe,this.esf.sortingChanged.pipe(Si(this.destroy$)).subscribe((()=>{this.updateSelectedButtons(this.esf.column.field)}))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onSortButtonClicked(e){0===this.sortButtonGroup.selectedIndexes.length?this.esf.grid.isColumnGrouped(this.esf.column.field)?this.sortButtonGroup.selectButton(e-1):this.esf.grid.clearSort(this.esf.column.field):this.esf.grid.sort({fieldName:this.esf.column.field,dir:e,ignoreCase:!0})}updateSelectedButtons(e){let t=this.esf.grid.sortingExpressions.findIndex((t=>t.fieldName===e));if(this.cdr.detectChanges(),this.sortButtonGroup.buttons.forEach(((e,t)=>{this.sortButtonGroup.deselectButton(t)})),-1!==t){let e=this.esf.grid.sortingExpressions[t].dir;this.sortButtonGroup.selectButton(e-1)}}};return e.fac=function(t){return new(t||e)(nc(fN),nc(fp))},e.cmp=tr({type:e,selectors:[["igx-excel-style-sorting"]],viewQuery:function(e,t){if(1&e&&Bg(qB,5,IO),2&e){let e;Hg(e=Gg())&&(t.sortButtonGroup=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&iu("igx-excel-filter__sort",t.defaultClass)},standalone:!0,features:[Wu],decls:1,vars:1,consts:[[4,"ngIf"],["sortButtonGroup",""],["type","button","igxButton","",3,"displayDensity","click"]],template:function(e,t){1&e&&yh(0,YB,15,7,"ng-container",0),2&e&&_h("ngIf",t.esf.column)},dependencies:[$m,IO,HI,XI],encapsulation:2}),e})(),ZB=["mainDropdown"],QB=["defaultExcelColumnOperations"],JB=["defaultExcelFilterOperations"];function ez(e,t){1&e&&bh(0,"igx-excel-style-sorting")}function tz(e,t){1&e&&bh(0,"igx-excel-style-moving")}function iz(e,t){1&e&&bh(0,"igx-excel-style-pinning")}function nz(e,t){1&e&&bh(0,"igx-excel-style-hiding")}function rz(e,t){1&e&&bh(0,"igx-excel-style-selecting")}function sz(e,t){if(1&e&&(bh(0,"igx-excel-style-header",5),yh(1,ez,1,0,"igx-excel-style-sorting",6),yh(2,tz,1,0,"igx-excel-style-moving",6),yh(3,iz,1,0,"igx-excel-style-pinning",6),yh(4,nz,1,0,"igx-excel-style-hiding",6),yh(5,rz,1,0,"igx-excel-style-selecting",6)),2&e){let e=Vh();_h("showHiding","comfortable"!==e.displayDensity&&!(null!=e.column&&e.column.disableHiding))("showPinning","comfortable"!==e.displayDensity&&!(null!=e.column&&e.column.disablePinning))("showSelecting","comfortable"!==e.displayDensity&&e.columnSelectable()),tc(1),_h("ngIf",null==e.column?null:e.column.sortable),tc(1),_h("ngIf",null==e.grid?null:e.grid.moving),tc(1),_h("ngIf",!(null!=e.column&&e.column.disablePinning)&&"comfortable"===e.displayDensity),tc(1),_h("ngIf",!(null!=e.column&&e.column.disableHiding)&&"comfortable"===e.displayDensity),tc(1),_h("ngIf",e.columnSelectable()&&"comfortable"===e.displayDensity)}}function oz(e,t){1&e&&bh(0,"igx-excel-style-clear-filters")(1,"igx-excel-style-conditional-filter")(2,"igx-excel-style-search")}function az(e,t){1&e&&(Eh(0),Hh(1),Ih())}function lz(e,t){1&e&&(Eh(0),Hh(1,1),Ih())}var dz=[[["igx-excel-style-column-operations"],["","igxExcelStyleColumnOperations",""]],[["igx-excel-style-filter-operations"],["","igxExcelStyleFilterOperations",""]]],cz=function(e,t){return{"igx-excel-filter__menu--cosy":e,"igx-excel-filter__menu--compact":t}},hz=["igx-excel-style-column-operations,[igxExcelStyleColumnOperations]","igx-excel-style-filter-operations,[igxExcelStyleFilterOperations]"],uz=(()=>{let e=class{};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["igx-excel-style-column-operations"],["","igxExcelStyleColumnOperations",""]],standalone:!0}),e})(),gz=(()=>{let e=class{};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["igx-excel-style-filter-operations"],["","igxExcelStyleFilterOperations",""]],standalone:!0}),e})(),pz=(()=>{let e=class extends fN{set column(e){this._column=e,this.listData=new Array,this.columnChange.emit(this._column),this.subscriptions?.unsubscribe(),this._column&&(this.grid.filteringService.registerSVGIcons(),this.init(),this.sortingChanged.emit(),this.subscriptions=this.grid.columnPin.subscribe((()=>{requestAnimationFrame((()=>{this.cdr.destroyed||this.cdr.detectChanges()}))})),this.subscriptions.add(this.grid.columnVisibilityChanged.subscribe((()=>this.detectChanges()))),this.subscriptions.add(this.grid.sortingExpressionsChange.subscribe((()=>this.sortingChanged.emit()))),this.subscriptions.add(this.grid.filteringExpressionsTreeChange.subscribe((()=>this.init()))),this.subscriptions.add(this.grid.densityChanged.subscribe((()=>this.detectChanges()))),this.subscriptions.add(this.grid.columnMovingEnd.subscribe((()=>this.cdr.markForCheck()))))}get column(){return this._column}get minHeight(){if(this._minHeight||0===this._minHeight)return this._minHeight;if(!this.inline){let e=645;switch(this.displayDensity){case TI:e=465;break;case AI:e=330}return`${e}px`}}set minHeight(e){this._minHeight=e}get maxHeight(){if(this._maxHeight)return this._maxHeight;if(!this.inline){let e=775;switch(this.displayDensity){case TI:e=565;break;case AI:e=405}return`${e}px`}}set maxHeight(e){this._maxHeight=e}get grid(){return this.column?.grid??this.gridAPI}get displayDensity(){switch(this._size){case"1":return AI;case"2":return TI;default:return II}}constructor(e,t,i,n,r){super(e,t,i),this.document=n,this.gridAPI=r,this.defaultClass=!0,this.inline=!0,this.loadingStart=new Pd,this.loadingEnd=new Pd,this.initialized=new Pd,this.sortingChanged=new Pd,this.columnChange=new Pd,this.listDataLoaded=new Pd,this.expressionsList=new Array,this.listData=new Array,this.uniqueValues=[],this.isHierarchical=!1,this._size$=new Xe,this.containsNullOrEmpty=!1,this.selectAllSelected=!0,this.selectAllIndeterminate=!1,this.filterValues=new Set,this._sizeSubscription=this._size$.asObservable().subscribe((e=>{this._size=e,this.cdr.detectChanges()}))}ngOnDestroy(){this.subscriptions?.unsubscribe(),this._sizeSubscription?.unsubscribe(),delete this.overlayComponentId}ngAfterViewChecked(){let e=this.grid?"--grid-size":"--ig-size";if(!this._size){let t=this.document.defaultView.getComputedStyle(this.element.nativeElement).getPropertyValue(e).trim();""!==t&&Promise.resolve().then((()=>{this._size$.next(t),this.cdr.markForCheck()}))}}initialize(e,t){this.inline=!1,this.column=e,this.overlayService=t,this._originalDisplay&&(this.element.nativeElement.style.display=this._originalDisplay),this.initialized.emit(),this.subscriptions.add(this.grid.columnMoving.subscribe((()=>this.closeDropdown())))}onPin(){this.closeDropdown(),this.column.pinned=!this.column.pinned}onSelect(){this.column.selected?this.grid.selectionService.deselectColumn(this.column.field):this.grid.selectionService.selectColumn(this.column.field,this.grid.columnSelection===dD),this.grid.notifyChanges()}columnSelectable(){return this.grid?.columnSelection!==lD&&this.column?.selectable}onHideToggle(){this.column.toggleVisibility(),this.closeDropdown()}cancel(){this.overlayComponentId||this.init(),this.closeDropdown()}closeDropdown(){this.overlayComponentId&&(this.overlayService.hide(this.overlayComponentId),this.overlayComponentId=null)}onKeyDown(e){this.platform.isFilteringKeyCombo(e)&&(e.preventDefault(),this.closeDropdown()),e.stopPropagation()}hide(){this._originalDisplay=document.defaultView.getComputedStyle(this.element.nativeElement).display,this.element.nativeElement.style.display="none"}detectChanges(){this.cdr.detectChanges()}init(){this.expressionsList=new Array,GN(this.column.filteringExpressionsTree,this.grid.filteringLogic,this.expressionsList),this.populateColumnData()}areExpressionsSelectable(){return 1===this.expressionsList.length&&("equals"===this.expressionsList[0].expression.condition.name||"at"===this.expressionsList[0].expression.condition.name||"true"===this.expressionsList[0].expression.condition.name||"false"===this.expressionsList[0].expression.condition.name||"empty"===this.expressionsList[0].expression.condition.name||"in"===this.expressionsList[0].expression.condition.name)||this.expressionsList.filter((e=>!(1!==e.beforeOperator&&1!==e.afterOperator||"equals"!==e.expression.condition.name&&"at"!==e.expression.condition.name&&"true"!==e.expression.condition.name&&"false"!==e.expression.condition.name&&"empty"!==e.expression.condition.name&&"in"!==e.expression.condition.name))).length===this.expressionsList.length}populateColumnData(){this.cdr.detectChanges(),this.grid.uniqueColumnValuesStrategy?this.renderColumnValuesRemotely():this.renderColumnValuesFromData()}renderColumnValuesRemotely(){this.loadingStart.emit();let e=this.getColumnFilterExpressionsTree(),t=this.column;this.grid.uniqueColumnValuesStrategy(this.column,e,(e=>{if(!this.column||this.column!==t)return;let i=e.map((e=>({value:e})));this.uniqueValues=this.column.sortStrategy.sort(i,"value",Rb.Asc,this.column.sortingIgnoreCase,((e,t)=>{let i=e[t];return this.column.dataType===Wb.Time&&(i=(new Date).setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())),i})),this.renderValues(),this.loadingEnd.emit()}))}renderColumnValuesFromData(){this.loadingStart.emit();let e=this.getColumnFilterExpressionsTree();this.grid.filterStrategy.getFilterItems(this.column,e).then((e=>{this.isHierarchical=e.length>0&&e.some((e=>e.children&&e.children.length>0)),this.uniqueValues=e,this.renderValues(),this.loadingEnd.emit(),this.sortingChanged.emit()}))}renderValues(){this.filterValues=this.generateFilterValues(this.column.dataType===Wb.Date||this.column.dataType===Wb.DateTime),this.generateListData()}generateFilterValues(e=!1){let t;return t=e?new Set(this.expressionsList.reduce(((e,t)=>"in"===t.expression.condition.name?[...e,...Array.from(t.expression.searchVal.values()).map((e=>new Date(e).toISOString()))]:[...e,t.expression.searchVal?t.expression.searchVal.toISOString():t.expression.searchVal]),[])):this.column.dataType===Wb.Time?new Set(this.expressionsList.reduce(((e,t)=>"in"===t.expression.condition.name?[...e,...Array.from(t.expression.searchVal.values()).map((e=>"string"==typeof e?e:new Date(e).toLocaleTimeString()))]:[...e,t.expression.searchVal?t.expression.searchVal.toLocaleTimeString():t.expression.searchVal]),[])):new Set(this.expressionsList.reduce(((e,t)=>"in"===t.expression.condition.name?[...e,...Array.from(t.expression.searchVal.values())]:[...e,t.expression.searchVal]),[])),t}generateListData(){this.listData=new Array;let e=this.areExpressionsSelectable();if(this.column.dataType===Wb.Boolean?this.addBooleanItems():this.addItems(e),!this.isHierarchical&&this.containsNullOrEmpty){let t=this.generateBlanksItem(e);this.listData.unshift(t)}this.listData.length>0&&this.addSelectAllItem(),this.cdr.destroyed||this.cdr.detectChanges(),this.listDataLoaded.emit()}getColumnFilterExpressionsTree(){let e=this.grid.filteringExpressionsTree,t=new qb(e.operator,e.fieldName);for(let i of e.filteringOperands)i instanceof qb&&i.fieldName===this.column.field||t.filteringOperands.push(i);return t}addBooleanItems(){this.selectAllSelected=!0,this.selectAllIndeterminate=!1,this.uniqueValues.forEach((e=>{let t=e.value,i=new BN;null!=t&&""!==t?(this.column.filteringExpressionsTree?!0===t&&this.expressionsList.find((e=>"true"===e.expression.condition.name))||!1===t&&this.expressionsList.find((e=>"false"===e.expression.condition.name))?(i.isSelected=!0,i.isFiltered=!0,this.selectAllIndeterminate=!0):(i.isSelected=!1,i.isFiltered=!1):(i.isSelected=!0,i.isFiltered=!0),i.value=t,i.label=t?this.grid.resourceStrings.igx_grid_filter_true:this.grid.resourceStrings.igx_grid_filter_false,i.indeterminate=!1,this.listData.push(i)):this.containsNullOrEmpty=!0}))}addItems(e){this.selectAllSelected=!0,this.selectAllIndeterminate=!1,this.containsNullOrEmpty=!1,this.listData=this.generateFilterListItems(this.uniqueValues,e),this.containsNullOrEmpty=this.uniqueValues.length>this.listData.length}generateFilterListItems(e,t,i){let n=[];return e?.forEach((e=>{let r=e.value;if(null!=r&&""!==r){let s=new BN;if(s.parent=i,s.value=r,s.label=void 0!==e.label?e.label:this.getFilterItemLabel(r),s.indeterminate=!1,s.isSelected=!0,s.isFiltered=!0,this.column.filteringExpressionsTree)if(s.isSelected=!1,s.isFiltered=!1,t){let e=this.getExpressionValue(r);this.filterValues.has(e)&&(s.isSelected=!0,s.isFiltered=!0),this.selectAllIndeterminate=!0}else this.selectAllSelected=!1;s.children=this.generateFilterListItems(e.children??e.value?.children,t,s),n.push(s)}})),n}addSelectAllItem(){let e=new BN;e.isSelected=this.selectAllSelected,e.value=this.grid.resourceStrings.igx_grid_excel_select_all,e.label=this.grid.resourceStrings.igx_grid_excel_select_all,e.indeterminate=this.selectAllIndeterminate,e.isSpecial=!0,e.isFiltered=this.selectAllSelected,this.listData.unshift(e)}generateBlanksItem(e){let t=new BN;return this.column.filteringExpressionsTree?e&&(this.filterValues.has(null)?(t.isSelected=!0,t.isFiltered=!0):(t.isSelected=!1,t.isFiltered=!1)):(t.isSelected=!0,t.isFiltered=!0),t.value=null,t.label=this.grid.resourceStrings.igx_grid_excel_blanks,t.indeterminate=!1,t.isSpecial=!0,t.isBlanks=!0,t}getFilterItemLabel(e,t=!0,i){if(this.column.formatter)return t?this.column.formatter(e,i):e;let{display:n,format:r,digitsInfo:s,currencyCode:o,timezone:a}=this.column.pipeArgs,l=this.grid.locale;switch(this.column.dataType){case Wb.Date:case Wb.DateTime:case Wb.Time:return bb(e,r,l,a);case Wb.Currency:return Db(e,o||Qp(l),n,s,l);case Wb.Number:return Mm(e,l,s);case Wb.Percent:return Pm(e,l,s);default:return e}}getExpressionValue(e){return this.column.dataType===Wb.Date||this.column.dataType===Wb.DateTime?e=e&&new Date(e).toISOString():this.column.dataType===Wb.Time&&(e=e&&new Date(e).toLocaleTimeString()),e}};return e.fac=function(t){return new(t||e)(nc(fp),nc(wd),nc(ob),nc(Hp),nc(hk,9))},e.cmp=tr({type:e,selectors:[["igx-grid-excel-style-filtering"]],contentQueries:function(e,t,i){if(1&e&&(zg(i,uz,5,uz),zg(i,gz,5,gz)),2&e){let e;Hg(e=Gg())&&(t.excelColumnOperationsDirective=e.first),Hg(e=Gg())&&(t.excelFilterOperationsDirective=e.first)}},viewQuery:function(e,t){if(1&e&&(Bg(ZB,5,wd),Bg(QB,7,yg),Bg(JB,7,yg)),2&e){let e;Hg(e=Gg())&&(t.mainDropdown=e.first),Hg(e=Gg())&&(t.defaultExcelColumnOperations=e.first),Hg(e=Gg())&&(t.defaultExcelFilterOperations=e.first)}},hostVars:6,hostBindings:function(e,t){2&e&&(tu("max-height",t.maxHeight),iu("igx-excel-filter",t.defaultClass)("igx-excel-filter--inline",t.inline))},inputs:{column:"column",minHeight:"minHeight",maxHeight:"maxHeight"},outputs:{loadingStart:"loadingStart",loadingEnd:"loadingEnd",initialized:"initialized",sortingChanged:"sortingChanged",columnChange:"columnChange",listDataLoaded:"listDataLoaded"},standalone:!0,features:[Nu([{provide:fN,useExisting:$i((()=>e))}]),th,Wu],ngContentSelectors:hz,decls:8,vars:13,consts:[["defaultExcelColumnOperations",""],["defaultExcelFilterOperations",""],["role","menu",1,"igx-excel-filter__menu",3,"ngClass","id","keydown"],["mainDropdown",""],[4,"ngIf","ngIfElse"],[3,"showHiding","showPinning","showSelecting"],[4,"ngIf"]],template:function(e,t){if(1&e&&(Lh(dz),yh(0,sz,6,8,"ng-template",null,0,jg),yh(2,oz,3,0,"ng-template",null,1,jg),Ch(4,"article",2,3),Fh("keydown",(function(e){return t.onKeyDown(e)})),yh(6,az,2,0,"ng-container",4),yh(7,lz,2,0,"ng-container",4),Sh()),2&e){let e=xh(1),i=xh(3);tc(4),tu("min-height",t.minHeight)("max-height",t.maxHeight),_h("ngClass",Uu(10,cz,"cosy"===t.displayDensity,"compact"===t.displayDensity))("id",t.overlayComponentId),tc(2),_h("ngIf",t.excelColumnOperationsDirective)("ngIfElse",e),tc(1),_h("ngIf",t.excelFilterOperationsDirective)("ngIfElse",i)}},dependencies:[cL,$m,XB,pL,fL,uL,UB,vN,sL,KB,Bm],encapsulation:2,changeDetection:0}),e})(),mz=["*"],fz=((()=>{let e=class{};e.fac=function(t){return new(t||e)},e.cmp=tr({type:e,selectors:[["igx-grid-footer"]],standalone:!0,features:[Wu],ngContentSelectors:mz,decls:1,vars:0,template:function(e,t){1&e&&(Lh(),Hh(0))},encapsulation:2})})(),(()=>{let e=class extends JT{get draggable(){return this.column&&(this.column.grid.moving||this.column.groupable&&!this.column.columnGroup)}get icon(){return this.cms.icon}constructor(e,t,i,n,r,s,o){super(r,e,t,i,n,o),this.cms=s,this._ghostClass="igx-grid__drag-ghost-image",this.ghostImgIconClass="igx-grid__drag-ghost-image-icon",this.ghostImgIconGroupClass="igx-grid__drag-ghost-image-icon-group",this.columnSelectedClass="igx-grid-th--selected",this.ghostClass=this._ghostClass}ngOnDestroy(){this._unsubscribe(),super.ngOnDestroy()}onEscape(e){this.cms.cancelDrop=!0,this.onPointerUp(e)}onPointerDown(e){!this.draggable||"false"===e.target.getAttribute("draggable")||super.onPointerDown(e)}onPointerMove(e){if(this._clicked&&!this._dragStarted){this._removeOnDestroy=!1,this.cms.column=this.column,this.column.grid.cdr.detectChanges();let e={source:this.column};this.column.grid.columnMovingStart.emit(e),this.subscription$=Wt(this.column.grid.document.defaultView,"keydown").subscribe((e=>{e.key===this.platformUtil.KEYMAP.ESCAPE&&this.onEscape(e)}))}if(super.onPointerMove(e),this._dragStarted&&this.ghostElement&&!this.cms.column&&(this.cms.column=this.column,this.column.grid.cdr.detectChanges()),this.cms.column){let t={source:this.column,cancel:!1};this.column.grid.columnMoving.emit(t),t.cancel&&this.onEscape(e)}}onPointerUp(e){this.zone.run((()=>{super.onPointerUp(e),this.cms.column=null,this.column.grid.cdr.detectChanges()})),this._unsubscribe()}createGhost(e,t){super.createGhost(e,t),this.ghostElement.style.height=null,this.ghostElement.style.minWidth=null,this.ghostElement.style.flexBasis=null,this.ghostElement.style.position=null,this.renderer.removeClass(this.ghostElement,this.columnSelectedClass);let i=document.createElement("i"),n=document.createTextNode("block");i.appendChild(n),i.classList.add("material-icons"),this.cms.icon=i,this.column.columnGroup?(this.ghostElement.insertBefore(i,this.ghostElement.childNodes[0]),this.renderer.addClass(i,this.ghostImgIconGroupClass),this.ghostElement.children[0].style.paddingLeft="0px",this.ghostLeft=this._ghostStartX=e-this.ghostElement.getBoundingClientRect().width/3*2,this.ghostTop=this._ghostStartY=t-this.ghostElement.getBoundingClientRect().height/3*2):(this.renderer.addClass(i,this.ghostImgIconClass),this.ghostElement.insertBefore(i,this.ghostElement.firstElementChild),this.ghostLeft=this._ghostStartX=e-this.ghostElement.getBoundingClientRect().width/3*2,this.ghostTop=this._ghostStartY=t-this.ghostElement.getBoundingClientRect().height/3*2)}_unsubscribe(){this.subscription$&&(this.subscription$.unsubscribe(),this.subscription$=null)}};return e.fac=function(t){return new(t||e)(nc(wd),nc(Cg),nc(Vd),nc(bd),nc(fp),nc(rM),nc(ob))},e.dir=or({type:e,selectors:[["","igxColumnMovingDrag",""]],inputs:{column:["igxColumnMovingDrag","column"]},standalone:!0,features:[th]}),e})()),yz=(()=>{let e=class{get expressions(){return this._expressions}set expressions(e){this._expressions=e,this.chipExpressions=this._expressions,this.expressionsChanged(),this.expressionsChange.emit(this._expressions)}get dropAreaMessage(){return this._dropAreaMessage??this.grid.resourceStrings.igx_grid_groupByArea_message}set dropAreaMessage(e){this._dropAreaMessage=e}get nativeElement(){return this.ref.nativeElement}constructor(e,t){this.ref=e,this.platform=t,this.density=II,this.defaultClass=!0,this.expressionsChange=new Pd,this._expressions=[]}get dropAreaVisible(){return this.grid.columnInDrag&&this.grid.columnInDrag.groupable||!this.expressions.length}handleKeyDown(e,t){this.platform.isActivationKey(t)&&this.updateGroupSorting(e)}handleClick(e){this.grid.getColumnByName(e).groupable&&this.updateGroupSorting(e)}onDragDrop(e){let t=e.detail.owner;if(t instanceof fz){let e=t.column;if(!this.grid.columns.find((t=>t===e)))return;let i=-1!==this.expressions.findIndex((t=>t.fieldName===e.field));if(e.groupable&&!i&&!e.columnGroup&&e.field){let t={fieldName:e.field,dir:this.grid.sortingExpressions.find((t=>t.fieldName===e.field))?.dir||Rb.Asc,ignoreCase:e.sortingIgnoreCase,strategy:e.sortStrategy,groupingComparer:e.groupingComparer};this.groupBy(t)}}}getReorderedExpressions(e){let t=[];return e.forEach((e=>{let i=this.expressions.find((t=>t.fieldName===e.id));this.grid.getColumnByName(i.fieldName)?.groupable&&t.push(i)})),t}updateGroupSorting(e){let t=this.expressions.find((t=>t.fieldName===e));t.dir=3-t.dir,(this.grid.groupingExpressionsChange||this.expressionsChange).emit(this.expressions),this.grid.pipeTrigger++,this.grid.notifyChanges()}expressionsChanged(){}};return e.fac=function(t){return new(t||e)(nc(wd),nc(ob))},e.dir=or({type:e,viewQuery:function(e,t){if(1&e&&Bg(hP,5),2&e){let e;Hg(e=Gg())&&(t.chips=e)}},hostVars:2,hostBindings:function(e,t){2&e&&iu("igx-grid-grouparea",t.defaultClass)},inputs:{dropAreaTemplate:"dropAreaTemplate",density:"density",grid:"grid",expressions:"expressions",dropAreaMessage:"dropAreaMessage"},outputs:{expressionsChange:"expressionsChange"}}),e})(),vz=(()=>{let e=class{transform(e,t,i){let n=t.getColumnByName(e);return{groupable:!!n?.groupable,title:n?.header||e}}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"igxGroupByMeta",type:e,pure:!0,standalone:!0}),e})(),xz=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}constructor(e){this.template=e}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxGroupByRow",""]],standalone:!0}),e})(),_z=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","igxGridDetail",""]],standalone:!0}),e})(),wz=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","igxRowExpandedIndicator",""]],standalone:!0}),e})(),Cz=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","igxRowCollapsedIndicator",""]],standalone:!0}),e})(),Sz=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","igxHeaderExpandedIndicator",""]],standalone:!0}),e})(),bz=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","igxHeaderCollapsedIndicator",""]],standalone:!0}),e})(),Dz=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","igxExcelStyleHeaderIcon",""]],standalone:!0}),e})(),Ez=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","igxSortHeaderIcon",""]],standalone:!0}),e})(),Iz=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","igxSortAscendingHeaderIcon",""]],standalone:!0}),e})(),Tz=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","igxSortDescendingHeaderIcon",""]],standalone:!0}),e})(),Az=(()=>{let e=class extends eA{constructor(e,t,i,n){super(t,i,n),this.groupArea=e,this.elementRef=t,this.hovered=!1}onDragEnter(e){let t=e.detail.owner,i=t.column;if(!this.columnBelongsToGrid(i))return;let n=!!this.groupArea.expressions&&-1!==this.groupArea.expressions.findIndex((e=>e.fieldName===i.field));i.groupable&&!n&&!i.columnGroup&&i.field?(t.icon.innerText="group_work",this.hovered=!0):(t.icon.innerText="block",this.hovered=!1)}onDragLeave(e){let t=e.detail.owner.column;this.columnBelongsToGrid(t)&&(e.detail.owner.icon.innerText="block",this.hovered=!1)}closestParentByAttr(e,t){return e.hasAttribute(t)?e:this.closestParentByAttr(e.parentElement,t)}columnBelongsToGrid(e){let t=this.elementRef.nativeElement,i=this.closestParentByAttr(t,"igxGroupAreaDrop").getAttribute("gridId");if(e){let t=e.grid;return!(!t||t.id!==i)}return!1}};return e.fac=function(t){return new(t||e)(nc(yz),nc(wd),nc(bd),nc(Vd))},e.dir=or({type:e,selectors:[["","igxGroupAreaDrop",""]],hostVars:2,hostBindings:function(e,t){2&e&&iu("igx-drop-area--hover",t.hovered)},standalone:!0,features:[th]}),e})(),Rz=(()=>{let e=class{transform(e,t){let i=t.findIndex((t=>t.fieldName===e));return-1!==i?++i:null}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"sortingIndex",type:e,pure:!0,standalone:!0}),e})(),kz=(()=>{let e=class{transform(e,t,i){return i?"":"fit-content"===e?e:`${Math.max(parseInt(e),t)}px`}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"igxHeaderGroupWidth",type:e,pure:!0,standalone:!0}),e})(),Oz=(()=>{let e=class{transform(e,t,i){let n={};if(!e)return n;for(let i of Object.keys(e)){let r=e[i];n[i]="function"==typeof r?r(t):r}return n}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"igxHeaderGroupStyle",type:e,pure:!0,standalone:!0}),e})(),Fz=(()=>{let e=class{constructor(e){this.zone=e,this.resizeCursor="col-resize",this.showResizer=!1}getColumnHeaderRenderedWidth(){return this.column.headerCell.nativeElement.getBoundingClientRect().width}get resizerHeight(){let e=this.column.grid.getVisibleContentHeight(),t=1;return this.column.columnLayoutChild&&(t=this.column.grid.multiRowLayoutRowSize-this.column.rowStart+1),0!==this.column.level&&(e-=this.column.topLevelParent.headerGroup.height-this.column.headerGroup.height*t),e}get restrictResizeMin(){let e=this.getColumnHeaderRenderedWidth();return e-(this.column.minWidthPx<e?this.column.minWidthPx:e)}get restrictResizeMax(){let e=this.getColumnHeaderRenderedWidth(),t=this.column.maxWidthPx;return this.column.maxWidth?t-e:Number.MAX_SAFE_INTEGER}autosizeColumnOnDblClick(){let e=this.getColumnHeaderRenderedWidth();this.column.width=this.column.getAutoSize(),this.zone.run((()=>{})),this.column.grid.columnResized.emit({column:this.column,prevWidth:e.toString(),newWidth:this.column.width})}resizeColumn(e){this.showResizer=!1;let t=e.clientX-this.startResizePos,i=this.column.width,n=i&&"string"==typeof i&&-1!==i.indexOf("%"),r=parseFloat(i),s=this.getColumnHeaderRenderedWidth();r=Number.isNaN(r)?parseFloat(s):r,this.column.grid.hasColumnLayouts?this.resizeColumnLayoutFor(this.column,t):n?this._handlePercentageResize(t,this.column):this._handlePixelResize(t,this.column),this.zone.run((()=>{})),r!==parseFloat(this.column.width)&&this.column.grid.columnResized.emit({column:this.column,prevWidth:n?r+"%":r+"px",newWidth:this.column.width}),this.isColumnResizing=!1}_handlePixelResize(e,t){let i=parseFloat(t.width),n=t.minWidthPx,r=t.maxWidthPx;t.width=i+e<n?n+"px":r&&i+e>r?r+"px":i+e+"px"}_handlePercentageResize(e,t){let i=parseFloat(t.width),n=e/t.grid.calcWidth*100,r=t.minWidthPercent,s=t.maxWidthPercent;t.width=i+n<r?r+"%":s&&i+n>s?s+"%":i+n+"%"}getColMinWidth(e){let t=parseFloat(e.width),i=e.headerCell.nativeElement.getBoundingClientRect().width;t=Number.isNaN(t)||t<i?i:t;let n=parseFloat(e.minWidth);return n<t?n:t}resizeColumnLayoutFor(e,t){let i=e.getResizableColUnderEnd(),n=i.reduce(((e,t)=>e+t.spanUsed),0),r=[...i],s=t,o=n,a=!1;do{a=!1;let e=o,i=[];r.forEach((n=>{let r=parseFloat(n.target.calcWidth),l=t/o*n.target.gridColumnSpan,d=n.target.width,c=d&&"string"==typeof d&&-1!==d.indexOf("%"),h=n.target.minWidthPx,u=n.target.maxWidthPx;r+l<h?(n.target.width=c?n.target.minWidthPercent+"%":h+"px",s+=r-h,e-=n.spanUsed,a=!0):u&&r+l>u?(n.target.width=c?n.target.maxWidthPercent+"%":n.target.maxWidthPx+"px",s-=u-r,e-=n.spanUsed,a=!0):i.push(n)})),o=e,r=i}while(a);r.forEach((e=>{let t=s/o*e.target.gridColumnSpan,i=e.target.width;i&&"string"==typeof i&&-1!==i.indexOf("%")?this._handlePercentageResize(t,e.target):this._handlePixelResize(t,e.target)}))}};return e.fac=function(t){return new(t||e)(_n(Vd))},e.prov=Zi({token:e,factory:e.fac}),e})(),Pz=["defaultESFHeaderIconTemplate"],Mz=["defaultSortHeaderIconTemplate"];function Vz(e,t){if(1&e&&(Ch(0,"span",6),fu(1),Sh()),2&e){let e=Vh();_h("title",e.title),tc(1),vu(e.column.header||e.column.field)}}function Nz(e,t){1&e&&(Ch(0,"igx-icon"),fu(1,"more_vert"),Sh())}function Lz(e,t){if(1&e&&(Ch(0,"igx-icon"),fu(1),Sh()),2&e){let e=Vh();tc(1),vu(e.sortDirection<2?"arrow_upward":"arrow_downward")}}function Hz(e,t){1&e&&Th(0)}function Bz(e,t){1&e&&Th(0)}var zz=function(e){return{$implicit:e}};function Gz(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"div",8),Fh("pointerdown",(function(t){return Bs(e),zs(Vh(2).onPointerDownIndicator(t))}))("click",(function(t){return Bs(e),zs(Vh(2).onSortingIconClick(t))})),ag(2,"sortingIndex"),yh(3,Bz,1,0,"ng-container",4),Sh(),Ih()}if(2&e){let e=Vh(2);tc(1),ph("data-sortIndex","single"===e.grid.sortingOptions.mode&&e.grid.sortingExpressions.length<=1?null:dg(2,3,e.column.field,e.grid.sortingExpressions)),tc(2),_h("ngTemplateOutlet",e.sortIconTemplate)("ngTemplateOutletContext",ju(6,zz,e))}}function $z(e,t){1&e&&Th(0)}function Wz(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"div",9),Fh("pointerdown",(function(t){return Bs(e),zs(Vh(2).onPointerDownIndicator(t))}))("click",(function(t){return Bs(e),zs(Vh(2).onFilteringIconClick(t))})),yh(2,$z,1,0,"ng-container",4),Sh(),Ih()}if(2&e){let e=Vh(2);tc(1),_h("ngClass",e.filterIconClassName),tc(1),_h("ngTemplateOutlet",e.esfIconTemplate)("ngTemplateOutletContext",ju(3,zz,e))}}function Kz(e,t){if(1&e&&(Eh(0),Ch(1,"div",7),yh(2,Gz,4,8,"ng-container",5),yh(3,Wz,3,5,"ng-container",5),Sh(),Ih()),2&e){let e=Vh();tc(2),_h("ngIf",e.column.sortable&&!e.disabled),tc(1),_h("ngIf",e.grid.allowFiltering&&e.column.filterable&&"excelStyleFilter"===e.grid.filterMode)}}var jz=function(e,t){return{$implicit:e,column:t}},Uz=(()=>{let e=class{get ariaSelected(){return this.column.selected}get columnGroupStyle(){return!this.column.columnGroup}get cosyStyle(){return"cosy"===this.density}get compactStyle(){return"compact"===this.density}get sortAscendingStyle(){return this.sortDirection===Rb.Asc}get sortDescendingStyle(){return this.sortDirection===Rb.Desc}get numberStyle(){return this.column.dataType===Wb.Number}get sortableStyle(){return this.column.sortable}get selectableStyle(){return this.selectable}get filterableStyle(){return this.column.filterable&&this.grid.filteringService.isFilterRowVisible}get sortedStyle(){return this.sorted}get selectedStyle(){return this.selected}get height(){return!this.grid.hasColumnGroups||this.grid.isPivot?null:(this.grid.maxLevelHeaderDepth+1-this.column.level)*this.grid.defaultRowHeight/this.grid._baseFontSize}get esfIconTemplate(){return this.grid.excelStyleHeaderIconTemplate||this.defaultESFHeaderIconTemplate}get sortIconTemplate(){return this.sortDirection===Rb.None&&this.grid.sortHeaderIconTemplate?this.grid.sortHeaderIconTemplate:this.sortDirection===Rb.Asc&&this.grid.sortAscendingHeaderIconTemplate?this.grid.sortAscendingHeaderIconTemplate:this.sortDirection===Rb.Desc&&this.grid.sortDescendingHeaderIconTemplate?this.grid.sortDescendingHeaderIconTemplate:this.defaultSortHeaderIconTemplate}get disabled(){let e=this.grid.groupArea||this.grid.treeGroupArea;return!!(e?.expressions&&e.expressions.length&&e.expressions.map((e=>e.fieldName)).includes(this.column.field))}get sorted(){return this.sortDirection!==Rb.None}get filterIconClassName(){return this.column.filteringExpressionsTree?"igx-excel-filter__icon--filtered":"igx-excel-filter__icon"}get selectable(){return this.grid.columnSelection!==lD&&this.column.applySelectableClass&&!this.column.selected&&!this.grid.filteringService.isFilterRowVisible}get selected(){return this.column.selected&&(!this.grid.filteringService.isFilterRowVisible||this.grid.filteringService.filteredColumn!==this.column)}get title(){return this.column.title||this.column.header||this.column.field}get nativeElement(){return this.ref.nativeElement}constructor(e,t,i,n){this.grid=e,this.colResizingService=t,this.cdr=i,this.ref=n,this.sortDirection=Rb.None,this._destroy$=new Xe}onClick(e){if(!this.colResizingService.isColumnResizing)if(this.grid.filteringService.isFilterRowVisible){if(this.column.filterCellTemplate)return void this.grid.filteringRow.close();this.column.filterable&&!this.column.columnGroup&&!this.grid.filteringService.isFilterComplex(this.column.field)&&(this.grid.filteringService.filteredColumn=this.column)}else if(this.grid.columnSelection!==lD&&this.column.selectable){let t=this.grid.columnSelection===dD||!e.ctrlKey,i=this.grid.columnSelection===cD&&e.shiftKey;!this.column.selected||this.grid.selectionService.getSelectedColumns().length>1&&t?this.grid.selectionService.selectColumn(this.column.field,t,i,e):this.grid.selectionService.deselectColumn(this.column.field,e)}this.grid.theadRow.nativeElement.focus()}onPinterEnter(){this.column.applySelectableClass=!0}onPointerLeave(){this.column.applySelectableClass=!1}ngDoCheck(){this.getSortDirection(),this.cdr.markForCheck()}ngOnDestroy(){this._destroy$.next(!0),this._destroy$.complete()}onPointerDownIndicator(e){e.stopPropagation()}onFilteringIconClick(e){e.stopPropagation(),this.grid.filteringService.toggleFilterDropdown(this.nativeElement,this.column)}onSortingIconClick(e){e.stopPropagation(),this.triggerSort()}getSortDirection(){let e=this.grid.sortingExpressions.find((e=>e.fieldName===this.column.field));this.sortDirection=e?e.dir:Rb.None}triggerSort(){let e=(this.grid.groupingExpressions?this.grid.groupingExpressions.find((e=>e.fieldName===this.column.field)):this.grid.groupArea?.expressions&&this.grid.groupArea?.expressions.find((e=>e.fieldName===this.column.field)))?this.sortDirection+1>Rb.Desc?Rb.Asc:Rb.Desc:this.sortDirection+1>Rb.Desc?Rb.None:this.sortDirection+1;this.sortDirection=e,this.grid.sort({fieldName:this.column.field,dir:this.sortDirection,ignoreCase:this.column.sortingIgnoreCase,strategy:this.column.sortStrategy})}};return e.fac=function(t){return new(t||e)(nc(hk),nc(Fz),nc(fp),nc(wd))},e.cmp=tr({type:e,selectors:[["igx-grid-header"]],viewQuery:function(e,t){if(1&e&&(Bg(Pz,7,yg),Bg(Mz,7,yg)),2&e){let e;Hg(e=Gg())&&(t.defaultESFHeaderIconTemplate=e.first),Hg(e=Gg())&&(t.defaultSortHeaderIconTemplate=e.first)}},hostVars:25,hostBindings:function(e,t){1&e&&Fh("click",(function(e){return t.onClick(e)}))("pointerenter",(function(){return t.onPinterEnter()}))("pointerleave",(function(){return t.onPointerLeave()})),2&e&&(ph("aria-selected",t.ariaSelected),tu("height",t.height,"rem"),iu("igx-grid-th",t.columnGroupStyle)("igx-grid-th--cosy",t.cosyStyle)("igx-grid-th--compact",t.compactStyle)("asc",t.sortAscendingStyle)("desc",t.sortDescendingStyle)("igx-grid-th--number",t.numberStyle)("igx-grid-th--sortable",t.sortableStyle)("igx-grid-th--selectable",t.selectableStyle)("igx-grid-th--filtrable",t.filterableStyle)("igx-grid-th--sorted",t.sortedStyle)("igx-grid-th--selected",t.selectedStyle))},inputs:{column:"column",density:"density"},standalone:!0,features:[Wu],decls:9,vars:6,consts:[["defaultColumn",""],["defaultESFHeaderIconTemplate",""],["defaultSortHeaderIconTemplate",""],[1,"igx-grid-th__title"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[3,"title"],[1,"igx-grid-th__icons"],[1,"sort-icon",3,"pointerdown","click"],[3,"ngClass","pointerdown","click"]],template:function(e,t){if(1&e&&(yh(0,Vz,2,2,"ng-template",null,0,jg),yh(2,Nz,2,0,"ng-template",null,1,jg),yh(4,Lz,2,1,"ng-template",null,2,jg),Ch(6,"span",3),yh(7,Hz,1,0,"ng-container",4),Sh(),yh(8,Kz,4,2,"ng-container",5)),2&e){let e=xh(1);tc(7),_h("ngTemplateOutlet",t.column.headerTemplate?t.column.headerTemplate:e)("ngTemplateOutletContext",Uu(3,jz,t.column,t.column)),tc(1),_h("ngIf",!t.column.columnGroup)}},dependencies:[XI,Zm,$m,Bm,Rz],encapsulation:2,changeDetection:0}),e})(),qz=class extends XE{shouldFitInViewPort(){return!0}fitInViewport(e,t){t.contentElementRect.height-t.viewPortRect.height>0?(e.style.width="auto",e.style.height=`${t.viewPortRect.height}px`):e.style.height=`${Math.max(t.viewPortRect.height-t.targetRect.bottom-1,t.contentElementRect.height)}px`,super.fitInViewport(e,t)}},Yz=(()=>{let e=class{constructor(e,t){this.iconService=e,this._overlayService=t,this.isFilterRowVisible=!1,this.filteredColumn=null,this.selectedExpression=null,this.columnToMoreIconHidden=new Map,this.activeFilterCell=0,this.columnsWithComplexFilter=new Set,this.areEventsSubscribed=!1,this.destroy$=new Xe,this.isFiltering=!1,this.columnToExpressionsMap=new Map,this.columnStartIndex=-1,this._filterMenuOverlaySettings={closeOnEscape:!0,closeOnOutsideClick:!0,modal:!1,positionStrategy:new qz({verticalStartPoint:GE.Bottom,openAnimation:Ey(Fy,{params:{duration:"250ms"}}),closeAnimation:null}),scrollStrategy:new rI}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}toggleFilterDropdown(e,t){let i=t.filteringExpressionsTree?"igx-excel-filter__icon--filtered":"igx-excel-filter__icon",n=e.querySelector(`.${i}`)||e,r=this.grid.createFilterDropdown(t,f(m({},this._filterMenuOverlaySettings),{target:n}));this._overlayService.opening.pipe(fi((e=>e.id===r)),Si(this.destroy$)).subscribe((e=>{e.componentRef&&(e.componentRef.instance.initialize(t,this._overlayService),e.componentRef.instance.overlayComponentId=r),this.lastActiveNode=this.grid.navigation.activeNode})),this._overlayService.closed.pipe(fi((e=>e.id===r)),Si(this.destroy$)).subscribe((()=>{this._overlayService.detach(r),this.grid.navigation.activeNode=this.lastActiveNode,this.grid.theadRow.nativeElement.focus()})),this._overlayService.show(r)}subscribeToEvents(){this.areEventsSubscribed||(this.areEventsSubscribed=!0,this.grid.columnResized.pipe(Si(this.destroy$)).subscribe((e=>{this.updateFilteringCell(e.column)})),this.grid.parentVirtDir.chunkLoad.pipe(Si(this.destroy$)).subscribe((e=>{e.startIndex!==this.columnStartIndex&&(this.columnStartIndex=e.startIndex,this.grid.filterCellList.forEach((e=>{e.updateFilterCellArea()})))})),this.grid.columnMovingEnd.pipe(Si(this.destroy$)).subscribe((()=>{this.grid.filterCellList.forEach((e=>{e.updateFilterCellArea()}))})))}hideFilteringRowOnColumnVisibilityChange(e){let t=this.grid.filteringRow;t&&t.column&&t.column===e&&t.close()}filterInternal(e,t=null){let i;this.isFiltering=!0,i=t instanceof qb?t:this.createSimpleFilteringTree(e,t),0===i.filteringOperands.length?this.clearFilter(e):this.filter(e,null,i),this.isFiltering=!1}filter(e,t,i,n){let r=this.grid,s=r.getColumnByName(e),o=n||!!s&&s.filteringIgnoreCase,a=r.filteringExpressionsTree,l=a.find(e);i=i??l;let d=a.findIndex(e),c={owner:r,filteringExpressions:this.prepare_filtering_expression(a,e,t,i,o,d,!0).find(e),cancel:!1};if(this.grid.filtering.emit(c),c.cancel)return;if(i)this.filter_internal(e,t,i,o);else{let i=this.grid.filteringExpressionsTree.find(e);if(!i)throw new Error("Invalid condition or Expression Tree!");if(i instanceof qb)this.filter_internal(e,t,i,o);else{let n=i;this.filter_internal(e,t,n.condition,o)}}let h=this.grid.filteringExpressionsTree.find(e);requestAnimationFrame((()=>this.grid.filteringDone.emit(h)))}filter_global(e,t,i){if(!t)return;let n=this.grid.filteringExpressionsTree;this.grid.crudService.endEdit(!1),this.grid.page=0,n.filteringOperands=[];for(let r of this.grid.columns)this.prepare_filtering_expression(n,r.field,e,t,i||r.filteringIgnoreCase);this.grid.filteringExpressionsTree=n}clearFilter(e){if(e&&!this.grid.getColumnByName(e))return;let t=new qb(null,e),i={owner:this.grid,filteringExpressions:t,cancel:!1};this.grid.filtering.emit(i),i.cancel||(this.isFiltering=!0,this.clear_filter(e),requestAnimationFrame((()=>this.grid.filteringDone.emit(t))),e?this.getExpressions(e).length=0:this.grid.columns.forEach((e=>{this.getExpressions(e.field).length=0})),this.isFiltering=!1)}clear_filter(e){let t=this.grid;t.crudService.endEdit(!1);let i=t.filteringExpressionsTree,n=i.findIndex(e);n>-1?i.filteringOperands.splice(n,1):e||(i.filteringOperands=[]),t.filteringExpressionsTree=i}filterGlobal(e,t,i){if(!t)return;let n=this.grid.filteringExpressionsTree,r=new qb(n.operator,n.fieldName);for(let n of this.grid.columns)this.prepare_filtering_expression(r,n.field,e,t,i||n.filteringIgnoreCase);let s={owner:this.grid,filteringExpressions:r,cancel:!1};this.grid.filtering.emit(s),!s.cancel&&(this.grid.crudService.endEdit(!1),this.grid.page=0,this.grid.filteringExpressionsTree=r,requestAnimationFrame((()=>this.grid.filteringDone.emit(this.grid.filteringExpressionsTree))))}registerSVGIcons(){Xk.forEach((e=>this.iconService.addSvgIconFromText(e.name,e.value,"imx-icons"))),this.iconService.addSvgIconFromText(Kk.name,Kk.value,"imx-icons"),this.iconService.addSvgIconFromText(jk.name,jk.value,"imx-icons")}getExpressions(e){if(!this.columnToExpressionsMap.has(e)){let t=this.grid.columns.find((t=>t.field===e)),i=new Array;return t&&(this.generateExpressionsList(t.filteringExpressionsTree,this.grid.filteringExpressionsTree.operator,i),this.columnToExpressionsMap.set(e,i)),i}return this.columnToExpressionsMap.get(e)}refreshExpressions(){this.isFiltering||(this.columnsWithComplexFilter.clear(),this.columnToExpressionsMap.forEach(((e,t)=>{let i=this.grid.columns.find((e=>e.field===t));i?(e.length=0,this.generateExpressionsList(i.filteringExpressionsTree,this.grid.filteringExpressionsTree.operator,e),this.isFilteringTreeComplex(i.filteringExpressionsTree)&&this.columnsWithComplexFilter.add(t),this.updateFilteringCell(i)):this.columnToExpressionsMap.delete(t)})))}removeExpression(e,t){let i=this.getExpressions(e);0===t&&i.length>1?i[1].beforeOperator=null:t===i.length-1?i[t-1].afterOperator=null:(i[t-1].afterOperator=i[t+1].beforeOperator,i[0].beforeOperator=null,i[i.length-1].afterOperator=null),i.splice(t,1)}createSimpleFilteringTree(e,t=null){let i,n=t||this.getExpressions(e),r=new qb(Yb.Or,e);for(let t of n)t.expression.condition.isUnary||null!==t.expression.searchVal?void 0!==t.beforeOperator&&null!==t.beforeOperator&&t.beforeOperator!==Yb.Or||t.afterOperator!==Yb.And?t.beforeOperator===Yb.And?i.filteringOperands.push(t.expression):(r.filteringOperands.push(t.expression),i=null):(i=new qb(Yb.And,e),r.filteringOperands.push(i),i.filteringOperands.push(t.expression)):t.afterOperator===Yb.And&&!i&&(i=new qb(Yb.And,e),r.filteringOperands.push(i));return r}isFilterComplex(e){if(this.columnsWithComplexFilter.has(e))return!0;let t=this.grid.columns.find((t=>t.field===e)),i=t&&this.isFilteringTreeComplex(t.filteringExpressionsTree);return i&&this.columnsWithComplexFilter.add(e),i}getOperatorAsString(e){return 0===e?this.grid.resourceStrings.igx_grid_filter_operator_and:this.grid.resourceStrings.igx_grid_filter_operator_or}getChipLabel(e){if(e.condition.isUnary)return this.grid.resourceStrings[`igx_grid_filter_${e.condition.name}`]||e.condition.name;if(e.searchVal instanceof Date){let t=this.grid.getColumnByName(e.fieldName),i=t.formatter;if(i)return i(e.searchVal,void 0);let n=t.pipeArgs;return bb(e.searchVal,n.format,this.grid.locale)}return e.searchVal}updateFilteringCell(e){let t=e.filterCell;t&&t.updateFilterCellArea()}generateExpressionsList(e,t,i){GN(e,t,i)}isFilteringExpressionsTreeEmpty(e){if(qb.empty(e))return!0;for(let t of e.filteringOperands){if(!(t instanceof qb))return!1;{let e=t;if(e.filteringOperands&&e.filteringOperands.length)return!1}}return!0}filter_internal(e,t,i,n){let r=this.grid.filteringExpressionsTree;this.grid.crudService.endEdit(!1),this.grid.page=0;let s=r.findIndex(e);this.prepare_filtering_expression(r,e,t,i,n,s),this.grid.filteringExpressionsTree=r}prepare_filtering_expression(e,t,i,n,r,s=-1,o=!1){let a=n instanceof qb?n:null,l=n instanceof qb?null:n,d=e;if(o&&(d=new qb(e.operator,e.fieldName),d.filteringOperands=[...e.filteringOperands]),l){let n={fieldName:t,searchVal:i,condition:l,ignoreCase:r};a=new qb(e.operator,t),a.filteringOperands.push(n)}return a&&(s>-1?d.filteringOperands[s]=a:d.filteringOperands.push(a)),d}isFilteringTreeComplex(e){if(!e)return!1;if(e instanceof qb){let t=e;if(t.operator===Yb.Or)return this.getChildAndOperatorsCount(t)>1;let i=!1;for(let e of t.filteringOperands)i=i||this.isFilteringTreeComplex(e);return i}return!1}getChildAndOperatorsCount(e){let t,i=0;for(let n=0;n<e.filteringOperands.length;n++)t=e[n],t instanceof qb&&(t.operator===Yb.And&&i++,i+=this.getChildAndOperatorsCount(t));return i}};return e.fac=function(t){return new(t||e)(_n(zI),_n(nI))},e.prov=Zi({token:e,factory:e.fac}),e})(),Xz=["emptyFilter"],Zz=["defaultFilter"],Qz=["complexFilter"],Jz=["chipsArea"],eG=["moreIcon"],tG=["ghostChip"],iG=["complexChip"];function nG(e,t){if(1&e){let e=Rh();Ch(0,"igx-chips-area",4)(1,"igx-chip",5,6),Fh("click",(function(){return Bs(e),zs(Vh().onChipClicked())})),Ch(3,"igx-icon",7),fu(4,"filter_list"),Sh(),Ch(5,"span"),fu(6),Sh()()()}if(2&e){let e=Vh();ph("draggable",!1),tc(1),_h("displayDensity",e.displayDensity)("tabIndex",-1),ph("draggable",!1),tc(2),ph("draggable",!1),tc(2),ph("draggable",!1),tc(1),vu(e.filteringService.grid.resourceStrings.igx_grid_filter)}}function rG(e,t){if(1&e){let e=Rh();Ch(0,"igx-chip",15),Fh("click",(function(){Bs(e);let t=Vh().$implicit;return zs(Vh(2).onChipClicked(t.expression))}))("remove",(function(t){Bs(e);let i=Vh().$implicit;return zs(Vh(2).onChipRemoved(t,i))})),bh(1,"igx-icon",16),Ch(2,"span",null,17),fu(4),Sh()()}if(2&e){let e=Vh().$implicit,t=Vh(2);_h("removable",!0)("tabIndex",-1)("displayDensity",t.displayDensity),tc(1),_h("name",e.expression.condition.iconName),tc(3),xu(" ",t.filteringService.getChipLabel(e.expression)," ")}}function sG(e,t){if(1&e&&(Ch(0,"span",18),fu(1),Sh()),2&e){let e=Vh().$implicit,t=Vh(2);tc(1),vu(t.filteringService.getOperatorAsString(e.afterOperator))}}function oG(e,t){if(1&e&&(Eh(0),yh(1,rG,5,5,"igx-chip",13),yh(2,sG,2,1,"span",14),Ih()),2&e){let e=t.last,i=t.index,n=Vh(2);tc(1),_h("ngIf",n.isChipVisible(i)),tc(1),_h("ngIf",!e&&n.isChipVisible(i+1))}}function aG(e,t){if(1&e){let e=Rh();Ch(0,"igx-chips-area",4,8),yh(2,oG,3,2,"ng-container",9),Ch(3,"div",10,11),Fh("click",(function(){return Bs(e),zs(Vh().onChipClicked())})),Ch(5,"igx-icon"),fu(6,"filter_list"),Sh(),bh(7,"igx-badge",12),Sh()()}if(2&e){let e=Vh();tc(2),_h("ngForOf",e.expressionsList),tc(1),_h("ngClass",e.filteringIndicatorClass()),tc(4),_h("value",e.moreFiltersCount)}}function lG(e,t){if(1&e){let e=Rh();Ch(0,"igx-chip",19,20),Fh("remove",(function(){return Bs(e),zs(Vh().clearFiltering())})),Ch(2,"igx-icon",7),fu(3,"filter_list"),Sh(),Ch(4,"span"),fu(5),Sh()()}if(2&e){let e=Vh();_h("removable",!0)("displayDensity",e.displayDensity)("tabIndex",-1),tc(5),vu(e.filteringService.grid.resourceStrings.igx_grid_complex_filter)}}function dG(e,t){1&e&&Th(0)}var cG=(()=>{let e=class{get styleClasses(){let e=this.column&&this.column.selected?"igx-grid__filtering-cell--selected":"igx-grid__filtering-cell";switch(this.column.grid.displayDensity){case AI:e+=" igx-grid__filtering-cell--compact";break;case TI:e+=" igx-grid__filtering-cell--cosy"}return e}constructor(e,t){this.cdr=e,this.filteringService=t,this.moreFiltersCount=0,this.baseClass="igx-grid__filtering-cell-indicator",this.filteringService.subscribeToEvents()}ngOnInit(){this.filteringService.columnToMoreIconHidden.set(this.column.field,!0)}ngAfterViewInit(){this.updateFilterCellArea()}ngDoCheck(){this.updateFilterCellArea()}isChipVisible(e){let t=this.expressionsList[e];return!(!t||!t.isVisible)}updateFilterCellArea(){this.expressionsList=this.filteringService.getExpressions(this.column.field),this.updateVisibleFilters()}get displayDensity(){return this.column.grid.displayDensity===II?TI:this.column.grid.displayDensity}get template(){if(!this.column.filterable)return null;if(this.column.filterCellTemplate)return this.column.filterCellTemplate;let e=this.column.filteringExpressionsTree;return e&&0!==e.filteringOperands.length?this.filteringService.isFilterComplex(this.column.field)?this.complexFilter:this.defaultFilter:this.emptyFilter}get context(){return{$implicit:this.column,column:this.column}}onChipClicked(e){e?this.expressionsList.forEach((t=>{t.isSelected=t.expression===e})):this.expressionsList.length>0&&(this.expressionsList.forEach((e=>{e.isSelected=!1})),this.expressionsList[0].isSelected=!0),this.filteringService.grid.navigation.performHorizontalScrollToCell(this.column.visibleIndex),this.filteringService.filteredColumn=this.column,this.filteringService.isFilterRowVisible=!0,this.filteringService.selectedExpression=e}onChipRemoved(e,t){let i=this.expressionsList.indexOf(t);this.removeExpression(i),this.filteringService.grid.theadRow.nativeElement.focus()}clearFiltering(){this.filteringService.clearFilter(this.column.field),this.cdr.detectChanges()}filteringIndicatorClass(){return{[this.baseClass]:!this.isMoreIconHidden(),[`${this.baseClass}--hidden`]:this.isMoreIconHidden()}}removeExpression(e){0!==e||1!==this.expressionsList.length?(this.filteringService.removeExpression(this.column.field,e),this.updateVisibleFilters(),this.filteringService.filterInternal(this.column.field)):this.clearFiltering()}isMoreIconHidden(){return this.filteringService.columnToMoreIconHidden.get(this.column.field)}updateVisibleFilters(){if(this.expressionsList.forEach((e=>e.isVisible=!0)),this.moreIcon&&this.filteringService.columnToMoreIconHidden.set(this.column.field,!0),this.cdr.detectChanges(),this.chipsArea&&this.expressionsList.length>1){let e=this.chipsArea.element.nativeElement.offsetWidth,t=0,i=this.chipsArea.element.nativeElement.children,n=0,r=this.moreIcon.nativeElement.offsetWidth-parseInt(document.defaultView.getComputedStyle(this.moreIcon.nativeElement)["margin-left"],10);for(let s=0;s<i.length-1;s++){if(!(t+i[s].offsetWidth<e)){(s%2!=0&&t+r>e||n>0&&t-i[s-1].offsetWidth+r>e)&&n--,this.moreFiltersCount=this.expressionsList.length-n,this.filteringService.columnToMoreIconHidden.set(this.column.field,!1);break}t+=i[s].offsetWidth,s%2==0?n++:(t+=parseInt(document.defaultView.getComputedStyle(i[s])["margin-left"],10),t+=parseInt(document.defaultView.getComputedStyle(i[s])["margin-right"],10))}for(let e=n;e<this.expressionsList.length;e++)this.expressionsList[e].isVisible=!1;this.cdr.detectChanges()}}};return e.fac=function(t){return new(t||e)(nc(fp),nc(Yz))},e.cmp=tr({type:e,selectors:[["igx-grid-filtering-cell"]],viewQuery:function(e,t){if(1&e&&(Bg(Xz,7,yg),Bg(Zz,7,yg),Bg(Qz,7,yg),Bg(Jz,5,gP),Bg(eG,5,wd),Bg(tG,5,hP),Bg(iG,5,hP)),2&e){let e;Hg(e=Gg())&&(t.emptyFilter=e.first),Hg(e=Gg())&&(t.defaultFilter=e.first),Hg(e=Gg())&&(t.complexFilter=e.first),Hg(e=Gg())&&(t.chipsArea=e.first),Hg(e=Gg())&&(t.moreIcon=e.first),Hg(e=Gg())&&(t.ghostChip=e.first),Hg(e=Gg())&&(t.complexChip=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&nu(t.styleClasses)},inputs:{column:"column"},standalone:!0,features:[Wu],decls:7,vars:2,consts:[["emptyFilter",""],["defaultFilter",""],["complexFilter",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-filtering-chips"],[3,"displayDensity","tabIndex","click"],["ghostChip",""],["igxPrefix",""],["chipsArea",""],[4,"ngFor","ngForOf"],[3,"ngClass","click"],["moreIcon",""],[3,"value"],[3,"removable","tabIndex","displayDensity","click","remove",4,"ngIf"],["class","igx-filtering-chips__connector",4,"ngIf"],[3,"removable","tabIndex","displayDensity","click","remove"],["igxPrefix","","family","imx-icons",3,"name"],["label",""],[1,"igx-filtering-chips__connector"],[3,"removable","displayDensity","tabIndex","remove"],["complexChip",""]],template:function(e,t){1&e&&(yh(0,nG,7,7,"ng-template",null,0,jg),yh(2,aG,8,3,"ng-template",null,1,jg),yh(4,lG,6,4,"ng-template",null,2,jg),yh(6,dG,1,0,"ng-container",3)),2&e&&(tc(6),_h("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.context))},dependencies:[gP,hP,XI,DI,zm,$m,Bm,xO,Zm],encapsulation:2,changeDetection:0}),e})(),hG=(()=>{let e=class{constructor(e,t,i){this.zone=e,this.element=t,this.colResizingService=i,this._dblClick=!1,this.destroy$=new Xe,this.DEBOUNCE_TIME=200}onDoubleClick(){this._dblClick=!0,this.initResizeService(),this.colResizingService.autosizeColumnOnDblClick()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngAfterViewInit(){!this.column.columnGroup&&this.column.resizable&&(this.zone.runOutsideAngular((()=>{Wt(this.element.nativeElement,"mousedown").pipe(ni(this.DEBOUNCE_TIME),Si(this.destroy$)).subscribe((e=>{this._dblClick?this._dblClick=!1:0===e.button&&(this._onResizeAreaMouseDown(e),this.column.grid.resizeLine.resizer.onMousedown(e))}))})),Wt(this.element.nativeElement,"mouseup").pipe(ni(this.DEBOUNCE_TIME),Si(this.destroy$)).subscribe((()=>{this.colResizingService.isColumnResizing=!1,this.colResizingService.showResizer=!1,this.column.grid.cdr.detectChanges()})))}_onResizeAreaMouseDown(e){this.initResizeService(e),this.colResizingService.showResizer=!0,this.column.grid.cdr.detectChanges()}initResizeService(e=null){this.colResizingService.column=this.column,e&&(this.colResizingService.isColumnResizing=!0,this.colResizingService.startResizePos=e.clientX)}};return e.fac=function(t){return new(t||e)(nc(Vd),nc(wd),nc(Fz))},e.dir=or({type:e,selectors:[["","igxResizeHandle",""]],hostBindings:function(e,t){1&e&&Fh("dblclick",(function(){return t.onDoubleClick()}))},inputs:{column:["igxResizeHandle","column"]},standalone:!0}),e})(),uG=(()=>{let e=class extends eA{set data(e){e instanceof vA?this._displayContainer=e:this._column=e}get column(){return this._column}get isDropTarget(){return this.column&&this.column.grid.moving&&(!this.column.pinned&&this.cms.column?.disablePinning||!this.cms.column?.disablePinning)}get horizontalScroll(){if(this._displayContainer)return this._displayContainer}get nativeElement(){return this.ref.nativeElement}constructor(e,t,i,n){super(e,t,i),this.ref=e,this.renderer=t,this._=i,this.cms=n,this._dropIndicator=null,this._lastDropIndicator=null,this._dragLeave=new Xe,this._dropIndicatorClass="igx-grid-th__drop-indicator--active"}ngOnDestroy(){this._dragLeave.next(!0),this._dragLeave.complete(),super.ngOnDestroy()}onDragOver(e){if(e.detail.owner instanceof fz&&this.isDropTarget&&this.cms.column!==this.column&&this.cms.column.level===this.column.level&&this.cms.column.parent===this.column.parent){this._lastDropIndicator&&this.renderer.removeClass(this._dropIndicator,this._dropIndicatorClass);let t=this.nativeElement.getBoundingClientRect(),i=t.left+t.width/2,n=this.nativeElement.parentElement;e.detail.pageX<i?(this._dropPos=nM.BeforeDropTarget,this._lastDropIndicator=this._dropIndicator=n.firstElementChild):(this._dropPos=nM.AfterDropTarget,this._lastDropIndicator=this._dropIndicator=n.lastElementChild),"block"!==this.cms.icon.innerText&&this.renderer.addClass(this._dropIndicator,this._dropIndicatorClass)}}onDragEnter(e){if(e.detail.owner instanceof fz){if(this.column&&this.cms.column.grid.id!==this.column.grid.id)return void(this.cms.icon.innerText="block");this.isDropTarget&&this.cms.column!==this.column&&this.cms.column.level===this.column.level&&this.cms.column.parent===this.column.parent?((!this.column.pinned||this.column.pinned&&this.cms.column.pinned)&&(this.cms.icon.innerText="swap_horiz"),this.cms.icon.innerText="save_alt"):this.cms.icon.innerText="block",this.horizontalScroll&&(this.cms.icon.innerText="right"===e.target.id?"arrow_forward":"arrow_back",Ut(0,St).pipe(Si(this._dragLeave)).subscribe((()=>{"right"===e.target.id?this.horizontalScroll.scrollPosition+=10:this.horizontalScroll.scrollPosition-=10})))}}onDragLeave(e){e.detail.owner instanceof fz&&(this.cms.icon.innerText="block",this._dropIndicator&&this.renderer.removeClass(this._dropIndicator,this._dropIndicatorClass),this.horizontalScroll&&this._dragLeave.next(!0))}onDragDrop(e){e.preventDefault();let t=e.detail.owner;!this.cms.cancelDrop&&t instanceof fz?this.column&&this.cms.column.grid.id!==this.column.grid.id||(this.horizontalScroll&&this._dragLeave.next(!0),this.isDropTarget&&(this.column.grid.moveColumn(this.cms.column,this.column,this._dropPos),this.cms.column=null,this.column.grid.cdr.detectChanges())):this.cms.cancelDrop=!1}};return e.fac=function(t){return new(t||e)(nc(wd),nc(bd),nc(Vd),nc(rM))},e.dir=or({type:e,selectors:[["","igxColumnMovingDrop",""]],inputs:{data:["igxColumnMovingDrop","data"]},standalone:!0,features:[th]}),e})();function gG(e,t){1&e&&bh(0,"span",7)}function pG(e,t){if(1&e&&(bh(0,"igx-grid-header-group",9),ag(1,"igxHeaderGroupStyle")),2&e){let e=Vh().$implicit,t=Vh(2);_h("ngClass",e.headerGroupClasses)("ngStyle",cg(1,7,e.headerGroupStyles,e,t.grid.pipeTrigger))("column",e)("igxColumnMovingDrag",e)("ghostHost",t.grid.outlet.nativeElement)("igxColumnMovingDrop",e),ph("droppable",!0)}}function mG(e,t){if(1&e&&(Eh(0),yh(1,pG,2,11,"igx-grid-header-group",8),Ih()),2&e){let e=t.$implicit;tc(1),_h("ngIf",!e.hidden)}}function fG(e,t){1&e&&bh(0,"span",10)}var yG=function(e,t){return{"igx-grid-th--pinned-last":e,"igx-grid-th--pinned-first":t}},vG=function(e,t){return{"grid-template-rows":e,"grid-template-columns":t}};function xG(e,t){if(1&e&&(Eh(0),yh(1,gG,1,0,"span",3),Ch(2,"div",4),yh(3,mG,2,1,"ng-container",5),Sh(),yh(4,fG,1,0,"span",6),Ih()),2&e){let e=Vh();tc(1),_h("ngIf",e.grid.moving),tc(1),_h("ngClass",Uu(5,yG,e.hasLastPinnedChildColumn,e.hasFirstPinnedChildColumn))("ngStyle",Uu(8,vG,e.column.getGridTemplate(!0),e.column.getGridTemplate(!1))),tc(1),_h("ngForOf",e.column.children),tc(1),_h("ngIf",e.grid.moving)}}function _G(e,t){if(1&e&&(Ch(0,"span",11),fu(1),Sh()),2&e){let e=Vh();_h("title",e.title),tc(1),vu(e.column.header)}}function wG(e,t){if(1&e&&(Ch(0,"igx-icon"),fu(1),Sh()),2&e){let e=Vh();tc(1),xu("",e.column.expanded?"expand_more":"chevron_right"," ")}}function CG(e,t){1&e&&bh(0,"span",7)}function SG(e,t){1&e&&Th(0)}var bG=function(e,t){return{$implicit:e,column:t}};function DG(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"div",15),Fh("pointerdown",(function(t){return Bs(e),zs(Vh(2).onPointerDownIndicator(t))}))("click",(function(t){return Bs(e),zs(Vh(2).toggleExpandState(t))})),yh(2,SG,1,0,"ng-container",13),Sh(),Ih()}if(2&e){let e=Vh(2),t=xh(4);tc(2),_h("ngTemplateOutlet",e.column.collapsibleIndicatorTemplate?e.column.collapsibleIndicatorTemplate:t)("ngTemplateOutletContext",Uu(2,bG,e.column,e.column))}}function EG(e,t){1&e&&Th(0)}function IG(e,t){if(1&e&&(Ch(0,"igx-grid-header-group",18),ag(1,"igxHeaderGroupWidth"),ag(2,"igxHeaderGroupWidth"),ag(3,"igxHeaderGroupStyle"),Sh()),2&e){let e=Vh().$implicit,t=Vh(3);tu("min-width",cg(1,7,e.calcWidth,t.grid.defaultHeaderGroupMinWidth,t.grid.hasColumnLayouts))("flex-basis",cg(2,11,e.calcWidth,t.grid.defaultHeaderGroupMinWidth,t.grid.hasColumnLayouts)),_h("ngClass",e.headerGroupClasses)("ngStyle",cg(3,15,e.headerGroupStyles,e,t.grid.pipeTrigger))("column",e)}}function TG(e,t){if(1&e&&(Eh(0),yh(1,IG,4,19,"igx-grid-header-group",17),Ih()),2&e){let e=t.$implicit;tc(1),_h("ngIf",!e.hidden)}}function AG(e,t){if(1&e&&(Ch(0,"div",16),yh(1,TG,2,1,"ng-container",5),Sh()),2&e){let e=Vh(2);tc(1),_h("ngForOf",e.column.children)}}function RG(e,t){1&e&&bh(0,"span",10)}var kG=function(e,t,i,n,r,s){return{"igx-grid-th--pinned-last":e,"igx-grid-th--pinned-first":t,"igx-grid-th--collapsible":i,"igx-grid-th--selectable":n,"igx-grid-th--selected":r,"igx-grid-th--active":s}};function OG(e,t){if(1&e){let e=Rh();Eh(0),yh(1,CG,1,0,"span",3),Ch(2,"div",12),Fh("pointerdown",(function(t){return Bs(e),zs(Vh().pointerdown(t))}))("click",(function(t){return Bs(e),zs(Vh().groupClicked(t))}))("pointerenter",(function(){return Bs(e),zs(Vh().onPinterEnter())}))("pointerleave",(function(){return Bs(e),zs(Vh().onPointerLeave())})),yh(3,DG,3,5,"ng-container",0),yh(4,EG,1,0,"ng-container",13),Sh(),yh(5,AG,2,1,"div",14),yh(6,RG,1,0,"span",6),Ih()}if(2&e){let e=Vh(),t=xh(2);tc(1),_h("ngIf",e.grid.moving),tc(1),_h("ngClass",Zu(14,kG,e.hasLastPinnedChildColumn,e.hasFirstPinnedChildColumn,e.column.collapsible,e.selectable,e.selected,e.activeGroup))("igxColumnMovingDrag",e.column)("ghostHost",e.grid.outlet.nativeElement)("igxColumnMovingDrop",e.column),ph("aria-label",e.column.header||e.column.field)("aria-expanded",e.column.expanded)("aria-selected",e.column.selected)("droppable",!0),tc(1),_h("ngIf",e.column.collapsible),tc(1),_h("ngTemplateOutlet",e.column.headerTemplate?e.column.headerTemplate:t)("ngTemplateOutletContext",Uu(21,bG,e.column,e.column)),tc(1),_h("ngIf",!e.grid.isPivot),tc(1),_h("ngIf",e.grid.moving)}}function FG(e,t){1&e&&bh(0,"span",7)}function PG(e,t){1&e&&bh(0,"igx-grid-filtering-cell",22),2&e&&(_h("column",Vh(2).column),ph("draggable",!1))}function MG(e,t){if(1&e&&bh(0,"span",23),2&e){let e=Vh(2);tu("cursor",e.colResizingService.resizeCursor),_h("igxResizeHandle",e.column),ph("draggable",!1)}}function VG(e,t){1&e&&bh(0,"span",10)}function NG(e,t){if(1&e){let e=Rh();Eh(0),yh(1,FG,1,0,"span",3),Ch(2,"igx-grid-header",19),Fh("pointerdown",(function(){return Bs(e),zs(Vh().activate())})),ag(3,"igxHeaderGroupStyle"),Sh(),yh(4,PG,1,2,"igx-grid-filtering-cell",20),yh(5,MG,1,4,"span",21),yh(6,VG,1,0,"span",6),Ih()}if(2&e){let e=Vh();tc(1),_h("ngIf",e.grid.moving),tc(1),_h("id",e.grid.id+"_"+e.column.field)("ngClass",e.column.headerClasses)("ngStyle",cg(3,13,e.column.headerStyles,e.column,e.grid.pipeTrigger))("igxColumnMovingDrag",e.column)("ghostHost",e.grid.outlet.nativeElement)("igxColumnMovingDrop",e.column)("column",e.column)("density",e.grid.displayDensity),ph("droppable",!0),tc(2),_h("ngIf",e.grid.allowFiltering&&"quickFilter"===e.grid.filterMode),tc(1),_h("ngIf",!e.column.columnGroup&&e.column.resizable),tc(1),_h("ngIf",e.grid.moving)}}var LG=(()=>{let e=class{get rowEnd(){return this.column.rowEnd}get colEnd(){return this.column.colEnd}get rowStart(){return this.column.rowStart}get colStart(){return this.column.colStart}get headerID(){return`${this.grid.id}_-1_${this.column.level}_${this.column.visibleIndex}`}get active(){let e=this.grid.navigation.activeNode;return!(!e||this.column.columnGroup)&&-1===e.row&&e.column===this.column.visibleIndex&&e.level===this.column.level}get activeGroup(){let e=this.grid.navigation.activeNode;return!!e&&-1===e.row&&e.column===this.column.visibleIndex&&e.level===this.column.level}get width(){return this.grid.getHeaderGroupWidth(this.column)}constructor(e,t,i,n,r,s){this.cdr=e,this.grid=t,this.ref=i,this.colResizingService=n,this.filteringService=r,this.platform=s,this.defaultCss=!0}get pinnedCss(){return this.isPinned}get pinnedLastCss(){return this.isLastPinned}get pinnedFirstCSS(){return this.isFirstPinned}get headerDragCss(){return this.isHeaderDragged}get filteringCss(){return this.isFiltered}get zIndex(){return this.column.pinned?9999-this.grid.pinnedColumns.indexOf(this.column):null}get isFiltered(){return this.filteringService.filteredColumn===this.column}get isLastPinned(){return!this.grid.hasColumnLayouts&&this.column.isLastPinned}get isFirstPinned(){return!this.grid.hasColumnLayouts&&this.column.isFirstPinned}get groupDisplayStyle(){return this.grid.hasColumnLayouts&&this.column.children?"flex":""}get isPinned(){return this.column.pinned}get isHeaderDragged(){return this.grid.columnInDrag===this.column}get hasLastPinnedChildColumn(){return this.column.allChildren.some((e=>e.isLastPinned))}get hasFirstPinnedChildColumn(){return this.column.allChildren.some((e=>e.isFirstPinned))}get selectable(){let e=this.column.allChildren.filter((e=>!e.hidden&&e.selectable&&!e.columnGroup));return this.grid.columnSelection!==lD&&this.column.applySelectableClass&&!this.selected&&e.length>0&&!this.grid.filteringService.isFilterRowVisible}get selected(){return this.column.selected}get height(){return this.nativeElement.getBoundingClientRect().height}get title(){return this.column.title||this.column.header}get nativeElement(){return this.ref.nativeElement}onMouseDown(e){e.preventDefault()}groupClicked(e){let t=this.column.allChildren.filter((e=>!e.hidden&&e.selectable&&!e.columnGroup)).map((e=>e.field));if(this.grid.columnSelection!==lD&&t.length>0&&!this.grid.filteringService.isFilterRowVisible){let i=this.grid.columnSelection===dD||!e.ctrlKey,n=this.grid.columnSelection===cD&&e.shiftKey;if(this.selected){let r=this.grid.selectionService.getSelectedColumns();r.length===t.length&&r.every((e=>t.includes(e)))||!i?this.grid.selectionService.deselectColumns(t,e):this.grid.selectionService.selectColumns(t,i,n,e)}else this.grid.selectionService.selectColumns(t,i,n,e)}}onPointerDownIndicator(e){e.stopPropagation()}toggleExpandState(e){e.stopPropagation(),this.column.expanded=!this.column.expanded}pointerdown(e){e.stopPropagation(),this.activate(),this.grid.theadRow.nativeElement.focus()}activate(){this.grid.navigation.setActiveNode(this.activeNode),this.grid.theadRow.nativeElement.focus()}ngDoCheck(){this.cdr.markForCheck()}onPinterEnter(){this.column.applySelectableClass=!0}onPointerLeave(){this.column.applySelectableClass=!1}get activeNode(){return{row:-1,column:this.column.visibleIndex,level:this.column.level,mchCache:{level:this.column.level,visibleIndex:this.column.visibleIndex},layout:this.column.columnLayoutChild?{rowStart:this.column.rowStart,colStart:this.column.colStart,rowEnd:this.column.rowEnd,colEnd:this.column.colEnd,columnVisibleIndex:this.column.visibleIndex}:null}}};return e.fac=function(t){return new(t||e)(nc(fp),nc(hk),nc(wd),nc(Fz),nc(Yz),nc(ob))},e.cmp=tr({type:e,selectors:[["igx-grid-header-group"]],viewQuery:function(t,i){if(1&t&&(Bg(Uz,5),Bg(cG,5),Bg(e,5,e)),2&t){let e;Hg(e=Gg())&&(i.header=e.first),Hg(e=Gg())&&(i.filter=e.first),Hg(e=Gg())&&(i.children=e)}},hostVars:27,hostBindings:function(e,t){1&e&&Fh("mousedown",(function(e){return t.onMouseDown(e)})),2&e&&(ph("id",t.headerID),tu("grid-row-end",t.rowEnd)("grid-column-end",t.colEnd)("grid-row-start",t.rowStart)("grid-column-start",t.colStart)("z-index",t.zIndex)("display",t.groupDisplayStyle),iu("igx-grid-th--active",t.active)("igx-grid-thead__item",t.defaultCss)("igx-grid-th--pinned",t.pinnedCss)("igx-grid-th--pinned-last",t.pinnedLastCss)("igx-grid-th--pinned-first",t.pinnedFirstCSS)("igx-grid__drag-col-header",t.headerDragCss)("igx-grid-th--filtering",t.filteringCss))},inputs:{column:"column"},standalone:!0,features:[Wu],decls:7,vars:3,consts:[[4,"ngIf"],["defaultColumn",""],["defaultCollapseIndicator",""],["class","igx-grid-th__drop-indicator-left",4,"ngIf"],[1,"igx-grid-thead__group","igx-grid__mrl-block",3,"ngClass","ngStyle"],[4,"ngFor","ngForOf"],["class","igx-grid-th__drop-indicator-right",4,"ngIf"],[1,"igx-grid-th__drop-indicator-left"],["class","igx-grid-thead__subgroup",3,"ngClass","ngStyle","column","igxColumnMovingDrag","ghostHost","igxColumnMovingDrop",4,"ngIf"],[1,"igx-grid-thead__subgroup",3,"ngClass","ngStyle","column","igxColumnMovingDrag","ghostHost","igxColumnMovingDrop"],[1,"igx-grid-th__drop-indicator-right"],[1,"igx-grid-th__group-title",3,"title"],["role","columnheader",1,"igx-grid-thead__title",3,"ngClass","igxColumnMovingDrag","ghostHost","igxColumnMovingDrop","pointerdown","click","pointerenter","pointerleave"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","igx-grid-thead__group",4,"ngIf"],[1,"igx-grid-th__expander",3,"pointerdown","click"],[1,"igx-grid-thead__group"],["class","igx-grid-thead__subgroup",3,"ngClass","ngStyle","column","min-width","flex-basis",4,"ngIf"],[1,"igx-grid-thead__subgroup",3,"ngClass","ngStyle","column"],["role","columnheader",1,"igx-grid-th--fw",3,"id","ngClass","ngStyle","igxColumnMovingDrag","ghostHost","igxColumnMovingDrop","column","density","pointerdown"],[3,"column",4,"ngIf"],["class","igx-grid-th__resize-handle",3,"igxResizeHandle","cursor",4,"ngIf"],[3,"column"],[1,"igx-grid-th__resize-handle",3,"igxResizeHandle"]],template:function(e,t){1&e&&(yh(0,xG,5,11,"ng-container",0),yh(1,_G,2,2,"ng-template",null,1,jg),yh(3,wG,2,1,"ng-template",null,2,jg),yh(5,OG,7,24,"ng-container",0),yh(6,NG,7,17,"ng-container",0)),2&e&&(_h("ngIf",t.grid.hasColumnLayouts&&t.column.columnGroup),tc(5),_h("ngIf",!t.grid.hasColumnLayouts&&t.column.columnGroup),tc(1),_h("ngIf",!t.column.columnGroup))},dependencies:[e,$m,Bm,Xm,zm,fz,uG,XI,Zm,Uz,cG,hG,kz,Oz],encapsulation:2,changeDetection:0}),e})(),HG=["defaultFilterUI"],BG=["defaultDateUI"],zG=["defaultTimeUI"],GG=["defaultDateTimeUI"],$G=["input"],WG=["inputGroupConditions"],KG=["chipsArea"],jG=["inputGroup"],UG=["picker"],qG=["inputGroupPrefix"],YG=["container"],XG=["operand"],ZG=["closeButton"],QG=["operators"];function JG(e,t){if(1&e&&(Ch(0,"igx-drop-down-item",19)(1,"div",20),bh(2,"igx-icon",21),Ch(3,"span",22),fu(4),Sh()()()),2&e){let e=t.$implicit,i=Vh();_h("value",e)("selected",i.isConditionSelected(e)),tc(2),_h("name",i.getCondition(e).iconName),tc(2),vu(i.translateCondition(e))}}function e$(e,t){if(1&e){let e=Rh();Ch(0,"igx-suffix")(1,"igx-icon",30),Fh("keydown",(function(t){return Bs(e),zs(Vh(2).onCommitKeyDown(t))}))("click",(function(){return Bs(e),zs(Vh(2).onCommitClick())})),fu(2,"done"),Sh(),Ch(3,"igx-icon",30),Fh("keydown",(function(t){return Bs(e),zs(Vh(2).onClearKeyDown(t))}))("click",(function(){return Bs(e),zs(Vh(2).onClearClick())})),fu(4,"clear"),Sh()()}}function t$(e,t){if(1&e){let e=Rh();Ch(0,"igx-input-group",23,24),Fh("focusout",(function(){return Bs(e),zs(Vh().onInputGroupFocusout())})),Ch(2,"igx-prefix",25,26),Fh("click",(function(t){return Bs(e),zs(Vh().inputGroupPrefixClick(t))}))("keydown",(function(t){return Bs(e),zs(Vh().onPrefixKeyDown(t))})),bh(4,"igx-icon",21),Sh(),Ch(5,"input",27,28),Fh("input",(function(t){return Bs(e),zs(Vh().onInput(t))}))("click",(function(){return Bs(e),zs(Vh().onInputClick())}))("compositionstart",(function(){return Bs(e),zs(Vh().onCompositionStart())}))("compositionend",(function(){return Bs(e),zs(Vh().onCompositionEnd())}))("keydown",(function(t){return Bs(e),zs(Vh().onInputKeyDown(t))}))("keyup",(function(){return Bs(e),zs(Vh().onInputKeyUp())})),Sh(),yh(7,e$,5,0,"igx-suffix",29),Sh()}if(2&e){let e=Vh(),t=xh(1);_h("displayDensity",e.displayDensity),tc(2),_h("igxDropDownItemNavigation",t),tc(2),_h("name",e.getIconName()),tc(1),_h("placeholder",e.placeholder)("value",e.value)("type",e.type)("readonly",e.isUnaryCondition),tc(2),_h("ngIf",e.value||0===e.value)}}function i$(e,t){if(1&e){let e=Rh();Ch(0,"igx-suffix")(1,"igx-icon",30),Fh("keydown",(function(t){return Bs(e),zs(Vh(2).onCommitKeyDown(t))}))("click",(function(t){return Bs(e),zs(Vh(2).onCommitClick(t))})),fu(2,"done"),Sh(),Ch(3,"igx-icon",30),Fh("keydown",(function(t){return Bs(e),zs(Vh(2).onClearKeyDown(t))}))("click",(function(t){return Bs(e),zs(Vh(2).clearInput(t))})),fu(4,"clear"),Sh()()}}function n$(e,t){if(1&e){let e=Rh();Ch(0,"igx-date-picker",31,32),Fh("valueChange",(function(t){return Bs(e),zs(Vh().value=t)}))("click",(function(){Bs(e);let t=xh(1);return zs(Vh().expression.condition.isUnary?null:t.open())}))("keydown",(function(t){return Bs(e),zs(Vh().onInputKeyDown(t))}))("focusout",(function(){return Bs(e),zs(Vh().onInputGroupFocusout())}))("closed",(function(){return Bs(e),zs(Vh().focusEditElement())})),Ch(2,"igx-prefix",25,26),Fh("click",(function(t){return Bs(e),zs(Vh().inputGroupPrefixClick(t))}))("keydown",(function(t){return Bs(e),zs(Vh().onPrefixKeyDown(t))})),bh(4,"igx-icon",21),Sh(),yh(5,i$,5,0,"igx-suffix",29),bh(6,"igx-picker-toggle")(7,"igx-picker-clear"),Sh()}if(2&e){let e=Vh(),t=xh(1);_h("value",e.value)("readOnly",!0)("outlet",e.filteringService.grid.outlet)("locale",e.filteringService.grid.locale)("displayFormat",e.column.pipeArgs.format)("formatter",e.column.formatter)("placeholder",e.placeholder)("weekStart",e.column.pipeArgs.weekStart)("displayDensity",e.displayDensity),tc(2),_h("igxDropDownItemNavigation",t),tc(2),_h("name",e.expression.condition.iconName),tc(1),_h("ngIf",e.value)}}function r$(e,t){if(1&e){let e=Rh();Ch(0,"igx-suffix")(1,"igx-icon",30),Fh("keydown",(function(t){return Bs(e),zs(Vh(2).onCommitKeyDown(t))}))("click",(function(t){return Bs(e),zs(Vh(2).onCommitClick(t))})),fu(2,"done"),Sh(),Ch(3,"igx-icon",30),Fh("keydown",(function(t){return Bs(e),zs(Vh(2).onClearKeyDown(t))}))("click",(function(t){return Bs(e),zs(Vh(2).clearInput(t))})),fu(4,"clear"),Sh()()}}function s$(e,t){if(1&e){let e=Rh();Ch(0,"igx-time-picker",33,32),Fh("valueChange",(function(t){return Bs(e),zs(Vh().value=t)}))("closed",(function(){return Bs(e),zs(Vh().focusEditElement())}))("focusout",(function(){return Bs(e),zs(Vh().onInputGroupFocusout())}))("keydown",(function(t){return Bs(e),zs(Vh().onInputKeyDown(t))}))("click",(function(){Bs(e);let t=xh(1);return zs(Vh().expression.condition.isUnary?null:t.open())})),Ch(2,"igx-prefix",25,26),Fh("click",(function(t){return Bs(e),zs(Vh().inputGroupPrefixClick(t))}))("keydown",(function(t){return Bs(e),zs(Vh().onPrefixKeyDown(t))})),bh(4,"igx-icon",21),Sh(),yh(5,r$,5,0,"igx-suffix",29),bh(6,"igx-picker-toggle")(7,"igx-picker-clear"),Sh()}if(2&e){let e=Vh(),t=xh(1);_h("value",e.value)("inputFormat",e.column.defaultTimeFormat)("locale",e.filteringService.grid.locale)("formatter",e.column.formatter)("outlet",e.filteringService.grid.outlet)("displayDensity",e.displayDensity)("readOnly",!0)("placeholder",e.placeholder),tc(2),_h("igxDropDownItemNavigation",t),tc(2),_h("name",e.expression.condition.iconName),tc(1),_h("ngIf",e.value)}}function o$(e,t){if(1&e){let e=Rh();Ch(0,"igx-suffix")(1,"igx-icon",30),Fh("keydown",(function(t){return Bs(e),zs(Vh(2).onCommitKeyDown(t))}))("click",(function(){return Bs(e),zs(Vh(2).onCommitClick())})),fu(2,"done"),Sh(),Ch(3,"igx-icon",30),Fh("keydown",(function(t){return Bs(e),zs(Vh(2).onClearKeyDown(t))}))("click",(function(){return Bs(e),zs(Vh(2).onClearClick())})),fu(4,"clear"),Sh()()}}function a$(e,t){if(1&e){let e=Rh();Ch(0,"igx-input-group",23,24),Fh("focusout",(function(){return Bs(e),zs(Vh().onInputGroupFocusout())})),Ch(2,"igx-prefix",25,26),Fh("click",(function(t){return Bs(e),zs(Vh().inputGroupPrefixClick(t))}))("keydown",(function(t){return Bs(e),zs(Vh().onPrefixKeyDown(t))})),bh(4,"igx-icon",21),Sh(),Ch(5,"input",34,28),Fh("valueChange",(function(t){return Bs(e),zs(Vh().onInput(t))}))("click",(function(){return Bs(e),zs(Vh().onInputClick())}))("keydown",(function(t){return Bs(e),zs(Vh().onInputKeyDown(t))}))("keyup",(function(){return Bs(e),zs(Vh().onInputKeyUp())})),Sh(),yh(7,o$,5,0,"igx-suffix",29),Sh()}if(2&e){let e=Vh(),t=xh(1);_h("displayDensity",e.displayDensity),tc(2),_h("igxDropDownItemNavigation",t),tc(2),_h("name",e.getIconName()),tc(1),_h("placeholder",e.placeholder)("igxDateTimeEditor",e.column.defaultDateTimeFormat)("value",e.value)("readonly",e.isUnaryCondition),tc(2),_h("ngIf",e.value||0===e.value)}}function l$(e,t){1&e&&Th(0)}function d$(e,t){if(1&e){let e=Rh();Ch(0,"button",35),Fh("keydown",(function(t){return Bs(e),zs(Vh().onLeftArrowKeyDown(t))}))("click",(function(){return Bs(e),zs(Vh().scrollChipsOnArrowPress("left"))})),Ch(1,"igx-icon"),fu(2,"navigate_before"),Sh()()}}function c$(e,t){if(1&e){let e=Rh();Ch(0,"span",41)(1,"button",42),Fh("click",(function(t){Bs(e);let i=Vh().index;return zs(Vh().toggleOperatorsDropDown(t,i))})),Ch(2,"igx-icon"),fu(3,"expand_more"),Sh(),Ch(4,"span"),fu(5),Sh()(),Ch(6,"igx-drop-down",43,44),Fh("selectionChanging",(function(t){Bs(e);let i=Vh().$implicit;return zs(Vh().onLogicOperatorChanged(t,i))})),Ch(8,"igx-drop-down-item",19),fu(9),Sh(),Ch(10,"igx-drop-down-item",19),fu(11),Sh()()()}if(2&e){let e=xh(7),t=Vh().$implicit,i=Vh();tc(1),_h("igxDropDownItemNavigation",e)("displayDensity",i.displayDensity),tc(4),vu(i.filteringService.getOperatorAsString(t.afterOperator)),tc(1),_h("displayDensity",i.column.grid.displayDensity),tc(2),_h("value",0)("selected",0===t.afterOperator),tc(1),vu(i.filteringService.grid.resourceStrings.igx_grid_filter_operator_and),tc(1),_h("value",1)("selected",1===t.afterOperator),tc(1),vu(i.filteringService.grid.resourceStrings.igx_grid_filter_operator_or)}}function h$(e,t){if(1&e){let e=Rh();Eh(0,36),Ch(1,"igx-chip",37,38),Fh("pointerdown",(function(t){Bs(e);let i=xh(2);return zs(Vh().onChipPointerdown(t,i))}))("click",(function(t){let i=Bs(e).$implicit;return zs(Vh().onChipClick(t,i))}))("keydown",(function(t){let i=Bs(e).$implicit;return zs(Vh().onChipKeyDown(t,i))}))("remove",(function(t){let i=Bs(e).$implicit;return zs(Vh().onChipRemoved(t,i))})),bh(3,"igx-icon",39),Ch(4,"span"),fu(5),Sh()(),yh(6,c$,12,10,"span",40),Ih()}if(2&e){let e=t.$implicit,i=t.last,n=Vh();tc(1),_h("selectable",!1)("selected",e.isSelected)("displayDensity",n.displayDensity)("removable",!0),tc(2),_h("name",e.expression.condition.iconName),tc(2),vu(n.filteringService.getChipLabel(e.expression)),tc(1),_h("ngIf",!i)}}function u$(e,t){if(1&e){let e=Rh();Ch(0,"button",45),Fh("click",(function(){return Bs(e),zs(Vh().scrollChipsOnArrowPress("right"))})),Ch(1,"igx-icon"),fu(2,"navigate_next"),Sh()()}}var g$=function(e){return{$implicit:e}},p$=(()=>{let e=class{get column(){return this._column}set column(e){this._column&&this.expressionsList.forEach((e=>e.isSelected=!1)),e&&(this._column=e,this.expressionsList=this.filteringService.getExpressions(this._column.field),this.resetExpression(),this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset))}get value(){return this.expression?this.expression.searchVal:null}set value(e){if(!e&&0!==e&&this.expression.searchVal){if(this.expression.searchVal=null,0===this.expressionsList.findIndex((e=>e.expression===this.expression))&&1===this.expressionsList.length)return this.filteringService.clearFilter(this.column.field),void(this.expression.condition.isUnary&&this.resetExpression(this.expression.condition.name))}else{let t=this.expression.searchVal;if(sb(t,e))return;this.expression.searchVal=Kb.parseValue(this.column.dataType,e),void 0===this.expressionsList.find((e=>e.expression===this.expression))&&this.addExpression(!0),this.filter()}}get displayDensity(){return this.column.grid.displayDensity===II?TI:this.column.grid.displayDensity}get compactCSSClass(){return this.column.grid.displayDensity===AI}get cosyCSSClass(){return this.column.grid.displayDensity===TI}get nativeElement(){return this.ref.nativeElement}constructor(e,t,i,n){this.filteringService=e,this.ref=t,this.cdr=i,this.platform=n,this.defaultCSSClass=!0,this._positionSettings={horizontalStartPoint:zE.Left,verticalStartPoint:GE.Bottom},this._conditionsOverlaySettings={closeOnOutsideClick:!0,modal:!1,scrollStrategy:new rI,positionStrategy:new qE(this._positionSettings)},this._operatorsOverlaySettings={closeOnOutsideClick:!0,modal:!1,scrollStrategy:new rI,positionStrategy:new qE(this._positionSettings)},this.chipAreaScrollOffset=0,this._column=null,this.isKeyPressed=!1,this.isComposing=!1,this._cancelChipClick=!1,this.NARROW_WIDTH_THRESHOLD=432,this.$destroyer=new Xe}onKeydownHandler(e){this.platform.isFilteringKeyCombo(e)&&(e.preventDefault(),e.stopPropagation(),this.close())}ngAfterViewInit(){this._conditionsOverlaySettings.outlet=this.column.grid.outlet,this._operatorsOverlaySettings.outlet=this.column.grid.outlet;let e=this.expressionsList.find((e=>!0===e.isSelected));e&&(this.expression=e.expression),this.filteringService.grid.localeChange.pipe(Si(this.$destroyer)).subscribe((()=>{this.cdr.markForCheck()})),requestAnimationFrame((()=>this.focusEditElement()))}get disabled(){return!(this.column.filteringExpressionsTree&&this.column.filteringExpressionsTree.filteringOperands.length>0)}get template(){return this.column.dataType===Wb.Date?this.defaultDateUI:this.column.dataType===Wb.Time?this.defaultTimeUI:this.column.dataType===Wb.DateTime?this.defaultDateTimeUI:this.defaultFilterUI}get type(){switch(this.column.dataType){case Wb.String:case Wb.Boolean:return"text";case Wb.Number:case Wb.Currency:return"number"}}get conditions(){return this.column.filters.conditionList()}get isUnaryCondition(){return!this.expression.condition||this.expression.condition.isUnary}get placeholder(){return this.expression.condition&&this.expression.condition.isUnary?this.filteringService.getChipLabel(this.expression):this.column.dataType===Wb.Date?this.filteringService.grid.resourceStrings.igx_grid_filter_row_date_placeholder:this.column.dataType===Wb.Boolean?this.filteringService.grid.resourceStrings.igx_grid_filter_row_boolean_placeholder:this.filteringService.grid.resourceStrings.igx_grid_filter_row_placeholder}onPrefixKeyDown(e){this.platform.isActivationKey(e)&&this.dropDownConditions.collapsed?(this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement),e.stopImmediatePropagation()):e.key===this.platform.KEYMAP.TAB&&!this.dropDownConditions.collapsed&&this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement)}onInputKeyDown(e){if(this.isKeyPressed=!0,e.stopPropagation(),this.column.dataType===Wb.Boolean&&this.platform.isActivationKey(e))return this.inputGroupPrefix.nativeElement.focus(),void this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement);if(e.key===this.platform.KEYMAP.ENTER){if(this.isComposing)return;this.commitInput()}else e.altKey&&e.key===this.platform.KEYMAP.ARROW_DOWN?(this.inputGroupPrefix.nativeElement.focus(),this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement)):this.platform.isFilteringKeyCombo(e)&&(e.preventDefault(),this.close())}onInputKeyUp(){this.isKeyPressed=!1}onInput(e){if(!e)return;let t=e.target;this.column.dataType!==Wb.DateTime?(this.platform.isEdge&&"number"!==t.type||this.isKeyPressed||t.value||t.checkValidity())&&(this.value=t.value):this.value=e}onCompositionStart(){this.isComposing=!0}onCompositionEnd(){this.isComposing=!1}onInputClick(){this.column.dataType===Wb.Boolean&&this.dropDownConditions.collapsed&&(this.inputGroupPrefix.nativeElement.focus(),this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement))}getCondition(e){return this.column.filters.condition(e)}translateCondition(e){return this.filteringService.grid.resourceStrings[`igx_grid_filter_${this.getCondition(e).name}`]||e}getIconName(){return this.column.dataType===Wb.Boolean&&null===this.expression.condition?this.getCondition(this.conditions[0]).iconName:this.expression.condition.iconName}isConditionSelected(e){return!!this.expression.condition&&this.expression.condition.name===e}clearFiltering(){this.filteringService.clearFilter(this.column.field),this.resetExpression(),this.input&&this.input.nativeElement.focus(),this.cdr.detectChanges(),this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset)}commitInput(){this.expressionsList.filter((e=>!0===e.isSelected)).forEach((e=>e.isSelected=!1));let e=-1;for(let t=0;t<this.expressionsList.length;t++){let i=this.expressionsList[t].expression;null===i.searchVal&&!i.condition.isUnary&&(e=t)}-1!==e&&this.removeExpression(e,this.expression),this.resetExpression(),this.scrollChipsWhenAddingExpression()}clearInput(e){e?.stopPropagation(),this.value=null}onClearKeyDown(e){this.platform.isActivationKey(e)&&(e.preventDefault(),this.clearInput(),this.focusEditElement())}onClearClick(){this.clearInput(),this.focusEditElement()}onCommitKeyDown(e){this.platform.isActivationKey(e)&&(e.preventDefault(),this.commitInput(),this.focusEditElement())}onCommitClick(e){e?.stopPropagation(),this.commitInput(),this.focusEditElement()}onInputGroupFocusout(){!this.value&&0!==this.value&&this.expression.condition&&!this.expression.condition.isUnary||requestAnimationFrame((()=>{let e=document.activeElement;e.classList.contains("igx-chip__remove")||"IGX-DAY-ITEM"===e.tagName||(!e||!this.editorsContain(e))&&this.dropDownConditions.collapsed&&this.commitInput()}))}close(){if(1===this.expressionsList.length&&null===this.expressionsList[0].expression.searchVal&&!1===this.expressionsList[0].expression.condition.isUnary)this.filteringService.getExpressions(this.column.field).pop(),this.filter();else{let e=this.expressionsList.filter((e=>null===e.expression.searchVal&&!e.expression.condition.isUnary));e&&e.length>0&&(e.forEach((e=>this.filteringService.removeExpression(this.column.field,this.expressionsList.indexOf(e)))),this.filter())}this.filteringService.isFilterRowVisible=!1,this.filteringService.updateFilteringCell(this.column),this.filteringService.filteredColumn=null,this.filteringService.selectedExpression=null,this.filteringService.grid.theadRow.nativeElement.focus(),this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset)}onDateSelected(e){this.value=e}inputGroupPrefixClick(e){e.stopPropagation(),e.currentTarget.focus(),this.toggleConditionsDropDown(e.currentTarget)}toggleConditionsDropDown(e){this._conditionsOverlaySettings.target=e,this._conditionsOverlaySettings.excludeFromOutsideClick=[e],this.dropDownConditions.toggle(this._conditionsOverlaySettings)}toggleOperatorsDropDown(e,t){this._operatorsOverlaySettings.target=e.target.parentElement,this._operatorsOverlaySettings.excludeFromOutsideClick=[e.target.parentElement],this.dropDownOperators.toArray()[t].toggle(this._operatorsOverlaySettings)}onConditionsChanged(e){let t=e.newSelection.value;this.expression.condition=this.getCondition(t),this.expression.condition.isUnary?requestAnimationFrame((()=>this.unaryConditionChangedCallback())):requestAnimationFrame((()=>this.conditionChangedCallback())),requestAnimationFrame((()=>this.focusEditElement()))}onChipPointerdown(e,t){let i=document.activeElement;this._cancelChipClick=t.selected&&i&&this.editorsContain(i)}onChipClick(e,t){this._cancelChipClick?this._cancelChipClick=!1:(this.expressionsList.forEach((e=>e.isSelected=!1)),this.toggleChip(t))}toggleChip(e){e.isSelected=!e.isSelected,e.isSelected&&(this.expression=e.expression,this.focusEditElement())}onChipKeyDown(e,t){e.key===this.platform.KEYMAP.ENTER&&(e.preventDefault(),this.toggleChip(t))}onLeftArrowKeyDown(e){e.key===this.platform.KEYMAP.TAB&&(this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset))}onChipRemoved(e,t){let i=this.expressionsList.indexOf(t);this.removeExpression(i,t.expression),this.scrollChipsOnRemove()}onLogicOperatorChanged(e,t){e.oldSelection&&(t.afterOperator=e.newSelection.value,this.expressionsList[this.expressionsList.indexOf(t)+1].beforeOperator=t.afterOperator,requestAnimationFrame((()=>this.filter())))}scrollChipsOnArrowPress(e){let t=0,i=this.chipsArea.element.nativeElement.children,n=this.container.nativeElement.getBoundingClientRect();if("right"===e){for(let e of i)Math.ceil(e.getBoundingClientRect().right)<Math.ceil(n.right)&&t++;t<i.length&&(this.chipAreaScrollOffset-=Math.ceil(i[t].getBoundingClientRect().right)-Math.ceil(n.right)+1,this.transform(this.chipAreaScrollOffset))}if("left"===e){for(let e of i)Math.ceil(e.getBoundingClientRect().left)<Math.ceil(n.left)&&t++;t>0&&(this.chipAreaScrollOffset+=Math.ceil(n.left)-Math.ceil(i[t-1].getBoundingClientRect().left)+1,this.transform(this.chipAreaScrollOffset))}}resetChipsArea(){this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset),this.showHideArrowButtons()}focusEditElement(){this.input?this.input.nativeElement.focus():this.picker&&this.picker.getEditElement().focus()}ngOnDestroy(){this.$destroyer.next()}showHideArrowButtons(){requestAnimationFrame((()=>{if(this.filteringService.isFilterRowVisible){let e=this.container.nativeElement.getBoundingClientRect().width;this.chipsAreaWidth=this.chipsArea.element.nativeElement.getBoundingClientRect().width,this.showArrows=this.chipsAreaWidth>=e&&this.isColumnFiltered,this.cdr.destroyed||this.cdr.detectChanges()}}))}addExpression(e){let t=new zN;t.expression=this.expression,t.beforeOperator=this.expressionsList.length>0?Yb.And:null,t.isSelected=e,this.expressionsList.push(t);let i=this.expressionsList.length;this.expressionsList[i-2]&&(this.expressionsList[i-2].afterOperator=this.expressionsList[i-1].beforeOperator),this.showHideArrowButtons()}removeExpression(e,t){0!==e||1!==this.expressionsList.length?(this.filteringService.removeExpression(this.column.field,e),this.filter(),this.expression===t&&this.resetExpression(),this.showHideArrowButtons()):this.clearFiltering()}resetExpression(e){this.expression={fieldName:this.column.field,condition:null,searchVal:null,ignoreCase:this.column.filteringIgnoreCase},this.column.dataType!==Wb.Boolean&&(this.expression.condition=this.getCondition(e??this.conditions[0])),this.column.dataType===Wb.Date&&this.input&&(this.input.nativeElement.value=null),this.showHideArrowButtons()}scrollChipsWhenAddingExpression(){let e=this.chipsArea.element.nativeElement.children;if(!e||0===e.length)return;let t=this.container.nativeElement.offsetWidth,i=this.chipsArea.element.nativeElement.offsetWidth;i>t&&(this.chipAreaScrollOffset=t-i,this.transform(this.chipAreaScrollOffset))}transform(e){requestAnimationFrame((()=>{this.chipsArea.element.nativeElement.style.transform=`translate(${e}px)`}))}scrollChipsOnRemove(){let e=0,t=this.chipsArea.element.nativeElement.children,i=this.container.nativeElement.getBoundingClientRect();for(let n of t)Math.ceil(n.getBoundingClientRect().right)<Math.ceil(i.left)&&e++;if(e<=2)this.chipAreaScrollOffset=0;else{let n="chip"===t[e].id?e-2:e-1;this.chipAreaScrollOffset+=Math.ceil(i.left)-Math.ceil(t[n].getBoundingClientRect().left)+1}this.transform(this.chipAreaScrollOffset)}conditionChangedCallback(){this.expression.searchVal||0===this.expression.searchVal?this.filter():this.value&&(this.value=null)}unaryConditionChangedCallback(){this.value&&(this.value=null),void 0===this.expressionsList.find((e=>e.expression===this.expression))&&this.addExpression(!0),this.filter()}filter(){this.filteringService.filterInternal(this.column.field)}editorsContain(e){return!!(this.inputGroup&&this.inputGroup.nativeElement.contains(e)||this.picker&&this.picker.element.nativeElement.contains(e))}get isColumnFiltered(){return this.column.filteringExpressionsTree&&this.column.filteringExpressionsTree.filteringOperands.length>0}get isNarrowWidth(){return this.nativeElement.offsetWidth<this.NARROW_WIDTH_THRESHOLD}};return e.fac=function(t){return new(t||e)(nc(Yz),nc(wd),nc(fp),nc(ob))},e.cmp=tr({type:e,selectors:[["igx-grid-filtering-row"]],viewQuery:function(e,t){if(1&e&&(Bg(HG,7,yg),Bg(BG,7,yg),Bg(zG,7,yg),Bg(GG,7,yg),Bg($G,5,wd),Bg(WG,7,HR),Bg(KG,7,gP),Bg(jG,5,wd),Bg(UG,5),Bg(qG,5,wd),Bg(YG,7),Bg(XG,5),Bg(ZG,7),Bg(QG,5,HR)),2&e){let e;Hg(e=Gg())&&(t.defaultFilterUI=e.first),Hg(e=Gg())&&(t.defaultDateUI=e.first),Hg(e=Gg())&&(t.defaultTimeUI=e.first),Hg(e=Gg())&&(t.defaultDateTimeUI=e.first),Hg(e=Gg())&&(t.input=e.first),Hg(e=Gg())&&(t.dropDownConditions=e.first),Hg(e=Gg())&&(t.chipsArea=e.first),Hg(e=Gg())&&(t.inputGroup=e.first),Hg(e=Gg())&&(t.picker=e.first),Hg(e=Gg())&&(t.inputGroupPrefix=e.first),Hg(e=Gg())&&(t.container=e.first),Hg(e=Gg())&&(t.operand=e.first),Hg(e=Gg())&&(t.closeButton=e.first),Hg(e=Gg())&&(t.dropDownOperators=e)}},hostVars:6,hostBindings:function(e,t){1&e&&Fh("keydown",(function(e){return t.onKeydownHandler(e)})),2&e&&iu("igx-grid__filtering-row",t.defaultCSSClass)("igx-grid__filtering-row--compact",t.compactCSSClass)("igx-grid__filtering-row--cosy",t.cosyCSSClass)},inputs:{column:"column",value:"value"},standalone:!0,features:[Wu],decls:33,vars:19,consts:[[3,"displayDensity","height","selectionChanging"],["inputGroupConditions",""],[3,"value","selected",4,"ngFor","ngForOf"],["defaultFilterUI",""],["defaultDateUI",""],["defaultTimeUI",""],["defaultDateTimeUI",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["igxButton","icon","type","button","class","igx-grid__filtering-row-scroll-start",3,"keydown","click",4,"ngIf"],[1,"igx-grid__filtering-row-main"],["container",""],["chipsArea",""],["tabindex","0",4,"ngFor","ngForOf"],["igxButton","icon","type","button","class","igx-grid__filtering-row-scroll-end",3,"click",4,"ngIf"],[3,"ngClass"],["buttonsContainer",""],["type","button","igxRipple","",3,"displayDensity","igxButton","disabled","tabindex","click"],["type","button","igxRipple","",3,"displayDensity","igxButton","click"],["closeButton",""],[3,"value","selected"],[1,"igx-grid__filtering-dropdown-items"],["family","imx-icons",3,"name"],[1,"igx-grid__filtering-dropdown-text"],["type","box",3,"displayDensity","focusout"],["inputGroup",""],["tabindex","0",3,"igxDropDownItemNavigation","click","keydown"],["inputGroupPrefix",""],["igxInput","","tabindex","0","autocomplete","off",3,"placeholder","value","type","readonly","input","click","compositionstart","compositionend","keydown","keyup"],["input",""],[4,"ngIf"],["tabindex","0",3,"keydown","click"],["type","box",3,"value","readOnly","outlet","locale","displayFormat","formatter","placeholder","weekStart","displayDensity","valueChange","click","keydown","focusout","closed"],["picker",""],["type","box",3,"value","inputFormat","locale","formatter","outlet","displayDensity","readOnly","placeholder","valueChange","closed","focusout","keydown","click"],["igxInput","","tabindex","0",3,"placeholder","igxDateTimeEditor","value","readonly","valueChange","click","keydown","keyup"],["igxButton","icon","type","button",1,"igx-grid__filtering-row-scroll-start",3,"keydown","click"],["tabindex","0"],["id","chip",3,"selectable","selected","displayDensity","removable","pointerdown","click","keydown","remove"],["chip",""],["igxPrefix","","family","imx-icons",3,"name"],["id","operand",4,"ngIf"],["id","operand"],["igxButton","","type","button",3,"igxDropDownItemNavigation","displayDensity","click"],[3,"displayDensity","selectionChanging"],["operators",""],["igxButton","icon","type","button",1,"igx-grid__filtering-row-scroll-end",3,"click"]],template:function(e,t){1&e&&(Ch(0,"igx-drop-down",0,1),Fh("selectionChanging",(function(e){return t.onConditionsChanged(e)})),yh(2,JG,5,4,"igx-drop-down-item",2),Sh(),yh(3,t$,8,8,"ng-template",null,3,jg),yh(5,n$,8,12,"ng-template",null,4,jg),yh(7,s$,8,11,"ng-template",null,5,jg),yh(9,a$,8,8,"ng-template",null,6,jg),yh(11,l$,1,0,"ng-container",7),yh(12,d$,3,0,"button",8),Ch(13,"div",9,10)(15,"div")(16,"igx-chips-area",null,11),yh(18,h$,7,7,"ng-container",12),Sh()()(),yh(19,u$,3,0,"button",13),Ch(20,"div",14,15)(22,"button",16),Fh("click",(function(){return t.clearFiltering()})),Ch(23,"igx-icon"),fu(24,"refresh"),Sh(),Ch(25,"span"),fu(26),Sh()(),Ch(27,"button",17,18),Fh("click",(function(){return t.close()})),Ch(29,"igx-icon"),fu(30,"close"),Sh(),Ch(31,"span"),fu(32),Sh()()()),2&e&&(_h("displayDensity",t.displayDensity)("height","200px"),tc(2),_h("ngForOf",t.conditions),tc(9),_h("ngTemplateOutlet",t.template)("ngTemplateOutletContext",ju(17,g$,t)),tc(1),_h("ngIf",t.showArrows),tc(6),_h("ngForOf",t.expressionsList),tc(1),_h("ngIf",t.showArrows),tc(1),_h("ngClass",t.isNarrowWidth?"igx-grid__filtering-row-editing-buttons--small":"igx-grid__filtering-row-editing-buttons"),tc(2),_h("displayDensity",t.displayDensity)("igxButton",t.isNarrowWidth?"icon":"flat")("disabled",t.disabled)("tabindex",t.disabled),tc(4),vu(t.isNarrowWidth?"":t.filteringService.grid.resourceStrings.igx_grid_filter_row_reset),tc(1),_h("displayDensity",t.displayDensity)("igxButton",t.isNarrowWidth?"icon":"flat"),tc(5),vu(t.isNarrowWidth?"":t.filteringService.grid.resourceStrings.igx_grid_filter_row_close))},dependencies:[zm,HR,FR,gP,hP,XI,UT,DI,fI,CI,$m,EI,MP,mP,fP,pV,WA,Zm,HI,Bm,DA],encapsulation:2,changeDetection:0}),e})(),m$=class{get viewIndex(){return this.index+this.grid.page*this.grid.perPage}get key(){let e=this._data??this.grid.dataView[this.index],t=this.grid.primaryKey;return t?e[t]:e}get addRowUI(){return!!this.grid.crudService.row&&this.grid.crudService.row.getClassName()===sk.name&&this.grid.crudService.row.id===this.key}get validation(){let e=this.grid.validation.getFormGroup(this.key);return{status:e?.status||"VALID",errors:e?.errors}}get data(){return this.inEditMode?jS(this.grid.dataCloneStrategy.clone(this._data??this.grid.dataView[this.index]),this.grid.transactions.getAggregatedValue(this.key,!1),((e,t)=>{if(Array.isArray(t))return t})):this._data??this.grid.dataView[this.index]}get inEditMode(){if(this.grid.rowEditable){let e=this.grid.crudService.row;return e&&e.id===this.key||!1}return!1}get pinned(){return this.grid.isRecordPinned(this.data)}set pinned(e){e?this.pin():this.unpin()}get expanded(){return this.grid.gridAPI.get_row_expansion_state(this.data)}set expanded(e){this.grid.gridAPI.set_row_expansion_state(this.key,e)}get selected(){return this.grid.selectionService.isRowSelected(this.key)}set selected(e){e?this.grid.selectionService.selectRowsWithNoEvent([this.key]):this.grid.selectionService.deselectRowsWithNoEvent([this.key]),this.grid.cdr.markForCheck()}get deleted(){return this.grid.gridAPI.row_deleted_transaction(this.key)}get hasChildren(){return!1}get disabled(){return this.grid.isGhostRecord(this.data)}get cells(){let e=[];return this.grid.columns.forEach((t=>{let i=new sM(this.grid,this.index,t);e.push(i)})),e}pin(){return this.grid.pinRow(this.key,this.index)}unpin(){return this.grid.unpinRow(this.key)}update(e){let t=this.grid.crudService;t.cellInEditMode&&t.cell.id.rowID===this.key&&this.grid.transactions.endPending(!1);let i=new rk(this.key,this.index,this.data,this.grid);this.grid.gridAPI.update_row(i,e),this.grid.notifyChanges()}delete(){this.grid.deleteRowById(this.key)}},f$=class extends m${constructor(e,t,i){super(),this.grid=e,this.index=t,this._data=i&&i.addRow&&i.recordRef?i.recordRef:i}get viewIndex(){if(this.grid.paginator){let e=[],t=[],i=this.grid.dataView[0],n=this.grid.expansionStates.size,r=this.grid.groupingExpressions.length,s=0,o=this.grid.groupingFlatResult.indexOf(i);return(n||r)&&this.grid.groupingFlatResult.forEach(((i,n)=>{let s=this.grid.primaryKey?i[this.grid.primaryKey]:i;r&&n<o&&this.grid.isGroupByRecord(i)&&t.push(i),this.grid.expansionStates.get(s)&&n<o&&!this.grid.isGroupByRecord(i)&&e.push(i)})),this.grid.summaryCalculationMode!==sD&&(s=t.filter((e=>this.grid.isExpandedGroup(e))).length,this.grid.summaryPosition===rD&&t.length&&t[t.length-1].records.indexOf(i)>-1&&(s+=-1)),e.length+s+o+this.index}return this.index}get parent(){let e;if(!this.grid.groupingExpressions.length)return;let t=this.index-1;for(;t>=0&&!e;){let i=this.grid.dataView[t];this.grid.isGroupByRecord(i)&&(e=new x$(this.grid,t,i)),t--}return e}},y$=class e extends m${constructor(e,t,i,n){super(),this.grid=e,this.index=t,this._treeRow=n,this._data=i&&i.addRow&&i.recordRef?i.recordRef:i}get viewIndex(){return this.grid.hasSummarizedColumns&&this.grid.page>0&&this.grid.summaryCalculationMode!==sD?this.grid.processedExpandedFlatData.indexOf(this.grid.dataView[0].data)+(this.grid.summaryPosition===rD?this.grid.rootRecords.indexOf(this.getRootParent(this.grid.dataView[0])):this.grid.rootRecords.indexOf(this.getRootParent(this.grid.dataView[0]))+1)+this.index:this.index+this.grid.page*this.grid.perPage}get data(){if(this.inEditMode)return jS(this.grid.dataCloneStrategy.clone(this._data??this.grid.dataView[this.index]),this.grid.transactions.getAggregatedValue(this.key,!1),((e,t)=>{if(Array.isArray(t))return t}));let e=this.grid.dataView[this.index];return this._data?this._data:this.grid.isTreeRow(e)?e.data:e}get children(){let t=[];return this.treeRow.expanded&&this.treeRow.children.forEach(((i,n)=>{let r=new e(this.grid,this.index+1+n,i.data);t.push(r)})),t}get parent(){return this.grid.getRowByKey(this.treeRow.parent?.key)}get hasChildren(){return!!this.treeRow.children&&this.treeRow.children.length>0}get treeRow(){return this._treeRow??this.grid.records.get(this.key)}get pinned(){return this.grid.isRecordPinned(this)}set pinned(e){e?this.pin():this.unpin()}get expanded(){return this.grid.gridAPI.get_row_expansion_state(this.treeRow)}set expanded(e){this.grid.gridAPI.set_row_expansion_state(this.key,e)}get disabled(){return!!this.grid.isGhostRecord(this.data)&&void 0===this.treeRow.isFilteredOutParent}getRootParent(e){for(;e.parent;)e=e.parent;return e}},v$=class extends m${constructor(e,t,i){super(),this.grid=e,this.index=t,this._data=i&&i.addRow&&i.recordRef?i.recordRef:i}get hasChildren(){return!!this.grid.childLayoutKeys.length}get viewIndex(){let e=this.grid.filteredSortedData.indexOf(this.grid.dataView[0]),t=this.grid.filteredSortedData.filter(((t,i)=>{let n=this.grid.primaryKey?t[this.grid.primaryKey]:t;return this.grid.expansionStates.get(n)&&i<e}));return e+t.length+this.index}get cells(){let e=[];return this.grid.columns.forEach((t=>{let i=new sM(this.grid,this.index,t);e.push(i)})),e}},x$=class{get groupRow(){return this._groupRow?this._groupRow:this.grid.dataView[this.index]}get children(){let e=[];return this.groupRow.records.forEach(((t,i)=>{let n=new f$(this.grid,this.index+1+i,t);e.push(n)})),e}get viewIndex(){if(this.grid.page){let e=[],t=[],i=this.grid.dataView[0],n=this.grid.expansionStates.size,r=this.grid.groupingExpressions.length,s=0,o=this.grid.groupingFlatResult.indexOf(i);return(n||r)&&this.grid.groupingFlatResult.forEach(((i,n)=>{let s=this.grid.primaryKey?i[this.grid.primaryKey]:i;r&&n<o&&this.grid.isGroupByRecord(i)&&t.push(i),this.grid.expansionStates.get(s)&&n<o&&!this.grid.isGroupByRecord(i)&&e.push(i)})),this.grid.summaryCalculationMode!==sD&&(s=t.filter((e=>this.grid.isExpandedGroup(e))).length,this.grid.summaryPosition===rD&&t.length&&t[t.length-1].records.indexOf(i)>-1&&(s+=-1)),e.length+s+o+this.index}return this.index}constructor(e,t,i){this._groupRow=i,this.grid=e,this.index=t,this.isGroupByRow=!0}get selected(){return this.children.every((e=>e.selected))}set selected(e){e?this.children.forEach((e=>{this.grid.selectionService.selectRowsWithNoEvent([e.key])})):this.children.forEach((e=>{this.grid.selectionService.deselectRowsWithNoEvent([e.key])})),this.grid.cdr.markForCheck()}get expanded(){return this.grid.isExpandedGroup(this.groupRow)}set expanded(e){this.gridAPI.set_grouprow_expansion_state(this.groupRow,e)}isActive(){return!!this.grid.navigation.activeNode&&this.grid.navigation.activeNode.row===this.index}toggle(){this.grid.toggleGroup(this.groupRow)}get gridAPI(){return this.grid.gridAPI}},_$=class{get summaries(){return this._summaries?this._summaries:this.grid.dataView[this.index].summaries}get viewIndex(){if(this.grid.hasSummarizedColumns&&this.grid.page>0){if(this.gridType===yD.Grid){if(this.grid.page){let e=[],t=[],i=this.grid.dataView[0],n=this.grid.expansionStates.size,r=this.grid.groupingExpressions.length,s=0,o=this.grid.groupingFlatResult.indexOf(i);return(n||r)&&this.grid.groupingFlatResult.forEach(((i,n)=>{let s=this.grid.primaryKey?i[this.grid.primaryKey]:i;r&&n<o&&this.grid.isGroupByRecord(i)&&t.push(i),this.grid.expansionStates.get(s)&&n<o&&!this.grid.isGroupByRecord(i)&&e.push(i)})),this.grid.summaryCalculationMode!==sD&&(s=t.filter((e=>this.grid.isExpandedGroup(e))).length,this.grid.summaryPosition===rD&&t.length&&t[t.length-1].records.indexOf(i)>-1&&(s+=-1)),e.length+s+o+this.index}return this.index}if(this.gridType===yD.TreeGrid&&this.grid.summaryCalculationMode!==sD)return this.grid.processedExpandedFlatData.indexOf(this.grid.dataView[0].data)+(this.grid.summaryPosition===rD?this.grid.rootRecords.indexOf(this.getRootParent(this.grid.dataView[0])):this.grid.rootRecords.indexOf(this.getRootParent(this.grid.dataView[0]))+1)+this.index}return this.index+this.grid.page*this.grid.perPage}constructor(e,t,i,n){this._summaries=i,this.grid=e,this.index=t,this.isSummaryRow=!0,this.gridType=n}getRootParent(e){for(;e.parent;)e=e.parent;return e}},w$=(()=>{let e=class{transform(e,t,i,n,r,s){if(!e)return"";let o=[];for(let t of Object.keys(e)){let s=e[t];("function"==typeof s?s(i,n,vb(i,n),r):s)&&o.push(t)}return o.join(" ")}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"igxCellStyleClasses",type:e,pure:!0,standalone:!0}),e})(),C$=(()=>{let e=class{transform(e,t,i,n,r,s){let o={};if(!e)return o;for(let t of Object.keys(e)){let s=e[t];o[t]="function"==typeof s?s(i,n,vb(i,n),r):s}return o}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"igxCellStyles",type:e,pure:!0,standalone:!0}),e})(),S$=(()=>{let e=class{transform(e){if(e){let t=e.split("/"),i=t[t.length-1].split(".");return i.length?i[0]:""}return e}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"igxCellImageAlt",type:e,pure:!0,standalone:!0}),e})(),b$=(()=>{let e=class{constructor(e){this.grid=e,this.row=new f$(this.grid,-1,{})}transform(e,t,i,n,r,s,o,a,l,d,c,h){let u=new Set(["igx-grid__tr",a%2?"igx-grid__tr--even":"igx-grid__tr--odd"]),g=[[n,"igx-grid__tr--selected"],[i,"igx-grid__tr--edit"],[r,"igx-grid__tr--edited"],[s,"igx-grid__tr--deleted"],[o,"igx-grid__tr--drag"],[l,"igx-grid__tr--mrl"],[d,"igx-grid__tr--filtered"]];for(let[e,t]of g)e&&u.add(t);for(let i of Object.keys(e??{})){let n=e[i];this.row.index=a,this.row._data=t.data,("function"==typeof n?n(this.row):n)&&u.add(i)}return u}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"igxGridRowClasses",type:e,pure:!0,standalone:!0}),e})(),D$=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n){let r={};if(!e)return r;for(let n of Object.keys(e)){let s=e[n],o=this.grid.isTreeRow&&this.grid.isTreeRow(t)?t.data:t,a=new f$(this.grid,i,o);r[n]="function"==typeof s?s(a):s}return r}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"igxGridRowStyles",type:e,pure:!0,standalone:!0}),e})(),E$=(()=>{let e=class{transform(e){return e.filter((e=>!e.columnGroup))}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"igxNotGrouped",type:e,pure:!0,standalone:!0}),e})(),I$=(()=>{let e=class{transform(e){return e.filter((e=>0===e.level))}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"igxTopLevel",type:e,pure:!0,standalone:!0}),e})(),T$=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i){return this.grid.transactions.enabled?Kb.mergeTransactions(QS(e),this.grid.transactions.getAggregatedChanges(!0),this.grid.primaryKey,this.grid.dataCloneStrategy):e}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"gridTransaction",type:e,pure:!0,standalone:!0}),e})(),A$=(()=>{let e=class{transform(e,t){return e&&e.length?t?e:[]:e}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"visibleColumns",type:e,pure:!0,standalone:!0}),e})(),R$=class{constructor(e){this.grid=e}transform(e,t,i=!1,n){if(this.grid.hasPinnedRecords&&i){let t=e.filter((e=>!this.grid.isSummaryRow(e)&&this.grid.isRecordPinned(e)));return t.sort(((e,t)=>this.grid.getInitialPinnedIndex(e)-this.grid.getInitialPinnedIndex(t))),t}return this.grid.unpinnedRecords=e,this.grid.hasPinnedRecords?e.map((e=>!this.grid.isSummaryRow(e)&&this.grid.isRecordPinned(e)?{recordRef:e,ghostRecord:!0}:e)):(this.grid.pinnedRecords=[],i?[]:e)}};R$.fac=function(e){return new(e||R$)(nc(hk,16))},R$.pipe=ar({name:"gridRowPinning",type:R$,pure:!0,standalone:!0});var k$=R$;zF([function(e,t,i){let n=i.value;return i.value=function(...e){let t=n.apply(this,e);return this.grid.buildDataView(),t},i}],k$.prototype,"transform",null);var O$=(()=>{let e=class{transform(e,t,i,n,r){return r?vb(e,t):n}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"dataMapper",type:e,pure:!0,standalone:!0}),e})(),F$=(()=>{let e=class{transform(e,t,i){return e.replace(t,i)}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"igxStringReplace",type:e,pure:!0,standalone:!0}),e})(),P$=(()=>{let e=class{transform(e,t,i,n,r,s,o){if(!i){let i=n.getState(e),r=vb(i?.value??{},t);return i&&i.value&&(r||0===r||!1===r)}{let i=n.getAggregatedValue(e,!1);if(i)return null!=vb(i,t)}}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"transactionState",type:e,pure:!0,standalone:!0}),e})(),M$=(()=>{let e=class{transform(e,t,i,n){return t(e,i,n)}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"columnFormatter",type:e,pure:!0,standalone:!0}),e})(),V$=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t=!1,i){if(!this.grid.rowEditable||!this.grid.crudService.row||this.grid.crudService.row.getClassName()!==sk.name||!this.grid.crudService.addRowParent||t!==this.grid.crudService.addRowParent.isPinned)return e;let n=e.slice(0),r=this.grid.crudService.row.recordRef;return n.splice(this.grid.crudService.row.index,0,r),n}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"gridAddRow",type:e,pure:!0,standalone:!0}),e})(),N$=["headerVirtualContainer"],L$=["headerDragContainer"],H$=["headerSelectorContainer"],B$=["headerGroupContainer"],z$=["headSelectorBaseTemplate"],G$=["headerHierarchyExpander"];function $$(e,t){if(1&e&&(Eh(0),bh(1,"span",8),Ih()),2&e){let e=Vh();tc(1),tu("left",e.grid.pinnedWidth,"px"),_h("igxColumnMovingDrop",e.headerContainer)}}function W$(e,t){if(1&e&&(Eh(0),bh(1,"span",9),Ih()),2&e){let e=Vh();tc(1),tu("left",e.grid.pinnedWidth,"px"),_h("igxColumnMovingDrop",e.headerContainer)}}function K$(e,t){1&e&&Th(0)}function j$(e,t){if(1&e&&(Eh(0),Ch(1,"div",10,11),Fh("pointerdown",(function(e){return e.preventDefault()})),Ch(3,"div",12),yh(4,K$,1,0,"ng-container",13),Sh()(),Ih()),2&e){let e=Vh();tc(1),iu("igx-grid__drag-indicator--header",!e.grid.isRowSelectable),tc(3),_h("ngTemplateOutlet",e.grid.dragIndicatorIconTemplate||e.grid.dragIndicatorIconBase)}}function U$(e,t){1&e&&Th(0,null,17)}function q$(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"div",14,15),Fh("click",(function(t){return Bs(e),zs(Vh().headerRowSelection(t))}))("pointerdown",(function(e){return e.preventDefault()})),yh(3,U$,2,0,"ng-container",16),Sh(),Ih()}if(2&e){let e=Vh(),t=xh(17);tc(1),iu("igx-grid__cbx-selection--push",e.grid.filteringService.isFilterRowVisible),tc(2),_h("ngTemplateOutlet",e.grid.headSelectorTemplate||t)("ngTemplateOutletContext",e.rowSelectorsContext)}}function Y$(e,t){1&e&&Th(0)}var X$=function(e,t,i){return{"igx-grid__hierarchical-expander igx-grid__hierarchical-expander--header igx-grid__tr-action":e,"igx-grid__hierarchical-expander--push":t,"igx-grid__hierarchical-expander--no-border":i}},Z$=function(e){return{$implicit:e}};function Q$(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"div",18,19),Fh("click",(function(){return Bs(e),zs(Vh().grid.toggleAll())}))("pointerdown",(function(e){return e.preventDefault()})),yh(3,Y$,1,0,"ng-container",16),Sh(),Ih()}if(2&e){let e=Vh();tc(1),_h("hidden",!e.grid.hasExpandableChildren||!e.grid.hasVisibleColumns)("ngClass",qu(4,X$,e.grid.hasExpandableChildren,e.grid.filteringService.isFilterRowVisible,e.grid.isRowSelectable||e.grid.rowDraggable)),tc(2),_h("ngTemplateOutlet",e.grid.iconTemplate)("ngTemplateOutletContext",ju(8,Z$,e.grid))}}function J$(e,t){1&e&&Th(0)}function eW(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"div",20,21),Fh("click",(function(){return Bs(e),zs(Vh().grid.toggleAllGroupRows())}))("pointerdown",(function(e){return e.preventDefault()})),yh(3,J$,1,0,"ng-container",16),Sh(),Ih()}if(2&e){let e=Vh();tc(1),nu(e.indentationCSSClasses),tc(2),_h("ngTemplateOutlet",e.grid.iconTemplate)("ngTemplateOutletContext",ju(5,Z$,e.grid))}}function tW(e,t){if(1&e&&(Eh(0),Ch(1,"igx-grid-header-group",23),ag(2,"igxHeaderGroupWidth"),ag(3,"igxHeaderGroupWidth"),ag(4,"igxHeaderGroupStyle"),Sh(),Ih()),2&e){let e=t.$implicit,i=Vh(2);tc(1),tu("min-width",cg(2,7,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("flex-basis",cg(3,11,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL)),_h("ngClass",e.headerGroupClasses)("ngStyle",cg(4,15,e.headerGroupStyles,e,i.grid.pipeTrigger))("column",e)}}function iW(e,t){if(1&e&&(Eh(0),yh(1,tW,5,19,"ng-container",22),ag(2,"igxTopLevel"),Ih()),2&e){let e=Vh();tc(1),_h("ngForOf",lg(2,1,e.pinnedColumnCollection))}}function nW(e,t){if(1&e&&(Ch(0,"igx-grid-header-group",23),ag(1,"igxHeaderGroupWidth"),ag(2,"igxHeaderGroupWidth"),ag(3,"igxHeaderGroupStyle"),Sh()),2&e){let e=t.$implicit,i=Vh();tu("min-width",cg(1,7,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("flex-basis",cg(2,11,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL)),_h("ngClass",e.headerGroupClasses)("ngStyle",cg(3,15,e.headerGroupStyles,e,i.grid.pipeTrigger))("column",e)}}function rW(e,t){if(1&e&&(Eh(0),Ch(1,"igx-grid-header-group",23),ag(2,"igxHeaderGroupWidth"),ag(3,"igxHeaderGroupWidth"),ag(4,"igxHeaderGroupStyle"),Sh(),Ih()),2&e){let e=t.$implicit,i=Vh(2);tc(1),tu("min-width",cg(2,9,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("flex-basis",cg(3,13,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("left",e.rightPinnedOffset),_h("ngClass",e.headerGroupClasses)("ngStyle",cg(4,17,e.headerGroupStyles,e,i.grid.pipeTrigger))("column",e)}}function sW(e,t){if(1&e&&(Eh(0),yh(1,rW,5,21,"ng-container",22),ag(2,"igxTopLevel"),Ih()),2&e){let e=Vh();tc(1),_h("ngForOf",lg(2,1,e.pinnedColumnCollection))}}function oW(e,t){if(1&e&&(Eh(0),bh(1,"igx-grid-filtering-row",24,25),Ih()),2&e){let e=Vh();tc(1),tu("width",e.width,"px"),_h("column",e.grid.filteringService.filteredColumn)}}function aW(e,t){if(1&e&&(Eh(0),bh(1,"span",26),Ih()),2&e){let e=Vh();tc(1),_h("igxColumnMovingDrop",e.headerContainer)}}var lW=function(e){return{visibility:e}};function dW(e,t){if(1&e&&(Ch(0,"div",27),bh(1,"igx-checkbox",28,29),Sh()),2&e){let e=t.$implicit,i=Vh();tc(1),_h("tabindex",-1)("readonly",!0)("checked",e.selectedCount>0&&i.grid.selectionService.areAllRowSelected())("disableRipple",!0)("ngStyle",ju(7,lW,i.grid.isMultiRowSelectionEnabled?"visible":"hidden"))("indeterminate",e.selectedCount>0&&i.grid.selectionService.hasSomeRowSelected())("aria-label",i.grid.headSelectorBaseAriaLabel)}}var cW=(()=>{let e=class{get cosyStyle(){return"cosy"===this.density}get compactStyle(){return"compact"===this.density}get groups(){return ab(this._groups?.toArray()??[])}get headers(){return this.groups.map((e=>e.header))}get filters(){return this.groups.map((e=>e.filter))}get headerForOf(){return this.headerContainer}get navigation(){return this.grid.navigation}get nativeElement(){return this.ref.nativeElement}get isHierarchicalGrid(){return!!this.grid.isHierarchicalRecord}get indentationCSSClasses(){return`igx-grid__header-indentation igx-grid__row-indentation--level-${this.grid.groupingExpressions.length}`}get rowSelectorsContext(){let e={$implicit:{selectedCount:this.grid.selectionService.filteredSelectedRowIds.length,totalCount:this.grid.totalRowsCountAfterFilter}};return this.isHierarchicalGrid&&(e.$implicit.selectAll=()=>this.grid.selectAllRows(),e.$implicit.deselectAll=()=>this.grid.deselectAllRows()),e}constructor(e,t){this.ref=e,this.cdr=t,this.pinnedColumnCollection=[],this.unpinnedColumnCollection=[]}ngDoCheck(){this.cdr.markForCheck()}scroll(e){this.grid.preventHeaderScroll(e)}headerRowSelection(e){this.grid.isMultiRowSelectionEnabled&&(this.grid.selectionService.areAllRowSelected()?this.grid.selectionService.clearRowSelection(e):this.grid.selectionService.selectAllRows(e))}};return e.fac=function(t){return new(t||e)(nc(wd),nc(fp))},e.cmp=tr({type:e,selectors:[["igx-grid-header-row"]],viewQuery:function(e,t){if(1&e&&(Bg(N$,7,vA),Bg(L$,5),Bg(H$,5),Bg(B$,5),Bg(z$,5),Bg(p$,5),Bg(G$,5),Bg(LG,5)),2&e){let e;Hg(e=Gg())&&(t.headerContainer=e.first),Hg(e=Gg())&&(t.headerDragContainer=e.first),Hg(e=Gg())&&(t.headerSelectorContainer=e.first),Hg(e=Gg())&&(t.headerGroupContainer=e.first),Hg(e=Gg())&&(t.headSelectorBaseTemplate=e.first),Hg(e=Gg())&&(t.filterRow=e.first),Hg(e=Gg())&&(t.headerHierarchyExpander=e.first),Hg(e=Gg())&&(t._groups=e)}},hostVars:4,hostBindings:function(e,t){2&e&&iu("igx-grid-thead--cosy",t.cosyStyle)("igx-grid-thead--compact",t.compactStyle)},inputs:{grid:"grid",pinnedColumnCollection:"pinnedColumnCollection",unpinnedColumnCollection:"unpinnedColumnCollection",activeDescendant:"activeDescendant",hasMRL:"hasMRL",width:"width",density:"density"},standalone:!0,features:[Wu],decls:18,vars:27,consts:[["role","rowgroup",1,"igx-grid-thead__wrapper",3,"scroll"],["role","row",1,"igx-grid__tr"],[4,"ngIf"],["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForContainerSize","igxForTrackBy","igxForSizePropName","igxForScrollOrientation"],["headerVirtualContainer",""],[1,"igx-grid-thead__thumb",3,"hidden"],["igxHeadSelector",""],["headSelectorBaseTemplate",""],["id","left","droppable","true",1,"igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop"],["id","left","droppable","true",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop"],[1,"igx-grid__drag-indicator","igx-grid__tr-action",3,"pointerdown"],["headerDragContainer",""],[2,"visibility","hidden"],[4,"ngTemplateOutlet"],[1,"igx-grid__cbx-selection","igx-grid__tr-action",3,"click","pointerdown"],["headerSelectorContainer",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["headSelector",""],[3,"hidden","ngClass","click","pointerdown"],["headerHierarchyExpander",""],[3,"click","pointerdown"],["headerGroupContainer",""],[4,"ngFor","ngForOf"],[3,"ngClass","ngStyle","column"],[3,"column"],["filteringRow",""],["id","right","droppable","true",1,"igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop"],[1,"igx-grid__cbx-padding"],[3,"tabindex","readonly","checked","disableRipple","ngStyle","indeterminate","aria-label"],["headerCheckbox",""]],template:function(e,t){1&e&&(Ch(0,"div",0),Fh("scroll",(function(e){return t.scroll(e)})),Ch(1,"div",1),yh(2,$$,2,3,"ng-container",2),yh(3,W$,2,3,"ng-container",2),yh(4,j$,5,3,"ng-container",2),yh(5,q$,4,4,"ng-container",2),yh(6,Q$,4,10,"ng-container",2),yh(7,eW,4,7,"ng-container",2),yh(8,iW,3,3,"ng-container",2),yh(9,nW,4,19,"ng-template",3,4,jg),ag(11,"igxTopLevel"),yh(12,sW,3,3,"ng-container",2),Sh(),yh(13,oW,3,3,"ng-container",2),yh(14,aW,2,1,"ng-container",2),Sh(),bh(15,"div",5),yh(16,dW,3,9,"ng-template",6,7,jg)),2&e&&(tu("width",t.width,"px"),iu("igx-grid__tr--mrl",t.hasMRL),tc(1),tu("width",t.width,"px"),tc(1),_h("ngIf",t.grid.moving&&t.grid.columnInDrag&&t.pinnedColumnCollection.length<=0),tc(1),_h("ngIf",t.grid.moving&&t.grid.columnInDrag&&t.pinnedColumnCollection.length>0),tc(1),_h("ngIf",t.grid.rowDraggable),tc(1),_h("ngIf",t.grid.showRowSelectors),tc(1),_h("ngIf",t.isHierarchicalGrid),tc(1),_h("ngIf",null==t.grid||null==t.grid.groupingExpressions?null:t.grid.groupingExpressions.length),tc(1),_h("ngIf",t.pinnedColumnCollection.length&&t.grid.isPinningToStart),tc(1),_h("igxGridForOf",lg(11,25,t.unpinnedColumnCollection))("igxForScrollContainer",t.grid.parentVirtDir)("igxForContainerSize",t.grid.unpinnedWidth)("igxForTrackBy",t.grid.trackColumnChanges)("igxForSizePropName","calcPixelWidth")("igxForScrollOrientation","horizontal"),tc(3),_h("ngIf",t.pinnedColumnCollection.length&&!t.grid.isPinningToStart),tc(1),_h("ngIf",t.grid.filteringService.isFilterRowVisible),tc(1),_h("ngIf",t.grid.moving&&t.grid.columnInDrag),tc(1),tu("width",t.grid.scrollSize,"px"),_h("hidden",!t.grid.hasVerticalScroll()))},dependencies:[$m,uG,Zm,Bm,zm,LG,Xm,vA,p$,nk,I$,kz,Oz],encapsulation:2,changeDetection:0}),e})(),hW=(()=>{let e=class extends JT{constructor(){super(...arguments),this._rowDragStarted=!1,this.transitionEndEvent=()=>{this.ghostElement&&this.ghostElement.removeEventListener("transitionend",this.transitionEndEvent,!1),this.endDragging()}}set data(e){this._data=e}get data(){return this._data.grid.createRow(this._data.index,this._data.data)}get row(){return this._data}onPointerDown(e){e.preventDefault(),this._rowDragStarted=!1,this._removeOnDestroy=!1,super.onPointerDown(e)}onPointerMove(e){if(super.onPointerMove(e),this._dragStarted&&!this._rowDragStarted){this._rowDragStarted=!0;let t={dragDirective:this,dragData:this.data,dragElement:this.row.nativeElement,cancel:!1,owner:this.row.grid};if(this.row.grid.rowDragStart.emit(t),t.cancel)return this.ghostElement.parentNode.removeChild(this.ghostElement),this.ghostElement=null,this._dragStarted=!1,void(this._clicked=!1);this.row.grid.dragRowID=this.row.key,this.row.grid.rowDragging=!0,this.row.grid.cdr.detectChanges(),this.subscription$=Wt(this.row.grid.document.defaultView,"keydown").subscribe((t=>{t.key===this.platformUtil.KEYMAP.ESCAPE&&(this._lastDropArea=!1,this.onPointerUp(e))}))}}onPointerUp(e){if(!this._clicked)return;let t={dragDirective:this,dragData:this.data,dragElement:this.row.nativeElement,animation:!1,owner:this.row.grid};this.zone.run((()=>{this.row.grid.rowDragEnd.emit(t)}));let i=this._lastDropArea;super.onPointerUp(e),!i&&this.ghostElement?this.ghostElement.addEventListener("transitionend",this.transitionEndEvent,!1):this.endDragging()}createGhost(e,t){if(this.row.grid.gridAPI.crudService.endEdit(!1),this.row.grid.cdr.detectChanges(),this.ghostContext={$implicit:this.row.data,data:this.row.data,grid:this.row.grid},super.createGhost(e,t,this.row.nativeElement),this.isHierarchicalGrid){let e=this.row;if(e.expander){let t=e.expander.nativeElement.getBoundingClientRect().width;this._ghostHostX+=t}}let i=this.ghostElement,n=this.row.grid.nativeElement.getBoundingClientRect(),r=this.row.nativeElement.getBoundingClientRect();i.style.overflow="hidden",i.style.width=n.width+"px",i.style.height=r.height+"px",this.renderer.addClass(i,"igx-grid__tr--ghost"),this.renderer.removeClass(i,"igx-grid__tr--selected");let s=i.getElementsByClassName("igx-grid__td");for(let e of s)this.renderer.removeClass(e,"igx-grid__td--selected"),this.renderer.removeClass(e,"igx-grid__td--active")}_unsubscribe(){this.subscription$&&!this.subscription$.closed&&this.subscription$.unsubscribe()}endDragging(){this.onTransitionEnd(null),this.row.grid.dragRowID=null,this.row.grid.rowDragging=!1,this.row.grid.cdr.detectChanges(),this._unsubscribe()}get isHierarchicalGrid(){return/^ig.-hierarchical-grid$/.test(this.row.grid.nativeElement.tagName.toLowerCase())}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.dir=or({type:e,selectors:[["","igxRowDrag",""]],inputs:{data:["igxRowDrag","data"]},standalone:!0,features:[th]}),e})(),uW=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","igxDragIndicatorIcon",""]],standalone:!0}),e})(),gW=(()=>{let e=class{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxRowDragGhost",""]],standalone:!0}),e})(),pW=(()=>{let e=class{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxRowSelector",""]],standalone:!0}),e})(),mW=(()=>{let e=class{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxGroupByRowSelector",""]],standalone:!0}),e})(),fW=(()=>{let e=class{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxHeadSelector",""]],standalone:!0}),e})(),yW={};y(yW,{CSSResult:()=>SW,LitElement:()=>zW,ReactiveElement:()=>VW,UpdatingElement:()=>BW,_$LE:()=>$W,adoptStyles:()=>EW,css:()=>DW,defaultConverter:()=>OW,getCompatibleStyle:()=>IW,notEqual:()=>FW,supportsAdoptingStyleSheets:()=>_W,unsafeCSS:()=>bW});var vW,xW=window,_W=xW.ShadowRoot&&(void 0===xW.ShadyCSS||xW.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,wW=Symbol(),CW=new WeakMap,SW=class{constructor(e,t,i){if(this._$cssResult$=!0,i!==wW)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(_W&&void 0===e){let i=void 0!==t&&1===t.length;i&&(e=CW.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&CW.set(t,e))}return e}toString(){return this.cssText}},bW=e=>new SW("string"==typeof e?e:e+"",void 0,wW),DW=(e,...t)=>{let i=1===e.length?e[0]:t.reduce(((t,i,n)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[n+1]),e[0]);return new SW(i,e,wW)},EW=(e,t)=>{_W?e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):t.forEach((t=>{let i=document.createElement("style"),n=xW.litNonce;void 0!==n&&i.setAttribute("nonce",n),i.textContent=t.cssText,e.appendChild(i)}))},IW=_W?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(let i of e.cssRules)t+=i.cssText;return bW(t)})(e):e,TW=window,AW=TW.trustedTypes,RW=AW?AW.emptyScript:"",kW=TW.reactiveElementPolyfillSupport,OW={toAttribute(e,t){switch(t){case Boolean:e=e?RW:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=null!==e;break;case Number:i=null===e?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch{i=null}}return i}},FW=(e,t)=>t!==e&&(t==t||e==e),PW={attribute:!0,type:String,converter:OW,reflect:!1,hasChanged:FW},MW="finalized",VW=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),(null!==(t=this.h)&&void 0!==t?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();let e=[];return this.elementProperties.forEach(((t,i)=>{let n=this._$Ep(i,t);void 0!==n&&(this._$Ev.set(n,i),e.push(n))})),e}static createProperty(e,t=PW){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){let i="symbol"==typeof e?Symbol():"__"+e,n=this.getPropertyDescriptor(e,i,t);void 0!==n&&Object.defineProperty(this.prototype,e,n)}}static getPropertyDescriptor(e,t,i){return{get(){return this[t]},set(n){let r=this[e];this[t]=n,this.requestUpdate(e,r,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||PW}static finalize(){if(this.hasOwnProperty(MW))return!1;this[MW]=!0;let e=Object.getPrototypeOf(this);if(e.finalize(),void 0!==e.h&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(let i of t)this.createProperty(i,e[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let i=new Set(e.flat(1/0).reverse());for(let e of i)t.unshift(IW(e))}else void 0!==e&&t.push(IW(e));return t}static _$Ep(e,t){let i=t.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof e?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(e=this.constructor.h)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,i;(null!==(t=this._$ES)&&void 0!==t?t:this._$ES=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(i=e.hostConnected)||void 0===i||i.call(e))}removeController(e){var t;null===(t=this._$ES)||void 0===t||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e;let t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return EW(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$EO(e,t,i=PW){var n;let r=this.constructor._$Ep(e,i);if(void 0!==r&&!0===i.reflect){let s=(void 0!==(null===(n=i.converter)||void 0===n?void 0:n.toAttribute)?i.converter:OW).toAttribute(t,i.type);this._$El=e,null==s?this.removeAttribute(r):this.setAttribute(r,s),this._$El=null}}_$AK(e,t){var i;let n=this.constructor,r=n._$Ev.get(e);if(void 0!==r&&this._$El!==r){let e=n.getPropertyOptions(r),s="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==(null===(i=e.converter)||void 0===i?void 0:i.fromAttribute)?e.converter:OW;this._$El=r,this[r]=s.fromAttribute(t,e.type),this._$El=null}}requestUpdate(e,t,i){let n=!0;void 0!==e&&(((i=i||this.constructor.getPropertyOptions(e)).hasChanged||FW)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===i.reflect&&this._$El!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,i))):n=!1),!this.isUpdatePending&&n&&(this._$E_=this._$Ej())}_$Ej(){return _(this,null,(function*(){this.isUpdatePending=!0;try{yield this._$E_}catch(e){Promise.reject(e)}let e=this.scheduleUpdate();return null!=e&&(yield e),!this.isUpdatePending}))}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((e,t)=>this[t]=e)),this._$Ei=void 0);let t=!1,i=this._$AL;try{t=this.shouldUpdate(i),t?(this.willUpdate(i),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(i)):this._$Ek()}catch(e){throw t=!1,this._$Ek(),e}t&&this._$AE(i)}willUpdate(e){}_$AE(e){var t;null===(t=this._$ES)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){void 0!==this._$EC&&(this._$EC.forEach(((e,t)=>this._$EO(t,this[t],e))),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};VW[MW]=!0,VW.elementProperties=new Map,VW.elementStyles=[],VW.shadowRootOptions={mode:"open"},kW?.({ReactiveElement:VW}),(null!==(vW=TW.reactiveElementVersions)&&void 0!==vW?vW:TW.reactiveElementVersions=[]).push("1.6.3");var NW,LW,HW={};y(HW,{CSSResult:()=>SW,LitElement:()=>zW,ReactiveElement:()=>VW,UpdatingElement:()=>BW,_$LE:()=>$W,adoptStyles:()=>EW,css:()=>DW,defaultConverter:()=>OW,getCompatibleStyle:()=>IW,notEqual:()=>FW,supportsAdoptingStyleSheets:()=>_W,unsafeCSS:()=>bW}),x(HW,n);var BW=VW,zW=class extends VW{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;let i=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=i.firstChild),i}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=(0,n.render)(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}render(){return n.noChange}};zW.finalized=!0,zW._$litElement$=!0,null===(NW=globalThis.litElementHydrateSupport)||void 0===NW||NW.call(globalThis,{LitElement:zW});var GW=globalThis.litElementPolyfillSupport;GW?.({LitElement:zW});var $W={_$AK:(e,t,i)=>{e._$AK(t,i)},_$AL:e=>e._$AL};(null!==(LW=globalThis.litElementVersions)&&void 0!==LW?LW:globalThis.litElementVersions=[]).push("3.3.3"),x(yW,HW),x(yW,r);var WW,KW=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?f(m({},t),{finisher(i){i.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(i){i.createProperty(t.key,e)}};function jW(e){return(t,i)=>void 0!==i?((e,t,i)=>{t.constructor.createProperty(i,e)})(e,t,i):KW(e,t)}null===(WW=window.HTMLSlotElement)||void 0===WW||WW.prototype.assignedElements;var UW={};x(UW,s);var qW=Object.defineProperty,YW=Object.getOwnPropertyDescriptor,XW=(e,t,i,n)=>{for(var r,s=n>1?void 0:n?YW(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(s=(n?r(t,i,s):r(s))||s);return n&&s&&qW(t,i,s),s},ZW=class extends zW{constructor(){super(...arguments),this.text="Trial version of Ignite UI for Angular",this.url="https://www.infragistics.com/how-to-buy/renewal"}static register(){globalThis.customElements&&!globalThis.customElements.get(this.tagName)&&globalThis.customElements.define(this.tagName,this)}render(){return yW.html`
            <a part="link" href=${this.url} target="_blank">
                ${(0,UW.unsafeSVG)('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18px" height="18px" id="img"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-2zm-3-4h8v2H8z"/></svg>\n')}
                <span>${this.text}</span>
            </a>
            <span part="image"></span>
        `}};ZW.styles=bW(':host{display:block;position:absolute;bottom:0;right:0;width:100%;height:100%;z-index:10000;pointer-events:none}[part=link]{position:absolute;display:inline-flex;align-items:center;bottom:0;right:0;font-family:Titillium Web,sans-serif;font-size:.875rem;padding:.125rem .25rem;line-height:normal;border:1px solid var(--igx-watermark-border-color, var(--border-color, var(--igx-watermark-base-color, var(--base-color, #09f))));border-radius:var(--igx-watermark-border-radius, var(--border-radius, .125rem));color:var(--igx-watermark-color, var(--color, #fff));z-index:10002;background-color:var(--igx-watermark-link-background, var(--link-background, var(--igx-watermark-base-color, var(--base-color, #09f))));pointer-events:all;text-decoration:none}[part=link] svg{width:1.125rem;height:1.125rem;fill:currentColor;margin-inline-end:.25rem}[part=image]{width:100%;height:100%;position:absolute;top:0;left:0;z-index:10001;pointer-events:none;background-color:var(--igx-watermark-image-color, var(--image-color, color-mix(in srgb, var(--igx-watermark-base-color, var(--base-color, #09f)) var(--igx-watermark-image-opacity, var(--image-opacity, 15%)), transparent)));mask-image:var(--igx-watermark-background-image, var(--background-image, url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="184" height="104" viewBox="0 0 184 104"><path id="trial" d="M16.72,10.148L10.3,8.434l1.806-6.723L7.09,0.369,5.283,7.092,2.308,6.3,1.15,10.609l2.975,0.8L1.235,22.161q-1.345,5.007-.367,7.207T5.8,32.623a28.163,28.163,0,0,0,4.9.664l0.851-4.1-3.85-.88q-1.721-.46-1.889-1.5a11.188,11.188,0,0,1,.591-3.867l2.741-10.2,6.416,1.714ZM19.7,35.79l4.348-16.181,1.135-.144a33.871,33.871,0,0,1,7.382-.214L33.919,14.2a22.941,22.941,0,0,0-8.788,1.18L25.878,12.6l-5.021-1.342L14.629,34.436Zm16.783,4.485,6.229-23.182L37.64,15.738,31.412,38.921Zm7.287-27.123L45.2,7.82,40.132,6.466,38.7,11.8Zm20.042,11q-1.391-2.334-5.645-3.471a41.951,41.951,0,0,0-9.645-1.285l-0.773,3.62,1.513,0.3q4.563,0.822,7.538,1.617a3.562,3.562,0,0,1,2.2,1.382,3.528,3.528,0,0,1,.116,2.814L58.658,30.8,52.524,29.7a10.645,10.645,0,0,0-6.3.354q-2.306,1.074-3.253,4.6-1.981,7.372,4.946,9.223a18.357,18.357,0,0,0,7.946.285,10.134,10.134,0,0,0,5.722,3.368L62.76,43.72a2.665,2.665,0,0,1-1.343-1.03,2.273,2.273,0,0,1-.13-1.65l2.84-10.571Q65.2,26.482,63.808,24.147ZM57.7,34.367l-1.657,6.166-0.912.055A18.635,18.635,0,0,1,50,40.013q-2.836-.758-1.976-3.957a3.237,3.237,0,0,1,4.142-2.62ZM71.532,49.642l8.82-32.826-5.068-1.354-8.82,32.826Z"/></svg>\')));mask-size:12.5rem 9.375rem;mask-position:top left;-webkit-mask-image:var(--igx-watermark-background-image, var(--background-image, url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="184" height="104" viewBox="0 0 184 104"><path id="trial" d="M16.72,10.148L10.3,8.434l1.806-6.723L7.09,0.369,5.283,7.092,2.308,6.3,1.15,10.609l2.975,0.8L1.235,22.161q-1.345,5.007-.367,7.207T5.8,32.623a28.163,28.163,0,0,0,4.9.664l0.851-4.1-3.85-.88q-1.721-.46-1.889-1.5a11.188,11.188,0,0,1,.591-3.867l2.741-10.2,6.416,1.714ZM19.7,35.79l4.348-16.181,1.135-.144a33.871,33.871,0,0,1,7.382-.214L33.919,14.2a22.941,22.941,0,0,0-8.788,1.18L25.878,12.6l-5.021-1.342L14.629,34.436Zm16.783,4.485,6.229-23.182L37.64,15.738,31.412,38.921Zm7.287-27.123L45.2,7.82,40.132,6.466,38.7,11.8Zm20.042,11q-1.391-2.334-5.645-3.471a41.951,41.951,0,0,0-9.645-1.285l-0.773,3.62,1.513,0.3q4.563,0.822,7.538,1.617a3.562,3.562,0,0,1,2.2,1.382,3.528,3.528,0,0,1,.116,2.814L58.658,30.8,52.524,29.7a10.645,10.645,0,0,0-6.3.354q-2.306,1.074-3.253,4.6-1.981,7.372,4.946,9.223a18.357,18.357,0,0,0,7.946.285,10.134,10.134,0,0,0,5.722,3.368L62.76,43.72a2.665,2.665,0,0,1-1.343-1.03,2.273,2.273,0,0,1-.13-1.65l2.84-10.571Q65.2,26.482,63.808,24.147ZM57.7,34.367l-1.657,6.166-0.912.055A18.635,18.635,0,0,1,50,40.013q-2.836-.758-1.976-3.957a3.237,3.237,0,0,1,4.142-2.62ZM71.532,49.642l8.82-32.826-5.068-1.354-8.82,32.826Z"/></svg>\')));-webkit-mask-position:top left}\n'),ZW.tagName="igc-trial-watermark",XW([jW({attribute:"text"})],ZW.prototype,"text",2),XW([jW({attribute:"url"})],ZW.prototype,"url",2);var QW=(()=>{let e=class{};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","igxGridBody",""]],standalone:!0,features:[Nu([uA])]}),e})(),JW=class extends qE{constructor(){super(...arguments),this.isTop=!1,this.isTopInitialPosition=null}position(e,t,i,n,r){let s=this.settings.container,o=r||this.settings.target;this.isTop=null!==this.isTopInitialPosition?this.isTopInitialPosition:s.getBoundingClientRect().bottom<o.getBoundingClientRect().bottom+e.getBoundingClientRect().height,e.style.width=o.clientWidth+"px",this.settings.verticalStartPoint=this.settings.verticalDirection=this.isTop?GE.Top:GE.Bottom,this.settings.openAnimation=this.isTop?Qv:Yv,super.position(e,{width:o.clientWidth,height:o.clientHeight},i,n,o)}},eK=["*"],tK=(()=>{let e=class{};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","excelText",""],["excel-text"]],standalone:!0}),e})(),iK=(()=>{let e=class{};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","csvText",""],["csv-text"]],standalone:!0}),e})(),nK=(()=>{let e=class{constructor(){this.cssClass="igx-grid-toolbar__title"}};return e.fac=function(t){return new(t||e)},e.cmp=tr({type:e,selectors:[["igx-grid-toolbar-title"]],hostVars:2,hostBindings:function(e,t){2&e&&iu("igx-grid-toolbar__title",t.cssClass)},standalone:!0,features:[Wu],ngContentSelectors:eK,decls:1,vars:0,template:function(e,t){1&e&&(Lh(),Hh(0))},encapsulation:2}),e})(),rK=(()=>{let e=class{constructor(){this.cssClass="igx-grid-toolbar__actions"}};return e.fac=function(t){return new(t||e)},e.cmp=tr({type:e,selectors:[["igx-grid-toolbar-actions"]],hostVars:2,hostBindings:function(e,t){2&e&&iu("igx-grid-toolbar__actions",t.cssClass)},standalone:!0,features:[Wu],ngContentSelectors:eK,decls:1,vars:0,template:function(e,t){1&e&&(Lh(),Hh(0))},encapsulation:2}),e})(),sK=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxGridToolbar",""]],standalone:!0}),e})(),oK=class{};function aK(e,t){if(1&e&&(Ch(0,"span"),fu(1),Sh()),2&e){let e=Vh();tc(1),vu(null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_advanced_filtering_button_label)}}var lK=["*"],dK=(()=>{let e=class{get grid(){return this.toolbar.grid}constructor(e){this.toolbar=e}};return e.fac=function(t){return new(t||e)(nc(oK))},e.cmp=tr({type:e,selectors:[["igx-grid-toolbar-advanced-filtering"]],inputs:{overlaySettings:"overlaySettings"},standalone:!0,features:[Wu],ngContentSelectors:lK,decls:7,vars:4,consts:[["igxButton","outlined","type","button","name","btnAdvancedFiltering","igxRipple","",3,"displayDensity","title","ngClass","click"],["ref",""],[4,"ngIf"]],template:function(e,t){if(1&e&&(Lh(),Ch(0,"button",0),Fh("click",(function(){return t.grid.openAdvancedFilteringDialog(t.overlaySettings)})),Ch(1,"igx-icon"),fu(2,"filter_list"),Sh(),Ch(3,"span",null,1),Hh(5),Sh(),yh(6,aK,2,1,"span",2),Sh()),2&e){let e=xh(4);_h("displayDensity",t.grid.displayDensity)("title",null==t.grid?null:t.grid.resourceStrings.igx_grid_toolbar_advanced_filtering_button_tooltip)("ngClass",t.grid.advancedFilteringExpressionsTree?"igx-grid-toolbar__adv-filter--filtered":"igx-grid-toolbar__adv-filter"),tc(6),_h("ngIf",!e.textContent.trim())}},dependencies:[HI,DA,Bm,XI,$m],encapsulation:2}),e})();function cK(e,t){1&e&&Hh(0,2)}function hK(e,t){1&e&&bh(0,"igx-grid-toolbar-advanced-filtering")}function uK(e,t){if(1&e&&(Ch(0,"igx-grid-toolbar-actions"),yh(1,hK,1,0,"igx-grid-toolbar-advanced-filtering",2),Sh()),2&e){let e=Vh();tc(1),_h("ngIf",null==e.grid?null:e.grid.allowAdvancedFiltering)}}function gK(e,t){1&e&&Th(0)}function pK(e,t){1&e&&(Ch(0,"div",5),bh(1,"igx-linear-bar",6),Sh()),2&e&&(tc(1),_h("indeterminate",!0))}var mK=[[["","igxGridToolbarTitle",""],["igx-grid-toolbar-title"],["igc-grid-toolbar-title"]],"*",[["","igxGridToolbarActions",""],["igx-grid-toolbar-actions"],["igc-grid-toolbar-actions"]]],fK=["[igxGridToolbarTitle],igx-grid-toolbar-title,igc-grid-toolbar-title","*","[igxGridToolbarActions],igx-grid-toolbar-actions,igc-grid-toolbar-actions"],yK=(()=>{let e=class extends kI{get grid(){return this._grid?this._grid:this.api.grid}set grid(e){this._grid=e}get nativeElement(){return this.element.nativeElement}get cosyStyle(){return"cosy"===this.displayDensity}get compactStyle(){return"compact"===this.displayDensity}constructor(e,t,i,n){super(e,n),this._displayDensityOptions=e,this.api=t,this.iconService=i,this.element=n,this.showProgress=!1,this.defaultStyle=!0,this.iconService.addSvgIconFromText(Kk.name,Kk.value,"imx-icons"),this.iconService.addSvgIconFromText(jk.name,jk.value,"imx-icons")}ngOnDestroy(){this.sub?.unsubscribe()}};return e.fac=function(t){return new(t||e)(nc(RI,8),nc(uk),nc(zI),nc(wd))},e.cmp=tr({type:e,selectors:[["igx-grid-toolbar"]],contentQueries:function(e,t,i){if(1&e&&zg(i,rK,5),2&e){let e;Hg(e=Gg())&&(t.hasActions=e.first)}},hostVars:6,hostBindings:function(e,t){2&e&&iu("igx-grid-toolbar",t.defaultStyle)("igx-grid-toolbar--cosy",t.cosyStyle)("igx-grid-toolbar--compact",t.compactStyle)},inputs:{showProgress:"showProgress",grid:"grid"},standalone:!0,features:[Nu([{provide:oK,useExisting:e}]),th,Wu],ngContentSelectors:fK,decls:8,vars:3,consts:[[1,"igx-grid-toolbar__custom-content"],["actions",""],[4,"ngIf"],[4,"ngTemplateOutlet"],["class","igx-grid-toolbar__progress-bar",4,"ngIf"],[1,"igx-grid-toolbar__progress-bar"],[3,"indeterminate"]],template:function(e,t){if(1&e&&(Lh(mK),Hh(0),Ch(1,"div",0),Hh(2,1),Sh(),yh(3,cK,1,0,"ng-template",null,1,jg),yh(5,uK,2,1,"igx-grid-toolbar-actions",2),yh(6,gK,1,0,"ng-container",3),yh(7,pK,2,1,"div",4)),2&e){let e=xh(4);tc(5),_h("ngIf",!t.hasActions),tc(1),_h("ngTemplateOutlet",e),tc(1),_h("ngIf",t.showProgress)}},dependencies:[$m,rK,dK,Zm,NL],encapsulation:2}),e})(),vK=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","igxRowEdit",""]],standalone:!0}),e})(),xK=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","igxRowEditText",""]],standalone:!0}),e})(),_K=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","igxRowAddText",""]],standalone:!0}),e})(),wK=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","igxRowEditActions",""]],standalone:!0}),e})(),CK=(()=>{let e=class{constructor(e,t){this.grid=e,this.element=t}handleTab(e){e.stopPropagation(),(this.grid.rowEditTabs.last===this&&!e.shiftKey||this.grid.rowEditTabs.first===this&&e.shiftKey)&&this.move(e)}handleEscape(e){this.grid.crudService.endEdit(!1,e),this.grid.tbody.nativeElement.focus()}handleEnter(e){e.stopPropagation()}move(e){e.preventDefault(),this.currentCellIndex=e.shiftKey?this.grid.lastEditableColumnIndex:this.grid.firstEditableColumnIndex,this.grid.navigation.activeNode.row=this.grid.crudService.rowInEditMode.index,this.grid.navigation.activeNode.column=this.currentCellIndex,this.grid.navigateTo(this.grid.crudService.rowInEditMode.index,this.currentCellIndex,(t=>{t.target.activate(e),this.grid.cdr.detectChanges()}))}};return e.fac=function(t){return new(t||e)(nc(hk),nc(wd))},e.dir=or({type:e,selectors:[["","igxRowEditTabStop",""]],hostBindings:function(e,t){1&e&&Fh("keydown.Tab",(function(e){return t.handleTab(e)}))("keydown.Shift.Tab",(function(e){return t.handleTab(e)}))("keydown.Escape",(function(e){return t.handleEscape(e)}))("keydown.Enter",(function(e){return t.handleEnter(e)}))},standalone:!0}),e})();function SK(e,t){1&e&&Th(0)}var bK=function(e){return{$implicit:e}};function DK(e,t){if(1&e&&(Eh(0),yh(1,SK,1,0,"ng-container",2),Ih()),2&e){let e=Vh(),t=xh(2);tc(1),_h("ngTemplateOutlet",e.summaryTemplate?e.summaryTemplate:t)("ngTemplateOutletContext",ju(2,bK,e.summaryResults))}}function EK(e,t){if(1&e&&(Eh(0),Ch(1,"div",4)(2,"span",5),fu(3),Sh(),Ch(4,"span",6),fu(5),Sh()(),Ih()),2&e){let e=t.$implicit,i=Vh(2);tc(1),tu("height",i.itemHeight,"px"),tc(1),_h("title",e.label),tc(1),vu(i.translateSummary(e)),tc(1),_h("title",i.formatSummaryResult(e)),tc(1),xu(" ",i.formatSummaryResult(e)," ")}}function IK(e,t){1&e&&yh(0,EK,6,6,"ng-container",3),2&e&&_h("ngForOf",Vh().summaryResults)}var TK=(()=>{let e=class{constructor(e){this.element=e,this.firstCellIndentation=0,this.hasSummary=!1}get visibleColumnIndex(){return this.column.visibleIndex}get attrCellID(){return`${this.grid.id}_${this.rowIndex}_${this.visibleColumnIndex}`}activate(){let e=this.grid.navigation.activeNode;e&&this.rowIndex===e.row&&this.visibleColumnIndex===e.column||(this.grid.navigation.setActiveNode({row:this.rowIndex,column:this.visibleColumnIndex},"summaryCell"),this.grid.cdr.detectChanges())}get selectionNode(){return{row:this.rowIndex,column:this.column.columnLayoutChild?this.column.parent.visibleIndex:this.visibleColumnIndex,isSummaryRow:!0}}get width(){return this.column.getCellWidth()}get nativeElement(){return this.element.nativeElement}get columnDatatype(){return this.column.dataType}get itemHeight(){return this.column.grid.defaultSummaryHeight}get grid(){return this.column.grid}get currencyCode(){return this.column.pipeArgs.currencyCode?this.column.pipeArgs.currencyCode:Qp(this.grid.locale)}get currencySymbol(){return this.column.pipeArgs.display?this.column.pipeArgs.display:function(e){return Eu(e)[Tu.CurrencySymbol]||null}(this.grid.locale)}translateSummary(e){return this.grid.resourceStrings[`igx_grid_summary_${e.key}`]||e.label}formatSummaryResult(e){if(void 0===e.summaryResult||null===e.summaryResult||""===e.summaryResult)return"";if(this.summaryFormatter)return this.summaryFormatter(e,this.column.summaries);let t=this.column.pipeArgs,i=this.grid.locale;if("count"===e.key)return Mm(e.summaryResult,i);if(e.defaultFormatting)switch(this.column.dataType){case Wb.Number:return Mm(e.summaryResult,i,t.digitsInfo);case Wb.Date:case Wb.DateTime:case Wb.Time:return dm(e.summaryResult,t.format,i,t.timezone);case Wb.Currency:return Fm(e.summaryResult,i,this.currencySymbol,this.currencyCode,t.digitsInfo);case Wb.Percent:return Pm(e.summaryResult,i,t.digitsInfo)}return e.summaryResult}};return e.fac=function(t){return new(t||e)(nc(wd))},e.cmp=tr({type:e,selectors:[["igx-grid-summary-cell"]],hostVars:5,hostBindings:function(e,t){1&e&&Fh("pointerdown",(function(){return t.activate()})),2&e&&(ph("data-rowIndex",t.rowIndex)("data-visibleIndex",t.visibleColumnIndex)("id",t.attrCellID),iu("igx-grid-summary--active",t.active))},inputs:{summaryResults:"summaryResults",column:"column",firstCellIndentation:"firstCellIndentation",hasSummary:"hasSummary",density:"density",summaryFormatter:"summaryFormatter",summaryTemplate:"summaryTemplate",active:"active",rowIndex:"rowIndex"},standalone:!0,features:[Wu],decls:3,vars:1,consts:[[4,"ngIf"],["defaultSummary",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[1,"igx-grid-summary__item"],[1,"igx-grid-summary__label",3,"title"],[1,"igx-grid-summary__result",3,"title"]],template:function(e,t){1&e&&(yh(0,DK,2,4,"ng-container",0),yh(1,IK,1,1,"ng-template",null,1,jg)),2&e&&_h("ngIf",t.hasSummary)},dependencies:[$m,Zm,zm],encapsulation:2,changeDetection:0}),e})(),AK=["igxDirRef"];function RK(e,t){if(1&e&&(Eh(0),Ch(1,"div",4),Fh("pointerdown",(function(e){return e.preventDefault()})),Sh(),Ih()),2&e){let e=Vh(2);tc(1),tu("min-width",e.grid.summariesMargin,"px")("flex-basis",e.grid.summariesMargin,"px")}}function kK(e,t){1&e&&Th(0)}function OK(e,t){if(1&e&&(Eh(0),yh(1,kK,1,0,"ng-container",5),Ih()),2&e){let e=Vh(2),t=xh(2);tc(1),_h("ngTemplateOutlet",t)("ngTemplateOutletContext",e.getContext(e))}}function FK(e,t){if(1&e&&bh(0,"igx-grid-summary-cell",6),2&e){let e=t.$implicit,i=Vh(2);tu("max-height",i.minHeight,"px")("min-height",i.minHeight,"px")("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth),iu("igx-grid-summary--cosy","cosy"===i.grid.displayDensity)("igx-grid-summary--compact","compact"===i.grid.displayDensity)("igx-grid-summary--empty",!e.hasSummary)("igx-grid-summary--pinned-last",e.isLastPinned),_h("column",e)("rowIndex",i.index)("firstCellIndentation",i.firstCellIndentation)("summaryResults",i.getColumnSummaries(e.field))("summaryTemplate",e.summaryTemplate)("hasSummary",e.hasSummary)("density",i.grid.displayDensity)("summaryFormatter",e.summaryFormatter)("active",i.isCellActive(e.visibleIndex))}}function PK(e,t){1&e&&Th(0)}function MK(e,t){if(1&e&&(Eh(0),yh(1,PK,1,0,"ng-container",5),Ih()),2&e){let e=Vh(2),t=xh(2);tc(1),_h("ngTemplateOutlet",t)("ngTemplateOutletContext",e.getContext(e))}}function VK(e,t){if(1&e&&(Eh(0),yh(1,RK,2,4,"ng-container",0),yh(2,OK,2,2,"ng-container",0),yh(3,FK,1,27,"ng-template",2,3,jg),ag(5,"igxNotGrouped"),yh(6,MK,2,2,"ng-container",0),Ih()),2&e){let e=Vh();tc(1),_h("ngIf",e.grid.summariesMargin),tc(1),_h("ngIf",e.pinnedColumns.length>0&&e.grid.isPinningToStart),tc(1),_h("igxGridForOf",lg(5,9,e.unpinnedColumns))("igxForScrollContainer",e.grid.parentVirtDir)("igxForScrollOrientation","horizontal")("igxForContainerSize",e.grid.unpinnedWidth)("igxForTrackBy",e.grid.trackColumnChanges)("igxForSizePropName","calcPixelWidth"),tc(3),_h("ngIf",e.pinnedColumns.length>0&&!e.grid.isPinningToStart)}}function NK(e,t){if(1&e&&bh(0,"igx-grid-summary-cell",8),2&e){let e=t.$implicit,i=Vh(2);tu("max-height",i.minHeight,"px")("min-height",i.minHeight,"px")("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth)("left",e.rightPinnedOffset),iu("igx-grid-summary--cosy","cosy"===i.grid.displayDensity)("igx-grid-summary--compact","compact"===i.grid.displayDensity)("igx-grid-summary--empty",!e.hasSummary)("igx-grid-summary--pinned-first",e.isFirstPinned)("igx-grid-summary--pinned-last",e.isLastPinned),_h("column",e)("firstCellIndentation",i.firstCellIndentation)("rowIndex",i.index)("summaryResults",i.getColumnSummaries(e.field))("summaryTemplate",e.summaryTemplate)("hasSummary",e.hasSummary)("density",i.grid.displayDensity)("active",i.isCellActive(e.visibleIndex))}}function LK(e,t){1&e&&(yh(0,NK,1,30,"igx-grid-summary-cell",7),ag(1,"igxNotGrouped")),2&e&&_h("ngForOf",lg(1,1,Vh().pinnedColumns))}var HK=(()=>{let e=class{get dataRowIndex(){return this.index}get minHeight(){return this.grid.summaryRowHeight-1}get summaryCells(){let e=new mg;if(!this._summaryCells)return e;let t=this._summaryCells.filter((e=>e.nativeElement.isConnected));return e.reset(t),e}set summaryCells(e){}constructor(e,t,i){this.grid=e,this.element=t,this.cdr=i,this.firstCellIndentation=-1}ngDoCheck(){this.cdr.markForCheck()}get nativeElement(){return this.element.nativeElement}getColumnSummaries(e){return this.summaries.get(e)?this.summaries.get(e):[]}isCellActive(e){let t=this.grid.navigation.activeNode;return!!t&&t.row===this.index&&t.column===e}get pinnedColumns(){return this.grid.pinnedColumns}get unpinnedColumns(){return this.grid.unpinnedColumns}getContext(e){return{$implicit:e}}};return e.fac=function(t){return new(t||e)(nc(hk),nc(wd),nc(fp))},e.cmp=tr({type:e,selectors:[["igx-grid-summary-row"]],viewQuery:function(e,t){if(1&e&&(Bg(AK,5,vA),Bg(TK,5,TK)),2&e){let e;Hg(e=Gg())&&(t.virtDirRow=e.first),Hg(e=Gg())&&(t._summaryCells=e)}},hostVars:1,hostBindings:function(e,t){2&e&&ph("data-rowIndex",t.dataRowIndex)},inputs:{summaries:"summaries",gridID:"gridID",index:"index",firstCellIndentation:"firstCellIndentation"},standalone:!0,features:[Nu([uA]),Wu],decls:3,vars:1,consts:[[4,"ngIf"],["summaryCellTemplate",""],["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForScrollOrientation","igxForContainerSize","igxForTrackBy","igxForSizePropName"],["igxDirRef",""],[1,"igx-grid__summaries-patch",3,"pointerdown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","cell",1,"igx-grid-summary","igx-grid-summary--fw",3,"column","rowIndex","firstCellIndentation","summaryResults","summaryTemplate","hasSummary","density","summaryFormatter","active"],["role","cell","class","igx-grid-summary igx-grid-summary--fw igx-grid-summary--pinned",3,"igx-grid-summary--cosy","igx-grid-summary--compact","igx-grid-summary--empty","igx-grid-summary--pinned-first","igx-grid-summary--pinned-last","column","firstCellIndentation","rowIndex","summaryResults","summaryTemplate","hasSummary","density","active","max-height","min-height","min-width","max-width","flex-basis","left",4,"ngFor","ngForOf"],["role","cell",1,"igx-grid-summary","igx-grid-summary--fw","igx-grid-summary--pinned",3,"column","firstCellIndentation","rowIndex","summaryResults","summaryTemplate","hasSummary","density","active"]],template:function(e,t){1&e&&(yh(0,VK,7,11,"ng-container",0),yh(1,LK,2,3,"ng-template",null,1,jg)),2&e&&_h("ngIf",t.summaries.size)},dependencies:[$m,Zm,vA,TK,zm,E$],encapsulation:2,changeDetection:0}),e})(),BK=(()=>{let e=class{constructor(e,t,i){this.element=e,this.document=t,this.zone=i,this.restrictHResizeMin=Number.MIN_SAFE_INTEGER,this.restrictHResizeMax=Number.MAX_SAFE_INTEGER,this.resizeEnd=new Xe,this.resizeStart=new Xe,this.resize=new Xe,this._destroy=new Xe,this.resizeStart.pipe(Si(this._destroy),At((e=>e.clientX)),_i((e=>this.resize.pipe(Si(this._destroy),Si(this.resizeEnd),At((t=>t.clientX-e)))))).subscribe((e=>{let t=this._left+e,i=this._left-this.restrictHResizeMin,n=this._left+this.restrictHResizeMax;this.left=t<i?i:t,t>n&&(this.left=n)}))}ngOnInit(){this.zone.runOutsideAngular((()=>{Wt(this.document.defaultView,"mousemove").pipe(Si(this._destroy),ki((()=>Ut(0,St)))).subscribe((e=>this.onMousemove(e))),Wt(this.document.defaultView,"mouseup").pipe(Si(this._destroy)).subscribe((e=>this.onMouseup(e)))}))}ngOnDestroy(){this._destroy.next(!0),this._destroy.complete()}set left(e){requestAnimationFrame((()=>this.element.nativeElement.style.left=e+"px"))}set top(e){null!=this.restrictResizerTop?requestAnimationFrame((()=>this.element.nativeElement.style.top=this.restrictResizerTop+"px")):requestAnimationFrame((()=>this.element.nativeElement.style.top=e+"px"))}onMouseup(e){this.resizeEnd.next(e),this.resizeEnd.complete()}onMousedown(e){e.preventDefault();let t=this.element.nativeElement.parentElement.parentElement;this.left=this._left=e.clientX-t.getBoundingClientRect().left,this.top=e.target.getBoundingClientRect().top-t.getBoundingClientRect().top,this.resizeStart.next(e)}onMousemove(e){e.preventDefault(),this.resize.next(e)}};return e.fac=function(t){return new(t||e)(nc(wd),nc(Hp),nc(Vd))},e.dir=or({type:e,selectors:[["","igxResizer",""]],inputs:{restrictHResizeMin:"restrictHResizeMin",restrictHResizeMax:"restrictHResizeMax",restrictResizerTop:"restrictResizerTop"},outputs:{resizeEnd:"resizeEnd",resizeStart:"resizeStart",resize:"resize"},standalone:!0}),e})(),zK=(()=>{let e=class{constructor(e){this.colResizingService=e}};return e.fac=function(t){return new(t||e)(nc(Fz))},e.cmp=tr({type:e,selectors:[["igx-grid-column-resizer"]],viewQuery:function(e,t){if(1&e&&Bg(BK,7),2&e){let e;Hg(e=Gg())&&(t.resizer=e.first)}},inputs:{restrictResizerTop:"restrictResizerTop"},standalone:!0,features:[Wu],decls:1,vars:7,consts:[["igxResizer","",1,"igx-grid-th__resize-line",3,"restrictHResizeMax","restrictHResizeMin","restrictResizerTop","resizeEnd"]],template:function(e,t){1&e&&(Ch(0,"div",0),Fh("resizeEnd",(function(e){return t.colResizingService.resizeColumn(e)})),Sh()),2&e&&(tu("left",-99999,"px")("height",t.colResizingService.resizerHeight,"px"),_h("restrictHResizeMax",t.colResizingService.restrictResizeMax)("restrictHResizeMin",t.colResizingService.restrictResizeMin)("restrictResizerTop",t.restrictResizerTop))},dependencies:[BK],encapsulation:2,changeDetection:0}),e})(),GK=(()=>{let e=class extends FA{constructor(){super(...arguments),this.ariaLive="polite",this.autoHide=!0,this.displayTime=4e3,this.textMessage=""}get isVisible(){return!this.collapsed}set isVisible(e){e!==this.isVisible&&(e?requestAnimationFrame((()=>{this.open()})):this.close())}open(){clearInterval(this.timeoutId);let e={positionStrategy:this.strategy,closeOnEscape:!1,closeOnOutsideClick:!1,modal:!1,outlet:this.outlet};super.open(e),this.autoHide&&(this.timeoutId=window.setTimeout((()=>{this.close()}),this.displayTime))}close(){clearTimeout(this.timeoutId),super.close()}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.dir=or({type:e,hostVars:1,hostBindings:function(e,t){2&e&&ph("aria-live",t.ariaLive)},inputs:{ariaLive:"ariaLive",autoHide:"autoHide",displayTime:"displayTime",outlet:"outlet",isVisible:"isVisible"},features:[th]}),e})();function $K(e,t){if(1&e){let e=Rh();Ch(0,"button",4),Fh("click",(function(){return Bs(e),zs(Vh().triggerAction())})),fu(1),Sh()}if(2&e){let e=Vh();tc(1),xu(" ",e.actionText,"\n")}}var WK,KK=["*",[["","igxButton",""]]],jK=["*","[igxButton]"],UK=0,qK=(()=>{let e=class extends GK{constructor(){super(...arguments),this.id="igx-snackbar-"+UK++,this.cssClass="igx-snackbar",this.clicked=new Pd,this.animationStarted=new Pd,this.animationDone=new Pd,this._positionSettings={horizontalDirection:zE.Center,verticalDirection:GE.Bottom,openAnimation:Ey(Fy,{params:{duration:".35s",easing:"cubic-bezier(0.0, 0.0, 0.2, 1)",fromPosition:"translateY(100%)",toPosition:"translateY(0)"}}),closeAnimation:Ey(Py,{params:{duration:".2s",easing:"cubic-bezier(0.4, 0.0, 1, 1)",fromPosition:"translateY(0)",toPosition:"translateY(100%)"}})}}get positionSettings(){return this._positionSettings}set positionSettings(e){this._positionSettings=e}open(e){void 0!==e&&(this.textMessage=e),this.strategy=this.outlet?new JE(this.positionSettings):new QE(this.positionSettings),super.open()}toggle(){this.collapsed||this.isClosing?this.open():this.close()}triggerAction(){this.clicked.emit(this)}ngOnInit(){this.opened.pipe(Si(this.destroy$)).subscribe((()=>{let e={owner:this,id:this._overlayId};this.animationStarted.emit(e)})),this.closed.pipe(Si(this.destroy$)).subscribe((()=>{let e={owner:this,id:this._overlayId};this.animationDone.emit(e)}))}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.cmp=tr({type:e,selectors:[["igx-snackbar"]],hostVars:3,hostBindings:function(e,t){2&e&&(ph("id",t.id),iu("igx-snackbar",t.cssClass))},inputs:{id:"id",actionText:"actionText",positionSettings:"positionSettings"},outputs:{clicked:"clicked",animationStarted:"animationStarted",animationDone:"animationDone"},standalone:!0,features:[th,Wu],ngContentSelectors:jK,decls:7,vars:2,consts:[[1,"igx-snackbar__message"],[1,"igx-snackbar__button"],["customButton",""],["igxButton","",3,"click",4,"ngIf"],["igxButton","",3,"click"]],template:function(e,t){if(1&e&&(Lh(KK),Ch(0,"div",0),fu(1),Hh(2),Sh(),Ch(3,"div",1,2),Hh(5,1),Sh(),yh(6,$K,2,1,"button",3)),2&e){let e=xh(4);tc(1),xu(" ",t.textMessage," "),tc(5),_h("ngIf",!e.children.length&&t.actionText)}},dependencies:[$m,HI],encapsulation:2}),e})(),YK=new Uint8Array(16);function XK(){if(!WK&&!(WK=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return WK(YK)}var ZK=[];for(let e=0;e<256;++e)ZK.push((e+256).toString(16).slice(1));var QK={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},JK=function(e,t,i){if(QK.randomUUID&&!t&&!e)return QK.randomUUID();let n=(e=e||{}).random||(e.rng||XK)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){i=i||0;for(let e=0;e<16;++e)t[i+e]=n[e];return t}return function(e,t=0){return ZK[e[t+0]]+ZK[e[t+1]]+ZK[e[t+2]]+ZK[e[t+3]]+"-"+ZK[e[t+4]]+ZK[e[t+5]]+"-"+ZK[e[t+6]]+ZK[e[t+7]]+"-"+ZK[e[t+8]]+ZK[e[t+9]]+"-"+ZK[e[t+10]]+ZK[e[t+11]]+ZK[e[t+12]]+ZK[e[t+13]]+ZK[e[t+14]]+ZK[e[t+15]]}(n)};function ej(e,t){1&e&&bh(0,"igx-page-size")}function tj(e,t){1&e&&bh(0,"igx-page-nav")}var ij=[[["","igxPaginatorContent",""],["igx-paginator-content"]]],nj=["[igxPaginatorContent],igx-paginator-content"];function rj(e,t){if(1&e&&(Ch(0,"igx-select-item",4),fu(1),Sh()),2&e){let e=t.$implicit;_h("value",e),tc(1),xu(" ",e," ")}}var sj=(()=>{let e=class{constructor(){this.cssClass="igx-paginator-content"}};return e.fac=function(t){return new(t||e)},e.dir=or({type:e,selectors:[["","igxPaginatorContent",""],["igx-paginator-content"]],hostVars:2,hostBindings:function(e,t){2&e&&iu("igx-paginator-content",t.cssClass)},standalone:!0}),e})(),oj=(()=>{let e=class extends kI{get componentSize(){return this.getComponentSizeStyles()}get page(){return this._page}set page(e){if(this._page===e||e<0||e>this.totalPages)return;let t={current:this._page,next:e,cancel:!1},i={previous:this._page,current:e};this.paging.emit(t),!t.cancel&&(this._page=e,this.pageChange.emit(this._page),this.pagingDone.emit(i))}get perPage(){return this._perPage}set perPage(e){e<0||this.perPage===e||(this._perPage=Number(e),this.perPageChange.emit(this._perPage),this._selectOptions=this.sortUniqueOptions(this.defaultSelectValues,this._perPage),this.totalPages=Math.ceil(this.totalRecords/this._perPage),0!==this.totalPages&&this.page>=this.totalPages&&(this.page=this.totalPages-1))}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.totalPages=Math.ceil(this.totalRecords/this.perPage),this.page>this.totalPages&&(this.page=0),this.cdr.detectChanges()}get selectOptions(){return this._selectOptions}set selectOptions(e){this._selectOptions=this.sortUniqueOptions(e,this._perPage),this.defaultSelectValues=[...e]}get overlaySettings(){return this._overlaySettings}set overlaySettings(e){this._overlaySettings=Object.assign({},this._overlaySettings,e)}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}constructor(e,t,i){super(e,t),this._displayDensityOptions=e,this.elementRef=t,this.cdr=i,this.perPageChange=new Pd,this.pageChange=new Pd,this.paging=new Pd,this.pagingDone=new Pd,this._page=0,this._selectOptions=[5,10,15,25,50,100,500],this._perPage=15,this._resourceStrings=FI.PaginatorResStrings,this._overlaySettings={},this.defaultSelectValues=[5,10,15,25,50,100,500],this.cssClass="igx-paginator"}get isLastPage(){return this.page+1>=this.totalPages}get isFirstPage(){return 0===this.page}get isFirstPageDisabled(){return this.isFirstPage}get isLastPageDisabled(){return this.isLastPage}get nativeElement(){return this.elementRef.nativeElement}nextPage(){this.isLastPage||(this.page+=1)}previousPage(){this.isFirstPage||(this.page-=1)}paginate(e){e<0||e>this.totalPages-1||(this.page=e)}sortUniqueOptions(e,t){return Array.from(new Set([...e,t])).sort(((e,t)=>e-t))}};return e.fac=function(t){return new(t||e)(nc(RI,8),nc(wd),nc(fp))},e.cmp=tr({type:e,selectors:[["igx-paginator"]],contentQueries:function(e,t,i){if(1&e&&zg(i,sj,5),2&e){let e;Hg(e=Gg())&&(t.customContent=e.first)}},hostVars:4,hostBindings:function(e,t){2&e&&(tu("--component-size",t.componentSize),iu("igx-paginator",t.cssClass))},inputs:{page:"page",perPage:"perPage",totalRecords:"totalRecords",selectOptions:"selectOptions",overlaySettings:"overlaySettings",resourceStrings:"resourceStrings"},outputs:{perPageChange:"perPageChange",pageChange:"pageChange",paging:"paging",pagingDone:"pagingDone"},standalone:!0,features:[th,Wu],ngContentSelectors:nj,decls:3,vars:2,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(Lh(ij),Hh(0),yh(1,ej,1,0,"igx-page-size",0),yh(2,tj,1,0,"igx-page-nav",0)),2&e&&(tc(1),_h("ngIf",!t.customContent),tc(1),_h("ngIf",!t.customContent))},dependencies:function(){return[$m,aj,lj]},encapsulation:2}),e})(),aj=(()=>{let e=class{constructor(e){this.paginator=e,this.cssClass="igx-page-size"}};return e.fac=function(t){return new(t||e)(nc(oj,1))},e.cmp=tr({type:e,selectors:[["igx-page-size"]],hostVars:2,hostBindings:function(e,t){2&e&&iu("igx-page-size",t.cssClass)},standalone:!0,features:[Wu],decls:5,vars:4,consts:[[1,"igx-page-size__label"],[1,"igx-page-size__select"],["type","border",3,"overlaySettings","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(Ch(0,"label",0),fu(1),Sh(),Ch(2,"div",1)(3,"igx-select",2),Fh("ngModelChange",(function(e){return t.paginator.perPage=e})),yh(4,rj,2,2,"igx-select-item",3),Sh()()),2&e&&(tc(1),vu(t.paginator.resourceStrings.igx_paginator_label),tc(2),_h("overlaySettings",t.paginator.overlaySettings)("ngModel",t.paginator.perPage),tc(1),_h("ngForOf",t.paginator.selectOptions))},dependencies:[PM,qw,Y_,ww,zm,fM],encapsulation:2}),e})(),lj=(()=>{let e=class{constructor(e){this.paginator=e,this.cssClass="igx-page-nav",this.role="navigation"}};return e.fac=function(t){return new(t||e)(nc(oj,1))},e.cmp=tr({type:e,selectors:[["igx-page-nav"]],hostVars:3,hostBindings:function(e,t){2&e&&(ph("role",t.role),iu("igx-page-nav",t.cssClass))},inputs:{role:"role"},standalone:!0,features:[Wu],decls:19,vars:19,consts:[["igxButton","icon","igxRipple","","type","button",3,"title","disabled","igxRippleCentered","click"],["aria-current","page",1,"igx-page-nav__text"],["igxRipple","","igxButton","icon","type","button",3,"title","disabled","igxRippleCentered","click"]],template:function(e,t){1&e&&(Ch(0,"button",0),Fh("click",(function(){return t.paginator.paginate(0)})),Ch(1,"igx-icon"),fu(2,"first_page"),Sh()(),Ch(3,"button",0),Fh("click",(function(){return t.paginator.previousPage()})),Ch(4,"igx-icon"),fu(5,"chevron_left"),Sh()(),Ch(6,"div",1)(7,"span"),fu(8),Sh(),Ch(9,"span"),fu(10),Sh(),Ch(11,"span"),fu(12),Sh()(),Ch(13,"button",2),Fh("click",(function(){return t.paginator.nextPage()})),Ch(14,"igx-icon"),fu(15,"chevron_right"),Sh()(),Ch(16,"button",0),Fh("click",(function(){return t.paginator.paginate(t.paginator.totalPages-1)})),Ch(17,"igx-icon"),fu(18,"last_page"),Sh()()),2&e&&(_h("title",t.paginator.resourceStrings.igx_paginator_first_page_button_text)("disabled",t.paginator.isFirstPageDisabled)("igxRippleCentered",!0),ph("aria-disabled",t.paginator.isFirstPageDisabled),tc(3),_h("title",t.paginator.resourceStrings.igx_paginator_previous_page_button_text)("disabled",t.paginator.isFirstPageDisabled)("igxRippleCentered",!0),ph("aria-disabled",t.paginator.isFirstPageDisabled),tc(5),vu(t.paginator.page+1),tc(2),xu("",t.paginator.resourceStrings.igx_paginator_pager_text,""),tc(2),vu(t.paginator.totalPages||1),tc(1),_h("title",t.paginator.resourceStrings.igx_paginator_next_page_button_text)("disabled",t.paginator.isLastPageDisabled)("igxRippleCentered",!0),ph("aria-disabled",t.paginator.isLastPageDisabled),tc(3),_h("title",t.paginator.resourceStrings.igx_paginator_last_page_button_text)("disabled",t.paginator.isLastPageDisabled)("igxRippleCentered",!0),ph("aria-disabled",t.paginator.isLastPageDisabled))},dependencies:[HI,DA,XI],encapsulation:2}),e})();function dj(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"igx-chip",5),Fh("keyDown",(function(t){return Bs(e),zs(Vh().handleKeyDown(t.owner.id,t.originalEvent))}))("remove",(function(t){return Bs(e),zs(Vh().clearGrouping(t.owner.id))}))("chipClick",(function(){let t=Bs(e).$implicit;return zs(Vh().handleClick(t.fieldName))})),ag(2,"igxGroupByMeta"),ag(3,"igxGroupByMeta"),ag(4,"igxGroupByMeta"),ag(5,"igxGroupByMeta"),Ch(6,"span"),fu(7),ag(8,"igxGroupByMeta"),Sh(),Ch(9,"igx-icon",6),fu(10),Sh()(),Ch(11,"span",7)(12,"igx-icon",8),fu(13,"arrow_forward"),Sh()(),Ih()}if(2&e){let e=t.$implicit,i=t.last,n=Vh();tc(1),_h("id",e.fieldName)("title",dg(2,9,e.fieldName,n.grid).title)("displayDensity",n.grid.displayDensity)("removable",cg(3,12,e.fieldName,n.grid,n.grid.groupablePipeTrigger).groupable)("draggable",cg(4,16,e.fieldName,n.grid,n.grid.groupablePipeTrigger).groupable)("disabled",!cg(5,20,e.fieldName,n.grid,n.grid.groupablePipeTrigger).groupable),tc(6),vu(dg(8,24,e.fieldName,n.grid).title),tc(3),vu(1===e.dir?"arrow_upward":"arrow_downward"),tc(2),_h("hidden",i&&!n.dropAreaVisible)}}function cj(e,t){1&e&&Th(0)}function hj(e,t){if(1&e&&(Ch(0,"igx-icon",9),fu(1,"group_work"),Sh(),Ch(2,"span",10),fu(3),Sh()),2&e){let e=Vh();tc(3),vu(e.dropAreaMessage)}}var uj=(()=>{let e=class extends yz{constructor(e,t){super(e,t),this.sortingExpressions=[]}handleReorder(e){let{chipsArray:t,originalEvent:i}=e,n=this.getReorderedExpressions(t);this.grid.groupingExpansionState=[],this.expressions=n,i instanceof KeyboardEvent&&(this.grid.groupingExpressions=n)}handleMoveEnd(){this.grid.groupingExpressions=this.expressions}groupBy(e){this.grid.groupBy(e)}clearGrouping(e){this.grid.clearGrouping(e)}};return e.fac=function(t){return new(t||e)(nc(wd),nc(ob))},e.cmp=tr({type:e,selectors:[["igx-grid-group-by-area"]],inputs:{sortingExpressions:"sortingExpressions",grid:"grid"},standalone:!0,features:[Nu([{provide:yz,useExisting:e}]),th,Wu],decls:6,vars:4,consts:[[3,"reorder","moveEnd"],[4,"ngFor","ngForOf"],["igxGroupAreaDrop","",1,"igx-drop-area",3,"hidden","igxDrop"],[4,"ngTemplateOutlet"],["default",""],[3,"id","title","displayDensity","removable","draggable","disabled","keyDown","remove","chipClick"],["igxSuffix",""],[1,"igx-grid-grouparea__connector"],[3,"hidden"],[1,"igx-drop-area__icon"],[1,"igx-drop-area__text"]],template:function(e,t){if(1&e&&(Ch(0,"igx-chips-area",0),Fh("reorder",(function(e){return t.handleReorder(e)}))("moveEnd",(function(){return t.handleMoveEnd()})),yh(1,dj,14,27,"ng-container",1),Ch(2,"div",2),Fh("igxDrop",(function(e){return t.onDragDrop(e)})),yh(3,cj,1,0,"ng-container",3),Sh()(),yh(4,hj,4,1,"ng-template",null,4,jg)),2&e){let e=xh(5);tc(1),_h("ngForOf",t.chipExpressions),tc(1),_h("hidden",!t.dropAreaVisible),ph("gridId",t.grid.id),tc(1),_h("ngTemplateOutlet",t.dropAreaTemplate||e)}},dependencies:[gP,zm,hP,XI,EI,Az,eA,Zm,vz],encapsulation:2}),e})(),gj=new Ll("IgxGridTransaction"),pj=(()=>{let e=class{constructor(){this._validityStates=new Map,this._valid=!0}get valid(){return this._valid}create(e,t){let i=this.getFormGroup(e);if(i)for(let e of this.grid.columns){let n=i.get(e.field);n?n.markAsPristine():this.addFormControl(i,t,e)}else{i=new sw({});for(let e of this.grid.columns)this.addFormControl(i,t,e);let n={formGroup:i,owner:this.grid};this.grid.formGroupCreated.emit(n),this.add(e,i)}return i}addFormControl(e,t,i){let n=vb(t||{},i.field),r=this.getFieldKey(i.field),s=new vw(n,{updateOn:this.grid.validationTrigger});s.addValidators(i.validators),e.addControl(r,s),s.setValue(n)}getFieldKey(e){return(e?.split(".")??[]).join("_")}getFormGroup(e){return this._validityStates.get(e)}getFormControl(e,t){let i=this.getFormGroup(e),n=this.getFieldKey(t);return i?.get(n)}add(e,t){this._validityStates.set(e,t)}getValidity(){let e=[];return this._validityStates.forEach(((t,i)=>{let n=[];for(let e of this.grid.columns){let i=this.getFieldKey(e.field),r=t.get(i);r&&n.push({field:i,status:r.status,errors:r.errors})}e.push({key:i,status:t.status,fields:n,errors:t.errors})})),e}getInvalid(){return this.getValidity().filter((e=>"INVALID"===e.status))}update(e,t){if(!t)return;let i=Object.keys(t),n=this.getFormGroup(e);for(let e of i){let i=this.getFieldKey(e),r=n?.get(i);r&&r.value!==t[e]&&r.setValue(t[e],{emitEvent:!1})}this.updateStatus()}updateAll(e){if(e&&0!==this._validityStates.size)for(let t of e){let e=t[this.grid.primaryKey]||t;if(this.getFormGroup(e)){let i=this.grid.transactions.getAggregatedValue(e,!0)||t;this.update(e,i)}}}markAsTouched(e,t){let i=this.getFormGroup(e);if(!i)return;i.markAsTouched();let n=t?[t]:this.grid.columns.map((e=>e.field));for(let e of n){let t=this.getFieldKey(e);i?.get(t)?.markAsTouched()}}updateStatus(){let e=this.valid;this._valid=0===this.getInvalid().length,this.valid!==e&&this.grid.validationStatusChange.emit({status:this.valid?"VALID":"INVALID",owner:this.grid})}clear(e){void 0!==e?this._validityStates.delete(e):this._validityStates.clear(),this.updateStatus()}};return e.fac=function(t){return new(t||e)},e.prov=Zi({token:e,factory:e.fac}),e})(),mj=(()=>{let e=class{get activeNode(){return this._activeNode}set activeNode(e){this._activeNode=e}constructor(e){this.platform=e,this._activeNode={},this.lastActiveNode={},this.pendingNavigation=!1}handleNavigation(e){let t=e.key.toLowerCase();db.has(t)&&e.stopPropagation(),(!this.grid.crudService.cell||!db.has(t))&&((e.repeat&&pb.has(t)||"tab"===t&&this.grid.crudService.cell)&&e.preventDefault(),e.repeat?setTimeout((()=>this.dispatchEvent(e)),1):this.dispatchEvent(e))}dispatchEvent(e){let t=e.key.toLowerCase();if(!this.activeNode||!(pb.has(t)||"tab"===t&&this.grid.crudService.cell||this.grid.crudService.rowEditingBlocked||this.grid.crudService.rowInEditMode))return;let i=e.shiftKey,n=e.ctrlKey;if(db.has(t)&&this.pendingNavigation)return void e.preventDefault();let r=this.isDataRow(this.activeNode.row)?"dataCell":this.isDataRow(this.activeNode.row,!0)?"summaryCell":"groupRow";if(this.emitKeyDown(r,this.activeNode.row,e))return;if(e.altKey)return void this.handleAlt(t,e);-1===[" ","spacebar","space"].indexOf(t)&&this.grid.selectionService.keyboardStateOnKeydown(this.activeNode,i,i&&"tab"===t);let s=this.getNextPosition(this.activeNode.row,this.activeNode.column,t,i,n,e);db.has(t)&&(e.preventDefault(),this.navigateInBody(s.rowIndex,s.colIndex,(t=>{t.target.activate(e),this.grid.cdr.detectChanges()}))),this.grid.cdr.detectChanges()}summaryNav(e){this.grid.hasSummarizedColumns&&this.horizontalNav(e,e.key.toLowerCase(),this.grid.dataView.length,"summaryCell")}headerNavigation(e){let t=e.key.toLowerCase();if(!mb.has(t)||-1!==this.activeNode?.row)return;e.preventDefault();let i=e.ctrlKey,n=e.shiftKey,r=e.altKey;this.performHeaderKeyCombination(this.currentActiveColumn,t,n,i,r,e),!(n||r||i&&(t.includes("down")||t.includes("down")))&&(this.grid.hasColumnGroups?this.handleMCHeaderNav(t,i):this.horizontalNav(e,t,-1,"headerCell"))}focusTbody(e){let t=this.grid.verticalScrollContainer.totalItemCount??this.grid.dataView.length;if(t<1)this.activeNode=null;else if(!this.activeNode||!Object.keys(this.activeNode).length||this.activeNode.row<0||this.activeNode.row>t-1){let i=Object.keys(this.lastActiveNode).length,n=i&&(this.lastActiveNode.row<0||this.lastActiveNode.row>t-1);if(this.setActiveNode(this.lastActiveNode.row>=0&&this.lastActiveNode.row<t?this.firstVisibleNode(this.lastActiveNode.row):this.firstVisibleNode()),n||this.grid.cellSelection!==cD)this.grid.clearCellSelection(),this.grid.navigateTo(this.activeNode.row,this.activeNode.column,(t=>{t.target?.activate(e),this.grid.cdr.detectChanges()}));else{if(i&&!this.grid.selectionService.selected(this.lastActiveNode))return;let e={rowStart:this.activeNode.row,rowEnd:this.activeNode.row,columnStart:this.activeNode.column,columnEnd:this.activeNode.column};this.grid.selectRange(e),this.grid.notifyChanges()}}}focusFirstCell(e=!0){if((e||this.grid.dataView.length)&&this.activeNode&&(-1===this.activeNode.row||this.activeNode.row===this.grid.dataView.length||!e&&!this.grid.hasSummarizedColumns))return;let t=this.lastActiveNode&&e&&-1!==this.lastActiveNode.row||!e&&this.lastActiveNode.row!==this.grid.dataView.length;this.setActiveNode(this.firstVisibleNode(e?-1:this.grid.dataView.length)),t&&this.performHorizontalScrollToCell(this.activeNode.column)}isColumnFullyVisible(e){if(e<0||this.isColumnPinned(e,this.forOfDir()))return!0;let t=this.getColumnUnpinnedIndex(e),i=this.forOfDir().getColumnScrollLeft(t+1)-this.forOfDir().getColumnScrollLeft(t);return this.displayContainerWidth<i&&this.displayContainerScrollLeft===this.forOfDir().getColumnScrollLeft(t)||this.displayContainerWidth>=this.forOfDir().getColumnScrollLeft(t+1)-this.displayContainerScrollLeft&&this.displayContainerScrollLeft<=this.forOfDir().getColumnScrollLeft(t)}shouldPerformHorizontalScroll(e,t=-1){if(e<0||e>this.grid.visibleColumns.length-1)return!1;if(t<0||t>this.grid.dataView.length-1)return!this.isColumnFullyVisible(e);let i=this.grid.dataView[t];return!i.expression&&!i.detailsData&&!this.isColumnFullyVisible(e)}shouldPerformVerticalScroll(e,t){if(this.grid.isRecordPinnedByViewIndex(e))return!1;let i=this.grid.hasPinnedRecords&&this.grid.isRowPinningToTop?e-this.grid.pinnedDataView.length:e,n=this.getRowElementByIndex(e),r=this.grid.verticalScrollContainer.getSizeAt(i),s=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,o=n?n.offsetTop+r+this.containerTopOffset:s+r;return!n||n.offsetTop<Math.abs(this.containerTopOffset)||s&&o-s>5}performVerticalScrollToCell(e,t=-1,i){if(!this.shouldPerformVerticalScroll(e,t))return;this.pendingNavigation=!0;let n=this.grid.hasPinnedRecords&&this.grid.isRowPinningToTop?e-this.grid.pinnedDataView.length:e;this.grid.verticalScrollContainer.scrollTo(n),this.grid.verticalScrollContainer.chunkLoad.pipe(fi()).subscribe((()=>{this.pendingNavigation=!1,i&&i()}))}performHorizontalScrollToCell(e,t){if(this.grid.rowList<1&&this.grid.summariesRowList.length<1&&this.grid.hasColumnGroups){let t=this.grid.getColumnByVisibleIndex(e);for(;t.parent;)t=t.parent;e=this.forOfDir().igxForOf.indexOf(t)}this.shouldPerformHorizontalScroll(e)&&(this.pendingNavigation=!0,this.grid.parentVirtDir.chunkLoad.pipe(fi()).subscribe((()=>{this.pendingNavigation=!1,t&&t()})),this.forOfDir().scrollTo(this.getColumnUnpinnedIndex(e)))}isDataRow(e,t=!1){let i;if(e<0||e>this.grid.dataView.length-1){if(i=this.grid.dataView[e-this.grid.virtualizationState.startIndex],!i)return this.grid.verticalScrollContainer.isRemote&&e>=0&&e<=this.grid.totalItemCount-1}else i=this.grid.dataView[e];return i&&!this.grid.isGroupByRecord(i)&&!this.grid.isDetailRecord(i)&&!i.childGridsData&&(t||!i.summaries)}isGroupRow(e){if(e<0||e>this.grid.dataView.length-1)return!1;let t=this.grid.dataView[e];return t&&this.grid.isGroupByRecord(t)}setActiveNode(e){if(!this.isActiveNodeChanged(e))return;this.activeNode||(this.activeNode=e),Object.assign(this.activeNode,e);let t=this.grid.dataView[e.row],i=e.row<0?"headerCell":this.isDataRow(e.row)?"dataCell":t&&this.grid.isGroupByRecord(t)?"groupRow":t&&this.grid.isDetailRecord(t)?"masterDetailRow":"summaryCell",n={row:this.activeNode.row,column:this.activeNode.column,level:this.activeNode.level,tag:i};this.grid.activeNodeChange.emit(n)}isActiveNodeChanged(e){let t=!1,i=(e,i)=>{if(e){n=Object.getOwnPropertyNames(e);for(let r of n)this.activeNode[i][r]!==e[r]&&(t=!0)}else t=!0};if(!this.activeNode)return t=!0;let n=Object.getOwnPropertyNames(e);for(let r of n)this.activeNode[r]&&"object"==typeof this.activeNode[r]?i(e[r],r):this.activeNode[r]!==e[r]&&(t=!0);return t}getNextPosition(e,t,i,n,r,s){if(!this.isDataRow(e,!0)&&(i.indexOf("down")<0||i.indexOf("up")<0)&&r)return{rowIndex:e,colIndex:t};switch(i){case"pagedown":case"pageup":s.preventDefault(),"pagedown"===i?this.grid.verticalScrollContainer.scrollNextPage():this.grid.verticalScrollContainer.scrollPrevPage();let o=this.grid.crudService.cell;this.grid.verticalScrollContainer.chunkLoad.pipe(fi()).subscribe((()=>{o&&this.grid.rowList.map((e=>e.index)).indexOf(o.rowIndex)<0&&this.grid.tbody.nativeElement.focus({preventScroll:!0})}));break;case"tab":this.handleEditing(n,s);break;case"end":e=r?this.findLastDataRowIndex():this.activeNode.row,t=this.lastColumnIndex;break;case"home":e=r?this.findFirstDataRowIndex():this.activeNode.row,t=0;break;case"arrowleft":case"left":t=r?0:this.activeNode.column-1;break;case"arrowright":case"right":t=r?this.lastColumnIndex:this.activeNode.column+1;break;case"arrowup":case"up":if(r&&!this.isDataRow(e)||this.grid.rowEditable&&this.grid.crudService.rowEditingBlocked)break;t=void 0!==this.activeNode.column?this.activeNode.column:0,e=r?this.findFirstDataRowIndex():this.activeNode.row-1;break;case"arrowdown":case"down":if(r&&!this.isDataRow(e)||this.grid.rowEditable&&this.grid.crudService.rowEditingBlocked)break;t=void 0!==this.activeNode.column?this.activeNode.column:0,e=r?this.findLastDataRowIndex():this.activeNode.row+1;break;case"enter":case"f2":let a=this.grid.gridAPI.get_cell_by_visible_index(this.activeNode.row,this.activeNode.column);if(!this.isDataRow(e)||!a.editable)break;this.grid.crudService.enterEditMode(a,s);break;case"escape":case"esc":if(!this.isDataRow(e))break;if(this.grid.crudService.isInCompositionMode)return;(this.grid.crudService.cellInEditMode||this.grid.crudService.rowInEditMode)&&(this.grid.crudService.endEdit(!1,s),this.platform.isEdge&&this.grid.cdr.detectChanges(),this.grid.tbody.nativeElement.focus());break;case" ":case"spacebar":case"space":let l=this.grid.gridAPI.get_row_by_index(this.activeNode.row);this.grid.isRowSelectable&&l&&(this.isDataRow(e)&&(l.selected?this.grid.selectionService.deselectRow(l.key,s):this.grid.selectionService.selectRowById(l.key,!1,s)),this.isGroupRow(e)&&l.onGroupSelectorClick(s));break;default:return}return{rowIndex:e,colIndex:t}}horizontalNav(e,t,i,n){let r=e.ctrlKey;if(!lb.has(e.key.toLowerCase())||(e.preventDefault(),this.activeNode.row=i,i>0&&this.emitKeyDown("summaryCell",this.activeNode.row,e)))return;let s={column:this.activeNode.column,mchCache:{level:this.activeNode.level,visibleIndex:this.activeNode.column}};if((t.includes("left")||"home"===t)&&this.activeNode.column>0&&(s.column=r||"home"===t?0:this.activeNode.column-1),(t.includes("right")||"end"===t)&&this.activeNode.column<this.lastColumnIndex&&(s.column=r||"end"===t?this.lastColumnIndex:this.activeNode.column+1),"headerCell"===n){let e=this.grid.getColumnByVisibleIndex(s.column);s.mchCache.level=e.level,s.mchCache.visibleIndex=e.visibleIndex}this.setActiveNode({row:this.activeNode.row,column:s.column,mchCache:s.mchCache}),this.performHorizontalScrollToCell(this.activeNode.column)}get lastColumnIndex(){return Math.max(...this.grid.visibleColumns.map((e=>e.visibleIndex)))}get displayContainerWidth(){return Math.round(this.grid.parentVirtDir.dc.instance._viewContainer.element.nativeElement.offsetWidth)}get displayContainerScrollLeft(){return Math.ceil(this.grid.headerContainer.scrollPosition)}get containerTopOffset(){return parseInt(this.grid.verticalScrollContainer.dc.instance._viewContainer.element.nativeElement.style.top,10)}getColumnUnpinnedIndex(e){let t=this.grid.unpinnedColumns.find((t=>!t.columnGroup&&t.visibleIndex===e));return this.grid.pinnedColumns.length?this.grid.unpinnedColumns.filter((e=>!e.columnGroup)).indexOf(t):e}forOfDir(){return this.grid.dataRowList.length>0?this.grid.dataRowList.first.virtDirRow:this.grid.summariesRowList.length?this.grid.summariesRowList.first.virtDirRow:this.grid.headerContainer}handleAlt(e,t){t.preventDefault();let i=this.grid.gridAPI.get_row_by_index(this.activeNode.row);if((this.isToggleKey(e)||this.isAddKey(e))&&i){if(this.isAddKey(e)){if(!this.grid.rowEditable)return void console.warn("The grid must be in row edit mode to perform row adding!");t.shiftKey&&void 0!==i.treeRow?this.grid.crudService.enterAddRowMode(i,!0,t):t.shiftKey||this.grid.crudService.enterAddRowMode(i,!1,t)}else!i.expanded&&hb.has(e)?void 0===i.key?i.toggle():this.grid.gridAPI.set_row_expansion_state(i.key,!0,t):i.expanded&&ub.has(e)&&(void 0===i.key?i.toggle():this.grid.gridAPI.set_row_expansion_state(i.key,!1,t));this.grid.notifyChanges()}}handleEditing(e,t){let i=e?this.grid.getPreviousCell(this.activeNode.row,this.activeNode.column,(e=>e.editable)):this.grid.getNextCell(this.activeNode.row,this.activeNode.column,(e=>e.editable));if(!this.grid.crudService.rowInEditMode&&this.isActiveNode(i.rowIndex,i.visibleColumnIndex))return this.grid.crudService.endEdit(!0,t),void this.grid.tbody.nativeElement.focus();if(t.preventDefault(),this.grid.crudService.rowInEditMode&&this.grid.rowEditTabs.length&&(this.activeNode.row!==i.rowIndex||this.isActiveNode(i.rowIndex,i.visibleColumnIndex))){if(this.grid.crudService.updateCell(!0,t).cancel)return;e?this.grid.rowEditTabs.last.element.nativeElement.focus():this.grid.rowEditTabs.first.element.nativeElement.focus()}else this.grid.crudService.rowInEditMode&&!this.grid.rowEditTabs.length&&(e&&i.rowIndex===this.activeNode.row&&i.visibleColumnIndex===this.activeNode.column?i.visibleColumnIndex=this.grid.lastEditableColumnIndex:e||i.rowIndex!==this.activeNode.row||i.visibleColumnIndex!==this.activeNode.column?i.rowIndex=this.activeNode.row:i.visibleColumnIndex=this.grid.firstEditableColumnIndex),this.navigateInBody(i.rowIndex,i.visibleColumnIndex,(e=>{e.target.activate(t),this.grid.cdr.detectChanges()}))}navigateInBody(e,t,i=null){!this.isValidPosition(e,t)||this.isActiveNode(e,t)||this.grid.navigateTo(e,t,i)}emitKeyDown(e,t,i){let n=this.grid.summariesRowList.toArray().concat(this.grid.rowList.toArray()).find((e=>e.index===t));if(!n)return;let r={targetType:e,event:i,cancel:!1,target:"groupRow"===e?n:"dataCell"===e?n.cells?.find((e=>e.visibleColumnIndex===this.activeNode.column)):n.summaryCells?.find((e=>e.visibleColumnIndex===this.activeNode.column))};return this.grid.gridKeydown.emit(r),r.cancel&&"dataCell"===e?(this.grid.selectionService.clear(),this.grid.selectionService.keyboardState.active=!0,r.cancel):void 0}isColumnPinned(e,t){return!t.getScroll().clientWidth||this.grid.getColumnByVisibleIndex(e)?.pinned}findFirstDataRowIndex(){return this.grid.dataView.findIndex((e=>!this.grid.isGroupByRecord(e)&&!this.grid.isDetailRecord(e)&&!e.summaries))}findLastDataRowIndex(){if(this.grid.totalItemCount)return this.grid.totalItemCount-1;let e=this.grid.dataView.length;for(;e--;)if(this.isDataRow(e))return e}getRowElementByIndex(e){if(this.grid.hasDetails){let t=this.grid.nativeElement.querySelector(`[detail="true"][data-rowindex="${e}"]`);if(t)return t}return this.grid.rowList.toArray().concat(this.grid.summariesRowList.toArray()).find((t=>t.index===e))?.nativeElement}isValidPosition(e,t){let i=this.grid.totalItemCount??this.grid.dataView.length;return!(e<0||t<0||i-1<e||this.lastColumnIndex<t||this.activeNode.column!==t&&!this.isDataRow(e,!0))}performHeaderKeyCombination(e,t,i,n,r,s){let o=this.grid.sortingExpressions.find((t=>t.fieldName===e.field))?.dir;if(n&&t.includes("up")&&e.sortable&&!e.columnGroup)return o=o===Rb.Asc?Rb.None:Rb.Asc,void this.grid.sort({fieldName:e.field,dir:o,ignoreCase:!1});if(n&&t.includes("down")&&e.sortable&&!e.columnGroup)return o=o===Rb.Desc?Rb.None:Rb.Desc,void this.grid.sort({fieldName:e.field,dir:o,ignoreCase:!1});if(i&&r&&this.isToggleKey(t)&&!e.columnGroup&&e.groupable)return o=o||Rb.Asc,t.includes("right")?this.grid.groupBy({fieldName:e.field,dir:o,ignoreCase:e.sortingIgnoreCase,strategy:e.sortStrategy,groupingComparer:e.groupingComparer}):this.grid.clearGrouping(e.field),void(this.activeNode.column=t.includes("right")&&this.grid.hideGroupedColumns&&e.visibleIndex===this.lastColumnIndex?this.lastColumnIndex-1:this.activeNode.column);if(r&&(hb.has(t)||ub.has(t)))this.handleMCHExpandCollapse(t,e);else if(-1!==[" ","spacebar","space"].indexOf(t)&&this.handleColumnSelection(e,s),r&&("l"===t||""===t)&&this.grid.allowAdvancedFiltering&&this.grid.openAdvancedFilteringDialog(),n&&i&&"l"===t&&this.grid.allowFiltering&&!e.columnGroup&&e.filterable)if(this.grid.filterMode===iD){let t=this.grid.headerGroups.find((e=>e.active)).nativeElement;this.grid.filteringService.toggleFilterDropdown(t,e)}else this.performHorizontalScrollToCell(e.visibleIndex),this.grid.filteringService.filteredColumn=e,this.grid.filteringService.isFilterRowVisible=!0}firstVisibleNode(e){let t=void 0!==this.lastActiveNode.column?this.lastActiveNode.column:this.grid.visibleColumns.sort(((e,t)=>e.visibleIndex-t.visibleIndex)).find((e=>this.isColumnFullyVisible(e.visibleIndex)))?.visibleIndex,i=this.grid.visibleColumns.find((e=>!e.columnLayout&&e.visibleIndex===t));return{row:(e||this.grid.rowList.find((e=>!this.shouldPerformVerticalScroll(e.index,t)))?.index)??0,column:i?.visibleIndex??0,level:i?.level??0,mchCache:i?{level:i.level,visibleIndex:i.visibleIndex}:{},layout:i&&i.columnLayoutChild?{rowStart:i.rowStart,colStart:i.colStart,rowEnd:i.rowEnd,colEnd:i.colEnd,columnVisibleIndex:i.visibleIndex}:null}}handleMCHeaderNav(e,t){let i={visibleIndex:this.activeNode.mchCache.visibleIndex,level:this.activeNode.mchCache.level},n=this.currentActiveColumn,r=Math.max(...this.grid.visibleColumns.filter((e=>e.level<=this.activeNode.level)).map((e=>e.visibleIndex))),s=n;if((e.includes("left")||"home"===e)&&this.activeNode.column>0){let n=t||"home"===e?0:this.activeNode.column-1;s=this.getNextColumnMCH(n),i.visibleIndex=s.visibleIndex}if((e.includes("right")||"end"===e)&&n.visibleIndex<r){let r=n.children?Math.max(...n.allChildren.map((e=>e.visibleIndex)))+1:n.visibleIndex+1;s=t||"end"===e?this.getNextColumnMCH(this.lastColumnIndex):this.getNextColumnMCH(r),i.visibleIndex=s.visibleIndex}!t&&e.includes("up")&&this.activeNode.level>0&&(s=n.parent,i.level=s.level),!t&&e.includes("down")&&n.children&&(s=n.children.find((e=>e.visibleIndex===i.visibleIndex))||n.children.toArray().sort(((e,t)=>t.visibleIndex-e.visibleIndex)).filter((e=>e.visibleIndex<i.visibleIndex))[0],i.level=s.level),this.setActiveNode({row:this.activeNode.row,column:s.visibleIndex,level:s.level,mchCache:i}),this.performHorizontalScrollToCell(s.visibleIndex)}handleMCHExpandCollapse(e,t){!t.children||!t.collapsible||(!t.expanded&&hb.has(e)?t.expanded=!0:t.expanded&&ub.has(e)&&(t.expanded=!1))}handleColumnSelection(e,t){if(!e.selectable||this.grid.columnSelection===lD)return;let i=this.grid.columnSelection===dD,n=e.children?e.allChildren.filter((e=>!e.hidden&&e.selectable&&!e.columnGroup)).map((e=>e.field)):[e.field];e.selected?this.grid.selectionService.deselectColumns(n,t):this.grid.selectionService.selectColumns(n,i,!1,t)}getNextColumnMCH(e){let t=this.grid.getColumnByVisibleIndex(e),i=t.parent;for(;i&&t.level>this.activeNode.mchCache.level;)t=t.parent,i=t.parent;return t}get currentActiveColumn(){return this.grid.visibleColumns.find((e=>e.visibleIndex===this.activeNode.column&&e.level===this.activeNode.level))}isActiveNode(e,t){return!!this.activeNode&&this.activeNode.row===e&&this.activeNode.column===t}isToggleKey(e){return ub.has(e)||hb.has(e)}isAddKey(e){return gb.has(e)}};return e.fac=function(t){return new(t||e)(_n(ob))},e.prov=Zi({token:e,factory:e.fac}),e})(),fj=(()=>{let e=class{constructor(){this.rootSummaryID="igxGridRootSummary",this.summaryHeight=0,this.maxSummariesLenght=0,this.groupingExpressions=[],this.retriggerRootPipe=0,this.deleteOperation=!1,this.summaryCacheMap=new Map}recalculateSummaries(){this.resetSummaryHeight(),this.grid.notifyChanges(!0)}clearSummaryCache(e){if(this.summaryCacheMap.size){if(!e)return this.summaryCacheMap.clear(),void(this.grid&&this.grid.rootSummariesEnabled&&this.retriggerRootPipe++);if(e.data){let t=this.grid.primaryKey?e.data[this.grid.primaryKey]:e.data;this.removeSummaries(t)}if(void 0!==e.rowID&&null!==e.rowID){let t=e.cellID?this.grid.columns.find((t=>t.index===e.cellID.columnID)).field:void 0;if(t&&this.grid.rowEditable)return;let i=this.grid.groupingExpressions&&-1!==this.grid.groupingExpressions.map((e=>e.fieldName)).indexOf(t);t&&i&&(t=void 0),this.removeSummaries(e.rowID,t)}}}removeSummaries(e,t){if(this.deleteSummaryCache(this.rootSummaryID,t),1!==this.summaryCacheMap.size||!this.summaryCacheMap.has(this.rootSummaryID))if(this.isTreeGrid){if(this.grid.transactions.enabled&&this.deleteOperation)return this.deleteOperation=!1,void this.summaryCacheMap.clear();this.removeAllTreeGridSummaries(e,t)}else this.isHierarchicalGrid?this.grid.transactions.enabled&&this.deleteOperation&&(this.deleteOperation=!1,this.summaryCacheMap.clear()):this.getSummaryID(e,this.grid.groupingExpressions).forEach((e=>{this.deleteSummaryCache(e,t)}))}removeSummariesCachePerColumn(e){this.summaryCacheMap.forEach((t=>{t.get(e)&&t.delete(e)})),this.grid.rootSummariesEnabled&&this.retriggerRootPipe++}calcMaxSummaryHeight(){if(this.summaryHeight)return this.summaryHeight;if(!this.grid.data)return this.summaryHeight=0;let e=0;return this.grid.columns.filter((e=>e.hasSummary&&!e.hidden)).forEach((t=>{let i=t.summaries.operate([],[],t.field).length;i&&e<i&&(e=i)})),this.maxSummariesLenght=e,this.summaryHeight=e*this.grid.defaultSummaryHeight,this.summaryHeight}calculateSummaries(e,t,i){let n=this.summaryCacheMap.get(e);return n||(n=new Map,this.summaryCacheMap.set(e,n)),!this.hasSummarizedColumns||!t||this.grid.columns.filter((e=>e.hasSummary)).forEach((e=>{if(!n.get(e.field)){let r=e.summaries.operate(t.map((t=>vb(t,e.field))),t,e.field,i,this.grid.locale,e.pipeArgs);n.set(e.field,r)}})),n}resetSummaryHeight(){this.summaryHeight=0,this.grid.summaryPipeTrigger++,this.grid.rootSummariesEnabled&&(this.retriggerRootPipe++,Promise.resolve().then((()=>this.grid.notifyChanges(!0))))}updateSummaryCache(e){if(0!==this.summaryCacheMap.size&&this.hasSummarizedColumns){if(0===this.groupingExpressions.length)return void(this.groupingExpressions=e.expressions.map((e=>e.fieldName)));if(0===e.length)return this.groupingExpressions=[],void this.clearSummaryCache();this.compareGroupingExpressions(this.groupingExpressions,e),this.groupingExpressions=e.expressions.map((e=>e.fieldName))}}get hasSummarizedColumns(){return this.grid.columns.filter((e=>e.hasSummary&&!e.hidden)).length>0}deleteSummaryCache(e,t){if(this.summaryCacheMap.get(e)){let i=t&&this.grid.filteringExpressionsTree&&-1!==this.grid.filteringExpressionsTree.filteringOperands.map((e=>e.fieldName)).indexOf(t);t&&this.summaryCacheMap.get(e).get(t)&&!i?this.summaryCacheMap.get(e).delete(t):this.summaryCacheMap.delete(e),e===this.rootSummaryID&&this.grid.rootSummariesEnabled&&this.retriggerRootPipe++}}getSummaryID(e,t){if(0===t.length)return[];let i=[],n=this.grid.data;this.grid.transactions.enabled&&(n=Kb.mergeTransactions(QS(this.grid.data),this.grid.transactions.getAggregatedChanges(!0),this.grid.primaryKey,this.grid.dataCloneStrategy));let r=this.grid.primaryKey?n.find((t=>t[this.grid.primaryKey]===e)):e,s="{ ";return t.forEach((e=>{s+=`'${e.fieldName}': '${r[e.fieldName]}'`,i.push(s.concat(" }")),s+=", "})),i}removeAllTreeGridSummaries(e,t){let i=this.grid.records.get(e);if(i)for(i=i.children?i:i.parent;i;)e=i.key,this.deleteSummaryCache(e,t),i=i.parent}compareGroupingExpressions(e,t){let i=t.expressions.map((e=>e.fieldName)),n=t.ungroupedColumns;if(e.length<=i.length){let t=i.slice(0,e.length).toString();e.toString()!==t&&this.clearSummaryCache()}else{if(e.slice(0,i.length).toString()!==i.toString())return void this.clearSummaryCache();n.map((e=>e.field)).forEach((e=>{this.summaryCacheMap.forEach(((t,i)=>{-1!==i.indexOf(e)&&this.summaryCacheMap.delete(i)}))}))}}get isTreeGrid(){return/^ig.-tree-grid$/.test(this.grid.nativeElement.tagName.toLowerCase())}get isHierarchicalGrid(){return/^ig.-hierarchical-grid$/.test(this.grid.nativeElement.tagName.toLowerCase())}};return e.fac=function(t){return new(t||e)},e.prov=Zi({token:e,factory:e.fac}),e})(),yj=["loadingOverlay"],vj=["igxLoadingOverlayOutlet"],xj=["emptyFilteredGrid"],_j=["defaultEmptyGrid"],wj=["defaultLoadingGrid"],Cj=["scrollContainer"],Sj=["verticalScrollContainer"],bj=["verticalScrollHolder"],Dj=["scr"],Ej=["headSelectorBaseTemplate"],Ij=["footer"],Tj=["tbody"],Aj=["pinContainer"],Rj=["tfoot"],kj=["igxRowEditingOverlayOutlet"],Oj=["dragIndicatorIconBase"],Fj=["rowEditingOverlay"],Pj=["igxFilteringOverlayOutlet"],Mj=["sink"],Vj=["defaultExpandedTemplate"],Nj=["defaultCollapsedTemplate"],Lj=["defaultESFHeaderIcon"],Hj=["defaultRowEditTemplate"],Bj=["summaryRow"],zj=["row"],Gj=["pinnedRow"];ZW.register();var $j=-1,Wj=class extends kI{set summaryRowHeight(e){this._summaryRowHeight=0|e,this.summaryService.summaryHeight=e,this._init||this.reflow()}get summaryRowHeight(){return this.hasSummarizedColumns&&this.rootSummariesEnabled?this._summaryRowHeight||this.summaryService.calcMaxSummaryHeight():0}get hasColumnsToAutosize(){return this._columns.some((e=>"fit-content"===e.width))}get dataCloneStrategy(){return this._dataCloneStrategy}set dataCloneStrategy(e){e&&(this._dataCloneStrategy=e,this._transactions.cloneStrategy=e)}get excelStyleFilteringComponent(){return this.excelStyleFilteringComponents?.first}get headerGroups(){return this.theadRow.groups}get actionStrip(){return this.internalActionStrip?this.internalActionStrip:this.actionStripComponents?.first}set actionStrip(e){this.internalActionStrip=e}get dragGhostCustomTemplate(){return this._dragGhostCustomTemplate||this.dragGhostCustomTemplates?.first}set dragGhostCustomTemplate(e){this._dragGhostCustomTemplate=e}get headerContainer(){return this.theadRow?.headerForOf}get headerSelectorContainer(){return this.theadRow?.headerSelectorContainer}get headerDragContainer(){return this.theadRow?.headerDragContainer}get headerGroupContainer(){return this.theadRow?.headerGroupContainer}get filteringRow(){return this.theadRow?.filterRow}get rowEditTextTemplate(){return this._rowEditTextTemplate||this.rowEditTextDirectives?.first}set rowEditTextTemplate(e){this._rowEditTextTemplate=e}get rowAddTextTemplate(){return this._rowAddTextTemplate||this.rowAddText}set rowAddTextTemplate(e){this._rowAddTextTemplate=e}get rowEditActionsTemplate(){return this._rowEditActionsTemplate||this.rowEditActionsDirectives?.first}set rowEditActionsTemplate(e){this._rowEditActionsTemplate=e}get rowExpandedIndicatorTemplate(){return this._rowExpandedIndicatorTemplate||this.rowExpandedIndicatorDirectiveTemplate}set rowExpandedIndicatorTemplate(e){this._rowExpandedIndicatorTemplate=e}get rowCollapsedIndicatorTemplate(){return this._rowCollapsedIndicatorTemplate||this.rowCollapsedIndicatorDirectiveTemplate}set rowCollapsedIndicatorTemplate(e){this._rowCollapsedIndicatorTemplate=e}get headerExpandedIndicatorTemplate(){return this._headerExpandIndicatorTemplate||this.headerExpandedIndicatorDirectiveTemplate}set headerExpandedIndicatorTemplate(e){this._headerExpandIndicatorTemplate=e}get headerCollapsedIndicatorTemplate(){return this._headerCollapseIndicatorTemplate||this.headerCollapsedIndicatorDirectiveTemplate}set headerCollapsedIndicatorTemplate(e){this._headerCollapseIndicatorTemplate=e}get excelStyleHeaderIconTemplate(){return this._excelStyleHeaderIconTemplate||this.excelStyleHeaderIconDirectiveTemplate}set excelStyleHeaderIconTemplate(e){this._excelStyleHeaderIconTemplate=e}get sortAscendingHeaderIconTemplate(){return this._sortAscendingHeaderIconTemplate}set sortAscendingHeaderIconTemplate(e){this._sortAscendingHeaderIconTemplate=e}get sortDescendingHeaderIconTemplate(){return this._sortDescendingHeaderIconTemplate}set sortDescendingHeaderIconTemplate(e){this._sortDescendingHeaderIconTemplate=e}get sortHeaderIconTemplate(){return this._sortHeaderIconTemplate}set sortHeaderIconTemplate(e){this._sortHeaderIconTemplate=e}get hostStyles(){return this.getComponentSizeStyles()}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings||(this._resourceStrings=FI.GridResStrings),this._resourceStrings}get filteringLogic(){return this._filteringExpressionsTree.operator}set filteringLogic(e){this._filteringExpressionsTree.operator=e}get filteringExpressionsTree(){return this._filteringExpressionsTree}set filteringExpressionsTree(e){if(e&&e instanceof qb){let t=e;for(let e=0;e<t.filteringOperands.length;e++)if(!(t.filteringOperands[e]instanceof qb)){let i=new qb(Yb.And,t.filteringOperands[e].fieldName);i.filteringOperands.push(t.filteringOperands[e]),t.filteringOperands[e]=i}e.type=Ub.Regular,this._filteringExpressionsTree=e,this.filteringPipeTrigger++,this.filteringExpressionsTreeChange.emit(this._filteringExpressionsTree),this.filteringService.isFilteringExpressionsTreeEmpty(this._filteringExpressionsTree)&&this.filteringService.isFilteringExpressionsTreeEmpty(this._advancedFilteringExpressionsTree)&&(this._filteredData=null),this.filteringService.refreshExpressions(),this.selectionService.clearHeaderCBState(),this.summaryService.clearSummaryCache(),this.notifyChanges()}}get advancedFilteringExpressionsTree(){return this._advancedFilteringExpressionsTree}set advancedFilteringExpressionsTree(e){e&&e instanceof qb?(e.type=Ub.Advanced,this._advancedFilteringExpressionsTree=e,this.filteringPipeTrigger++):this._advancedFilteringExpressionsTree=null,this.advancedFilteringExpressionsTreeChange.emit(this._advancedFilteringExpressionsTree),this.filteringService.isFilteringExpressionsTreeEmpty(this._filteringExpressionsTree)&&this.filteringService.isFilteringExpressionsTreeEmpty(this._advancedFilteringExpressionsTree)&&(this._filteredData=null),this.selectionService.clearHeaderCBState(),this.summaryService.clearSummaryCache(),this.notifyChanges(),requestAnimationFrame((()=>this.filteringDone.emit(this._advancedFilteringExpressionsTree)))}get locale(){return this._locale}set locale(e){e!==this._locale&&(this._locale=e,this._currencyPositionLeft=void 0,this.summaryService.clearSummaryCache(),this.pipeTrigger++,this.notifyChanges(),this.localeChange.next())}get pagingMode(){return this._pagingMode}set pagingMode(e){this._pagingMode=e,this.pipeTrigger++,this.notifyChanges(!0)}get page(){return this.paginator?.page||0}set page(e){this.paginator&&(this.paginator.page=e)}get perPage(){return this.paginator?.perPage||15}set perPage(e){this.paginator&&(this.paginator.perPage=e)}get hideRowSelectors(){return this._hideRowSelectors}set hideRowSelectors(e){this._hideRowSelectors=e,this.notifyChanges(!0)}get rowDraggable(){return this._rowDrag&&this.hasVisibleColumns}set rowDraggable(e){this._rowDrag=e,this.notifyChanges(!0)}get rowEditable(){return this._rowEditable}set rowEditable(e){this._init||this.refreshGridState(),this._rowEditable=e,this.notifyChanges()}get height(){return this._height}set height(e){this._height!==e&&(this._height=e,this.nativeElement.style.height=e,this.notifyChanges(!0))}get hostWidth(){return this._width||this._hostWidth}get width(){return this._width}set width(e){this._width!==e&&(this._width=e,this.nativeElement.style.width=e,this.notifyChanges(!0))}get headerWidth(){return parseInt(this.width,10)-17}get rowHeight(){return this._rowHeight?this._rowHeight:this.defaultRowHeight}set rowHeight(e){"number"!=typeof e&&(e=parseInt(e,10)),this._rowHeight=e}get columnWidth(){return this._columnWidth}set columnWidth(e){this._columnWidth=e,this.columnWidthSetByUser=!0,this.notifyChanges(!0)}set emptyGridMessage(e){this._emptyGridMessage=e}get emptyGridMessage(){return this._emptyGridMessage||this.resourceStrings.igx_grid_emptyGrid_message}set isLoading(e){this._isLoading!==e&&(this._isLoading=e,this.data&&this.evaluateLoadingState()),Promise.resolve().then((()=>{this.notifyChanges()}))}get isLoading(){return this._isLoading}set emptyFilteredGridMessage(e){this._emptyFilteredGridMessage=e}get emptyFilteredGridMessage(){return this._emptyFilteredGridMessage||this.resourceStrings.igx_grid_emptyFilteredGrid_message}get pinning(){return this._pinning}set pinning(e){e!==this._pinning&&this.resetCaches(),this._pinning=e}get allowFiltering(){return this._allowFiltering}set allowFiltering(e){this._allowFiltering!==e&&(this._allowFiltering=e,this.filteringService.registerSVGIcons(),this._init||this.calcGridHeadRow(),this.filteringService.isFilterRowVisible=!1,this.filteringService.filteredColumn=null,this.notifyChanges(!0))}get allowAdvancedFiltering(){return this._allowAdvancedFiltering}set allowAdvancedFiltering(e){this._allowAdvancedFiltering!==e&&(this._allowAdvancedFiltering=e,this.filteringService.registerSVGIcons(),this._init||this.notifyChanges(!0))}get filterMode(){return this._filterMode}set filterMode(e){switch(e){case iD:case tD:this._filterMode=e}this.filteringService.isFilterRowVisible&&this.filteringRow.close(),this.notifyChanges(!0)}get summaryPosition(){return this._summaryPosition}set summaryPosition(e){this._summaryPosition=e,this.notifyChanges()}get summaryCalculationMode(){return this._summaryCalculationMode}set summaryCalculationMode(e){this._summaryCalculationMode=e,this._init||(this.crudService.endEdit(!1),this.summaryService.resetSummaryHeight(),this.notifyChanges(!0))}get showSummaryOnCollapse(){return this._showSummaryOnCollapse}set showSummaryOnCollapse(e){this._showSummaryOnCollapse=e,this.notifyChanges()}get filterStrategy(){return this._filterStrategy}set filterStrategy(e){this._filterStrategy=e}get sortStrategy(){return this._sortingStrategy}set sortStrategy(e){this._sortingStrategy=e}set sortingOptions(e){this._init||this.clearSort(),this._sortingOptions=Object.assign(this._sortingOptions,e)}get sortingOptions(){return this._sortingOptions}set selectedRows(e){this.selectRows(e||[],!0)}get selectedRows(){return this.selectionService.getSelectedRows()}get headerGroupsList(){return this.theadRow.groups}get headerCellList(){return this.headerGroupsList.map((e=>e.header)).filter((e=>e))}get filterCellList(){return this.headerGroupsList.map((e=>e.filter)).filter((e=>e))}get summariesRowList(){let e=new mg;if(!this._summaryRowList)return e;let t=this._summaryRowList.filter((e=>null!==e.element.nativeElement.parentElement));return e.reset(t),e}get rowList(){let e=new mg;if(!this._rowList)return e;let t=this._rowList.filter((e=>null!==e.element.nativeElement.parentElement)).sort(((e,t)=>e.index-t.index));return e.reset(t),e}get dataRowList(){let e=new mg;if(!this._dataRowList)return e;let t=this._dataRowList.filter((e=>null!==e.element.nativeElement.parentElement)).sort(((e,t)=>e.index-t.index));return e.reset(t),e}get headSelectorTemplate(){return this._headSelectorTemplate||this.headSelectorsTemplates?.first}set headSelectorTemplate(e){this._headSelectorTemplate=e}get isPinningToStart(){return this.pinning.columns!==pD.End}get isRowPinningToTop(){return this.pinning.rows!==mD.Bottom}get rowSelectorTemplate(){return this._rowSelectorTemplate||this.rowSelectorsTemplates?.first}set rowSelectorTemplate(e){this._rowSelectorTemplate=e}get rowOutletDirective(){return this.rowEditingOutletDirective}get parentRowOutletDirective(){return this.outlet}get rowEditCustom(){return this.rowEditCustomDirectives&&this.rowEditCustomDirectives.first?this.rowEditCustomDirectives.first:null}get rowEditContainer(){return this.rowEditCustom?this.rowEditCustom:this.defaultRowEditTemplate}get dragIndicatorIconTemplate(){return this._customDragIndicatorIconTemplate||this.dragIndicatorIconTemplates?.first}set dragIndicatorIconTemplate(e){this._customDragIndicatorIconTemplate=e}get firstEditableColumnIndex(){let e=this.visibleColumns.filter((e=>e.editable)).map((e=>e.visibleIndex)).sort(((e,t)=>e-t));return e.length?e[0]:null}get lastEditableColumnIndex(){let e=this.visibleColumns.filter((e=>e.editable)).map((e=>e.visibleIndex)).sort(((e,t)=>e>t?-1:1));return e.length?e[0]:null}get rowEditTabs(){return this.rowEditTabsCUSTOM.length?this.rowEditTabsCUSTOM:this.rowEditTabsDEFAULT}get activeDescendant(){let e=this.navigation.activeNode;return e&&Object.keys(e).length?e.row<0?`${this.id}_${e.row}_${e.mchCache.level}_${e.column}`:`${this.id}_${e.row}_${e.column}`:this.id}get bannerClass(){return"igx-banner "+(this.rowEditPositioningStrategy.isTop?"igx-banner__border-top":"igx-banner__border-bottom")}get sortingExpressions(){return this._sortingExpressions}set sortingExpressions(e){this._sortingExpressions=QS(e),this.sortingExpressionsChange.emit(this._sortingExpressions),this.notifyChanges()}get maxLevelHeaderDepth(){return null===this._maxLevelHeaderDepth&&(this._maxLevelHeaderDepth=this.hasColumnLayouts?this._columns.reduce(((e,t)=>Math.max(e,t.rowStart)),0):this._columns.reduce(((e,t)=>Math.max(e,t.level)),0)),this._maxLevelHeaderDepth}get hiddenColumnsCount(){return this._columns.filter((e=>!1===e.columnGroup&&!0===e.hidden)).length}get pinnedColumnsCount(){return this.pinnedColumns.filter((e=>!e.columnLayout)).length}get batchEditing(){return this._batchEditing}set batchEditing(e){e!==this._batchEditing&&(delete this._transactions,this._batchEditing=e,this.switchTransactionService(e),this.subscribeToTransactions())}get transactions(){return this._diTransactions&&!this.batchEditing?this._diTransactions:this._transactions}get currentRowState(){return this._currentRowState}get currencyPositionLeft(){if(void 0!==this._currencyPositionLeft)return this._currencyPositionLeft;let e=Zp(this.locale,zp.Currency).split(","),t=e.indexOf(e.find((e=>e.includes(""))));return this._currencyPositionLeft=t<1}get cellSelection(){return this._cellSelectionMode}set cellSelection(e){this._cellSelectionMode=e,this.selectionService.clear(!0),this.notifyChanges()}get rowSelection(){return this._rowSelectionMode}set rowSelection(e){this._rowSelectionMode=e,this._init||(this.selectionService.clearAllSelectedRows(),this.notifyChanges(!0))}get columnSelection(){return this._columnSelectionMode}set columnSelection(e){this._columnSelectionMode=e,this.selectionService.clearAllSelectedColumns(),this.notifyChanges(!0)}set pagingState(e){this._pagingState=e,this.paginator&&!this._init&&(this.paginator.totalRecords=e.metadata.countRecords)}get pagingState(){return this._pagingState}get lastSearchInfo(){return this._lastSearchInfo}get paginator(){return this.paginationComponents?.first}get scrollSize(){return this.verticalScrollContainer.getScrollNativeSize()}get minColumnWidth(){return 136}get filteredData(){return this._filteredData}get filteredSortedData(){return this._filteredSortedData}get rowChangesCount(){if(!this.crudService.row)return 0;let e=t=>{let i=0;return Object.keys(t).forEach((n=>nb(t[n])?i+=e(t[n]):i++)),i};if(this.transactions.getState(this.crudService.row.id)?.type===Tb.ADD)return this._columns.filter((e=>e.field)).length;let t=this.transactions.getAggregatedValue(this.crudService.row.id,!1);return t?e(t):0}get dataWithAddedInTransactionRows(){let e=QS(this.gridAPI.get_all_data());return this.transactions.enabled&&e.push(...this.transactions.getAggregatedChanges(!0).filter((e=>e.type===Tb.ADD)).map((e=>e.newValue))),this.crudService.row&&this.crudService.row.getClassName()===sk.name&&e.splice(this.crudService.row.index,0,this.crudService.row.data),e}get dataLength(){return this.transactions.enabled?this.dataWithAddedInTransactionRows.length:this.gridAPI.get_all_data().length}get template(){return this.isLoading&&(this.hasZeroResultFilter||this.hasNoData)?this.loadingGridTemplate?this.loadingGridTemplate:this.loadingGridDefaultTemplate:this.hasZeroResultFilter?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyFilteredGridTemplate:this.hasNoData?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyGridDefaultTemplate:void 0}get hasZeroResultFilter(){return this.filteredData&&0===this.filteredData.length}get hasNoData(){return!this.data||0===this.dataLength}get shouldOverlayLoading(){return this.isLoading&&!this.hasNoData&&!this.hasZeroResultFilter}get isMultiRowSelectionEnabled(){return this.rowSelection===cD||this.rowSelection===hD}get isRowSelectable(){return this.rowSelection!==lD}get isCellSelectable(){return this.cellSelection!==lD}get columnInDrag(){return this.gridAPI.cms.column}constructor(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,y,v,x,_){super(y,s),this.validation=e,this.selectionService=t,this.colResizingService=i,this.gridAPI=n,this.transactionFactory=r,this.elementRef=s,this.zone=o,this.document=a,this.cdr=l,this.differs=d,this.viewRef=c,this.injector=h,this.envInjector=u,this.navigation=g,this.filteringService=p,this.overlayService=m,this.summaryService=f,this._displayDensityOptions=y,this.localeId=v,this.platform=x,this._diTransactions=_,this.snackbarDisplayTime=6e3,this.autoGenerate=!1,this.autoGenerateExclude=[],this.moving=!1,this.clipboardOptions={enabled:!0,copyHeaders:!0,copyFormatters:!0,separator:"\t"},this.filteringExpressionsTreeChange=new Pd,this.advancedFilteringExpressionsTreeChange=new Pd,this.gridScroll=new Pd,this.rowStyles=null,this.cellClick=new Pd,this.formGroupCreated=new Pd,this.validationStatusChange=new Pd,this.selected=new Pd,this.rowSelectionChanging=new Pd,this.columnSelectionChanging=new Pd,this.columnPin=new Pd,this.columnPinned=new Pd,this.cellEditEnter=new Pd,this.cellEditExit=new Pd,this.cellEdit=new Pd,this.cellEditDone=new Pd,this.rowEditEnter=new Pd,this.rowEdit=new Pd,this.rowEditDone=new Pd,this.rowEditExit=new Pd,this.columnInit=new Pd,this.columnsAutogenerated=new Pd,this.sorting=new Pd,this.sortingDone=new Pd,this.filtering=new Pd,this.filteringDone=new Pd,this.rowAdded=new Pd,this.rowDeleted=new Pd,this.rowDelete=new Pd,this.rowAdd=new Pd,this.columnResized=new Pd,this.contextMenu=new Pd,this.doubleClick=new Pd,this.columnVisibilityChanging=new Pd,this.columnVisibilityChanged=new Pd,this.columnMovingStart=new Pd,this.columnMoving=new Pd,this.columnMovingEnd=new Pd,this.gridKeydown=new Pd,this.rowDragStart=new Pd,this.rowDragEnd=new Pd,this.gridCopy=new Pd,this.expansionStatesChange=new Pd,this.rowToggle=new Pd,this.rowPinning=new Pd,this.rowPinned=new Pd,this.activeNodeChange=new Pd,this.sortingExpressionsChange=new Pd,this.toolbarExporting=new Pd,this.rangeSelected=new Pd,this.rendered=new Pd,this.localeChange=new Pd,this.dataChanging=new Pd,this.dataChanged=new Pd,this.columnList=new mg,this.tmpOutlets=new mg,this.rowExpandedIndicatorDirectiveTemplate=null,this.rowCollapsedIndicatorDirectiveTemplate=null,this.headerExpandedIndicatorDirectiveTemplate=null,this.headerCollapsedIndicatorDirectiveTemplate=null,this.excelStyleHeaderIconDirectiveTemplate=null,this.sortAscendingHeaderIconDirectiveTemplate=null,this.sortDescendingHeaderIconDirectiveTemplate=null,this.sortHeaderIconDirectiveTemplate=null,this.tabindex=0,this.hostRole="grid",this.baseClass="igx-grid",this.validationTrigger="change",this.rowDragging=!1,this.dragRowID=null,this.snackbarActionText=this.resourceStrings.igx_grid_snackbar_addrow_actiontext,this.calcHeight=0,this.disableTransitions=!1,this.columnWidthSetByUser=!1,this.rendered$=this.rendered.asObservable().pipe(function(e,t,i){let n;return n=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:i},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:i,scheduler:n}){let r,s,o=0,a=!1,l=!1;return function(d){let c;o++,!r||a?(a=!1,r=new _t(e,t,n),c=r.subscribe(this),s=d.subscribe({next(e){r.next(e)},error(e){a=!0,r.error(e)},complete(){l=!0,s=void 0,r.complete()}}),l&&(s=void 0)):c=r.subscribe(this),this.add((()=>{o--,c.unsubscribe(),c=void 0,s&&!l&&i&&0===o&&(s.unsubscribe(),s=void 0,r=void 0)}))}}(n))}({bufferSize:1,refCount:!0})),this.resizeNotify=new Xe,this.rowAddedNotifier=new Xe,this.rowDeletedNotifier=new Xe,this.pipeTriggerNotifier=new Xe,this._destroyed=!1,this._totalRecords=-1,this.columnsWithNoSetWidths=null,this.pipeTrigger=0,this.filteringPipeTrigger=0,this.summaryPipeTrigger=0,this.groupablePipeTrigger=0,this.EMPTY_DATA=[],this.isPivot=!1,this.destroy$=new Xe,this._pagingMode=fD.Local,this._hideRowSelectors=!1,this._rowDrag=!1,this._columns=[],this._columnConfig=[],this._pinnedColumns=[],this._unpinnedColumns=[],this._filteringExpressionsTree=new qb(Yb.And),this._sortingExpressions=[],this._maxLevelHeaderDepth=null,this._columnHiding=!1,this._columnPinning=!1,this._pinnedRecordIDs=[],this._allowFiltering=!1,this._allowAdvancedFiltering=!1,this._filterMode=tD,this._defaultTargetRecordNumber=10,this._expansionStates=new Map,this._defaultExpandState=!1,this._headerFeaturesWidth=NaN,this._init=!0,this._firstAutoResize=!0,this._autoSizeColumnsNotify=new Xe,this._cdrRequestRepaint=!1,this._batchEditing=!1,this._sortingOptions={mode:"multiple"},this._filterStrategy=new Jb,this._autoGeneratedCols=[],this._dataView=[],this._lastSearchInfo={searchText:"",caseSensitive:!1,exactMatch:!1,activeMatchIndex:0,matchInfoCache:[],matchCount:0,content:""},this._rowEditable=!1,this._filteredSortedData=null,this._filteredData=null,this._cdrRequests=!1,this._emptyGridMessage=null,this._emptyFilteredGridMessage=null,this._isLoading=!1,this.overlayIDs=[],this._pinning={columns:pD.Start},this._advancedFilteringPositionSettings={verticalDirection:GE.Middle,horizontalDirection:zE.Center,horizontalStartPoint:zE.Center,verticalStartPoint:GE.Middle},this._advancedFilteringOverlaySettings={closeOnOutsideClick:!1,modal:!1,positionStrategy:new qE(this._advancedFilteringPositionSettings)},this._height="100%",this._width="100%",this._horizontalForOfs=[],this._multiRowLayoutRowSize=1,this._totalWidth=NaN,this._pinnedVisible=[],this._unpinnedVisible=[],this._pinnedWidth=NaN,this._unpinnedWidth=NaN,this._visibleColumns=[],this._columnGroups=!1,this._summaryPosition=rD,this._summaryCalculationMode=aD,this._showSummaryOnCollapse=!1,this._summaryRowHeight=0,this._cellSelectionMode=cD,this._rowSelectionMode=lD,this._selectRowOnClick=!0,this._columnSelectionMode=lD,this.rowEditPositioningStrategy=new JW({horizontalDirection:zE.Right,verticalDirection:GE.Bottom,horizontalStartPoint:zE.Left,verticalStartPoint:GE.Bottom,closeAnimation:null}),this.rowEditSettings={scrollStrategy:new rI,modal:!1,closeOnOutsideClick:!1,outlet:this.rowOutletDirective,positionStrategy:this.rowEditPositioningStrategy},this.transactionChange$=new Xe,this._rendered=!1,this.DRAG_SCROLL_DELTA=10,this._dataCloneStrategy=new Gb,this._autoSize=!1,this._sortHeaderIconTemplate=null,this._sortAscendingHeaderIconTemplate=null,this._sortDescendingHeaderIconTemplate=null,this.isHorizontalScrollHidden=!1,this.preventContainerScroll=e=>{0!==e.target.scrollTop&&(this.verticalScrollContainer.addScrollTop(e.target.scrollTop),e.target.scrollTop=0),0!==e.target.scrollLeft&&(this.headerContainer.scrollPosition+=e.target.scrollLeft,e.target.scrollLeft=0)},this.locale=this.locale||this.localeId,this._transactions=this.transactionFactory.create("None"),this._transactions.cloneStrategy=this.dataCloneStrategy,this.cdr.detach()}hideActionStrip(){this.actionStrip?.hide()}get headerFeaturesWidth(){return this._headerFeaturesWidth}isDetailRecord(e){return!1}isGroupByRecord(e){return!1}isGhostRecord(e){return void 0!==e.ghostRecord}isAddRowRecord(e){return void 0!==e.addRow}getDataViewIndex(e,t){return t&&!this.isRowPinningToTop?e+=this.unpinnedDataView.length:!t&&this.isRowPinningToTop&&(e+=this.pinnedDataView.length),e}get hasDetails(){return!1}get virtualizationState(){return this.verticalScrollContainer.state}hideOverlays(){this.overlayIDs.forEach((e=>{let t=this.overlayService.getOverlayById(e);t?.visible&&!t.closeAnimationPlayer?.hasStarted()&&(this.overlayService.hide(e),this.nativeElement.focus())}))}isRecordPinnedByViewIndex(e){return this.hasPinnedRecords&&this.isRowPinningToTop&&e<this.pinnedDataView.length||!this.isRowPinningToTop&&e>=this.unpinnedDataView.length}isRecordPinnedByIndex(e){return this.hasPinnedRecords&&this.isRowPinningToTop&&e<this._filteredSortedPinnedData.length||!this.isRowPinningToTop&&e>=this._filteredSortedUnpinnedData.length}isRecordPinned(e){return-1!==this.getInitialPinnedIndex(e)}getInitialPinnedIndex(e){let t=this.gridAPI.get_row_id(e);return this._pinnedRecordIDs.indexOf(t)}get hasPinnedRecords(){return this._pinnedRecordIDs.length>0}get pinnedRecordsCount(){return this._pinnedRecordIDs.length}get crudService(){return this.gridAPI.crudService}_setupServices(){this.gridAPI.grid=this,this.crudService.grid=this,this.selectionService.grid=this,this.validation.grid=this,this.navigation.grid=this,this.filteringService.grid=this,this.summaryService.grid=this}_setupListeners(){let e=Si(this.destroy$);Wt(this.nativeElement,"focusout").pipe(Xt((()=>!!this.navigation.activeNode)),e).subscribe((e=>{!this.crudService.cell&&this.navigation.activeNode&&(e.target===this.tbody.nativeElement&&this.navigation.activeNode.row>=0&&this.navigation.activeNode.row<this.dataView.length||e.target===this.theadRow.nativeElement&&-1===this.navigation.activeNode.row||e.target===this.tfoot.nativeElement&&this.navigation.activeNode.row===this.dataView.length)&&!(this.rowEditable&&this.crudService.rowEditingBlocked&&this.crudService.rowInEditMode)&&(this.navigation.lastActiveNode=this.navigation.activeNode,this.navigation.activeNode={},this.notifyChanges())})),this.rowAddedNotifier.pipe(e).subscribe((e=>this.refreshGridState(e))),this.rowDeletedNotifier.pipe(e).subscribe((e=>{this.summaryService.deleteOperation=!0,this.summaryService.clearSummaryCache(e)})),this.subscribeToTransactions(),this.resizeNotify.pipe(Xt((()=>!this._init)),Pi(40,St,{leading:!1,trailing:!0}),e).subscribe((()=>{this.zone.run((()=>{this.nativeElement?.isConnected&&this.notifyChanges(!0)}))})),this.pipeTriggerNotifier.pipe(Si(this.destroy$)).subscribe((()=>this.pipeTrigger++)),this.columnMovingEnd.pipe(e).subscribe((()=>this.crudService.endEdit(!1))),this.overlayService.opening.pipe(e).subscribe((e=>{if(this._advancedFilteringOverlayId===e.id){let t=e.componentRef.instance;t&&t.initialize(this,this.overlayService,e.id)}})),this.overlayService.opened.pipe(e).subscribe((e=>{let t=this.overlayService.getOverlayById(e.id)?.settings;if(this._advancedFilteringOverlayId!==e.id)this.rowEditingOverlay?.overlayId!==e.id&&t?.outlet===this.outlet&&-1===this.overlayIDs.indexOf(e.id)&&this.overlayIDs.push(e.id);else{let t=e.componentRef.instance;t&&(t.lastActiveNode=this.navigation.activeNode,t.queryBuilder.setAddButtonFocus())}})),this.overlayService.closed.pipe(Xt((()=>!this._init)),e).subscribe((e=>{if(this._advancedFilteringOverlayId===e.id)return this.overlayService.detach(this._advancedFilteringOverlayId),void(this._advancedFilteringOverlayId=null);let t=this.overlayIDs.indexOf(e.id);-1!==t&&this.overlayIDs.splice(t,1)})),this.verticalScrollContainer.dataChanging.pipe(Xt((()=>!this._init)),e).subscribe((e=>{this.isPercentHeight&&(!this.calcHeight||this.calcHeight===this.getDataBasedBodyHeight()||this.calcHeight===this.renderedRowHeight*this._defaultTargetRecordNumber)&&(this.calculateGridHeight(),e.containerSize=this.calcHeight),this.evaluateLoadingState()})),this.verticalScrollContainer.scrollbarVisibilityChanged.pipe(Xt((()=>!this._init)),e).subscribe((()=>{this.notifyChanges(!0),this.cdr.detectChanges(),Promise.resolve().then((()=>this.headerContainer.updateScroll()))})),this.headerContainer?.scrollbarVisibilityChanged.pipe(Xt((()=>!this._init)),e).subscribe((()=>{this.notifyChanges(!0),this.cdr.detectChanges()})),this.verticalScrollContainer.contentSizeChange.pipe(Xt((()=>!this._init)),Pi(30),e).subscribe((()=>{this.notifyChanges(!0)})),this.densityChanged.pipe(e).subscribe((()=>{this._autoSize=this.isPercentHeight&&this.calcHeight!==this.getDataBasedBodyHeight(),this.crudService.endEdit(!1),0===this._summaryRowHeight&&(this.summaryService.summaryHeight=0),this.notifyChanges(!0)})),this._autoSizeColumnsNotify.pipe(Pi(0,St,{leading:!1,trailing:!0}),e).subscribe((()=>{this.autoSizeColumnsInView(),this._firstAutoResize=!1}))}ngOnInit(){super.ngOnInit(),this._setupServices(),this._setupListeners(),this.rowListDiffer=this.differs.find([]).create(null),this.columnListDiffer=this.differs.find([]).create(((e,t)=>t.field)),this.calcWidth=this.width&&-1===this.width.indexOf("%")?parseInt(this.width,10):0,this.shouldGenerate=this.autoGenerate}resetColumnsCaches(){this._columns.forEach((e=>e.resetCaches()))}generateRowID(){let e=this._columns.find((e=>e.field===this.primaryKey));return"string"===(this.data.length?this.resolveDataTypes(this.data[0][this.primaryKey]):e?e.dataType:"string")?JK():$j--}resetForOfCache(){let e=this.dataRowList.first;e&&(this._cdrRequests&&e.virtDirRow.cdr.detectChanges(),e.virtDirRow.assumeMaster())}setFilteredData(e,t){if(this.hasPinnedRecords&&t){this._filteredPinnedData=e||[];let t=this._filteredUnpinnedData||[],i=[...this._filteredPinnedData,...t];this._filteredData=i.length>0?i:this._filteredUnpinnedData}else this.hasPinnedRecords&&!t?this._filteredUnpinnedData=e:this._filteredData=e}resetColumnCollections(){this.hasColumnLayouts&&this._columns.filter((e=>e.columnLayout)).forEach((e=>e.populateVisibleIndexes())),this._visibleColumns.length=0,this._pinnedVisible.length=0,this._unpinnedVisible.length=0}resetCachedWidths(){this._unpinnedWidth=NaN,this._pinnedWidth=NaN,this._totalWidth=NaN}resetCaches(e=!0){e&&(this._headerFeaturesWidth=NaN,this.summaryService.summaryHeight=0),this.resetColumnsCaches(),this.resetColumnCollections(),this.resetForOfCache(),this.resetCachedWidths(),this.hasVisibleColumns=void 0,this._columnGroups=this._columns.some((e=>e.columnGroup))}ngAfterContentInit(){this.sortHeaderIconDirectiveTemplate&&(this.sortHeaderIconTemplate=this.sortHeaderIconDirectiveTemplate),this.sortAscendingHeaderIconDirectiveTemplate&&(this.sortAscendingHeaderIconTemplate=this.sortAscendingHeaderIconDirectiveTemplate),this.sortDescendingHeaderIconDirectiveTemplate&&(this.sortDescendingHeaderIconTemplate=this.sortDescendingHeaderIconDirectiveTemplate),this.setupColumns(),this.toolbar.changes.pipe(Xt((()=>!this._init)),Si(this.destroy$)).subscribe((()=>this.notifyChanges(!0))),this.setUpPaginator(),this.paginationComponents.changes.pipe(Si(this.destroy$)).subscribe((()=>{this.setUpPaginator()})),this.actionStrip&&(this.actionStrip.menuOverlaySettings.outlet=this.outlet)}dataRebinding(e){this.dataChanging.emit(e)}dataRebound(e){this.selectionService.clearHeaderCBState(),this.dataChanged.emit(e)}createFilterDropdown(e,t){if(t.outlet=this.outlet,this.excelStyleFilteringComponent){this.excelStyleFilteringComponent.initialize(e,this.overlayService);let i=this.overlayService.attach(this.excelStyleFilteringComponent.element,t);return this.excelStyleFilteringComponent.overlayComponentId=i,i}return this.overlayService.attach(pz,this.viewRef,t)}setUpPaginator(){this.paginator?(this._rendered&&(this.pipeTrigger++,this.cdr.markForCheck()),this.paginator.pageChange.pipe(Ei((()=>!!this.paginator)),Xt((()=>!this._init))).subscribe((()=>{this.selectionService.clear(!0),this.crudService.endEdit(!1),this.pipeTrigger++,this.navigateTo(0),this.notifyChanges()})),this.paginator.perPageChange.pipe(Ei((()=>!!this.paginator)),Xt((()=>!this._init))).subscribe((()=>{this.selectionService.clear(!0),this.page=0,this.crudService.endEdit(!1),this.notifyChanges()}))):this.markForCheck()}setFilteredSortedData(e,t){e=e||[],this.pinnedRecordsCount>0?t?(this._filteredSortedPinnedData=e,this.pinnedRecords=e,this._filteredSortedData=this.isRowPinningToTop?[...this._filteredSortedPinnedData,...this._filteredSortedUnpinnedData]:[...this._filteredSortedUnpinnedData,...this._filteredSortedPinnedData],this.refreshSearch(!0,!1)):this._filteredSortedUnpinnedData=e:(this._filteredSortedData=e,this.refreshSearch(!0,!1)),this.buildDataView(e)}resetHorizontalVirtualization(){let e=e=>this.isDefined(e.nativeElement.parentElement);this._horizontalForOfs=[...this._dataRowList.filter(e).map((e=>e.virtDirRow)),...this._summaryRowList.filter(e).map((e=>e.virtDirRow))]}_setupRowObservers(){let e=e=>this.isDefined(e.nativeElement.parentElement),t=function(...e){return $e(e)}(At((t=>t.filter(e).map((e=>e.virtDirRow))))),i=t(this._dataRowList.changes),n=t(this._summaryRowList.changes);i.pipe(Si(this.destroy$)).subscribe((()=>{this.resetHorizontalVirtualization()})),n.pipe(Si(this.destroy$)).subscribe((()=>{this.resetHorizontalVirtualization()})),this.resetHorizontalVirtualization()}_zoneBegoneListeners(){this.zone.runOutsideAngular((()=>{this.verticalScrollContainer.getScroll().addEventListener("scroll",this.verticalScrollHandler.bind(this)),this.headerContainer?.getScroll().addEventListener("scroll",this.horizontalScrollHandler.bind(this)),this.hasColumnsToAutosize&&this.headerContainer?.dataChanged.pipe(Si(this.destroy$)).subscribe((()=>{this.cdr.detectChanges(),this.zone.onStable.pipe(fi()).subscribe((()=>{this.autoSizeColumnsInView()}))})),Wt(window,"resize").pipe(Si(this.destroy$)).subscribe((()=>this.resizeNotify.next())),fb(this.nativeElement).pipe(Si(this.destroy$)).subscribe((()=>this.resizeNotify.next()))}))}ngAfterViewInit(){this.initPinning(),this.calculateGridSizes(),this._init=!1,this.cdr.reattach(),this._setupRowObservers(),this._zoneBegoneListeners(),this.verticalScrollContainer.displayContainer.addEventListener("scroll",this.preventContainerScroll.bind(this)),this._pinnedRowList.changes.pipe(Si(this.destroy$)).subscribe((e=>{this.onPinnedRowsChanged(e)})),this.addRowSnackbar?.clicked.subscribe((()=>{let e=this.filteredSortedData[this.lastAddedRowIndex];this.scrollTo(e,0),this.addRowSnackbar.close()})),this.rendered$.pipe(Si(this.destroy$)).subscribe((()=>{this.paginator&&(this.paginator.totalRecords=this.totalRecords?this.totalRecords:this.paginator.totalRecords,this.paginator.overlaySettings={outlet:this.outlet}),this.hasColumnsToAutosize&&this.autoSizeColumnsInView(),this._rendered=!0})),Promise.resolve().then((()=>this.rendered.next(!0)))}notifyChanges(e=!1){this._cdrRequests=!0,this._cdrRequestRepaint=e,this.cdr.markForCheck()}ngDoCheck(){if(super.ngDoCheck(),!this._init){if(this._cdrRequestRepaint)return this.resetNotifyChanges(),this.calculateGridSizes(),void this.refreshSearch(!0);this._cdrRequests&&(this.resetNotifyChanges(),this.cdr.detectChanges())}}getDragGhostCustomTemplate(){return this.dragGhostCustomTemplate}ngOnDestroy(){this.tmpOutlets.forEach((e=>{e.cleanCache()})),this.destroy$.next(!0),this.destroy$.complete(),this.transactionChange$.next(),this.transactionChange$.complete(),this._destroyed=!0,this._advancedFilteringOverlayId&&(this.overlayService.detach(this._advancedFilteringOverlayId),delete this._advancedFilteringOverlayId),this.overlayIDs.forEach((e=>{let t=this.overlayService.getOverlayById(e);t&&!t.detached&&this.overlayService.detach(e)})),this.zone.runOutsideAngular((()=>{this.verticalScrollContainer?.getScroll()?.removeEventListener("scroll",this.verticalScrollHandler),this.headerContainer?.getScroll()?.removeEventListener("scroll",this.horizontalScrollHandler),this.verticalScrollContainer?.displayContainer?.removeEventListener("scroll",this.preventContainerScroll)}))}toggleColumnVisibility(e){let t=e.column?this._columns.find((t=>t===e.column)):void 0;t&&t.toggleVisibility(e.newValue)}get expansionStates(){return this._expansionStates}set expansionStates(e){this._expansionStates=new Map(e),this.expansionStatesChange.emit(this._expansionStates),this.notifyChanges(!0),this.gridAPI.grid&&this.cdr.detectChanges()}expandAll(){this._defaultExpandState=!0,this.expansionStates=new Map}collapseAll(){this._defaultExpandState=!1,this.expansionStates=new Map}expandRow(e){this.gridAPI.set_row_expansion_state(e,!0)}collapseRow(e){this.gridAPI.set_row_expansion_state(e,!1)}toggleRow(e){let t=this.gridAPI.get_rec_by_id(e),i=this.gridAPI.get_row_expansion_state(t);this.gridAPI.set_row_expansion_state(e,!i)}getDefaultExpandState(e){return this._defaultExpandState}get nativeElement(){return this.elementRef.nativeElement}get outlet(){return this.resolveOutlet()}set outlet(e){this._userOutletDirective=e}get defaultRowHeight(){switch(this.displayDensity){case TI:return 40;case AI:return 32;default:return 50}}get defaultSummaryHeight(){switch(this.displayDensity){case TI:return 30;case AI:return 24;default:return 36}}get defaultHeaderGroupMinWidth(){switch(this.displayDensity){case TI:return 32;case AI:return 24;default:return 48}}get pinnedWidth(){return isNaN(this._pinnedWidth)?(this._pinnedWidth=this.getPinnedWidth(),this._pinnedWidth):this._pinnedWidth}get unpinnedWidth(){return isNaN(this._unpinnedWidth)?(this._unpinnedWidth=this.getUnpinnedWidth(),this._unpinnedWidth):this._unpinnedWidth}getHeaderCellWidth(e){let t=this.document.createRange(),i=this.platform.getNodeSizeViaRange(t,e,e.parentElement),n=this.document.defaultView.getComputedStyle(e),r=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderRightWidth),s=this.document.defaultView.getComputedStyle(e.parentElement),o=parseFloat(s.borderRightWidth)+parseFloat(s.borderLeftWidth);return{width:Math.ceil(i),padding:Math.ceil(r+o)}}featureColumnsWidth(e){if(Number.isNaN(this._headerFeaturesWidth)){let t=this.headerSelectorContainer?.nativeElement?.getBoundingClientRect?this.headerSelectorContainer.nativeElement.getBoundingClientRect().width:0,i=this.rowDraggable&&this.headerDragContainer?.nativeElement?.getBoundingClientRect?this.headerDragContainer.nativeElement.getBoundingClientRect().width:0,n=this.headerGroupContainer?.nativeElement?.getBoundingClientRect?this.headerGroupContainer.nativeElement.getBoundingClientRect().width:0,r=e?.nativeElement?.getBoundingClientRect?e.nativeElement.getBoundingClientRect().width:0;this._headerFeaturesWidth=t+i+n+r}return this._headerFeaturesWidth}get summariesMargin(){return this.featureColumnsWidth()}get columns(){return this._columns||[]}set columns(e){this._columnConfig=e,this._rendered&&(this.configToColumns(e),this.onColumnsChanged(this.columnList))}get pinnedColumns(){return this._pinnedVisible.length||(this._pinnedVisible=this._pinnedColumns.filter((e=>!e.hidden))),this._pinnedVisible}get pinnedRows(){return this._pinnedRowList.toArray().sort(((e,t)=>e.index-t.index))}get unpinnedColumns(){return this._unpinnedVisible.length||(this._unpinnedVisible=this._unpinnedColumns.filter((e=>!e.hidden))),this._unpinnedVisible}getHeaderGroupWidth(e){return this.hasColumnLayouts?"":`${Math.max(parseFloat(e.calcWidth),this.defaultHeaderGroupMinWidth)}px`}getColumnByName(e){return this._columns.find((t=>t.field===e))}getColumnByVisibleIndex(e){return this.visibleColumns.find((t=>!t.columnGroup&&!t.columnLayout&&t.visibleIndex===e))}recalculateAutoSizes(){this._columns.forEach((e=>e.autoSize=void 0)),this.resetCaches(),this.zone.onStable.pipe(fi()).subscribe((()=>{this.cdr.detectChanges(),this.autoSizeColumnsInView()}))}get visibleColumns(){return this._visibleColumns.length||(this._visibleColumns=this._columns.filter((e=>!e.hidden))),this._visibleColumns}get totalRecords(){return this._totalRecords>=0?this._totalRecords:this.pagingState?.metadata.countRecords}set totalRecords(e){e>=0&&(this.paginator&&(this.paginator.totalRecords=e),this._totalRecords=e,this.pipeTrigger++,this.notifyChanges())}get totalWidth(){if(!isNaN(this._totalWidth))return this._totalWidth;let e=this.visibleColumns.filter((e=>0===e.level&&!e.pinned)),t=0,i=0;for(;i<e.length;i++)t+=parseInt(e[i].calcWidth,10)||0;return this._totalWidth=t,t}get showRowSelectors(){return this.isRowSelectable&&this.hasVisibleColumns&&!this.hideRowSelectors}get showAddButton(){return this.rowEditable&&0===this.dataView.length&&this._columns.length>0}get showDragIcons(){return this.rowDraggable&&this._columns.length>this.hiddenColumnsCount}_getDataViewIndex(e){let t=e;return(e<0||e>=this.dataView.length)&&1===this.pagingMode&&0!==this.page?t=e-this.perPage*this.page:this.gridAPI.grid.verticalScrollContainer.isRemote&&(t=e-this.gridAPI.grid.virtualizationState.startIndex),t}getDataIndex(e){let t=e;return this.gridAPI.grid.verticalScrollContainer.isRemote&&(t=e+this.gridAPI.grid.virtualizationState.startIndex),t}moveColumn(e,t,i=nM.AfterDropTarget){let n={source:e,target:t,cancel:!1};if(this.columnMovingEnd.emit(n),!n.cancel&&e!==t&&e.level===t.level&&e.topLevelParent===t.topLevelParent){if(e.level&&this._moveChildColumns(e.parent,e,t,i),t.pinned&&!e.pinned){let n=this._pinnedColumns.indexOf(t),r=i===nM.AfterDropTarget?n+1:n;e.pin(r)}if(!t.pinned&&e.pinned){let n=this._unpinnedColumns.indexOf(t),r=i===nM.AfterDropTarget?n+1:n;e.unpin(r)}this._moveColumns(e,t,i),this._columnsReordered(e)}}markForCheck(){this.pipeTrigger++,this.cdr.detectChanges()}addRow(e){this.crudService.endEdit(!0),this.gridAPI.addRowToData(e),this.pipeTrigger++,this.rowAddedNotifier.next({data:e,owner:this,primaryKey:e[this.primaryKey]}),this.notifyChanges()}deleteRow(e){if(void 0!==this.primaryKey&&null!==this.primaryKey)return this.deleteRowById(e)}deleteRowById(e){let t={rowID:e,primaryKey:e,cancel:!1,rowData:this.getRowData(e),oldValue:null,owner:this};if(this.rowDelete.emit(t),t.cancel)return;let i=this.gridAPI.deleteRowById(e);if(null!=i){let e={data:i,owner:this,primaryKey:i[this.primaryKey]};this.rowDeleted.emit(e)}return i}updateCell(e,t,i){if(this.isDefined(this.primaryKey)){let n=this._columns.find((e=>e.field===i));if(n){let i=this.gridAPI.getRowData(t),r=this.gridAPI.get_row_index_in_data(t);if(r<0)return;let s={rowID:t,columnID:n.index,rowIndex:r},o=new ok(s,r,n,i[n.field],e,i,this);this.validation.getFormControl(o.id.rowID,o.column.field).setValue(e),this.gridAPI.update_cell(o),this.cdr.detectChanges()}}}updateRow(e,t){if(this.isDefined(this.primaryKey)){let i=this.crudService.cell;i&&i.id.rowID===t&&this.crudService.endCellEdit();let n=new rk(t,-1,this.gridAPI.getRowData(t),this);this.gridAPI.update_row(n,e),this.notifyChanges()}}getRowData(e){if(!this.primaryKey)return e;let t=this.gridAPI.get_all_data(this.transactions.enabled),i=this.gridAPI.get_row_index_in_data(e);return i<0?{}:t[i]}sort(e){let t=QS(this.sortingExpressions);if(e instanceof Array)for(let i of e)this.gridAPI.prepare_sorting_expression([t],i);else"single"===this._sortingOptions.mode&&this._columns.forEach((t=>{t.field!==e.fieldName&&this.clearSort(t.field)})),this.gridAPI.prepare_sorting_expression([t],e);let i={owner:this,sortingExpressions:t,cancel:!1};this.sorting.emit(i),!i.cancel&&(this.crudService.endEdit(!1),e instanceof Array?this.gridAPI.sort_multiple(e):this.gridAPI.sort(e),requestAnimationFrame((()=>this.sortingDone.emit(e))))}filter(e,t,i,n){this.filteringService.filter(e,t,i,n)}filterGlobal(e,t,i){this.filteringService.filterGlobal(e,t,i)}enableSummaries(...e){1===e.length&&Array.isArray(e[0])?this._multipleSummaries(e[0],!0):this._summaries(e[0],!0,e[1])}disableSummaries(...e){1===e.length&&Array.isArray(e[0])?this._disableMultipleSummaries(e[0]):this._summaries(e[0],!1)}clearFilter(e){this.filteringService.clearFilter(e)}clearSort(e){e?this.gridAPI.get_column_by_name(e)&&this.gridAPI.clear_sort(e):this.sortingExpressions=[]}refreshGridState(e){this.crudService.endEdit(!0),this.selectionService.clearHeaderCBState(),this.summaryService.clearSummaryCache(),this.summaryPipeTrigger++,this.cdr.detectChanges()}pinColumn(e,t){return(e instanceof aM?e:this.getColumnByName(e)).pin(t)}unpinColumn(e,t){return(e instanceof aM?e:this.getColumnByName(e)).unpin(t)}pinRow(e,t,i){if(-1!==this._pinnedRecordIDs.indexOf(e))return!1;let n=this.gridAPI.get_pin_row_event_args(e,t,i,!0);if(this.rowPinning.emit(n),n.cancel)return;this.crudService.endEdit(!1);let r="number"==typeof n.insertAtIndex?n.insertAtIndex:this._pinnedRecordIDs.length;return this._pinnedRecordIDs.splice(r,0,e),this.pipeTrigger++,this.gridAPI.grid&&(this.cdr.detectChanges(),this.rowPinned.emit(n)),!0}unpinRow(e,t){let i=this._pinnedRecordIDs.indexOf(e);if(-1===i)return!1;let n=this.gridAPI.get_pin_row_event_args(e,null,t,!1);return this.rowPinning.emit(n),n.cancel?void 0:(this.crudService.endEdit(!1),this._pinnedRecordIDs.splice(i,1),this.pipeTrigger++,this.gridAPI.grid&&(this.cdr.detectChanges(),this.rowPinned.emit(n)),!0)}get pinnedRowHeight(){let e=this.pinContainer?this.pinContainer.nativeElement.offsetHeight:0;return this.hasPinnedRecords?e:0}get totalHeight(){return this.calcHeight?this.calcHeight+this.pinnedRowHeight:this.calcHeight}reflow(){this.calculateGridSizes()}findNext(e,t,i){return this.find(e,1,t,i)}findPrev(e,t,i){return this.find(e,-1,t,i)}refreshSearch(e,t=!0){if(this._lastSearchInfo.searchText){if(this.rebuildMatchCache(),e){let e=AA.highlightGroupsMap.get(this.id);this._lastSearchInfo.matchInfoCache.forEach(((t,i)=>{t.column===e.column&&t.row===e.row&&t.index===e.index&&yb(t.metadata,e.metadata)&&(this._lastSearchInfo.activeMatchIndex=i)}))}return this.find(this._lastSearchInfo.searchText,0,this._lastSearchInfo.caseSensitive,this._lastSearchInfo.exactMatch,!1,t)}return 0}clearSearch(){this._lastSearchInfo={searchText:"",caseSensitive:!1,exactMatch:!1,activeMatchIndex:0,matchInfoCache:[],matchCount:0,content:""},this.rowList.forEach((e=>{e.cells&&e.cells.forEach((e=>{e.clearHighlight()}))}))}get hasEditableColumns(){return this._columns.some((e=>e.editable))}get hasSummarizedColumns(){return this._columns.filter((e=>e.hasSummary&&!e.hidden)).length>0}get rootSummariesEnabled(){return this.summaryCalculationMode!==oD}get hasVisibleColumns(){return void 0===this._hasVisibleColumns?!!this._columns&&this._columns.some((e=>!e.hidden)):this._hasVisibleColumns}set hasVisibleColumns(e){this._hasVisibleColumns=e}get hasMovableColumns(){return this.moving}get hasColumnGroups(){return this._columnGroups}get hasColumnLayouts(){return!!this._columns.some((e=>e.columnLayout))}get multiRowLayoutRowSize(){return this._multiRowLayoutRowSize}get rowBasedHeight(){return this.dataLength*this.rowHeight}get isPercentWidth(){return this.width&&-1!==this.width.indexOf("%")}get isPercentHeight(){return this._height&&-1!==this._height.indexOf("%")}get defaultTargetBodyHeight(){let e=this.dataLength;return this.renderedActualRowHeight*Math.min(this._defaultTargetRecordNumber,this.paginator?Math.min(e,this.paginator.perPage):e)}get renderedRowHeight(){return this.rowHeight+1}get outerWidth(){return this.hasVerticalScroll()?this.calcWidth+this.scrollSize:this.calcWidth}getVisibleContentHeight(){let e=this.theadRow.nativeElement.clientHeight+this.tbody.nativeElement.clientHeight;return this.hasSummarizedColumns&&(e+=this.tfoot.nativeElement.clientHeight),e}getPossibleColumnWidth(e=null){let t;t=null!==e?e:this.calcWidth||parseInt(this.document.defaultView.getComputedStyle(this.nativeElement).getPropertyValue("width"),10);let i=this.visibleColumns.filter((e=>!e.columnGroup)),n=[],r=this.visibleColumns.filter((e=>e.columnGroup)).map((e=>e.getInitialChildColumnSizes(e.children))),s=r.reduce(((e,t)=>e+t.length),0);r.forEach((e=>n=n.concat(e)));let o=this.hasColumnLayouts?n.filter((e=>e.widthSetByUser)):i.filter((e=>e.widthSetByUser&&"fit-content"!==e.width)),a=this.hasColumnLayouts?s-o.length:i.length-o.length,l=o.reduce(((e,i)=>{let n=i.width,r=parseInt(n,10);return isNaN(r)&&(r=136),e+(n&&"string"==typeof n&&-1!==n.indexOf("%")?r/100*t:r)}),0);return l||a?(t-=this.featureColumnsWidth(),Math.floor(Number.isFinite(l)?Math.max((t-l)/a,this.minColumnWidth):Math.max(t/a,this.minColumnWidth))+"px"):"0px"}hasVerticalScroll(){if(this._init)return!1;let e=!!this.verticalScrollContainer&&this.verticalScrollContainer.isScrollable();return!!(this.calcWidth&&this.dataView&&this.dataView.length>0&&e)}getPinnedWidth(e=!1){let t=e?this._pinnedColumns:this.pinnedColumns,i=0;for(let e of t)0===e.level&&(i+=parseInt(e.calcWidth,10));return this.isPinningToStart&&(i+=this.featureColumnsWidth()),i}isColumnGrouped(e){return!1}onHeaderSelectorClick(e){this.isMultiRowSelectionEnabled&&(this.selectionService.areAllRowSelected()?this.selectionService.clearRowSelection(e):this.selectionService.selectAllRows(e))}get headSelectorBaseAriaLabel(){return this._filteringExpressionsTree.filteringOperands.length>0?this.selectionService.areAllRowSelected()?"Deselect all filtered":"Select all filtered":this.selectionService.areAllRowSelected()?"Deselect all":"Select all"}get totalRowsCountAfterFilter(){return this.data?this.selectionService.allData.length:0}get pinnedDataView(){return this.pinnedRecords?this.pinnedRecords:[]}get unpinnedDataView(){return this.unpinnedRecords?this.unpinnedRecords:this.verticalScrollContainer?.igxForOf||[]}get dataView(){return this._dataView}get selectRowOnClick(){return this._selectRowOnClick}set selectRowOnClick(e){this._selectRowOnClick=e}selectRows(e,t){this.selectionService.selectRowsWithNoEvent(e,t),this.notifyChanges()}deselectRows(e){this.selectionService.deselectRowsWithNoEvent(e),this.notifyChanges()}selectAllRows(e=!0){let t=e&&this.filteredData?this.filteredData:this.gridAPI.get_all_data(!0),i=this.selectionService.getRowIDs(t).filter((e=>!this.gridAPI.row_deleted_transaction(e)));this.selectRows(i)}deselectAllRows(e=!0){e&&this.filteredData&&this.filteredData.length>0?this.deselectRows(this.selectionService.getRowIDs(this.filteredData)):(this.selectionService.clearAllSelectedRows(),this.notifyChanges())}clearCellSelection(){this.selectionService.clear(!0),this.notifyChanges()}dragScroll(e){let t=this.headerContainer.getScroll(),i=this.verticalScrollContainer.getScroll(),{left:n,top:r}=e;t.scrollLeft+=n*this.DRAG_SCROLL_DELTA,i.scrollTop+=r*this.DRAG_SCROLL_DELTA}isDefined(e){return null!=e}selectRange(e){this.isDefined(e)?(e instanceof Array?e.forEach((e=>this.setSelection(e))):this.setSelection(e),this.notifyChanges()):this.clearCellSelection()}columnToVisibleIndex(e){let t=this.visibleColumns;return"number"==typeof e?e:t.find((t=>t.field===e)).visibleIndex}setSelection(e){let t={row:e.rowStart,column:this.columnToVisibleIndex(e.columnStart)},i={row:e.rowEnd,column:this.columnToVisibleIndex(e.columnEnd)};this.selectionService.pointerState.node=t,this.selectionService.selectRange(i,this.selectionService.pointerState),this.selectionService.addRangeMeta(i,this.selectionService.pointerState),this.selectionService.initPointerState()}getSelectedRanges(){return this.selectionService.ranges}getSelectedData(e=!1,t=!1){let i=this.filteredSortedData;return this.extractDataFromSelection(i,e,t)}selectedColumns(){return this.selectionService.getSelectedColumns().map((e=>this.getColumnByName(e))).filter((e=>e))}selectColumns(e,t){let i=[];0===e.length||"string"==typeof e[0]?i=e:e.forEach((e=>{if(e.columnGroup){let t=e.allChildren.filter((e=>!e.columnGroup)).map((e=>e.field));i=[...i,...t]}else i.push(e.field)})),this.selectionService.selectColumnsWithNoEvent(i,t),this.notifyChanges()}deselectColumns(e){let t=[];0===e.length||"string"==typeof e[0]?t=e:e.forEach((e=>{if(e.columnGroup){let i=e.allChildren.filter((e=>!e.columnGroup)).map((e=>e.field));t=[...t,...i]}else t.push(e.field)})),this.selectionService.deselectColumnsWithNoEvent(t),this.notifyChanges()}deselectAllColumns(){this.selectionService.clearAllSelectedColumns(),this.notifyChanges()}selectAllColumns(){this.selectColumns(this._columns.filter((e=>!e.columnGroup)))}getSelectedColumnsData(e=!1,t=!1){let i=this.filteredSortedData?this.filteredSortedData:this.data;return this.extractDataFromColumnsSelection(i,e,t)}combineSelectedCellAndColumnData(e,t=!1,i=!1){let n=this.filteredSortedData;return this.extractDataFromSelection(n,t,i,e)}copyHandler(e){let t=e.composedPath().map((e=>e.tagName?.toLowerCase()));if(t.includes("igx-grid-filtering-row")||t.includes("igx-grid-filtering-cell"))return;let i,n=this.gridAPI.grid.selectedColumns(),r=this.getSelectedColumnsData(this.clipboardOptions.copyFormatters,this.clipboardOptions.copyHeaders);"copy"===e.type&&(i=this.getSelectedData(this.clipboardOptions.copyFormatters,this.clipboardOptions.copyHeaders));let s,o=[];if("KeyC"===e.code&&(e.ctrlKey||e.metaKey)&&"igx-grid-thead__wrapper"===e.currentTarget.className)i.length?0===r.length?s=this.prepareCopyData(e,i):(o=this.combineSelectedCellAndColumnData(r,this.clipboardOptions.copyFormatters,this.clipboardOptions.copyHeaders),s=this.prepareCopyData(e,o[0],o[1])):(o=r,s=this.prepareCopyData(e,o)),navigator.clipboard.writeText(s).then().catch((e=>console.error(e)));else{if(!this.clipboardOptions.enabled||this.crudService.cellInEditMode||"keydown"===e.type)return;n.length?(o=this.combineSelectedCellAndColumnData(r,this.clipboardOptions.copyFormatters,this.clipboardOptions.copyHeaders),s=this.prepareCopyData(e,o[0],o[1])):(o=i,s=this.prepareCopyData(e,o)),e.clipboardData.setData("text/plain",s)}}prepareCopyData(e,t,i){let n={data:t,cancel:!1};if(this.gridCopy.emit(n),n.cancel)return;let r=new TD(n.data,this.clipboardOptions.separator),s=i?r.prepareData(i):r.prepareData();return this.clipboardOptions.copyHeaders||(s=s.substring(s.indexOf("\n")+1)),t&&t.length>0&&1===Object.values(t[0]).length&&(s=s.slice(0,-2)),e.preventDefault(),e.stopPropagation(),s}showSnackbarFor(e){this.addRowSnackbar.actionText=-1===e?"":this.snackbarActionText,this.lastAddedRowIndex=e,this.addRowSnackbar.open()}navigateTo(e,t=-1,i=null){let n=this.totalItemCount??this.dataView.length-1;if(e<0||e>n||-1!==t&&-1===this._columns.map((e=>e.visibleIndex)).indexOf(t))return;this.dataView.slice(e,e+1).find((e=>e.expression||e.childGridsData))&&(t=-1);let r=this.navigation.shouldPerformVerticalScroll(e,t),s=this.navigation.shouldPerformHorizontalScroll(t,e);r?this.navigation.performVerticalScrollToCell(e,t,(()=>{s?this.navigation.performHorizontalScrollToCell(t,(()=>this.executeCallback(e,t,i))):this.executeCallback(e,t,i)})):s?this.navigation.performHorizontalScrollToCell(t,(()=>{r?this.navigation.performVerticalScrollToCell(e,t,(()=>this.executeCallback(e,t,i))):this.executeCallback(e,t,i)})):this.executeCallback(e,t,i)}getNextCell(e,t,i=null){let n=this._columns.filter((e=>!e.columnGroup&&e.visibleIndex>=0)),r=this._getDataViewIndex(e);if(!this.isValidPosition(r,t))return{rowIndex:e,visibleColumnIndex:t};let s=i?n.filter((e=>i(e))).map((e=>e.visibleIndex)).sort(((e,t)=>e-t)):n.map((e=>e.visibleIndex)).sort(((e,t)=>e-t)),o=s.find((e=>e>t));if(this.dataView.slice(r,r+1).find((e=>!(e.expression||e.summaries||e.childGridsData||e.detailsData)))&&void 0!==o)return{rowIndex:e,visibleColumnIndex:o};{let i=this.getNextDataRowIndex(e);return 0===s.length||i===e?{rowIndex:e,visibleColumnIndex:t}:{rowIndex:i,visibleColumnIndex:s[0]}}}getPreviousCell(e,t,i=null){let n=this._columns.filter((e=>!e.columnGroup&&e.visibleIndex>=0)),r=this._getDataViewIndex(e);if(!this.isValidPosition(r,t))return{rowIndex:e,visibleColumnIndex:t};let s=i?n.filter((e=>i(e))).map((e=>e.visibleIndex)).sort(((e,t)=>t-e)):n.map((e=>e.visibleIndex)).sort(((e,t)=>t-e)),o=s.find((e=>e<t));if(this.dataView.slice(r,r+1).find((e=>!(e.expression||e.summaries||e.childGridsData||e.detailsData)))&&void 0!==o)return{rowIndex:e,visibleColumnIndex:o};{let i=this.getNextDataRowIndex(e,!0);return 0===s.length||i===e?{rowIndex:e,visibleColumnIndex:t}:{rowIndex:i,visibleColumnIndex:s[0]}}}endRowEditTabStop(e=!0,t){if(this.crudService.endEdit(e,t))return!0;let i=this.gridAPI.grid.navigation.activeNode;i&&-1!==i.row&&this.tbody.nativeElement.focus()}trackColumnChanges(e,t){return t.field+t._calcWidth}isExpandedGroup(e){}openRowOverlay(e){this.configureRowEditingOverlay(e,this.rowList.length<=2),this.rowEditingOverlay.open(this.rowEditSettings),this.rowEditingOverlay.element.addEventListener("wheel",this.rowEditingWheelHandler.bind(this))}closeRowEditingOverlay(){this.rowEditingOverlay.element.removeEventListener("wheel",this.rowEditingWheelHandler),this.rowEditPositioningStrategy.isTopInitialPosition=null,this.rowEditingOverlay.close(),this.rowEditingOverlay.element.parentElement.style.display=""}toggleRowEditingOverlay(e){this.rowEditingOverlay.element.style.display=e?"block":"none"}repositionRowEditingOverlay(e){if(e&&!this.rowEditingOverlay.collapsed){let t=this.rowEditingOverlay.element.parentElement.style;e?(t.display="",this.configureRowEditingOverlay(e.key),this.rowEditingOverlay.reposition()):t.display="none"}}cachedViewLoaded(e){if(this.hasHorizontalScroll()){let t=e.context.templateID.type,i=e.context.index;e.view.detectChanges(),this.zone.onStable.pipe(fi()).subscribe((()=>{let e="dataRow"===t?this.gridAPI.get_row_by_index(i):null,n="summaryRow"===t?this.summariesRowList.find((e=>e.dataRowIndex===i)):null;e&&e instanceof kk?this._restoreVirtState(e):n&&this._restoreVirtState(n)}))}}openAdvancedFilteringDialog(e){let t=e||this._advancedFilteringOverlaySettings;this._advancedFilteringOverlayId||(this._advancedFilteringOverlaySettings.target=this.rootGrid?this.rootGrid.nativeElement:this.nativeElement,this._advancedFilteringOverlaySettings.outlet=this.outlet,this._advancedFilteringOverlayId=this.overlayService.attach(mN,this.viewRef,t),this.overlayService.show(this._advancedFilteringOverlayId))}closeAdvancedFilteringDialog(e){if(this._advancedFilteringOverlayId){let t=this.overlayService.getOverlayById(this._advancedFilteringOverlayId).componentRef.instance;e&&t.applyChanges(),t.closeDialog()}}getEmptyRecordObjectFor(e){let t=m({},e?.data);Object.keys(t).forEach((e=>t[e]=void 0));let i=this.generateRowID();return t[this.primaryKey]=i,{rowID:i,data:t,recordRef:t}}hasHorizontalScroll(){return this.totalWidth-this.unpinnedWidth>0&&null!==this.width}isSummaryRow(e){return e&&e.summaries&&e.summaries instanceof Map}triggerPipes(){this.pipeTrigger++,this.cdr.detectChanges()}rowEditingWheelHandler(e){e.deltaY>0?this.verticalScrollContainer.scrollNext():this.verticalScrollContainer.scrollPrev()}getUnpinnedIndexById(e){return this.unpinnedRecords.findIndex((t=>t[this.primaryKey]===e))}endEdit(e=!0,t){return this.crudService.endEdit(e,t)}beginAddRowById(e,t){let i=e;if(null==e){if(t)return void console.warn("The record cannot be added as a child to an unspecified record.");i=null}else if(i=this.gridAPI.get_rec_index_by_id(e,this.dataView),-1===i)return void console.warn("No row with the specified ID was found.");this._addRowForIndex(i,t)}_addRowForIndex(e,t){if(this.dataView.length)if(e>=0&&e<this.dataView.length){if((e<this.virtualizationState.startIndex||e>=this.virtualizationState.startIndex+this.virtualizationState.chunkSize)&&!this.isRecordPinnedByViewIndex(e))return this.verticalScrollContainer.chunkLoad.pipe(fi(),Si(this.destroy$)).subscribe((()=>{this.beginAddRowForIndex(e,t)})),this.navigateTo(e),void this.notifyChanges(!0);this.beginAddRowForIndex(e,t)}else console.warn("The row with the specified PK or index is outside of the current data view.");else this.beginAddRowForIndex(e,t)}beginAddRowByIndex(e){return 0===e?this.beginAddRowById(null):this._addRowForIndex(e-1)}preventHeaderScroll(e){0!==e.target.scrollLeft&&(this.navigation.forOfDir().getScroll().scrollLeft=e.target.scrollLeft,e.target.scrollLeft=0)}beginAddRowForIndex(e,t=!1){let i=null==e?null:this.rowList.find((t=>t.index===e));void 0!==i?this.crudService.enterAddRowMode(i,t):console.warn("No row with the specified PK or index was found.")}switchTransactionService(e){this._transactions=e?this.transactionFactory.create("Base"):this.transactionFactory.create("None"),this.dataCloneStrategy&&(this._transactions.cloneStrategy=this.dataCloneStrategy)}subscribeToTransactions(){this.transactionChange$.next(),this.transactions.onStateUpdate.pipe(Si(Yt(this.destroy$,this.transactionChange$))).subscribe(this.transactionStatusUpdate.bind(this))}transactionStatusUpdate(e){let t=[];if(e.origin===Ab.REDO?t=e.actions?e.actions.filter((e=>e.transaction.type===Tb.DELETE)):[]:e.origin===Ab.UNDO&&(t=e.actions?e.actions.filter((e=>e.transaction.type===Tb.ADD)):[]),t.length>0)for(let e of t)this.selectionService.isRowSelected(e.transaction.id)&&this.selectionService.deselectRow(e.transaction.id);(e.origin===Ab.REDO||e.origin===Ab.UNDO)&&e.actions.forEach((e=>{if(e.transaction.type===Tb.UPDATE){let t=this.transactions.getAggregatedValue(e.transaction.id,!0);this.validation.update(e.transaction.id,t??e.recordRef)}else if(e.transaction.type===Tb.DELETE||e.transaction.type===Tb.ADD){let t=this.transactions.getAggregatedValue(e.transaction.id,!0);t?(this.validation.create(e.transaction.id,t??e.recordRef),this.validation.update(e.transaction.id,t??e.recordRef),this.validation.markAsTouched(e.transaction.id)):this.validation.clear(e.transaction.id)}})),this.selectionService.clearHeaderCBState(),this.summaryService.clearSummaryCache(),this.pipeTrigger++,this.notifyChanges()}writeToData(e,t){eb(this.gridAPI.get_all_data()[e],t)}_restoreVirtState(e){let t=e.virtDirRow,i=t.getScroll().scrollLeft;t.onHScroll(i),t.cdr.detectChanges()}changeRowEditingOverlayStateOnScroll(e){!this.rowEditable||!this.rowEditingOverlay||this.rowEditingOverlay.collapsed||(e?this.repositionRowEditingOverlay(e):this.toggleRowEditingOverlay(!1))}evaluateLoadingState(){if(this.shouldOverlayLoading){let e={outlet:this.loadingOutlet,closeOnOutsideClick:!1,positionStrategy:new JE};this.loadingOverlay.open(e)}else this.loadingOverlay.close()}calculateGridWidth(){let e;if(this.isPercentWidth){let t=this.document.defaultView.getComputedStyle(this.nativeElement).getPropertyValue("width");e=-1===t.indexOf("%")?parseFloat(t):null}else e=parseInt(this.width,10);!e&&this.nativeElement&&(e=this.nativeElement.offsetWidth),(null===this.width||!e)&&(e=this.getColumnWidthSum()),this.hasVerticalScroll()&&null!==this.width&&(e-=this.scrollSize),(Number.isFinite(e)||null===e)&&e!==this.calcWidth&&(this.calcWidth=e),this._derivePossibleWidth()}_derivePossibleWidth(){this.columnWidthSetByUser||(this._columnWidth=null!==this.width?this.getPossibleColumnWidth():this.minColumnWidth+"px"),this._columns.forEach((e=>{if(this.hasColumnLayouts&&parseInt(this._columnWidth,10)){let t=parseInt(this._columnWidth,10)*(e.colEnd?e.colEnd-e.colStart:1);e.defaultWidth=t+"px"}else e.defaultWidth=this.getExtremumBasedColWidth(e),e.resetCaches()})),this.resetCachedWidths()}getExtremumBasedColWidth(e){let t=this._columnWidth;t&&"string"!=typeof t&&(t=String(t));let i=-1===t.indexOf("%")?e.minWidthPx:e.minWidthPercent,n=-1===t.indexOf("%")?e.maxWidthPx:e.maxWidthPercent;return e.hidden||(i>parseFloat(t)?t=String(e.minWidth):n<parseFloat(t)&&(t=String(e.maxWidth)),-1===t.indexOf("%")&&-1===t.indexOf("px")&&(t+="px")),t}resetNotifyChanges(){this._cdrRequestRepaint=!1,this._cdrRequests=!1}resolveOutlet(){return this._userOutletDirective?this._userOutletDirective:this._outletDirective}_moveColumns(e,t,i){let n=this._pinnedColumns.concat(this._unpinnedColumns);this._reorderColumns(e,t,i,n);let r=this._resetColumnList(n);this.updateColumns(r)}updateColumns(e){this._pinnedColumns=e.filter((e=>e.pinned)),this._unpinnedColumns=e.filter((e=>!e.pinned)),this._columns=e,this.resetCaches()}_resetColumnList(e){e||(e=this._columns);let t=[];return e.filter((e=>0===e.level)).forEach((e=>{t.push(e),e.columnGroup&&(t=t.concat(e.allChildren))})),t}_reorderColumns(e,t,i,n,r=!1){let s=n.indexOf(e),o=r?1:e.allChildren.length+1;n.splice(s,o);let a=n.indexOf(t);i===nM.AfterDropTarget&&(a++,!r&&t.columnGroup&&(a+=t.allChildren.length)),n.splice(a,0,e)}_moveChildColumns(e,t,i,n){let r=e.children.toArray();this._reorderColumns(t,i,n,r,!0),e.children.reset(r)}setupColumns(){this.autoGenerate?this.autogenerateColumns():this._columns=this.getColumnList(),!this.columnList.length&&this._columnConfig.length&&this.configToColumns(this._columnConfig),this.initColumns(this._columns,(e=>this.columnInit.emit(e))),this.columnListDiffer.diff(this.columnList),this.columnList.changes.pipe(Si(this.destroy$)).subscribe((e=>{this.onColumnsChanged(e)}))}getColumnList(){return this.columnList.toArray()}deleteRowFromData(e,t){if(-1!==t)if(this.transactions.enabled){let i={id:e,type:Tb.DELETE,newValue:null};this.transactions.add(i,this.data[t])}else this.data.splice(t,1);else{let t=this.transactions.getState(e);this.transactions.add({id:e,type:Tb.DELETE,newValue:null},t&&t.recordRef)}}getDataBasedBodyHeight(){return!this.data||this.data.length<this._defaultTargetRecordNumber?0:this.defaultTargetBodyHeight}onPinnedRowsChanged(e){this.rowListDiffer.diff(e)&&this.notifyChanges(!0)}onColumnsChanged(e){let t=this.columnListDiffer.diff(e);if(this.autoGenerate&&0===this._columns.length&&this._autoGeneratedCols.length>0)this.updateColumns(this._autoGeneratedCols);else if(t){let e=!1,i=!1,n=!1;t.forEachAddedItem((t=>{e=!0,t.item.pinned?(this._pinnedColumns.push(t.item),n=!0):this._unpinnedColumns.push(t.item)})),this.initColumns(this.columnList.toArray(),(e=>this.columnInit.emit(e))),n&&this.initPinning(),t.forEachRemovedItem((e=>{e.item instanceof cM||(this.gridAPI.clear_groupby(e.item.field),this.filteringService.clear_filter(e.item.field),this.filteringService.isFilterRowVisible&&this.filteringService.filteredColumn&&this.filteringService.filteredColumn.field===e.item.field&&this.filteringRow.close(),this.gridAPI.clear_sort(e.item.field),this.selectionService.deselectColumnsWithNoEvent([e.item.field])),i=!0})),this.resetCaches(),(e||i)&&this.onColumnsAddedOrRemoved()}}onColumnsAddedOrRemoved(){this.summaryService.clearSummaryCache(),Promise.resolve().then((()=>{this.notifyChanges(!0)}))}calculateGridSizes(e=!0){this.cdr.detectChanges(),this.resetCaches(e);let t=this.hasVerticalScroll(),i=!this.isHorizontalScrollHidden;this.calculateGridWidth(),this.resetCaches(e),this.cdr.detectChanges(),this.calculateGridHeight(),this.rowEditable&&this.repositionRowEditingOverlay(this.crudService.rowInEditMode),this.filteringService.isFilterRowVisible&&this.filteringRow.resetChipsArea(),this.cdr.detectChanges(),t!==this.hasVerticalScroll()&&(this.calculateGridWidth(),this.cdr.detectChanges()),i!==this.hasHorizontalScroll()&&(this.isHorizontalScrollHidden=!this.hasHorizontalScroll(),this.cdr.detectChanges(),this.calculateGridHeight(),this.cdr.detectChanges()),this.zone.isStable?this.zone.run((()=>{this._applyWidthHostBinding(),this.cdr.detectChanges()})):this.zone.onStable.pipe(fi()).subscribe((()=>{this.zone.run((()=>{this._applyWidthHostBinding()}))})),this.resetCaches(e),this.hasColumnsToAutosize&&(this.cdr.detectChanges(),this.zone.onStable.pipe(fi()).subscribe((()=>{this._autoSizeColumnsNotify.next()})))}calcGridHeadRow(){if(this.maxLevelHeaderDepth){this._baseFontSize=parseFloat(getComputedStyle(this.document.documentElement).getPropertyValue("font-size"));let e=this._allowFiltering&&this._filterMode===tD,t=(this.maxLevelHeaderDepth+1+(e?1:0))*this.defaultRowHeight/this._baseFontSize;this.theadRow.nativeElement.style.minHeight=`${t}rem`}}calculateGridHeight(){this.calcGridHeadRow(),this.calcHeight=this._calculateGridBodyHeight(),this.pinnedRowHeight&&this.calcHeight&&(this.calcHeight-=this.pinnedRowHeight)}getGroupAreaHeight(){return 0}getComputedHeight(e){return e.offsetHeight?parseFloat(this.document.defaultView.getComputedStyle(e).getPropertyValue("height")):0}getFooterHeight(){return this.summaryRowHeight||this.getComputedHeight(this.tfoot.nativeElement)}getTheadRowHeight(){let e=this.getComputedHeight(this.theadRow.nativeElement)||0;return!this.allowFiltering||this.allowFiltering&&this.filterMode!==tD?e-this.getFilterCellHeight():e}getToolbarHeight(){let e=0;return this.toolbar.first&&(e=this.getComputedHeight(this.toolbar.first.nativeElement)),e}getPagingFooterHeight(){let e=0;if(this.footer){let t=this.getComputedHeight(this.footer.nativeElement);e=this.footer.nativeElement.firstElementChild?t:0}return e}getFilterCellHeight(){let e=0!==this.headerGroupsList.length?this.headerGroupsList[0].nativeElement:null,t=e?e.querySelector("igx-grid-filtering-cell"):null;return t?t.offsetHeight:0}_calculateGridBodyHeight(){if(!this._height)return null;let e=this.getTheadRowHeight(),t=this.getFooterHeight(),i=this.getToolbarHeight()+e+t+this.getPagingFooterHeight()+this.getGroupAreaHeight()+this.getComputedHeight(this.scr.nativeElement),n=0;if(this.isPercentHeight){let e=this.document.defaultView.getComputedStyle(this.nativeElement).getPropertyValue("height");if(this._shouldAutoSize(i)||-1!==e.indexOf("%")){let e=this.getDataBasedBodyHeight();return e>0?e:null}n=parseFloat(e)}else n=parseInt(this._height,10);let r=Math.abs(n-i);if(0===Math.round(r)||isNaN(n)){let e=this.defaultTargetBodyHeight;return e>0?e:null}return r}checkContainerSizeChange(){let e=this.nativeElement.parentElement||this.nativeElement.getRootNode().host,t=e.offsetHeight;this.nativeElement.style.display="none";let i=e.offsetHeight;return this.nativeElement.style.display="",t!==i}_shouldAutoSize(e){this.tbody.nativeElement.style.display="none";let t=this.nativeElement.parentElement||this.nativeElement.getRootNode().host,i=!t||0===t.clientHeight||t.clientHeight===e;return t&&(i||this._autoSize)&&(this._autoSize=!1,i=this.checkContainerSizeChange()),this.tbody.nativeElement.style.display="",i}getUnpinnedWidth(e=!1){let t=this.isPercentWidth?this.calcWidth:parseInt(this.width,10)||parseInt(this.hostWidth,10)||this.calcWidth;return this.hasVerticalScroll()&&!this.isPercentWidth&&(t-=this.scrollSize),this.isPinningToStart||(t-=this.featureColumnsWidth()),t-this.getPinnedWidth(e)}_summaries(e,t,i){let n=this.gridAPI.get_column_by_name(e);n&&(n.hasSummary=t,i&&(this.rootSummariesEnabled&&this.summaryService.retriggerRootPipe++,n.summaries=i))}_multipleSummaries(e,t){e.forEach((e=>{this._summaries(e.fieldName,t,e.customSummary)}))}_disableMultipleSummaries(e){e.forEach((e=>{let t=e&&e.fieldName?e.fieldName:e;this._summaries(t,!1)}))}resolveDataTypes(e){return"number"==typeof e?Wb.Number:"boolean"==typeof e?Wb.Boolean:"object"==typeof e&&e instanceof Date?Wb.Date:"string"==typeof e&&/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(e)?Wb.Image:Wb.String}autogenerateColumns(){let e=this.gridAPI.get_data(),t=this.generateDataFields(e),i=[];t.forEach((t=>{let n=Pp(aM,{environmentInjector:this.envInjector,elementInjector:this.injector});n.instance.field=t,n.instance.dataType=this.resolveDataTypes(e[0][t]),n.changeDetectorRef.detectChanges(),i.push(n.instance)})),this._autoGeneratedCols=i,this.updateColumns(i),e&&e.length>0&&(this.shouldGenerate=!1),this.columnsAutogenerated.emit({columns:this._autoGeneratedCols})}generateDataFields(e){return Object.keys(e&&0!==e.length?e[0]:[]).filter((e=>!this.autoGenerateExclude.includes(e)))}initColumns(e,t=null){this._columnGroups=e.some((e=>e.columnGroup)),this.hasColumnLayouts&&e.forEach((e=>{if(e.columnLayout){let t=e.children?e.children.reduce(((e,t)=>Math.max(t.rowStart+t.gridRowSpan-1,e)),1):1;this._multiRowLayoutRowSize=Math.max(t,this._multiRowLayoutRowSize)}})),this.hasColumnLayouts&&this.hasColumnGroups&&(e=e.filter((e=>e.columnLayout||e.columnLayoutChild))),this._maxLevelHeaderDepth=null,e.forEach((e=>{e.defaultWidth=this.columnWidthSetByUser?this._columnWidth:e.defaultWidth?e.defaultWidth:"",t&&t(e)})),this.updateColumns(e),this.hasColumnLayouts&&e.forEach((e=>{e.populateVisibleIndexes()}))}reinitPinStates(){this._pinnedColumns=this._columns.filter((e=>e.pinned)).sort(((e,t)=>this._pinnedColumns.indexOf(e)-this._pinnedColumns.indexOf(t))),this._unpinnedColumns=this.hasColumnGroups?this._columns.filter((e=>!e.pinned)):this._columns.filter((e=>!e.pinned)).sort(((e,t)=>this._unpinnedColumns.indexOf(e)-this._unpinnedColumns.indexOf(t)))}extractDataFromSelection(e,t=!1,i=!1,n){let r,s={},o=[],a=[],l=new Map,d=[],c=this.selectionService.activeElement;if(/^ig.-hierarchical-grid$/.test(this.nativeElement.tagName.toLowerCase())){let e=[];for(let[t,i]of this.expansionStates.entries())if(i){let i=this.gridAPI.get_rec_index_by_id(t,this.dataView);e.push(i)}if(this.selectionService.selection.size>0){if(e.length>0)for(let[t,i]of this.selectionService.selection.entries()){let n=t,r=0;e.forEach((e=>{n>Number(e)&&r++})),l.set(n-r,i)}}else if(c){let t=0;e.length>0&&(e.forEach((e=>{c.row>Number(e)&&t++})),c.row-=t)}}let h,u=this.totalItemCount??0,g=u&&u>this.dataView.length;h=/^ig.-hierarchical-grid$/.test(this.nativeElement.tagName.toLowerCase())&&l.size>0?g?Array.from(l):Array.from(l).filter((t=>t[0]<e.length)):g?Array.from(this.selectionService.selection):Array.from(this.selectionService.selection).filter((t=>t[0]<e.length)),this.cellSelection===dD&&c&&h.push([c.row,(new Set).add(c.column)]),this.cellSelection===lD&&c&&h.push([c.row,(new Set).add(c.column)]),n&&(o=n);for(let[l,d]of h){if(l=this.paginator&&this.pagingMode===fD.Local&&e===this.filteredSortedData?l+this.perPage*this.page:l,l=g?l-this.virtualizationState.startIndex:l,!e[l]||void 0!==e[l].detailsData)continue;let c=Array.from(d);for(let o of c)r=this.getSelectableColumnsAt(o),r.forEach((r=>{if(r){let o=!this.isPivot&&i&&r.header||r.field,a=e[l].ghostRecord?e[l].recordRef:e[l],d=this.isPivot?a.aggregationValues.get(r.field):vb(a,r.field);s[o]=t&&r.formatter?r.formatter(d,a):d,n&&(s[o]||(s[o]=""),s[o]=s[o].toString().concat("recordRow-"+l))}}));if(Object.keys(s).length)if(n){a.length||(a=Object.keys(n[0]));for(let[e,t]of Object.entries(s)){a.includes(e)||a.push(e);let i=t,n=+i.split("recordRow-")[1];i=i.split("recordRow-")[0],s[e]=i;let r=Object.assign(o[n],s);o[n]=r}}else o.push(s);s={}}return a.length?(d.push(o),d.push(a),d):o}getSelectableColumnsAt(e){if(this.hasColumnLayouts){let t=this.visibleColumns.filter((e=>e.columnLayout)).sort(((e,t)=>e.visibleIndex-t.visibleIndex))[e];return t?t.children.toArray():[]}return[this.visibleColumns.filter((e=>!e.columnGroup)).sort(((e,t)=>e.visibleIndex-t.visibleIndex))[e]]}autoSizeColumnsInView(){if(!this.hasColumnsToAutosize)return;let e=this.headerContainer.state,t=!1,i=this.headerContainer.igxGridForOf.slice(e.startIndex,e.startIndex+e.chunkSize).flatMap((e=>e.columnGroup?e.allChildren:e)),n=this.pinnedColumns.concat(i);for(let e of n)if(!e.autoSize&&e.headerCell){let i=[];e._cells.length!==this.rowList.length&&this.rowList.forEach((e=>e.cdr.detectChanges()));let n=this._dataRowList.map((t=>t.cells.find((t=>t.column===e))));n.forEach((e=>i.push(e?.nativeElement?.offsetWidth||0)));let r=Math.max(...i),s=this.headerCellList.find((t=>t.column===e));i.push(s.nativeElement.offsetWidth);let o=Math.max(...i),a=0;if(n.length>0&&e.bodyTemplate){let e=this.document.defaultView.getComputedStyle(n[0].nativeElement);a=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)}else r=o;if(0===o||r<=a&&this._firstAutoResize)continue;let l=Math.ceil(Math.max(...i))+1;e.maxWidth&&l>e.maxWidthPx?l=e.maxWidthPx:l<e.minWidthPx&&(l=e.minWidthPx),e.autoSize=l,e.resetCaches(),t=!0}t&&(this.resetCachedWidths(),this.cdr.detectChanges())}extractDataFromColumnsSelection(e,t=!1,i=!1){let n={},r=[],s=this.selectedColumns();if(0===s.length)return[];for(let o of e)s.forEach((e=>{let r=i&&e.header||e.field;n[r]=t&&e.formatter?e.formatter(o[e.field],o):o[e.field]})),Object.keys(n).length&&r.push(n),n={};return r}initPinning(){this.calculateGridWidth(),this.resetCaches(),this.handleColumnPinningForGroups(),this.notifyChanges()}scrollTo(e,t,i=this._filteredSortedUnpinnedData){let n=!1;if(this.paginator&&"number"!=typeof e){let t=i.indexOf(e),r=Math.floor(t/this.perPage);this.page!==r&&(n=!0,this.page=r)}n?this.verticalScrollContainer.dataChanged.pipe(fi()).subscribe((()=>{this.scrollDirective(this.verticalScrollContainer,"number"==typeof e?e:this.unpinnedDataView.indexOf(e))})):this.scrollDirective(this.verticalScrollContainer,"number"==typeof e?e:this.unpinnedDataView.indexOf(e)),this.scrollToHorizontally(t)}scrollToHorizontally(e){let t="number"==typeof e?e:this.getColumnByName(e).visibleIndex,i=this.rowList.find((e=>!!e.virtDirRow)),n=i?i.virtDirRow:null;this.isPinningToStart&&this.pinnedColumns.length?t>=this.pinnedColumns.length&&(t-=this.pinnedColumns.length,this.scrollDirective(n,t)):this.scrollDirective(n,t)}scrollDirective(e,t){e&&e.scrollTo(t)}getColumnWidthSum(){let e=0;return(this.hasColumnLayouts?this.visibleColumns.filter((e=>e.columnLayout)):this.visibleColumns.filter((e=>!e.columnGroup))).forEach((t=>{e+=parseInt(t.calcWidth||t.defaultWidth,10)||this.minColumnWidth})),e?(this.cdr.detectChanges(),e+=this.featureColumnsWidth(),e):null}configToColumns(e){let t=[];e.forEach((e=>{let i;if(e instanceof aM)i=e;else{let t=Pp(aM,{environmentInjector:this.envInjector,elementInjector:this.injector});for(let i in e)t.instance[i]=e[i];t.changeDetectorRef.detectChanges(),i=t.instance}t.push(i)})),this.columnList.reset(t)}_columnsReordered(e){this.notifyChanges(),this.resetColumnCollections(),e.resetCaches()}buildDataView(e){this._dataView=this.isRowPinningToTop?[...this.pinnedDataView,...this.unpinnedDataView]:[...this.unpinnedDataView,...this.pinnedDataView]}_applyWidthHostBinding(){let e=this._width;if(null===e){let t=this.calcWidth;this.hasVerticalScroll()&&(t+=this.scrollSize),e=t+"px",this.resetCaches()}this._hostWidth=e,this.cdr.markForCheck()}verticalScrollHandler(e){this.verticalScrollContainer.onScroll(e),this.disableTransitions=!0,this.zone.run((()=>{this.zone.onStable.pipe(fi()).subscribe((()=>{this.verticalScrollContainer.chunkLoad.emit(this.verticalScrollContainer.state),this.rowEditable&&this.changeRowEditingOverlayStateOnScroll(this.crudService.rowInEditMode)}))})),this.disableTransitions=!1,this.hideOverlays(),this.actionStrip?.hide(),this.actionStrip&&(this.actionStrip.context=null);let t={direction:"vertical",event:e,scrollPosition:this.verticalScrollContainer.scrollPosition};this.gridScroll.emit(t)}horizontalScrollHandler(e){let t=e.target.scrollLeft;this.headerContainer.onHScroll(t),this._horizontalForOfs.forEach((e=>e.onHScroll(t))),this.cdr.markForCheck(),this.zone.run((()=>{this.zone.onStable.pipe(fi()).subscribe((()=>{this.parentVirtDir.chunkLoad.emit(this.headerContainer.state),requestAnimationFrame((()=>{this.autoSizeColumnsInView()}))}))})),this.navigation.isColumnFullyVisible(this.navigation.lastColumnIndex)||this.hideOverlays();let i={direction:"horizontal",event:e,scrollPosition:this.headerContainer.scrollPosition};this.gridScroll.emit(i)}get renderedActualRowHeight(){let e=1;if(this.rowList.toArray().length>0){let t=document.defaultView.getComputedStyle(this.rowList.first.nativeElement);e=t.borderBottomWidth?Math.ceil(parseFloat(t.borderBottomWidth)):e}return this.rowHeight+e}executeCallback(e,t=-1,i=null){if(!i)return;let n=this.summariesRowList.filter((e=>0!==e.index)).concat(this.rowList.toArray()).find((t=>t.index===e));if(!n){this.totalItemCount&&this.verticalScrollContainer.dataChanged.pipe(fi()).subscribe((()=>{this.cdr.detectChanges(),n=this.summariesRowList.filter((e=>0!==e.index)).concat(this.rowList.toArray()).find((t=>t.index===e));let r=this.getNavigationArguments(n,t);i(r)}));let r=this._getDataViewIndex(e);return void(this.dataView[r].detailsData&&(this.navigation.setActiveNode({row:e}),this.cdr.detectChanges()))}let r=this.getNavigationArguments(n,t);i(r)}getNavigationArguments(e,t){let i,n;switch(e.nativeElement.tagName.toLowerCase()){case"igx-grid-groupby-row":i="groupRow",n=e;break;case"igx-grid-summary-row":i="summaryCell",n=-1!==t?e.summaryCells.find((e=>e.visibleColumnIndex===t)):e.summaryCells.first;break;case"igx-child-grid-row":i="hierarchicalRow",n=e;break;default:i="dataCell",n=-1!==t?e.cells.find((e=>e.visibleColumnIndex===t)):e.cells.first}return{targetType:i,target:n}}getNextDataRowIndex(e,t=!1){let i=this._getDataViewIndex(e);if(e<0||0===e&&t||i>=this.dataView.length-1&&!t)return e;let n=t?this.findPrevEditableDataRowIndex(e):this.dataView.findIndex(((e,t)=>t>i&&this.isEditableDataRecordAtIndex(t))),r=this.getDataIndex(n);return-1!==r?r:e}findPrevEditableDataRowIndex(e){let t=this.dataView.length,i=this._getDataViewIndex(e);for(;t--;)if(t<i&&this.isEditableDataRecordAtIndex(t))return t;return-1}isEditableDataRecordAtIndex(e){let t=this.dataView[e];return!(t.expression||t.summaries||t.childGridsData||t.detailsData||this.isGhostRecordAtIndex(e))}isGhostRecordAtIndex(e){let t=this.isRecordPinned(this.dataView[e]),i=this.isRecordPinnedByViewIndex(e);return t&&!i}isValidPosition(e,t){let i=this.summariesRowList.filter((e=>0!==e.index)).concat(this.rowList.toArray()).length,n=this._columns.filter((e=>!e.columnGroup&&e.visibleIndex>=0&&!e.hidden)).length;return!(i<1||n<1)&&e>-1&&e<this.dataView.length&&t>-1&&t<=Math.max(...this.visibleColumns.map((e=>e.visibleIndex)))}find(e,t,i,n,r,s=!0){if(!this.rowList)return 0;if(s&&this.crudService.endEdit(!1),!e)return this.clearSearch(),0;let o=!!i,a=!!n,l=!1;if(this._lastSearchInfo.searchText!==e||this._lastSearchInfo.caseSensitive!==o||this._lastSearchInfo.exactMatch!==a?(this._lastSearchInfo={searchText:e,activeMatchIndex:0,caseSensitive:o,exactMatch:a,matchInfoCache:[],matchCount:0,content:""},l=!0):this._lastSearchInfo.activeMatchIndex+=t,l&&(this.rowList.forEach((t=>{t.cells&&t.cells.forEach((t=>{t.highlightText(e,o,a)}))})),this.rebuildMatchCache()),this._lastSearchInfo.activeMatchIndex>=this._lastSearchInfo.matchCount?this._lastSearchInfo.activeMatchIndex=0:this._lastSearchInfo.activeMatchIndex<0&&(this._lastSearchInfo.activeMatchIndex=this._lastSearchInfo.matchCount-1),this._lastSearchInfo.matchCount>0){let e=this._lastSearchInfo.matchInfoCache[this._lastSearchInfo.activeMatchIndex];this._lastSearchInfo=m({},this._lastSearchInfo),!1!==r&&this.scrollTo(e.row,e.column),AA.setActiveHighlight(this.id,{column:e.column,row:e.row,index:e.index,metadata:e.metadata})}else AA.clearActiveHighlight(this.id);return this._lastSearchInfo.matchCount}rebuildMatchCache(){this._lastSearchInfo.matchInfoCache=[];let e=this._lastSearchInfo.caseSensitive,t=this._lastSearchInfo.exactMatch,i=e?this._lastSearchInfo.searchText:this._lastSearchInfo.searchText.toLowerCase(),n=this.filteredSortedData,r=this.visibleColumns.filter((e=>!e.columnGroup)).sort(((e,t)=>e.visibleIndex-t.visibleIndex));n.forEach(((n,s)=>{r.forEach((r=>{let o=this.getColumnByName(r.field).pipeArgs,a=r.formatter?r.formatter(vb(n,r.field),n):"number"===r.dataType?Mm(vb(n,r.field),this.locale,o.digitsInfo):"date"===r.dataType?bb(vb(n,r.field),o.format,this.locale,o.timezone):vb(n,r.field);if(null!=a&&r.searchable){let o=e?String(a):String(a).toLowerCase();if(t){if(o===i){let e={row:n,column:r.field,index:0,metadata:new Map([["pinned",this.isRecordPinnedByIndex(s)]])};this._lastSearchInfo.matchInfoCache.push(e)}}else{let e=0,t=o.indexOf(i);for(;-1!==t;){let a={row:n,column:r.field,index:e++,metadata:new Map([["pinned",this.isRecordPinnedByIndex(s)]])};this._lastSearchInfo.matchInfoCache.push(a),o=o.substring(t+i.length),t=o.indexOf(i)}}}}))})),this._lastSearchInfo.matchCount=this._lastSearchInfo.matchInfoCache.length}configureRowEditingOverlay(e,t=!1){let i=this.rowEditSettings,n=this.overlayService.getOverlayById(this.rowEditingOverlay.overlayId);n&&(i=n.settings),i.outlet=t?this.parentRowOutletDirective:this.rowOutletDirective,this.rowEditPositioningStrategy.settings.container=this.tbody.nativeElement;let r=-1!==this._pinnedRecordIDs.indexOf(e)?this.pinnedRows.find((t=>t.key===e)):this.gridAPI.get_row_by_key(e);r&&(i.target=r.element.nativeElement,this.toggleRowEditingOverlay(!0))}handleColumnPinningForGroups(){let e=[],t=[];this._pinnedColumns.forEach((e=>{e.parent&&(e.parent.pinned=!0),e.columnGroup&&e.children.forEach((e=>e.pinned=!0))}));for(let i of this._columns)i.pinned&&!i.parent?e.push(i):i.pinned&&i.parent?i.topLevelParent.pinned?e.push(i):(i.pinned=!1,t.push(i)):t.push(i);this._pinnedColumns=e,this._unpinnedColumns=t}};Wj.fac=function(e){return new(e||Wj)(nc(pj),nc(Tk),nc(Fz),nc(uk),nc(dI),nc(wd),nc(Vd),nc(Hp),nc(fp),nc(Tp),nc(Cg),nc(Rd),nc(id),nc(mj),nc(Yz),nc(nI),nc(fj),nc(RI,8),nc(Xg),nc(ob),nc(gj,8))},Wj.dir=or({type:Wj,contentQueries:function(e,t,i){if(1&e&&(zg(i,$B,7,$B),zg(i,_K,5,yg),zg(i,wz,5,yg),zg(i,Cz,5,yg),zg(i,Sz,5,yg),zg(i,bz,5,yg),zg(i,Dz,5,yg),zg(i,Iz,5,yg),zg(i,Tz,5,yg),zg(i,Ez,5,yg),zg(i,pz,4,pz),zg(i,aM,5,aM),zg(i,Bk,4),zg(i,fW,4,yg),zg(i,pW,4,yg),zg(i,gW,4,yg),zg(i,vK,4,yg),zg(i,xK,4,yg),zg(i,wK,4,yg),zg(i,uW,4,yg),zg(i,CK,5),zg(i,yK,4),zg(i,oj,4)),2&e){let e;Hg(e=Gg())&&(t.excelStyleLoadingValuesTemplateDirective=e.first),Hg(e=Gg())&&(t.rowAddText=e.first),Hg(e=Gg())&&(t.rowExpandedIndicatorDirectiveTemplate=e.first),Hg(e=Gg())&&(t.rowCollapsedIndicatorDirectiveTemplate=e.first),Hg(e=Gg())&&(t.headerExpandedIndicatorDirectiveTemplate=e.first),Hg(e=Gg())&&(t.headerCollapsedIndicatorDirectiveTemplate=e.first),Hg(e=Gg())&&(t.excelStyleHeaderIconDirectiveTemplate=e.first),Hg(e=Gg())&&(t.sortAscendingHeaderIconDirectiveTemplate=e.first),Hg(e=Gg())&&(t.sortDescendingHeaderIconDirectiveTemplate=e.first),Hg(e=Gg())&&(t.sortHeaderIconDirectiveTemplate=e.first),Hg(e=Gg())&&(t.excelStyleFilteringComponents=e),Hg(e=Gg())&&(t.columnList=e),Hg(e=Gg())&&(t.actionStripComponents=e),Hg(e=Gg())&&(t.headSelectorsTemplates=e),Hg(e=Gg())&&(t.rowSelectorsTemplates=e),Hg(e=Gg())&&(t.dragGhostCustomTemplates=e),Hg(e=Gg())&&(t.rowEditCustomDirectives=e),Hg(e=Gg())&&(t.rowEditTextDirectives=e),Hg(e=Gg())&&(t.rowEditActionsDirectives=e),Hg(e=Gg())&&(t.dragIndicatorIconTemplates=e),Hg(e=Gg())&&(t.rowEditTabsCUSTOM=e),Hg(e=Gg())&&(t.toolbar=e),Hg(e=Gg())&&(t.paginationComponents=e)}},viewQuery:function(e,t){if(1&e&&(Bg(qK,5),Bg(zK,5),Bg(yj,7,FA),Bg(vj,7,MA),Bg(xj,7,yg),Bg(_j,7,yg),Bg(wj,7,yg),Bg(Cj,7,vA),Bg(Sj,7,vA),Bg(bj,7,vA),Bg(Dj,7,wd),Bg(Ej,7,yg),Bg(Ij,5,wd),Bg(cW,7),Bg(uj,5),Bg(Tj,7),Bg(Aj,5,wd),Bg(Rj,7),Bg(kj,7,MA),Bg(Oj,7,yg),Bg(Fj,5,FA),Bg(Pj,7,MA),Bg(Mj,7,Cg),Bg(Vj,7,yg),Bg(Nj,7,yg),Bg(Lj,7,yg),Bg(Hj,7,yg),Bg(kA,5,kA),Bg(CK,5),Bg(Bj,5,HK),Bg(zj,5),Bg(Gj,5),Bg(kk,5,kk)),2&e){let e;Hg(e=Gg())&&(t.addRowSnackbar=e.first),Hg(e=Gg())&&(t.resizeLine=e.first),Hg(e=Gg())&&(t.loadingOverlay=e.first),Hg(e=Gg())&&(t.loadingOutlet=e.first),Hg(e=Gg())&&(t.emptyFilteredGridTemplate=e.first),Hg(e=Gg())&&(t.emptyGridDefaultTemplate=e.first),Hg(e=Gg())&&(t.loadingGridDefaultTemplate=e.first),Hg(e=Gg())&&(t.parentVirtDir=e.first),Hg(e=Gg())&&(t.verticalScrollContainer=e.first),Hg(e=Gg())&&(t.verticalScroll=e.first),Hg(e=Gg())&&(t.scr=e.first),Hg(e=Gg())&&(t.headerSelectorBaseTemplate=e.first),Hg(e=Gg())&&(t.footer=e.first),Hg(e=Gg())&&(t.theadRow=e.first),Hg(e=Gg())&&(t.groupArea=e.first),Hg(e=Gg())&&(t.tbody=e.first),Hg(e=Gg())&&(t.pinContainer=e.first),Hg(e=Gg())&&(t.tfoot=e.first),Hg(e=Gg())&&(t.rowEditingOutletDirective=e.first),Hg(e=Gg())&&(t.dragIndicatorIconBase=e.first),Hg(e=Gg())&&(t.rowEditingOverlay=e.first),Hg(e=Gg())&&(t._outletDirective=e.first),Hg(e=Gg())&&(t.anchor=e.first),Hg(e=Gg())&&(t.defaultExpandedTemplate=e.first),Hg(e=Gg())&&(t.defaultCollapsedTemplate=e.first),Hg(e=Gg())&&(t.defaultESFHeaderIconTemplate=e.first),Hg(e=Gg())&&(t.defaultRowEditTemplate=e.first),Hg(e=Gg())&&(t.tmpOutlets=e),Hg(e=Gg())&&(t.rowEditTabsDEFAULT=e),Hg(e=Gg())&&(t._summaryRowList=e),Hg(e=Gg())&&(t._rowList=e),Hg(e=Gg())&&(t._pinnedRowList=e),Hg(e=Gg())&&(t._dataRowList=e)}},hostVars:10,hostBindings:function(e,t){1&e&&Fh("mouseleave",(function(){return t.hideActionStrip()})),2&e&&(ph("tabindex",t.tabindex)("role",t.hostRole),tu("--component-size",t.hostStyles)("height",t.height)("width",t.hostWidth),iu("igx-grid",t.baseClass))},inputs:{snackbarDisplayTime:"snackbarDisplayTime",autoGenerate:"autoGenerate",autoGenerateExclude:"autoGenerateExclude",moving:"moving",emptyGridTemplate:"emptyGridTemplate",addRowEmptyTemplate:"addRowEmptyTemplate",loadingGridTemplate:"loadingGridTemplate",summaryRowHeight:"summaryRowHeight",dataCloneStrategy:"dataCloneStrategy",clipboardOptions:"clipboardOptions",rowClasses:"rowClasses",rowStyles:"rowStyles",primaryKey:"primaryKey",uniqueColumnValuesStrategy:"uniqueColumnValuesStrategy",dragGhostCustomTemplate:"dragGhostCustomTemplate",rowEditTextTemplate:"rowEditTextTemplate",rowAddTextTemplate:"rowAddTextTemplate",rowEditActionsTemplate:"rowEditActionsTemplate",rowExpandedIndicatorTemplate:"rowExpandedIndicatorTemplate",rowCollapsedIndicatorTemplate:"rowCollapsedIndicatorTemplate",headerExpandedIndicatorTemplate:"headerExpandedIndicatorTemplate",headerCollapsedIndicatorTemplate:"headerCollapsedIndicatorTemplate",excelStyleHeaderIconTemplate:"excelStyleHeaderIconTemplate",sortAscendingHeaderIconTemplate:"sortAscendingHeaderIconTemplate",sortDescendingHeaderIconTemplate:"sortDescendingHeaderIconTemplate",sortHeaderIconTemplate:"sortHeaderIconTemplate",resourceStrings:"resourceStrings",filteringLogic:"filteringLogic",filteringExpressionsTree:"filteringExpressionsTree",advancedFilteringExpressionsTree:"advancedFilteringExpressionsTree",locale:"locale",pagingMode:"pagingMode",hideRowSelectors:"hideRowSelectors",rowDraggable:"rowDraggable",validationTrigger:"validationTrigger",rowEditable:"rowEditable",height:"height",width:"width",rowHeight:"rowHeight",columnWidth:"columnWidth",emptyGridMessage:"emptyGridMessage",isLoading:"isLoading",emptyFilteredGridMessage:"emptyFilteredGridMessage",pinning:"pinning",allowFiltering:"allowFiltering",allowAdvancedFiltering:"allowAdvancedFiltering",filterMode:"filterMode",summaryPosition:"summaryPosition",summaryCalculationMode:"summaryCalculationMode",showSummaryOnCollapse:"showSummaryOnCollapse",filterStrategy:"filterStrategy",sortStrategy:"sortStrategy",sortingOptions:"sortingOptions",selectedRows:"selectedRows",headSelectorTemplate:"headSelectorTemplate",rowSelectorTemplate:"rowSelectorTemplate",dragIndicatorIconTemplate:"dragIndicatorIconTemplate",sortingExpressions:"sortingExpressions",batchEditing:"batchEditing",cellSelection:"cellSelection",rowSelection:"rowSelection",columnSelection:"columnSelection",expansionStates:"expansionStates",outlet:"outlet",columns:"columns",totalRecords:"totalRecords",selectRowOnClick:"selectRowOnClick"},outputs:{filteringExpressionsTreeChange:"filteringExpressionsTreeChange",advancedFilteringExpressionsTreeChange:"advancedFilteringExpressionsTreeChange",gridScroll:"gridScroll",cellClick:"cellClick",formGroupCreated:"formGroupCreated",validationStatusChange:"validationStatusChange",selected:"selected",rowSelectionChanging:"rowSelectionChanging",columnSelectionChanging:"columnSelectionChanging",columnPin:"columnPin",columnPinned:"columnPinned",cellEditEnter:"cellEditEnter",cellEditExit:"cellEditExit",cellEdit:"cellEdit",cellEditDone:"cellEditDone",rowEditEnter:"rowEditEnter",rowEdit:"rowEdit",rowEditDone:"rowEditDone",rowEditExit:"rowEditExit",columnInit:"columnInit",columnsAutogenerated:"columnsAutogenerated",sorting:"sorting",sortingDone:"sortingDone",filtering:"filtering",filteringDone:"filteringDone",rowAdded:"rowAdded",rowDeleted:"rowDeleted",rowDelete:"rowDelete",rowAdd:"rowAdd",columnResized:"columnResized",contextMenu:"contextMenu",doubleClick:"doubleClick",columnVisibilityChanging:"columnVisibilityChanging",columnVisibilityChanged:"columnVisibilityChanged",columnMovingStart:"columnMovingStart",columnMoving:"columnMoving",columnMovingEnd:"columnMovingEnd",gridKeydown:"gridKeydown",rowDragStart:"rowDragStart",rowDragEnd:"rowDragEnd",gridCopy:"gridCopy",expansionStatesChange:"expansionStatesChange",rowToggle:"rowToggle",rowPinning:"rowPinning",rowPinned:"rowPinned",activeNodeChange:"activeNodeChange",sortingExpressionsChange:"sortingExpressionsChange",toolbarExporting:"toolbarExporting",rangeSelected:"rangeSelected",rendered:"rendered",localeChange:"localeChange",dataChanging:"dataChanging",dataChanged:"dataChanged"},features:[th]});var Kj=Wj;zF([UP()],Kj.prototype,"primaryKey",void 0),zF([UP()],Kj.prototype,"filteringLogic",null),zF([UP()],Kj.prototype,"filteringExpressionsTree",null),zF([UP()],Kj.prototype,"advancedFilteringExpressionsTree",null),zF([UP()],Kj.prototype,"hideRowSelectors",null),zF([UP()],Kj.prototype,"rowEditable",null),zF([UP()],Kj.prototype,"height",null),zF([UP()],Kj.prototype,"width",null),zF([UP()],Kj.prototype,"rowHeight",null),zF([UP()],Kj.prototype,"columnWidth",null),zF([UP()],Kj.prototype,"isLoading",null),zF([UP()],Kj.prototype,"sortingExpressions",null),zF([UP()],Kj.prototype,"cellSelection",null),zF([UP()],Kj.prototype,"rowSelection",null),zF([UP()],Kj.prototype,"columnSelection",null),zF([UP()],Kj.prototype,"selectRowOnClick",null);var jj=(()=>{let e=class{constructor(e,t){this.crudService=e,this.cms=t,this.destroyMap=new Map}get_column_by_name(e){return this.grid.columns.find((t=>t.field===e))}get_summary_data(){let e=this.grid,t=e.filteredData;return t&&e.hasPinnedRecords&&(t=e._filteredUnpinnedData),t||(e.transactions.enabled?(t=Kb.mergeTransactions(QS(e.data),e.transactions.getAggregatedChanges(!0),e.primaryKey,e.dataCloneStrategy),e.transactions.getTransactionLog().filter((e=>e.type===Tb.DELETE)).map((e=>e.id)).forEach((i=>{let n=(e.primaryKey?t.map((t=>t[e.primaryKey])):t).indexOf(i);-1!==n&&t.splice(n,1)}))):t=e.data),t}getRowData(e){let t=this.get_all_data(this.grid.transactions.enabled);return t[this.get_row_index_in_data(e,t)]}get_row_index_in_data(e,t){let i=this.grid;if(!i)return-1;let n=t??this.get_all_data(i.transactions.enabled);return i.primaryKey?n.findIndex((t=>t.recordRef?t.recordRef[i.primaryKey]===e:t[i.primaryKey]===e)):n.indexOf(e)}get_row_by_key(e){if(!this.grid)return null;let t=this.grid.primaryKey;return null!=t?this.grid.dataRowList.find((i=>i.data[t]===e)):this.grid.dataRowList.find((t=>t.data===e))}get_row_by_index(e){return this.grid.rowList.find((t=>t.index===e))}get_rec_id_by_index(e,t){if(t=t||this.grid.data,e>=0&&e<t.length){let i=t[e];return this.grid.primaryKey?i[this.grid.primaryKey]:i}return null}get_cell_by_key(e,t){let i=this.get_row_by_key(e);if(i&&i.cells)return i.cells.find((e=>e.column.field===t))}get_cell_by_index(e,t){let i=this.get_row_by_index(e),n=i&&i.cells;return n&&"number"==typeof t?i.cells.find((e=>e.column.index===t)):n&&"string"==typeof t?i.cells.find((e=>e.column.field===t)):void 0}get_cell_by_visible_index(e,t){let i=this.get_row_by_index(e);if(i&&i.cells)return i.cells.find((e=>e.visibleColumnIndex===t))}update_cell(e){if(!e)return;let t=e.createEditEventArgs(!0);this.grid.summaryService.clearSummaryCache(t);let i=this.getRowData(e.id.rowID),n=((e,t)=>{let i,n={},r=e?.split(".")??[],s=r.shift();return n[s]=t,i=n,r.forEach((e=>{i[s]={},i=i[s],i[e]=t,s=e})),n})(e.column.field,t.newValue);if(this.updateData(this.grid,e.id.rowID,i,e.rowData,n),this.grid.crudService.row||this.grid.validation.update(e.id.rowID,n),this.grid.primaryKey===e.column.field){if(this.grid.pinnedRecords.length>0){let i=this.grid.pinnedRecords.indexOf(e.rowData);if(-1!==i){let n=e.value,r=this.grid.getRowByIndex(e.rowIndex);this.unpin_row(n,r),this.pin_row(t.newValue,i,r)}}this.grid.selectionService.isRowSelected(e.id.rowID)&&(this.grid.selectionService.deselectRow(e.id.rowID),this.grid.selectionService.selectRowById(t.newValue)),this.grid.hasSummarizedColumns&&this.grid.summaryService.removeSummaries(e.id.rowID)}return(!this.grid.rowEditable||!this.crudService.row||this.crudService.row.id!==e.id.rowID||!this.grid.transactions.enabled)&&(this.grid.summaryService.clearSummaryCache(t),this.grid.pipeTrigger++),t}update_row(e,t,i){let n=this.grid,r=n.selectionService.isRowSelected(e.id),s=this.crudService.row,o=this.get_all_data(n.transactions.enabled),a=this.get_row_index_in_data(e.id,o),l=n.hasSummarizedColumns;this.crudService.updateRowEditData(e,t);let d=e.createEditEventArgs(!0,i);if(-1===a)return d;if(s){let e=n.transactions.getState(d.rowID,!0);if(n.transactions.endPending(!1),!e)return d}if(!d.newValue)return d;l&&n.summaryService.removeSummaries(d.rowID),this.updateData(n,e.id,o[a],d.oldValue,d.newValue),this.grid.validation.update(e.id,d.newValue);let c=n.primaryKey?d.newValue[n.primaryKey]:d.newValue;return r&&(n.selectionService.deselectRow(e.id),n.selectionService.selectRowById(c)),e.id=c,l&&n.summaryService.removeSummaries(c),n.pipeTrigger++,d}sort(e){e.dir===Rb.None&&this.remove_grouping_expression(e.fieldName);let t=QS(this.grid.sortingExpressions);this.prepare_sorting_expression([t],e),this.grid.sortingExpressions=t}sort_decoupled(e){e.dir===Rb.None&&this.remove_grouping_expression(e.fieldName);let t=QS(this.grid.groupingExpressions);this.prepare_grouping_expression([t],e),this.grid.groupingExpressions=t}sort_multiple(e){let t=QS(this.grid.sortingExpressions);for(let i of e)i.dir===Rb.None&&this.remove_grouping_expression(i.fieldName),this.prepare_sorting_expression([t],i);this.grid.sortingExpressions=t}sort_groupBy_multiple(e){let t=QS(this.grid.groupingExpressions);for(let i of e)i.dir===Rb.None&&this.remove_grouping_expression(i.fieldName),this.prepare_grouping_expression([t],i)}clear_sort(e){let t=this.grid.sortingExpressions,i=t.findIndex((t=>t.fieldName===e));i>-1&&(t.splice(i,1),this.grid.sortingExpressions=t)}clear_groupby(e){}should_apply_number_style(e){return e.dataType===Wb.Number}get_data(){let e=this.grid;return e.data?e.data:[]}get_all_data(e=!1){let t=this.grid,i=t&&t.data?t.data:[];return i=e?t.dataWithAddedInTransactionRows:i,i}get_filtered_data(){return this.grid.filteredData}addRowToData(e,t){let i=this.grid,n=i.primaryKey?e[i.primaryKey]:e;if(i.transactions.enabled){let t={id:n,type:Tb.ADD,newValue:e};i.transactions.add(t)}else i.data.push(e);i.validation.markAsTouched(n),i.validation.update(n,e)}deleteRowFromData(e,t){let i=this.grid;if(-1!==t)if(i.transactions.enabled){let n={id:e,type:Tb.DELETE,newValue:null};i.transactions.add(n,i.data[t])}else i.data.splice(t,1);else{let t=i.transactions.getState(e);i.transactions.add({id:e,type:Tb.DELETE,newValue:null},t&&t.recordRef)}i.validation.clear(e)}deleteRowById(e){let t,i=this.grid,n=this.get_all_data();t=i.primaryKey?n.map((e=>e[i.primaryKey])).indexOf(e):n.indexOf(e);let r=i.transactions.getState(e),s=r&&r.type!==Tb.DELETE;if(-1===t&&!s)return;this.crudService.endEdit(!0);let o=n[t],a=o?o[i.primaryKey]:void 0;i.rowDeletedNotifier.next({data:o,owner:i,primaryKey:a}),this.deleteRowFromData(e,t),i.selectionService.isRowSelected(e)?i.selectionService.deselectRowsWithNoEvent([e]):i.selectionService.clearHeaderCBState(),i.pipeTrigger++,i.notifyChanges();let l=i.transactions.enabled?i.dataWithAddedInTransactionRows:n;return i.refreshSearch(),l.length%i.perPage==0&&l.length/i.perPage-1<i.page&&0!==i.page&&i.page--,o}get_row_id(e){return this.grid.primaryKey?e[this.grid.primaryKey]:e}row_deleted_transaction(e){let t=this.grid;if(!t||!t.transactions.enabled)return!1;let i=t.transactions.getState(e);return!!i&&i.type===Tb.DELETE}get_row_expansion_state(e){let t=this.grid,i=t.expansionStates,n=t.primaryKey?e[t.primaryKey]:e,r=i.get(n);return void 0!==r?r:t.getDefaultExpandState(e)}set_row_expansion_state(e,t,i){let n=this.grid,r=n.expansionStates;if(!this.allow_expansion_state_change(e,t))return;let s={rowID:e,expanded:t,event:i,cancel:!1};n.rowToggle.emit(s),!s.cancel&&(r.set(e,t),n.expansionStates=r)}get_rec_by_id(e){return this.grid.primaryKey?this.getRowData(e):e}get_rec_index_by_id(e,t){return t=t||this.grid.data,this.grid.primaryKey?t.findIndex((t=>t[this.grid.primaryKey]===e)):-1}allow_expansion_state_change(e,t){return this.grid.expansionStates.get(e)!==t}prepare_sorting_expression(e,t){if(t.dir===Rb.None)return void e.forEach((e=>{e.splice(e.findIndex((e=>e.fieldName===t.fieldName)),1)}));let i=e[0];for(let t=1;t<e.length;t++)i.length<e[t].length&&(i=e[t]);let n=i.find((e=>e.fieldName===t.fieldName));e.forEach((e=>{let i=e.find((e=>e.fieldName===t.fieldName));i||n?!i&&n?(e.push(n),Object.assign(n,t)):Object.assign(i,t):e.push(t)}))}prepare_grouping_expression(e,t){if(t.dir===Rb.None)return void e.forEach((e=>{e.splice(e.findIndex((e=>e.fieldName===t.fieldName)),1)}));let i=e[0];for(let t=1;t<e.length;t++)i.length<e[t].length&&(i=e[t]);let n=i.find((e=>e.fieldName===t.fieldName));e.forEach((e=>{let i=e.find((e=>e.fieldName===t.fieldName));i||n?!i&&n?(e.push(n),Object.assign(n,t)):Object.assign(i,t):e.push(t)}))}remove_grouping_expression(e){}filterDataByExpressions(e){let t=this.get_all_data();if(e.filteringOperands.length){let i={expressionsTree:e,strategy:this.grid.filterStrategy};t=Xb.filter(QS(t),i,this.grid)}return t}sortDataByExpressions(e,t){return Kb.sort(QS(e),t,this.grid.sortStrategy,this.grid)}pin_row(e,t,i){let n=this.grid;if(-1!==n._pinnedRecordIDs.indexOf(e))return;let r=this.get_pin_row_event_args(e,t,i,!0);if(n.rowPinning.emit(r),r.cancel)return;let s="number"==typeof r.insertAtIndex?r.insertAtIndex:n._pinnedRecordIDs.length;n._pinnedRecordIDs.splice(s,0,e)}unpin_row(e,t){let i=this.grid,n=i._pinnedRecordIDs.indexOf(e);if(-1===n)return;let r=this.get_pin_row_event_args(e,null,t,!1);i.rowPinning.emit(r),!r.cancel&&i._pinnedRecordIDs.splice(n,1)}get_pin_row_event_args(e,t,i,n){let r={isPinned:!!n,rowID:e,row:i,cancel:!1};return"number"==typeof t&&(r.insertAtIndex=t<=this.grid.pinnedRecords.length?t:this.grid.pinnedRecords.length),r}updateData(e,t,i,n,r){if(e.transactions.enabled){let i={id:t,type:Tb.UPDATE,newValue:r};e.transactions.add(i,n)}else eb(i,r)}update_row_in_array(e,t,i){this.grid.data[i]=e}getSortStrategyPerColumn(e){return this.get_column_by_name(e)?this.get_column_by_name(e).sortStrategy:void 0}};return e.fac=function(t){return new(t||e)(_n(ck),_n(rM))},e.prov=Zi({token:e,factory:e.fac}),e})(),Uj=(()=>{let e=class extends jj{groupBy(e){let t=QS(this.grid.groupingExpressions);this.prepare_grouping_expression([t],e),this.grid.groupingExpressions=t,this.arrange_sorting_expressions()}groupBy_multiple(e){let t=QS(this.grid.groupingExpressions);for(let i of e)this.prepare_grouping_expression([t],i);this.grid.groupingExpressions=t,this.arrange_sorting_expressions()}clear_groupby(e){let t=QS(this.grid.groupingExpressions);if(e){let i="string"==typeof e?[e]:e,n=t.filter((e=>i.indexOf(e.fieldName)<0));this.grid.groupingExpressions=n,i.forEach((e=>{let i=t.findIndex((t=>t.fieldName===e)),n=this.grid.groupingExpansionState,r=n.filter((e=>e.hierarchy&&e.hierarchy.length<=i));r.length!==n.length&&(this.grid.groupingExpansionState=r)}))}else this.grid.groupingExpressions=[],this.grid.groupingExpansionState=[]}groupBy_get_expanded_for_group(e){let t=this.grid.groupingExpansionState,i=Kb.getHierarchy(e);return t.find((t=>Kb.isHierarchyMatch(t.hierarchy||[{fieldName:e.expression.fieldName,value:e.value}],i,this.grid.groupingExpressions)))}groupBy_is_row_in_group(e,t){let i=this.grid,n=!1;return e.records.forEach((e=>{(i.primaryKey?e[i.primaryKey]===t:e===t)&&(n=!0)})),n}groupBy_toggle_group(e){let t=this.grid;t.gridAPI.crudService.cellInEditMode&&this.crudService.endEdit(!1);let i=t.groupingExpansionState,n=this.groupBy_get_expanded_for_group(e);n?n.expanded=!n.expanded:i.push({expanded:!t.groupsExpanded,hierarchy:Kb.getHierarchy(e)}),this.grid.groupingExpansionState=[...i],t.rowEditable&&t.repositionRowEditingOverlay(t.gridAPI.crudService.rowInEditMode)}set_grouprow_expansion_state(e,t){this.grid.isExpandedGroup(e)!==t&&this.groupBy_toggle_group(e)}groupBy_fully_expand_group(e){let t=this.groupBy_get_expanded_for_group(e);(t?t.expanded:this.grid.groupsExpanded)||this.groupBy_toggle_group(e),e.groupParent&&this.groupBy_fully_expand_group(e.groupParent)}groupBy_select_all_rows_in_group(e,t){this.grid.selectionService.selectRowsWithNoEvent(this.grid.primaryKey?e.records.map((e=>e[this.grid.primaryKey])):e.records,t)}groupBy_deselect_all_rows_in_group(e){this.grid.selectionService.deselectRowsWithNoEvent(this.grid.primaryKey?e.records.map((e=>e[this.grid.primaryKey])):e.records)}arrange_sorting_expressions(){let e=this.grid.groupingExpressions,t=QS(this.grid.sortingExpressions);for(let i of e){let e=t.findIndex((e=>e.fieldName===i.fieldName));e>-1&&t.splice(e,1)}this.grid.sortingExpressions=t}get_groupBy_record_id(e){let t="{ ",i=Kb.getHierarchy(e);for(let e=0;e<i.length;e++){let n=i[e];t+=`'${n.fieldName}': '${n.value}'`,e<i.length-1&&(t+=", ")}return t+=" }",t}remove_grouping_expression(e){let t=this.grid.groupingExpressions,i=t.findIndex((t=>t.fieldName===e));-1!==i&&t.splice(i,1)}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.prov=Zi({token:e,factory:e.fac}),e})(),qj=["groupContent"],Yj=["defaultGroupByExpandedTemplate"],Xj=["defaultGroupByCollapsedTemplate"];function Zj(e,t){1&e&&(Eh(0),Ch(1,"div",10)(2,"igx-icon"),fu(3,"drag_indicator"),Sh()(),Ih()),2&e&&(tc(2),tu("visibility","hidden"))}function Qj(e,t){}function Jj(e,t){1&e&&yh(0,Qj,0,0,"ng-template",null,12,jg)}var eU=function(e,t,i){return{selectedCount:e,totalCount:t,groupRow:i}},tU=function(e){return{$implicit:e}};function iU(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"div",11),Fh("pointerdown",(function(e){return e.preventDefault()}))("click",(function(t){return Bs(e),zs(Vh().onGroupSelectorClick(t))})),yh(2,Jj,2,0,null,3),Sh(),Ih()}if(2&e){let e=Vh(),t=xh(16);tc(2),_h("ngTemplateOutlet",e.grid.groupByRowSelectorTemplate?e.grid.groupByRowSelectorTemplate:t)("ngTemplateOutletContext",ju(6,tU,qu(2,eU,e.selectedRowsInTheGroup.length,e.groupRow.records.length,e.groupRow)))}}function nU(e,t){1&e&&Th(0)}function rU(e,t){1&e&&Th(0)}function sU(e,t){1&e&&(Ch(0,"igx-icon"),fu(1,"expand_more"),Sh())}function oU(e,t){1&e&&(Ch(0,"igx-icon"),fu(1,"chevron_right"),Sh())}var aU=function(e,t,i,n,r){return[e,t,i,n,r]};function lU(e,t){if(1&e&&(Ch(0,"div",13)(1,"igx-icon",14),fu(2,"group_work"),Sh(),Ch(3,"span",15),fu(4),Sh(),Ch(5,"span",16),fu(6),ag(7,"columnFormatter"),ag(8,"number"),ag(9,"date"),ag(10,"currency"),ag(11,"percent"),Sh(),bh(12,"igx-badge",17),Sh()),2&e){let e=Vh();tc(4),xu(" ",e.groupRow.column&&e.groupRow.column.header?e.groupRow.column.header:e.groupRow.expression?e.groupRow.expression.fieldName:"",": "),tc(2),vu(e.formatter?hg(7,3,e.groupRow.value,e.formatter,e.groupRow.records[0],null):"number"===e.dataType?cg(8,8,e.groupRow.value,e.groupRow.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.dataType||"time"===e.dataType||"dateTime"===e.dataType?hg(9,12,e.groupRow.value,e.groupRow.column.pipeArgs.format,e.groupRow.column.pipeArgs.timezone,e.grid.locale):"currency"===e.dataType?ug(10,17,Xu(27,aU,e.groupRow.value,e.currencyCode,e.groupRow.column.pipeArgs.display,e.groupRow.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.dataType?cg(11,23,e.groupRow.value,e.groupRow.column.pipeArgs.digitsInfo,e.grid.locale):e.groupRow.value),tc(6),_h("value",e.groupRow.records?e.groupRow.records.length:0)}}function dU(e,t){if(1&e&&(Ch(0,"div",18),bh(1,"igx-checkbox",19,20),Sh()),2&e){let e=Vh();tc(1),_h("tabindex",-1)("readonly",!0)("checked",e.areAllRowsInTheGroupSelected)("disableRipple",!0)("indeterminate",e.groupByRowCheckboxIndeterminateState)("disabled","single"===e.grid.rowSelection)("aria-label",e.groupByRowSelectorBaseAriaLabel)}}var cU=(()=>{let e=class{get focused(){return this.isActive()}get currencyCode(){return this.groupRow.column.pipeArgs.currencyCode?this.groupRow.column.pipeArgs.currencyCode:Qp(this.grid.locale)}constructor(e,t,i,n,r){this.grid=e,this.gridSelection=t,this.element=i,this.cdr=n,this.filteringService=r,this.isFocused=!1,this.destroy$=new Xe,this.defaultCssClass="igx-grid__group-row",this.paddingIndentationCssClass="igx-grid__group-row--padding-level",this.gridSelection.selectedRowsChange.pipe(Si(this.destroy$)).subscribe((()=>{this.cdr.markForCheck()}))}activate(){this.grid.navigation.setActiveNode({row:this.index})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get expanded(){return this.grid.isExpandedGroup(this.groupRow)}get describedBy(){let e=void 0!==this.groupRow.expression?this.groupRow.expression.fieldName:"";return this.gridID+"_"+e}get dataRowIndex(){return this.index}get nativeElement(){return this.element.nativeElement}get attrCellID(){return`${this.gridID}_${this.index}`}get styleClasses(){return`${this.defaultCssClass} ${this.paddingIndentationCssClass}-`+this.groupRow.level+(this.isActive()?` ${this.defaultCssClass}--active`:"")}isActive(){return!!this.grid.navigation.activeNode&&this.grid.navigation.activeNode.row===this.index}getRowID(e){return this.grid.primaryKey?e[this.grid.primaryKey]:e}onGroupSelectorClick(e){this.grid.isMultiRowSelectionEnabled&&(e.stopPropagation(),this.areAllRowsInTheGroupSelected?this.gridSelection.deselectRows(this.groupRow.records.map((e=>this.getRowID(e)))):this.gridSelection.selectRows(this.groupRow.records.map((e=>this.getRowID(e)))))}toggle(){this.grid.toggleGroup(this.groupRow)}get iconTemplate(){return this.expanded?this.grid.rowExpandedIndicatorTemplate||this.defaultGroupByExpandedTemplate:this.grid.rowCollapsedIndicatorTemplate||this.defaultGroupByCollapsedTemplate}get selectionNode(){return{row:this.index,column:this.gridSelection.activeElement?this.gridSelection.activeElement.column:0}}get dataType(){let e=this.groupRow.column;return e&&e.dataType||Wb.String}get formatter(){let e=this.groupRow.column;return e&&e.formatter||null}get areAllRowsInTheGroupSelected(){return this.groupRow.records.every((e=>this.gridSelection.isRowSelected(this.getRowID(e))))}get selectedRowsInTheGroup(){let e=new Set(this.gridSelection.filteredSelectedRowIds);return this.groupRow.records.filter((t=>e.has(this.getRowID(t))))}get groupByRowCheckboxIndeterminateState(){return this.selectedRowsInTheGroup.length>0&&!this.areAllRowsInTheGroupSelected}get groupByRowSelectorBaseAriaLabel(){return(this.areAllRowsInTheGroupSelected?this.grid.resourceStrings.igx_grid_groupByArea_deselect_message:this.grid.resourceStrings.igx_grid_groupByArea_select_message).replace("{0}",this.groupRow.expression.fieldName).replace("{1}",this.groupRow.value)}get showRowSelectors(){return this.grid.rowSelection!==lD&&!this.hideGroupRowSelectors}};return e.fac=function(t){return new(t||e)(nc(hk),nc(Tk),nc(wd),nc(fp),nc(Yz))},e.cmp=tr({type:e,selectors:[["igx-grid-groupby-row"]],viewQuery:function(e,t){if(1&e&&(Bg(qj,7),Bg(Yj,7,yg),Bg(Xj,7,yg)),2&e){let e;Hg(e=Gg())&&(t.groupContent=e.first),Hg(e=Gg())&&(t.defaultGroupByExpandedTemplate=e.first),Hg(e=Gg())&&(t.defaultGroupByCollapsedTemplate=e.first)}},hostVars:6,hostBindings:function(e,t){1&e&&Fh("pointerdown",(function(){return t.activate()})),2&e&&(ph("aria-expanded",t.expanded)("aria-describedby",t.describedBy)("data-rowIndex",t.dataRowIndex)("id",t.attrCellID),nu(t.styleClasses))},inputs:{hideGroupRowSelectors:"hideGroupRowSelectors",rowDraggable:"rowDraggable",index:"index",gridID:"gridID",groupRow:"groupRow",isFocused:"isFocused"},standalone:!0,features:[Wu],decls:17,vars:10,consts:[["defaultGroupRow",""],[4,"ngIf"],[1,"igx-grid__grouping-indicator",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-grid__group-content"],["groupContent",""],["defaultGroupByExpandedTemplate",""],["defaultGroupByCollapsedTemplate",""],["defaultGroupByTemplate",""],["groupByRowSelectorBaseTemplate",""],[1,"igx-grid__drag-indicator","igx-grid__tr-action"],[1,"igx-grid__cbx-selection","igx-grid__tr-action",3,"pointerdown","click"],["groupByRowSelector",""],[1,"igx-group-label"],[1,"igx-group-label__icon"],[1,"igx-group-label__column-name"],[1,"igx-group-label__text"],[1,"igx-group-label__count-badge",3,"value"],[1,"igx-grid__cbx-padding"],[3,"tabindex","readonly","checked","disableRipple","indeterminate","disabled","aria-label"],["groupByRowCheckbox",""]],template:function(e,t){if(1&e&&(Eh(0,null,0),yh(2,Zj,4,2,"ng-container",1),yh(3,iU,3,8,"ng-container",1),Ch(4,"div",2),Fh("click",(function(){return t.toggle()})),yh(5,nU,1,0,"ng-container",3),Sh(),Ch(6,"div",4,5),yh(8,rU,1,0,"ng-container",3),Sh(),yh(9,sU,2,0,"ng-template",null,6,jg),yh(11,oU,2,0,"ng-template",null,7,jg),yh(13,lU,13,33,"ng-template",null,8,jg),yh(15,dU,3,7,"ng-template",null,9,jg),Ih()),2&e){let e=xh(14);tc(2),_h("ngIf",t.rowDraggable),tc(1),_h("ngIf",t.showRowSelectors),tc(2),_h("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",ju(6,tU,t)),tc(3),_h("ngTemplateOutlet",t.grid.groupRowTemplate?t.grid.groupRowTemplate:e)("ngTemplateOutletContext",ju(8,tU,t.groupRow))}},dependencies:[$m,Zm,lf,af,df,cf,XI,xO,nk,M$],encapsulation:2,changeDetection:0}),e})(),hU=(()=>{let e=class extends mj{isValidPosition(e,t){return!(e<0||t<0||this.grid.dataView.length-1<e||Math.max(...this.grid.visibleColumns.map((e=>e.visibleIndex)))<t||this.activeNode.column!==t&&!this.isDataRow(e,!0))}shouldPerformVerticalScroll(e,t){if(!super.shouldPerformVerticalScroll(e,t))return!1;if(!this.isDataRow(e)||t<0)return super.shouldPerformVerticalScroll(e,t);let i=super.getRowElementByIndex(e),n=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,r=this.getVerticalScrollPositions(e,t);return!i||i.offsetTop+r.topOffset<Math.abs(this.containerTopOffset)||n&&n<r.rowBottom-Math.ceil(this.scrollTop)}isColumnFullyVisible(e){let t=this.grid.getColumnByVisibleIndex(e);if(this.isParentColumnFullyVisible(t?.parent)||super.isColumnPinned(e,this.forOfDir()))return!0;let i=this.getChildColumnScrollPositions(e),n=i.rightScroll-i.leftScroll;return this.displayContainerWidth<n&&this.displayContainerScrollLeft===i.leftScroll||this.displayContainerWidth>=i.rightScroll-this.displayContainerScrollLeft&&this.displayContainerScrollLeft<=i.leftScroll}getVerticalScrollPositions(e,t){let i=this.grid.getColumnByVisibleIndex(t),n=i.rowEnd&&i.rowEnd-i.rowStart?i.rowEnd-i.rowStart:1,r=this.grid.defaultRowHeight*(i.rowStart-1),s=this.grid.verticalScrollContainer.sizesCache[e]+r;return{topOffset:r,rowTop:s,rowBottom:s+this.grid.defaultRowHeight*n}}performHorizontalScrollToCell(e,t){if(!this.shouldPerformHorizontalScroll(e))return;let i=this.getChildColumnScrollPositions(e),n=i.rightScroll-this.displayContainerScrollLeft,r=!(this.displayContainerScrollLeft<=i.leftScroll)&&this.displayContainerWidth>=n?i.leftScroll:i.rightScroll-this.displayContainerWidth;this.forOfDir().getScroll().scrollLeft=r,this.grid.parentVirtDir.chunkLoad.pipe(fi()).subscribe((()=>{t&&t()}))}performVerticalScrollToCell(e,t,i){let n=this.parentByChildIndex(t||0)?.children;if(!super.isDataRow(e)||n&&n.length<2||t<0)return super.performVerticalScrollToCell(e,t,i);let r=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,s=this.getVerticalScrollPositions(e,t),o=super.getRowElementByIndex(e);this.scrollTop>s.rowTop&&(!o||o.offsetTop+s.topOffset<Math.abs(this.containerTopOffset))?0===s.topOffset?this.grid.verticalScrollContainer.scrollTo(e):this.grid.verticalScrollContainer.scrollPosition=s.rowTop:this.grid.verticalScrollContainer.addScrollTop(Math.abs(s.rowBottom-this.scrollTop-r)),this.grid.verticalScrollContainer.chunkLoad.pipe(fi()).subscribe((()=>{i&&i()}))}getNextHorizontalCellPosition(e=!1){let t=this.parentByChildIndex(this.activeNode.column);if(!this.hasNextHorizontalPosition(e,t))return{row:this.activeNode.row,column:this.activeNode.column};let i=(e?t.children.filter((e=>e.rowStart<=this.activeNode.layout.rowStart)).sort(((e,t)=>t.visibleIndex-e.visibleIndex)):t.children.filter((e=>e.rowStart<=this.activeNode.layout.rowStart))).find((t=>e?t.visibleIndex<this.activeNode.column&&this.rowEnd(t)>this.activeNode.layout.rowStart:t.visibleIndex>this.activeNode.column&&t.colStart>this.activeNode.layout.colStart));if(!i||e&&1===this.activeNode.layout.colStart){let n=e?t.visibleIndex-1:t.visibleIndex+1,r=this.grid.columns.find((e=>e.columnLayout&&e.visibleIndex===n)).children;i=e?r.toArray().reverse().find((e=>e.rowStart<=this.activeNode.layout.rowStart)):r.find((e=>this.rowEnd(e)>this.activeNode.layout.rowStart&&1===e.colStart))}return{row:this.activeNode.row,column:i.visibleIndex}}getNextVerticalPosition(e=!1){if(this.activeNode.column=this.activeNode.column||0,!this.hasNextVerticalPosition(e))return{row:this.activeNode.row,column:this.activeNode.column};let t=this.grid.getColumnByVisibleIndex(this.activeNode.column).rowStart,i=!this.isDataRow(this.activeNode.row)||(e?1===t:t===this.lastRowStartPerBlock()),n=e?this.activeNode.row-1:this.activeNode.row+1;if(i&&!this.isDataRow(n))return{row:n,column:this.activeNode.column};let r=this.parentByChildIndex(this.activeNode.column).children,s=e?this.getPreviousRowIndex(r,i):this.getNextRowIndex(r,i);return{row:i?n:this.activeNode.row,column:s.visibleIndex}}headerNavigation(e){let t=e.key.toLowerCase();if(!mb.has(t))return;e.preventDefault(),this.activeNode.layout||(this.activeNode.layout=this.layout(this.activeNode.column||0));let i=e.altKey,n=e.ctrlKey;if(this.performHeaderKeyCombination(this.grid.getColumnByVisibleIndex(this.activeNode.column),t,e.shiftKey,n,i,e),n||i||!t.includes("down")&&!t.includes("up"))this.horizontalNav(e,t,-1,"headerCell");else{let e=this.parentByChildIndex(this.activeNode.column).children,i=t.includes("down")?this.getNextRowIndex(e,!1):this.getPreviousRowIndex(e,!1);if(!i)return;this.activeNode.column=i.visibleIndex;let n=this.layout(this.activeNode.column),r=f(m({},this.activeNode.layout),{rowStart:n.rowStart,rowEnd:n.rowEnd});this.setActiveNode({row:this.activeNode.row,layout:r})}}layout(e){let t=this.grid.getColumnByVisibleIndex(e);return{colStart:t.colStart,rowStart:t.rowStart,colEnd:t.colEnd,rowEnd:t.rowEnd,columnVisibleIndex:t.visibleIndex}}getNextPosition(e,t,i,n,r,s){switch(this.activeNode.layout||(this.activeNode.layout=this.layout(this.activeNode.column||0)),i){case"tab":case" ":case"spacebar":case"space":case"escape":case"esc":case"enter":case"f2":super.getNextPosition(e,t,i,n,r,s);break;case"end":e=r?this.findLastDataRowIndex():this.activeNode.row,t=r?this.lastColIndexPerMRLBlock(this.lastIndexPerRow):this.lastIndexPerRow;break;case"home":e=r?this.findFirstDataRowIndex():this.activeNode.row,t=r?0:this.firstIndexPerRow;break;case"arrowleft":case"left":t=r?this.firstIndexPerRow:this.getNextHorizontalCellPosition(!0).column;break;case"arrowright":case"right":t=r?this.lastIndexPerRow:this.getNextHorizontalCellPosition().column;break;case"arrowup":case"up":let o=this.getNextVerticalPosition(!0);t=r?this.activeNode.column:o.column,e=r?this.findFirstDataRowIndex():o.row;break;case"arrowdown":case"down":let a=this.getNextVerticalPosition();t=r?this.activeNode.column:a.column,e=r?this.findLastDataRowIndex():a.row;break;default:return}let o=this.layout(t),a=i.includes("up")||i.includes("down")?{rowStart:o.rowStart}:{colStart:o.colStart};return Object.assign(this.activeNode.layout,a,{rowEnd:o.rowEnd}),r&&("home"===i||"end"===i)&&(this.activeNode.layout=o),{rowIndex:e,colIndex:t}}horizontalNav(e,t,i,n){let r=e.ctrlKey;if(!lb.has(t)||e.altKey)return;this.activeNode.row=i;let s={column:this.activeNode.column,mchCache:{level:this.activeNode.level,visibleIndex:this.activeNode.column}};if((t.includes("left")||"home"===t)&&this.activeNode.column>0&&(s.column=r||"home"===t?this.firstIndexPerRow:this.getNextHorizontalCellPosition(!0).column),(t.includes("right")||"end"===t)&&this.activeNode.column!==this.lastIndexPerRow&&(s.column=r||"end"===t?this.lastIndexPerRow:this.getNextHorizontalCellPosition().column),"headerCell"===n){let e=this.grid.getColumnByVisibleIndex(s.column);s.mchCache.level=e.level,s.mchCache.visibleIndex=e.visibleIndex}let o=this.layout(s.column),a=f(m({},this.activeNode.layout),{colStart:o.colStart,rowEnd:o.rowEnd});this.setActiveNode({row:this.activeNode.row,column:s.column,layout:a,mchCache:s.mchCache}),this.performHorizontalScrollToCell(s.column)}isParentColumnFullyVisible(e){if(!this.forOfDir().getScroll().clientWidth||e?.pinned)return!0;let t=this.forOfDir().igxForOf.indexOf(e);return this.displayContainerWidth>=this.forOfDir().getColumnScrollLeft(t+1)-this.displayContainerScrollLeft&&this.displayContainerScrollLeft<=this.forOfDir().getColumnScrollLeft(t)}getChildColumnScrollPositions(e){let t=this.grid.getColumnByVisibleIndex(e),i=this.forOfDir().igxForOf.indexOf(t.parent),n=this.forOfDir().getColumnScrollLeft(i),r=this.forOfDir().getColumnScrollLeft(i+1);return t.parent.children.forEach((e=>{e.rowStart>=t.rowStart&&e.visibleIndex<t.visibleIndex&&(n+=parseInt(e.width,10)),e.rowStart<=t.rowStart&&e.visibleIndex>t.visibleIndex&&(r-=parseInt(e.width,10))})),{leftScroll:n,rightScroll:r}}getNextRowIndex(e,t){let i=t?1:this.rowEnd(this.grid.getColumnByVisibleIndex(this.activeNode.column)),n=e.filter((e=>e.rowStart===i));return n.find((e=>e.colStart===this.activeNode.layout.colStart))||n.sort(((e,t)=>t.visibleIndex-e.visibleIndex)).find((e=>e.colStart<=this.activeNode.layout.colStart))}getPreviousRowIndex(e,t){let i=t?Math.max(...e.map((e=>this.rowEnd(e)))):this.grid.getColumnByVisibleIndex(this.activeNode.column).rowStart,n=e.filter((e=>this.rowEnd(e)===i));return n.find((e=>e.colStart===this.activeNode.layout.colStart))||n.sort(((e,t)=>t.visibleIndex-e.visibleIndex)).find((e=>e.colStart<=this.activeNode.layout.colStart))}get lastIndexPerRow(){let e=this.grid.visibleColumns.find((e=>e.visibleIndex===this.lastLayoutIndex&&e.columnLayout)).children.toArray().reverse();return(e.find((e=>e.rowStart===this.activeNode.layout.rowStart))||e.find((e=>e.rowStart<=this.activeNode.layout.rowStart))).visibleIndex}get firstIndexPerRow(){let e=this.grid.visibleColumns.find((e=>0===e.visibleIndex&&e.columnLayout)).children;return(e.find((e=>e.rowStart===this.activeNode.layout.rowStart))||e.find((e=>e.rowStart<=this.activeNode.layout.rowStart))).visibleIndex}get lastLayoutIndex(){return Math.max(...this.grid.visibleColumns.filter((e=>e.columnLayout)).map((e=>e.visibleIndex)))}get scrollTop(){return Math.abs(this.grid.verticalScrollContainer.getScroll().scrollTop)}lastColIndexPerMRLBlock(e=this.activeNode.column){return this.parentByChildIndex(e).children.last.visibleIndex}lastRowStartPerBlock(e=this.activeNode.column){return Math.max(...this.parentByChildIndex(e).children.map((e=>e.rowStart)))}rowEnd(e){return e.rowEnd&&e.rowEnd-e.rowStart?e.rowStart+e.rowEnd-e.rowStart:e.rowStart+1}parentByChildIndex(e){return this.grid.getColumnByVisibleIndex(e)?.parent}hasNextHorizontalPosition(e=!1,t){return!(e&&0===t.visibleIndex&&1===this.activeNode.layout.colStart||!e&&t.visibleIndex===this.lastLayoutIndex&&this.activeNode.column===this.lastIndexPerRow)}hasNextVerticalPosition(e=!1){return!(e&&0===this.activeNode.row&&(!this.isDataRow(this.activeNode.row)||1===this.activeNode.layout.rowStart)||!e&&this.activeNode.row>=this.grid.dataView.length-1&&this.activeNode.column===this.lastColIndexPerMRLBlock())}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.prov=Zi({token:e,factory:e.fac}),e})(),uU=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n){return t?this.addDetailRows(e,i):e}addDetailRows(e,t){let i=[];return e.forEach((e=>{if(i.push(e),!this.grid.isGroupByRecord(e)&&!this.grid.isSummaryRow(e)&&this.grid.gridAPI.get_row_expansion_state(e)){let t={detailsData:e};i.push(t)}})),i}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"gridDetails",type:e,pure:!0,standalone:!0}),e})(),gU=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o,a){return e.data&&t&&i!==sD?this.addSummaryRows(r,e,n,s):e.data}addSummaryRows(e,t,i,n){let r=[],s=new Map,o=this.grid.summaryService.calcMaxSummaryHeight();if(t.metadata.length&&!this.grid.isGroupByRecord(t.data[0])&&this.grid.isGroupByRecord(t.metadata[0])&&i===rD){let e=[];for(e.push(t.metadata[0]);e[e.length-1].groupParent;)e.push(e[e.length-1].groupParent);e.reverse(),e.forEach((e=>e.skip=!0)),t.data.splice(0,0,...e)}for(let e of t.data){let t,a=!1,l=null;if(this.grid.isGroupByRecord(e)?(a=!!e.skip,e.skip=null,l=e,t=this.grid.gridAPI.get_groupBy_record_id(l)):t=this.grid.gridAPI.get_row_id(e),a||r.push(e),i===rD&&n&&l&&!this.grid.isExpandedGroup(l)){let e=this.removeDeletedRecord(this.grid,l.records.slice()),i={summaries:this.grid.summaryService.calculateSummaries(t,e),max:o};r.push(i)}if(i===rD&&s.has(t)){let e=s.get(t);for(let t of e){let e=this.grid.gridAPI.get_groupBy_record_id(t),i=this.removeDeletedRecord(this.grid,t.records.slice()),n={summaries:this.grid.summaryService.calculateSummaries(e,i,t),max:o};r.push(n)}}let d=!n&&l&&!this.grid.isExpandedGroup(l);if(null!==l&&!d)if(i===nD){let e=this.removeDeletedRecord(this.grid,l.records.slice()),i={summaries:this.grid.summaryService.calculateSummaries(t,e,l),max:o};r.push(i)}else if(i===rD){let e,t=l;for(;t.groups&&t.groups.length>0&&this.grid.isExpandedGroup(t);)t=t.groups[t.groups.length-1];e=this.grid.isExpandedGroup(t)?this.grid.gridAPI.get_row_id(t.records[t.records.length-1]):this.grid.gridAPI.get_groupBy_record_id(t);let i=s.get(e);i||(i=[],s.set(e,i)),i.unshift(l)}}return r}removeDeletedRecord(e,t){return e.transactions.enabled&&e.transactions.getTransactionLog().filter((e=>"delete"===e.type)).map((e=>e.id)).forEach((i=>{let n=(e.primaryKey?t.map((t=>t[e.primaryKey])):t).indexOf(i);-1!==n&&t.splice(n,1)})),t}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"gridSummary",type:e,pure:!0,standalone:!0}),e})(),pU=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o){let a,l=i.concat(t);return a=l.length?Kb.sort(QS(e),l,n,this.grid):e,this.grid.setFilteredSortedData(a,o),a}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"gridSort",type:e,pure:!0,standalone:!0}),e})(),mU=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o,a){let l={expressions:[],expansion:[],defaultExpanded:r};l.expressions=this.grid.groupingExpressions;let d,c={data:[],metadata:[]};return l.expressions.length?(l.expansion=this.grid.groupingExpansionState,l.defaultExpanded=this.grid.groupsExpanded,d=Kb.group(QS(e),l,n,this.grid,o,c)):(o.splice(0,o.length),d={data:e,metadata:e}),this.grid.groupingFlatResult=d.data,this.grid.groupingResult=c.data,this.grid.groupingMetadata=c.metadata,d}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"gridGroupBy",type:e,pure:!0,standalone:!0}),e})(),fU=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i=0,n=15,r){if(!t||this.grid.pagingMode!==fD.Local)return e;let s={index:i,recordsPerPage:n},o=this.grid._totalRecords>=0?this.grid._totalRecords:e.data?.length;Kb.correctPagingState(s,o);let a={data:Kb.page(QS(e.data),s,o),metadata:Kb.page(QS(e.metadata),s,o)};return this.grid.page!==s.index&&(this.grid.page=s.index),this.grid.pagingState=s,a}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"gridPaging",type:e,pure:!0,standalone:!0}),e})(),yU=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o,a){let l={expressionsTree:t,strategy:i,advancedExpressionsTree:n};if(qb.empty(l.expressionsTree)&&qb.empty(l.advancedExpressionsTree))return e;let d=Xb.filter(QS(e),l,this.grid);return this.grid.setFilteredData(d,a),d}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"gridFiltering",type:e,pure:!0,standalone:!0}),e})(),vU=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t=0){let i=this.grid.summaryService;return i.calculateSummaries(i.rootSummaryID,this.grid.gridAPI.get_summary_data())}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"igxGridSummaryDataPipe",type:e,pure:!0,standalone:!0}),e})(),xU=["errorIcon"],_U=["defaultError"],wU=["defaultCell"],CU=["defaultPinnedIndicator"],SU=["inlineEditor"],bU=["addRowCell"],DU=["error"];function EU(e,t){if(1&e&&(Ch(0,"igx-chip",8),fu(1),Sh()),2&e){let e=Vh(2);_h("disabled",!0)("displayDensity","compact"),tc(1),vu(e.grid.resourceStrings.igx_grid_pinned_row_indicator)}}function IU(e,t){1&e&&yh(0,EU,2,3,"igx-chip",7),2&e&&_h("ngIf",Vh().displayPinnedChip)}var TU=function(e,t,i,n,r){return[e,t,i,n,r]};function AU(e,t){if(1&e&&(Ch(0,"div",12),ag(1,"columnFormatter"),ag(2,"number"),ag(3,"date"),ag(4,"currency"),ag(5,"percent"),fu(6),ag(7,"columnFormatter"),ag(8,"number"),ag(9,"date"),ag(10,"currency"),ag(11,"percent"),Sh()),2&e){let e=Vh(2);_h("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?hg(1,9,e.value,e.formatter,e.rowData,e.columnData):"number"===e.column.dataType?cg(2,14,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?hg(3,18,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?ug(4,23,Xu(57,TU,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?cg(5,29,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),tc(6),vu(e.formatter?hg(7,33,e.value,e.formatter,e.rowData,e.columnData):"number"===e.column.dataType?cg(8,38,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?hg(9,42,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?ug(10,47,Xu(63,TU,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?cg(11,53,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)}}var RU=function(e,t){return{"igx-icon--success":e,"igx-icon--error":t}};function kU(e,t){if(1&e&&(Ch(0,"igx-icon",13),fu(1),Sh()),2&e){let e=Vh(2);_h("ngClass",Uu(2,RU,e.value,!e.value)),tc(1),vu(e.value?"check":"close")}}function OU(e,t){if(1&e&&(bh(0,"img",14),ag(1,"igxCellImageAlt")),2&e){let e=Vh(2);_h("src",e.value,Vl)("alt",lg(1,2,e.value))}}function FU(e,t){if(1&e&&(yh(0,AU,12,69,"div",9),yh(1,kU,2,5,"igx-icon",10),yh(2,OU,2,4,"img",11)),2&e){let e=Vh();_h("ngIf","boolean"!==e.column.dataType&&"image"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter),tc(1),_h("ngIf","boolean"===e.column.dataType&&!e.formatter),tc(1),_h("ngIf","image"===e.column.dataType)}}function PU(e,t){if(1&e&&(Ch(0,"div",12),ag(1,"columnFormatter"),ag(2,"number"),ag(3,"date"),ag(4,"currency"),ag(5,"percent"),fu(6),Sh()),2&e){let e=Vh(2);_h("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?cg(1,9,e.value,e.formatter,e.rowData):"number"===e.column.dataType?cg(2,13,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?hg(3,17,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?ug(4,22,Xu(32,TU,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?cg(5,28,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),tc(6),vu(e.isEmptyAddRowCell?e.column.header||e.column.field:e.value)}}function MU(e,t){if(1&e&&yh(0,PU,7,38,"div",9),2&e){let e=Vh();_h("ngIf","boolean"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter)}}function VU(e,t){if(1&e){let e=Rh();Eh(0,16),Ch(1,"igx-input-group",17)(2,"input",18),Fh("compositionstart",(function(){return Bs(e),zs(Vh(2).grid.crudService.isInCompositionMode=!0)}))("compositionend",(function(){return Bs(e),zs(Vh(2).grid.crudService.isInCompositionMode=!1)})),Sh()(),Ih()}if(2&e){let e=Vh(2);_h("formGroup",e.formGroup),tc(2),_h("igxFocus",!0)("igxTextSelection",!0)("formControl",e.formControl),ph("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function NU(e,t){if(1&e&&(Eh(0),Ch(1,"igx-input-group",19),bh(2,"input",20),Sh(),Ih()),2&e){let e=Vh(2);tc(1),_h("formGroup",e.formGroup),tc(1),_h("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),ph("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function LU(e,t){if(1&e&&(Eh(0,16),bh(1,"igx-checkbox",21),Ih()),2&e){let e=Vh(2);_h("formGroup",e.formGroup),tc(1),_h("checked",e.editValue)("igxFocus",!0)("disableRipple",!0)("formControl",e.formControl)}}function HU(e,t){if(1&e){let e=Rh();Eh(0,16),Ch(1,"igx-date-picker",22),Fh("valueChange",(function(t){return Bs(e),zs(Vh(2).editValue=t)})),Sh(),Ih()}if(2&e){let e=Vh(2);_h("formGroup",e.formGroup),tc(1),tu("width",100,"%"),_h("outlet",e.grid.outlet)("locale",e.grid.locale)("weekStart",e.column.pipeArgs.weekStart)("value",e.editValue)("igxFocus",!0)("formControl",e.formControl)}}function BU(e,t){if(1&e){let e=Rh();Eh(0,16),Ch(1,"igx-time-picker",23),Fh("valueChange",(function(t){return Bs(e),zs(Vh(2).editValue=t)})),Sh(),Ih()}if(2&e){let e=Vh(2);_h("formGroup",e.formGroup),tc(1),tu("width",100,"%"),_h("outlet",e.grid.outlet)("locale",e.grid.locale)("inputFormat",e.column.defaultTimeFormat)("value",e.editValue)("igxFocus",!0)("formControl",e.formControl)}}function zU(e,t){if(1&e&&(Eh(0),Ch(1,"igx-input-group",16),bh(2,"input",24),Sh(),Ih()),2&e){let e=Vh(2);tc(1),_h("formGroup",e.formGroup),tc(1),_h("formControl",e.formControl)("igxDateTimeEditor",e.column.defaultDateTimeFormat)("igxFocus",!0),ph("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function GU(e,t){if(1&e&&(Ch(0,"igx-prefix"),fu(1),Sh()),2&e){let e=Vh(3);tc(1),vu(e.currencyCodeSymbol)}}function $U(e,t){if(1&e&&(Ch(0,"igx-suffix"),fu(1),Sh()),2&e){let e=Vh(3);tc(1),vu(e.currencyCodeSymbol)}}function WU(e,t){if(1&e&&(Eh(0),Ch(1,"igx-input-group",19),yh(2,GU,2,1,"igx-prefix",5),bh(3,"input",20),yh(4,$U,2,1,"igx-suffix",5),Sh(),Ih()),2&e){let e=Vh(2);tc(1),_h("formGroup",e.formGroup),tc(1),_h("ngIf",e.grid.currencyPositionLeft),tc(1),_h("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),ph("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),tc(1),_h("ngIf",!e.grid.currencyPositionLeft)}}function KU(e,t){if(1&e&&(Eh(0),Ch(1,"igx-input-group",19),bh(2,"input",20),Ch(3,"igx-suffix"),fu(4),ag(5,"percent"),Sh()(),Ih()),2&e){let e=Vh(2);tc(1),_h("formGroup",e.formGroup),tc(1),_h("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),ph("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),tc(2),xu(" ",cg(5,8,e.editValue,e.column.pipeArgs.digitsInfo,e.grid.locale)," ")}}function jU(e,t){if(1&e&&(yh(0,VU,3,6,"ng-container",15),yh(1,NU,3,7,"ng-container",5),yh(2,LU,2,5,"ng-container",15),yh(3,HU,2,9,"ng-container",15),yh(4,BU,2,9,"ng-container",15),yh(5,zU,3,6,"ng-container",5),yh(6,WU,5,9,"ng-container",5),yh(7,KU,6,12,"ng-container",5)),2&e){let e=Vh();_h("ngIf","string"===e.column.dataType||"image"===e.column.dataType),tc(1),_h("ngIf","number"===e.column.dataType),tc(1),_h("ngIf","boolean"===e.column.dataType),tc(1),_h("ngIf","date"===e.column.dataType),tc(1),_h("ngIf","time"===e.column.dataType),tc(1),_h("ngIf","dateTime"===e.column.dataType),tc(1),_h("ngIf","currency"===e.column.dataType),tc(1),_h("ngIf","percent"===e.column.dataType)}}function UU(e,t){1&e&&Th(0)}function qU(e,t){1&e&&Th(0)}function YU(e,t){1&e&&Th(0)}function XU(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"igx-icon",25,26),Fh("mouseover",(function(){return Bs(e),zs(Vh().errorShowing=!0)}))("mouseout",(function(){return Bs(e),zs(Vh().errorShowing=!1)})),fu(3,"error"),Sh(),Ch(4,"div",27,28)(7,"div"),yh(8,YU,1,0,"ng-container",4),Sh()(),Ih()}if(2&e){let e=xh(6),t=Vh(),i=xh(12);tc(1),_h("igxTooltipTarget",e)("igxToggleOutlet",t.grid.outlet),tc(3),_h("id",t.ariaErrorMessage),tc(3),tu("width","max-content"),tc(1),_h("ngTemplateOutlet",t.cellValidationErrorTemplate||i)("ngTemplateOutletContext",t.context)}}function ZU(e,t){if(1&e&&(Ch(0,"div"),fu(1),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",e.grid.resourceStrings.igx_grid_required_validation_error," ")}}function QU(e,t){if(1&e&&(Ch(0,"div"),fu(1),ag(2,"igxStringReplace"),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",cg(2,1,e.grid.resourceStrings.igx_grid_min_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.minlength.requiredLength)," ")}}function JU(e,t){if(1&e&&(Ch(0,"div"),fu(1),ag(2,"igxStringReplace"),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",cg(2,1,e.grid.resourceStrings.igx_grid_max_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.maxlength.requiredLength)," ")}}function eq(e,t){if(1&e&&(Ch(0,"div"),fu(1),ag(2,"igxStringReplace"),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",cg(2,1,e.grid.resourceStrings.igx_grid_min_validation_error,"{0}",e.formGroup.get(e.column.field).errors.min.min)," ")}}function tq(e,t){if(1&e&&(Ch(0,"div"),fu(1),ag(2,"igxStringReplace"),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",cg(2,1,e.grid.resourceStrings.igx_grid_max_validation_error,"{0}",e.formGroup.get(e.column.field).errors.max.max)," ")}}function iq(e,t){if(1&e&&(Ch(0,"div"),fu(1),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",e.grid.resourceStrings.igx_grid_email_validation_error," ")}}function nq(e,t){if(1&e&&(Ch(0,"div"),fu(1),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",e.grid.resourceStrings.igx_grid_pattern_validation_error," ")}}function rq(e,t){if(1&e&&(yh(0,ZU,2,1,"div",5),yh(1,QU,3,5,"div",5),yh(2,JU,3,5,"div",5),yh(3,eq,3,5,"div",5),yh(4,tq,3,5,"div",5),yh(5,iq,2,1,"div",5),yh(6,nq,2,1,"div",5)),2&e){let e=Vh();_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.required),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.minlength),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.maxlength),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.min),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.max),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.email),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.pattern)}}var sq=(()=>{let e=class{get isEmptyAddRowCell(){return this.intRow.addRowUI&&(void 0===this.value||null===this.value)}get formGroup(){return this.grid.validation.getFormGroup(this.intRow.key)}get row(){return this.grid.createRow(this.intRow.index)}get context(){let e=()=>this.getCellType(!0),t={$implicit:this.value,additionalTemplateContext:this.column.additionalTemplateContext,get cell(){return e()}};return this.editMode&&(t.formControl=this.formControl),this.isInvalid&&(t.defaultErrorTemplate=this.defaultErrorTemplate),t}get template(){return this.editMode&&this.formGroup?this.column.inlineEditorTemplate||this.inlineEditorTemplate:this.cellTemplate?this.cellTemplate:this.grid.rowEditable&&this.intRow.addRowUI?this.addRowCellTemplate:this.defaultCellTemplate}get pinnedIndicatorTemplate(){return this.pinnedIndicator?this.pinnedIndicator:this.defaultPinnedIndicator}get gridID(){return this.intRow.gridID}get rowIndex(){return this.intRow.index}get columnIndex(){return this.column.index}get visibleColumnIndex(){return this.column.columnLayoutChild?this.column.visibleIndex:this._vIndex}set visibleColumnIndex(e){this._vIndex=e}get cellID(){let e=this.grid.primaryKey;return{rowID:e?this.rowData[e]:this.rowData,columnID:this.columnIndex,rowIndex:this.rowIndex}}get attrCellID(){return`${this.intRow.gridID}_${this.rowIndex}_${this.visibleColumnIndex}`}get title(){if(this.editMode||this.cellTemplate||this.errorShowing)return"";if(this.formatter)return this.formatter(this.value,this.rowData,this.columnData);let e=this.column.pipeArgs,t=this.grid.locale;switch(this.column.dataType){case Wb.Percent:return Pm(this.value,t,e.digitsInfo);case Wb.Currency:return Db(this.value,this.currencyCode,e.display,e.digitsInfo,t);case Wb.Date:case Wb.DateTime:case Wb.Time:return bb(this.value,e.format,t,e.timezone)}return this.value}get booleanClass(){return"boolean"===this.column.dataType&&this.value}get nativeElement(){return this.element.nativeElement}get cellSelectionMode(){return this._cellSelection}set cellSelectionMode(e){this._cellSelection!==e&&(this.zone.runOutsideAngular((()=>{e===cD?this.addPointerListeners(e):this.removePointerListeners(this._cellSelection)})),this._cellSelection=e)}set lastSearchInfo(e){this._lastSearchInfo=e,this.highlightText(this._lastSearchInfo.searchText,this._lastSearchInfo.caseSensitive,this._lastSearchInfo.exactMatch)}get readonly(){return!this.editable}get ariaDescribeBy(){let e=(this.gridID+"_"+this.column.field).replace(".","_");return this.isInvalid&&(e+=" "+this.ariaErrorMessage),e}get ariaErrorMessage(){return this.grid.id+"_"+this.column.field+"_"+this.intRow.index+"_error"}get isInvalid(){let e=this.formGroup?.get(this.column?.field)?.invalid&&this.formGroup?.get(this.column?.field)?.touched;return!this.intRow.deleted&&e}get isValidAfterEdit(){let e=this.formGroup?.get(this.column?.field);return this.editMode&&e&&!e.invalid&&e.dirty}get formControl(){return this.grid.validation.getFormControl(this.intRow.key,this.column.field)}get gridRowSpan(){return this.column.gridRowSpan}get gridColumnSpan(){return this.column.gridColumnSpan}get rowEnd(){return this.column.rowEnd}get colEnd(){return this.column.colEnd}get rowStart(){return this.column.rowStart}get colStart(){return this.column.colStart}get ariaSelected(){return this.selected||this.column.selected||this.intRow.selected}get selected(){return this.selectionService.selected(this.selectionNode)}set selected(e){let t=this.selectionNode;e?this.selectionService.add(t):this.selectionService.remove(t),this.grid.notifyChanges()}get columnSelected(){return this.selectionService.isColumnSelected(this.column.field)}set editValue(e){this.grid.crudService.cellInEditMode&&(this.grid.crudService.cell.editValue=e)}get editValue(){if(this.grid.crudService.cellInEditMode)return this.grid.crudService.cell.editValue}get editable(){return this.column.editable&&!this.intRow.disabled}set highlight(e){this._highlight=e,this._highlight&&this.grid.lastSearchInfo.searchText&&(this._highlight.highlight(this.grid.lastSearchInfo.searchText,this.grid.lastSearchInfo.caseSensitive,this.grid.lastSearchInfo.exactMatch),this._highlight.activateIfNecessary())}get highlight(){return this._highlight}get selectionNode(){return{row:this.rowIndex,column:this.column.columnLayoutChild?this.column.parent.visibleIndex:this.visibleColumnIndex,layout:this.column.columnLayoutChild?{rowStart:this.column.rowStart,colStart:this.column.colStart,rowEnd:this.column.rowEnd,colEnd:this.column.colEnd,columnVisibleIndex:this.visibleColumnIndex}:null}}get step(){let e=this.column.pipeArgs.digitsInfo;if(!e)return 1;let t=+e.substr(e.indexOf(".")+1,1);return 1/Math.pow(10,t)}get currencyCode(){return this.column.pipeArgs.currencyCode?this.column.pipeArgs.currencyCode:Qp(this.grid.locale)}get currencyCodeSymbol(){return im(this.currencyCode,"wide",this.grid.locale)}constructor(e,t,i,n,r,s,o,a){this.selectionService=e,this.grid=t,this.overlayService=i,this.cdr=n,this.element=r,this.zone=s,this.touchManager=o,this.platformUtil=a,this._destroy$=new Xe,this.lastPinned=!1,this.firstPinned=!1,this.editMode=!1,this.role="gridcell",this.width="",this.active=!1,this.displayPinnedChip=!1,this.highlightClass="igx-highlight",this.activeHighlightClass="igx-highlight__active",this._cellSelection=cD,this._vIndex=-1,this.onDoubleClick=e=>{"doubletap"===e.type&&e.preventDefault(),this.editable&&!this.editMode&&!this.intRow.deleted&&!this.grid.crudService.rowEditingBlocked&&this.grid.crudService.enterEditMode(this,e),this.grid.doubleClick.emit({cell:this.getCellType(),event:e})},this.errorShowing=!1,this.pointerdown=e=>{if(this.cellSelectionMode===cD){if(!this.platformUtil.isLeftClick(e))return e.preventDefault(),this.grid.navigation.setActiveNode({rowIndex:this.rowIndex,colIndex:this.visibleColumnIndex}),this.selectionService.addKeyboardRange(),this.selectionService.initKeyboardState(),this.selectionService.primaryButton=!1,void(this.selected||this.grid.crudService.updateCell(!0,e));this.selectionService.primaryButton=!0,this.selectionService.pointerDown(this.selectionNode,e.shiftKey,e.ctrlKey),this.activate(e)}else this.activate(e)},this.pointerenter=e=>{(!/^ig.-hierarchical-grid$/.test(this.grid.nativeElement.tagName.toLowerCase())||this.grid.navigation?.activeNode?.gridID&&this.grid.navigation.activeNode.gridID===this.gridID)&&this.selectionService.pointerEnter(this.selectionNode,e)&&this.grid.cdr.detectChanges()},this.focusout=()=>{this.closeErrorTooltip()},this.pointerup=e=>{let t=/^ig.-hierarchical-grid$/.test(this.grid.nativeElement.tagName.toLowerCase());!this.platformUtil.isLeftClick(e)||t&&(!this.grid.navigation?.activeNode?.gridID||this.grid.navigation.activeNode.gridID!==this.gridID)||this.selectionService.pointerUp(this.selectionNode,this.grid.rangeSelected)&&this.grid.cdr.detectChanges()}}onClick(e){this.grid.cellClick.emit({cell:this.getCellType(),event:e})}onContextMenu(e){this.grid.contextMenu.emit({cell:this.getCellType(),event:e})}ngOnInit(){this.zone.runOutsideAngular((()=>{this.nativeElement.addEventListener("pointerdown",this.pointerdown),this.addPointerListeners(this.cellSelectionMode)})),this.platformUtil.isIOS&&this.touchManager.addEventListener(this.nativeElement,"doubletap",this.onDoubleClick,{cssProps:{}})}ngAfterViewInit(){this.errorTooltip.changes.pipe(Si(this._destroy$)).subscribe((()=>{this.errorTooltip.length>0&&this.active&&(this.cdr.detectChanges(),this.openErrorTooltip())}))}openErrorTooltip(){this.errorTooltip.first.open({target:this.errorIcon.el.nativeElement,closeOnOutsideClick:!0,excludeFromOutsideClick:[this.nativeElement],closeOnEscape:!1,outlet:this.grid.outlet,modal:!1,positionStrategy:new XE({horizontalStartPoint:zE.Center,horizontalDirection:zE.Center})})}ngOnDestroy(){this.zone.runOutsideAngular((()=>{this.nativeElement.removeEventListener("pointerdown",this.pointerdown),this.removePointerListeners(this.cellSelectionMode)})),this.touchManager.destroy(),this._destroy$.next(),this._destroy$.complete()}ngOnChanges(e){e.editMode&&e.editMode.currentValue&&this.formControl&&(this.formControl.valueChanges.pipe(Ei((()=>this.editMode))).subscribe((()=>this.formControl.markAsTouched())),this.formControl.statusChanges.pipe(Ei((()=>this.editMode))).subscribe((e=>{if("INVALID"===e&&this.errorTooltip.length>0){this.cdr.detectChanges();let e=this.errorTooltip.first;this.resizeAndRepositionOverlayById(e.overlayId,this.errorTooltip.first.element.offsetWidth)}}))),e.value&&!e.value.firstChange&&this.highlight&&(this.highlight.lastSearchInfo.searchText=this.grid.lastSearchInfo.searchText,this.highlight.lastSearchInfo.caseSensitive=this.grid.lastSearchInfo.caseSensitive,this.highlight.lastSearchInfo.exactMatch=this.grid.lastSearchInfo.exactMatch)}resizeAndRepositionOverlayById(e,t){let i=this.overlayService.getOverlayById(e);i&&(i.initialSize.width=t,i.elementRef.nativeElement.parentElement.style.width=t+"px",this.overlayService.reposition(e))}setEditMode(e){this.intRow.deleted||(this.editable&&e?(this.grid.crudService.cellInEditMode&&(this.grid.gridAPI.update_cell(this.grid.crudService.cell),this.grid.crudService.endCellEdit()),this.grid.crudService.enterEditMode(this)):this.grid.crudService.endCellEdit(),this.grid.notifyChanges())}update(e){if(this.intRow.deleted)return;let t=this.grid.crudService.cell;t||(t=this.grid.crudService.createCell(this)),t.editValue=e,this.grid.gridAPI.update_cell(t),this.grid.crudService.endCellEdit(),this.cdr.markForCheck()}closeErrorTooltip(){let e=this.errorTooltip.first;e&&e.close()}activate(e){let t=this.selectionNode,i=!this.selectionService.isActiveNode(t);if(this.selectionService.primaryButton){let n=this.selectionService.activeElement;if(this.cellSelectionMode===dD&&e?.ctrlKey&&this.selected?(this.selectionService.activeElement=null,i=!0):this.selectionService.activeElement=t,this._updateCRUDStatus(e))return void(this.selectionService.activeElement=n);let r=this.selectionService.activeElement,s=r?this.grid.gridAPI.get_row_by_index(r.row):null;if(this.grid.crudService.rowEditingBlocked&&s&&this.intRow.key!==s.key)return}else this.selectionService.activeElement=null,this.grid.crudService.cellInEditMode&&!this.editMode&&this.grid.crudService.updateCell(!0,e);this.grid.navigation.setActiveNode({row:this.rowIndex,column:this.visibleColumnIndex});let n=e&&e.target&&e.target===this.errorIcon?.el.nativeElement;this.isInvalid&&!n&&(this.cdr.detectChanges(),this.openErrorTooltip(),this.grid.activeNodeChange.pipe(fi()).subscribe((()=>{this.closeErrorTooltip()}))),this.selectionService.primaryButton=!0,this.cellSelectionMode===cD&&this.selectionService.activeElement&&(this.selectionService.isInMap(this.selectionService.activeElement)&&e?.ctrlKey&&!e?.shiftKey?(this.selectionService.remove(this.selectionService.activeElement),i=!0):(this.selectionService.add(this.selectionService.activeElement,!1),this.selectionService.keyboardStateOnFocus(t,this.grid.rangeSelected,this.nativeElement))),this.grid.isCellSelectable&&i&&this.zone.run((()=>this.grid.selected.emit({cell:this.getCellType(),event:e})))}highlightText(e,t,i){return this.highlight&&this.column.searchable?this.highlight.highlight(e,t,i):0}clearHighlight(){this.highlight&&this.column.searchable&&this.highlight.clearHighlight()}calculateSizeToFit(e){return this.platformUtil.getNodeSizeViaRange(e,this.nativeElement)}get searchMetadata(){let e=new Map;return e.set("pinned",this.grid.isRecordPinnedByViewIndex(this.intRow.index)),e}_updateCRUDStatus(e){if(this.editMode)return;let t,i=this.grid.crudService,n=this.grid.crudService.cell,r=!(!i.row&&!i.cell);if(this.editable&&r&&!this.intRow.deleted){if(n){if(t=this.grid.crudService.updateCell(!1,e),this.grid.sortingExpressions.length&&this.grid.sortingExpressions.indexOf(n.column.field)&&this.grid.cdr.detectChanges(),t&&t.cancel)return!0;i.exitCellEdit(e)}return this.grid.tbody.nativeElement.focus({preventScroll:!0}),this.grid.notifyChanges(),i.enterEditMode(this,e),!1}n&&i.sameRow(this.cellID.rowID)?this.grid.crudService.updateCell(!0,e):r&&!i.sameRow(this.cellID.rowID)&&this.grid.crudService.endEdit(!0,e)}addPointerListeners(e){e===cD&&(this.nativeElement.addEventListener("pointerenter",this.pointerenter),this.nativeElement.addEventListener("pointerup",this.pointerup),this.nativeElement.addEventListener("focusout",this.focusout))}removePointerListeners(e){e===cD&&(this.nativeElement.removeEventListener("pointerenter",this.pointerenter),this.nativeElement.removeEventListener("pointerup",this.pointerup),this.nativeElement.removeEventListener("focusout",this.focusout))}getCellType(e){let t=e?this.grid.createRow(this.intRow.index,this.intRow.data):this.intRow.index;return new sM(this.grid,t,this.column)}};return e.fac=function(t){return new(t||e)(nc(Tk),nc(hk),nc(nI),nc(fp),nc(wd),nc(Vd),nc(tF),nc(ob))},e.cmp=tr({type:e,selectors:[["igx-grid-cell"]],viewQuery:function(e,t){if(1&e&&(Bg(xU,5,XI),Bg(_U,7,yg),Bg(wU,7,yg),Bg(CU,7,yg),Bg(SU,7,yg),Bg(bU,7,yg),Bg(AA,5,AA),Bg(DU,5,NA)),2&e){let e;Hg(e=Gg())&&(t.errorIcon=e.first),Hg(e=Gg())&&(t.defaultErrorTemplate=e.first),Hg(e=Gg())&&(t.defaultCellTemplate=e.first),Hg(e=Gg())&&(t.defaultPinnedIndicator=e.first),Hg(e=Gg())&&(t.inlineEditorTemplate=e.first),Hg(e=Gg())&&(t.addRowCellTemplate=e.first),Hg(e=Gg())&&(t.highlight=e.first),Hg(e=Gg())&&(t.errorTooltip=e)}},hostVars:31,hostBindings:function(e,t){1&e&&Fh("dblclick",(function(e){return t.onDoubleClick(e)}))("click",(function(e){return t.onClick(e)}))("contextmenu",(function(e){return t.onContextMenu(e)})),2&e&&(ph("data-rowIndex",t.rowIndex)("data-visibleIndex",t.visibleColumnIndex)("id",t.attrCellID)("title",t.title)("role",t.role)("aria-readonly",t.readonly)("aria-describedby",t.ariaDescribeBy)("aria-invalid",t.isInvalid)("aria-selected",t.ariaSelected),iu("igx-grid__td--new",t.isEmptyAddRowCell)("igx-grid__td--bool-true",t.booleanClass)("igx-grid__td--pinned-last",t.lastPinned)("igx-grid__td--pinned-first",t.firstPinned)("igx-grid__td--editing",t.editMode)("igx-grid__td--invalid",t.isInvalid)("igx-grid__td--valid",t.isValidAfterEdit)("igx-grid__td--active",t.active)("igx-grid__td--selected",t.selected)("igx-grid__td--column-selected",t.columnSelected)("igx-grid__td--row-pinned-first",t.displayPinnedChip))},inputs:{column:"column",intRow:"intRow",row:"row",rowData:"rowData",columnData:"columnData",cellTemplate:"cellTemplate",cellValidationErrorTemplate:"cellValidationErrorTemplate",pinnedIndicator:"pinnedIndicator",value:"value",formatter:"formatter",visibleColumnIndex:"visibleColumnIndex",cellSelectionMode:"cellSelectionMode",lastSearchInfo:"lastSearchInfo",lastPinned:"lastPinned",firstPinned:"firstPinned",editMode:"editMode",width:"width",active:"active",displayPinnedChip:"displayPinnedChip"},standalone:!0,features:[Nu([tF]),fs,Wu],decls:13,vars:5,consts:[["defaultPinnedIndicator",""],["defaultCell",""],["addRowCell",""],["inlineEditor",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],["defaultError",""],["class","igx-grid__td--pinned-chip",3,"disabled","displayDensity",4,"ngIf"],[1,"igx-grid__td--pinned-chip",3,"disabled","displayDensity"],["igxTextHighlight","","class","igx-grid__td-text",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"src","alt",4,"ngIf"],["igxTextHighlight","",1,"igx-grid__td-text",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata"],[3,"ngClass"],[3,"src","alt"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["displayDensity","compact"],["igxInput","",3,"igxFocus","igxTextSelection","formControl","compositionstart","compositionend"],["displayDensity","compact",3,"formGroup"],["igxInput","","type","number",3,"igxFocus","igxTextSelection","step","formControl"],[3,"checked","igxFocus","disableRipple","formControl"],["mode","dropdown",3,"outlet","locale","weekStart","value","igxFocus","formControl","valueChange"],["mode","dropdown",3,"outlet","locale","inputFormat","value","igxFocus","formControl","valueChange"],["type","text","igxInput","",3,"formControl","igxDateTimeEditor","igxFocus"],[3,"igxTooltipTarget","igxToggleOutlet","mouseover","mouseout"],["errorIcon",""],["igxTooltip","",3,"id"],["error","","tooltipRef","tooltip"]],template:function(e,t){1&e&&(yh(0,IU,1,1,"ng-template",null,0,jg),yh(2,FU,3,3,"ng-template",null,1,jg),yh(4,MU,1,1,"ng-template",null,2,jg),yh(6,jU,8,8,"ng-template",null,3,jg),yh(8,UU,1,0,"ng-container",4),yh(9,qU,1,0,"ng-container",4),yh(10,XU,9,7,"ng-container",5),yh(11,rq,7,7,"ng-template",null,6,jg)),2&e&&(tc(8),_h("ngTemplateOutlet",t.pinnedIndicatorTemplate)("ngTemplateOutletContext",t.context),tc(1),_h("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.context),tc(1),_h("ngIf",t.isInvalid))},dependencies:[$m,Bm,Zm,lf,df,cf,af,Yw,p_,Sw,Y_,X_,Iw,Aw,hP,AA,XI,UT,CI,iA,RA,nk,MP,pV,WA,DI,EI,HA,NA,S$,F$,M$],encapsulation:2,changeDetection:0}),e})(),oq=["indicator"],aq=["indentationDiv"],lq=["defaultExpandedTemplate"],dq=["defaultCollapsedTemplate"];function cq(e,t){if(1&e&&(Ch(0,"igx-chip",10),fu(1),Sh()),2&e){let e=Vh(2);_h("disabled",!0)("displayDensity","compact"),tc(1),vu(e.grid.resourceStrings.igx_grid_pinned_row_indicator)}}function hq(e,t){1&e&&yh(0,cq,2,3,"igx-chip",9),2&e&&_h("ngIf",Vh().displayPinnedChip)}var uq=function(e,t,i,n,r){return[e,t,i,n,r]};function gq(e,t){if(1&e&&(Ch(0,"div",14),ag(1,"columnFormatter"),ag(2,"number"),ag(3,"date"),ag(4,"currency"),ag(5,"percent"),fu(6),ag(7,"columnFormatter"),ag(8,"number"),ag(9,"date"),ag(10,"currency"),ag(11,"percent"),Sh()),2&e){let e=Vh(2);_h("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?cg(1,9,e.value,e.formatter,e.rowData):"number"===e.column.dataType?cg(2,13,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?hg(3,17,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?ug(4,22,Xu(55,uq,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?cg(5,28,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),tc(6),vu(e.formatter?cg(7,32,e.value,e.formatter,e.rowData):"number"===e.column.dataType?cg(8,36,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?hg(9,40,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?ug(10,45,Xu(61,uq,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?cg(11,51,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)}}var pq=function(e,t){return{"igx-icon--success":e,"igx-icon--error":t}};function mq(e,t){if(1&e&&(Ch(0,"igx-icon",15),fu(1),Sh()),2&e){let e=Vh(2);_h("ngClass",Uu(2,pq,e.value,!e.value)),tc(1),vu(e.value?"check":"close")}}function fq(e,t){if(1&e&&(bh(0,"img",16),ag(1,"igxCellImageAlt")),2&e){let e=Vh(2);_h("src",e.value,Vl)("alt",lg(1,2,e.value))}}function yq(e,t){if(1&e&&(yh(0,gq,12,67,"div",11),yh(1,mq,2,5,"igx-icon",12),yh(2,fq,2,4,"img",13)),2&e){let e=Vh();_h("ngIf","boolean"!==e.column.dataType&&"image"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter),tc(1),_h("ngIf","boolean"===e.column.dataType&&!e.formatter),tc(1),_h("ngIf","image"===e.column.dataType)}}function vq(e,t){if(1&e&&(Ch(0,"div",14),ag(1,"columnFormatter"),ag(2,"number"),ag(3,"date"),ag(4,"currency"),ag(5,"percent"),fu(6),Sh()),2&e){let e=Vh(2);_h("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?cg(1,9,e.value,e.formatter,e.rowData):"number"===e.column.dataType?cg(2,13,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?hg(3,17,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?ug(4,22,Xu(32,uq,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?cg(5,28,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),tc(6),vu(e.value?e.value:e.column.header||e.column.field)}}function xq(e,t){if(1&e&&yh(0,vq,7,38,"div",11),2&e){let e=Vh();_h("ngIf","boolean"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter)}}function _q(e,t){if(1&e){let e=Rh();Eh(0,18),Ch(1,"igx-input-group",19)(2,"input",20),Fh("compositionstart",(function(){return Bs(e),zs(Vh(2).grid.crudService.isInCompositionMode=!0)}))("compositionend",(function(){return Bs(e),zs(Vh(2).grid.crudService.isInCompositionMode=!1)})),Sh()(),Ih()}if(2&e){let e=Vh(2);_h("formGroup",e.formGroup),tc(2),_h("igxFocus",!0)("formControl",e.formControl),ph("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function wq(e,t){if(1&e&&(Eh(0),Ch(1,"igx-input-group",21),bh(2,"input",22),Sh(),Ih()),2&e){let e=Vh(2);tc(1),_h("formGroup",e.formGroup),tc(1),_h("igxFocus",!0)("step",e.step)("formControl",e.formControl),ph("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function Cq(e,t){if(1&e&&(Eh(0,18),bh(1,"igx-checkbox",23),Ih()),2&e){let e=Vh(2);_h("formGroup",e.formGroup),tc(1),_h("checked",e.editValue)("igxFocus",!0)("disableRipple",!0)("formControl",e.formControl)}}function Sq(e,t){if(1&e){let e=Rh();Eh(0,18),Ch(1,"igx-date-picker",24),Fh("valueChange",(function(t){return Bs(e),zs(Vh(2).editValue=t)})),Sh(),Ih()}if(2&e){let e=Vh(2);_h("formGroup",e.formGroup),tc(1),tu("width",100,"%"),_h("outlet",e.grid.outlet)("locale",e.grid.locale)("weekStart",e.column.pipeArgs.weekStart)("value",e.editValue)("igxFocus",!0)("formControl",e.formControl)}}function bq(e,t){if(1&e){let e=Rh();Eh(0,18),Ch(1,"igx-time-picker",25),Fh("valueChange",(function(t){return Bs(e),zs(Vh(2).editValue=t)})),Sh(),Ih()}if(2&e){let e=Vh(2);_h("formGroup",e.formGroup),tc(1),tu("width",100,"%"),_h("outlet",e.grid.outlet)("locale",e.grid.locale)("inputFormat",e.column.defaultTimeFormat)("value",e.editValue)("igxFocus",!0)("formControl",e.formControl)}}function Dq(e,t){if(1&e&&(Eh(0),Ch(1,"igx-input-group",18),bh(2,"input",26),Sh(),Ih()),2&e){let e=Vh(2);tc(1),_h("formGroup",e.formGroup),tc(1),_h("formControl",e.formControl)("igxDateTimeEditor",e.column.defaultDateTimeFormat)("igxFocus",!0),ph("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function Eq(e,t){if(1&e&&(Ch(0,"igx-prefix"),fu(1),Sh()),2&e){let e=Vh(3);tc(1),vu(e.currencyCodeSymbol)}}function Iq(e,t){if(1&e&&(Ch(0,"igx-suffix"),fu(1),Sh()),2&e){let e=Vh(3);tc(1),vu(e.currencyCodeSymbol)}}function Tq(e,t){if(1&e&&(Eh(0),Ch(1,"igx-input-group",21),yh(2,Eq,2,1,"igx-prefix",4),bh(3,"input",22),yh(4,Iq,2,1,"igx-suffix",4),Sh(),Ih()),2&e){let e=Vh(2);tc(1),_h("formGroup",e.formGroup),tc(1),_h("ngIf",e.grid.currencyPositionLeft),tc(1),_h("igxFocus",!0)("step",e.step)("formControl",e.formControl),ph("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),tc(1),_h("ngIf",!e.grid.currencyPositionLeft)}}function Aq(e,t){if(1&e&&(Eh(0),Ch(1,"igx-input-group",21),bh(2,"input",22),Ch(3,"igx-suffix"),fu(4),ag(5,"percent"),Sh()(),Ih()),2&e){let e=Vh(2);tc(1),_h("formGroup",e.formGroup),tc(1),_h("igxFocus",!0)("step",e.step)("formControl",e.formControl),ph("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),tc(2),xu(" ",cg(5,7,e.editValue,e.column.pipeArgs.digitsInfo,e.grid.locale)," ")}}function Rq(e,t){if(1&e&&(yh(0,_q,3,5,"ng-container",17),yh(1,wq,3,6,"ng-container",4),yh(2,Cq,2,5,"ng-container",17),yh(3,Sq,2,9,"ng-container",17),yh(4,bq,2,9,"ng-container",17),yh(5,Dq,3,6,"ng-container",4),yh(6,Tq,5,8,"ng-container",4),yh(7,Aq,6,11,"ng-container",4)),2&e){let e=Vh();_h("ngIf","string"===e.column.dataType||"image"===e.column.dataType),tc(1),_h("ngIf","number"===e.column.dataType),tc(1),_h("ngIf","boolean"===e.column.dataType),tc(1),_h("ngIf","date"===e.column.dataType),tc(1),_h("ngIf","time"===e.column.dataType),tc(1),_h("ngIf","dateTime"===e.column.dataType),tc(1),_h("ngIf","currency"===e.column.dataType),tc(1),_h("ngIf","percent"===e.column.dataType)}}function kq(e,t){1&e&&Th(0)}var Oq=function(e){return{$implicit:e}};function Fq(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"div",27,28),Fh("click",(function(t){return Bs(e),zs(Vh().toggle(t))}))("focus",(function(){return Bs(e),zs(Vh().onIndicatorFocus())})),yh(3,kq,1,0,"ng-container",5),Sh(),Ih()}if(2&e){let e=Vh();tc(3),_h("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",ju(2,Oq,e.row))}}function Pq(e,t){1&e&&Th(0)}function Mq(e,t){1&e&&Th(0)}function Vq(e,t){1&e&&Th(0)}function Nq(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"igx-icon",29,30),Fh("mouseover",(function(){return Bs(e),zs(Vh().errorShowing=!0)}))("mouseout",(function(){return Bs(e),zs(Vh().errorShowing=!1)})),fu(3,"error"),Sh(),Ch(4,"div",31,32)(7,"div"),yh(8,Vq,1,0,"ng-container",5),Sh()(),Ih()}if(2&e){let e=xh(6),t=Vh(),i=xh(17);tc(1),_h("igxTooltipTarget",e)("igxToggleOutlet",t.grid.outlet),tc(3),_h("id",t.ariaErrorMessage),tc(3),tu("width","max-content"),tc(1),_h("ngTemplateOutlet",t.cellValidationErrorTemplate||i)("ngTemplateOutletContext",t.context)}}function Lq(e,t){1&e&&(Ch(0,"igx-icon"),fu(1,"expand_more"),Sh())}function Hq(e,t){1&e&&(Ch(0,"igx-icon"),fu(1,"chevron_right"),Sh())}function Bq(e,t){if(1&e&&(Ch(0,"div"),fu(1),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",e.grid.resourceStrings.igx_grid_required_validation_error," ")}}function zq(e,t){if(1&e&&(Ch(0,"div"),fu(1),ag(2,"igxStringReplace"),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",cg(2,1,e.grid.resourceStrings.igx_grid_min_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.minlength.requiredLength)," ")}}function Gq(e,t){if(1&e&&(Ch(0,"div"),fu(1),ag(2,"igxStringReplace"),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",cg(2,1,e.grid.resourceStrings.igx_grid_max_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.maxlength.requiredLength)," ")}}function $q(e,t){if(1&e&&(Ch(0,"div"),fu(1),ag(2,"igxStringReplace"),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",cg(2,1,e.grid.resourceStrings.igx_grid_min_validation_error,"{0}",e.formGroup.get(e.column.field).errors.min.min)," ")}}function Wq(e,t){if(1&e&&(Ch(0,"div"),fu(1),ag(2,"igxStringReplace"),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",cg(2,1,e.grid.resourceStrings.igx_grid_max_validation_error,"{0}",e.formGroup.get(e.column.field).errors.max.max)," ")}}function Kq(e,t){if(1&e&&(Ch(0,"div"),fu(1),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",e.grid.resourceStrings.igx_grid_email_validation_error," ")}}function jq(e,t){if(1&e&&(Ch(0,"div"),fu(1),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",e.grid.resourceStrings.igx_grid_pattern_validation_error," ")}}function Uq(e,t){if(1&e&&(yh(0,Bq,2,1,"div",4),yh(1,zq,3,5,"div",4),yh(2,Gq,3,5,"div",4),yh(3,$q,3,5,"div",4),yh(4,Wq,3,5,"div",4),yh(5,Kq,2,1,"div",4),yh(6,jq,2,1,"div",4)),2&e){let e=Vh();_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.required),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.minlength),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.maxlength),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.min),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.max),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.email),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.pattern)}}var qq=(()=>{let e=class extends sq{constructor(e,t,i,n,r,s,o,a,l){super(e,t,i,n,r,s,o,l),this.document=a,this.expanded=!1}toggle(e){e.stopPropagation();let t=this.grid.gridAPI.get_row_expansion_state(this.intRow.data);this.grid.gridAPI.set_row_expansion_state(this.intRow.key,!t,e)}onIndicatorFocus(){this.grid.gridAPI.update_cell(this.grid.crudService.cell)}calculateSizeToFit(e){let t=0;if(this.indentationDiv){let e=this.document.defaultView.getComputedStyle(this.indentationDiv.nativeElement);t=parseFloat(e.paddingLeft)}return this.platformUtil.getNodeSizeViaRange(e,this.nativeElement)+t}get iconTemplate(){return this.expanded?this.grid.rowExpandedIndicatorTemplate||this.defaultExpandedTemplate:this.grid.rowCollapsedIndicatorTemplate||this.defaultCollapsedTemplate}get showExpanderIndicator(){let e=this.intRow.pinned&&this.intRow.disabled;return!this.editMode&&(!this.intRow.pinned||e)}};return e.fac=function(t){return new(t||e)(nc(Tk),nc(hk),nc(nI),nc(fp),nc(wd),nc(Vd),nc(tF),nc(Hp),nc(ob))},e.cmp=tr({type:e,selectors:[["igx-expandable-grid-cell"]],viewQuery:function(e,t){if(1&e&&(Bg(oq,5,wd),Bg(aq,5,wd),Bg(lq,7,yg),Bg(dq,7,yg)),2&e){let e;Hg(e=Gg())&&(t.indicator=e.first),Hg(e=Gg())&&(t.indentationDiv=e.first),Hg(e=Gg())&&(t.defaultExpandedTemplate=e.first),Hg(e=Gg())&&(t.defaultCollapsedTemplate=e.first)}},inputs:{expanded:"expanded"},standalone:!0,features:[Nu([tF]),th,Wu],decls:18,vars:6,consts:[["defaultPinnedIndicator",""],["defaultCell",""],["addRowCell",""],["inlineEditor",""],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["defaultExpandedTemplate",""],["defaultCollapsedTemplate",""],["defaultError",""],["class","igx-grid__td--pinned-chip",3,"disabled","displayDensity",4,"ngIf"],[1,"igx-grid__td--pinned-chip",3,"disabled","displayDensity"],["igxTextHighlight","","class","igx-grid__td-text",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"src","alt",4,"ngIf"],["igxTextHighlight","",1,"igx-grid__td-text",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata"],[3,"ngClass"],[3,"src","alt"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["displayDensity","compact"],["igxInput","",3,"igxFocus","formControl","compositionstart","compositionend"],["displayDensity","compact",3,"formGroup"],["igxInput","","type","number",3,"igxFocus","step","formControl"],[3,"checked","igxFocus","disableRipple","formControl"],["mode","dropdown",3,"outlet","locale","weekStart","value","igxFocus","formControl","valueChange"],["mode","dropdown",3,"outlet","locale","inputFormat","value","igxFocus","formControl","valueChange"],["type","text","igxInput","",3,"formControl","igxDateTimeEditor","igxFocus"],[1,"igx-grid__tree-grouping-indicator",3,"click","focus"],["indicator",""],[3,"igxTooltipTarget","igxToggleOutlet","mouseover","mouseout"],["errorIcon",""],["igxTooltip","",3,"id"],["error","","tooltipRef","tooltip"]],template:function(e,t){1&e&&(yh(0,hq,1,1,"ng-template",null,0,jg),yh(2,yq,3,3,"ng-template",null,1,jg),yh(4,xq,1,1,"ng-template",null,2,jg),yh(6,Rq,8,8,"ng-template",null,3,jg),yh(8,Fq,4,4,"ng-container",4),yh(9,Pq,1,0,"ng-container",5),yh(10,Mq,1,0,"ng-container",5),yh(11,Nq,9,7,"ng-container",4),yh(12,Lq,2,0,"ng-template",null,6,jg),yh(14,Hq,2,0,"ng-template",null,7,jg),yh(16,Uq,7,7,"ng-template",null,8,jg)),2&e&&(tc(8),_h("ngIf",t.showExpanderIndicator),tc(1),_h("ngTemplateOutlet",t.pinnedIndicatorTemplate)("ngTemplateOutletContext",t.context),tc(1),_h("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.context),tc(1),_h("ngIf",t.isInvalid))},dependencies:[$m,hP,AA,XI,Bm,qw,p_,Sw,Y_,X_,Yw,Iw,Aw,UT,CI,iA,nk,MP,pV,WA,DI,EI,Zm,HA,NA,S$,F$,M$,lf,df,cf,af],encapsulation:2,changeDetection:0}),e})();function Yq(e,t){1&e&&Th(0)}function Xq(e,t){1&e&&Th(0)}function Zq(e,t){if(1&e){let e=Rh();Ch(0,"div",9),Fh("animationend",(function(){return Bs(e),zs(Vh().animationEndHandler())})),yh(1,Xq,1,0,"ng-container",0),Sh()}if(2&e){let e=Vh(),t=xh(4);iu("igx-grid__tr--add-animate",e.triggerAddAnimationClass),tc(1),_h("ngTemplateOutlet",t)}}function Qq(e,t){1&e&&Th(0)}function Jq(e,t){if(1&e&&(Eh(0),Ch(1,"div",11),Fh("click",(function(e){return e.stopPropagation()})),yh(2,Qq,1,0,"ng-container",0),Sh(),Ih()),2&e){let e=Vh(2);tc(1),nu(e.resolveDragIndicatorClasses),_h("igxRowDrag",e)("ghostTemplate",e.grid.getDragGhostCustomTemplate()),tc(1),_h("ngTemplateOutlet",e.grid.dragIndicatorIconTemplate?e.grid.dragIndicatorIconTemplate:e.grid.dragIndicatorIconBase)}}function eY(e,t){}function tY(e,t){1&e&&yh(0,eY,0,0,"ng-template")}var iY=function(e,t,i,n){return{index:e,rowID:t,key:i,selected:n}},nY=function(e){return{$implicit:e}};function rY(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"div",12),Fh("pointerdown",(function(e){return e.preventDefault()}))("click",(function(t){return Bs(e),zs(Vh(2).onRowSelectorClick(t))})),yh(2,tY,1,0,null,13),Sh(),Ih()}if(2&e){let e=Vh(2),t=xh(8);tc(2),_h("ngTemplateOutlet",e.grid.rowSelectorTemplate?e.grid.rowSelectorTemplate:t)("ngTemplateOutletContext",ju(7,nY,Yu(2,iY,e.viewIndex,e.key,e.key,e.selected)))}}function sY(e,t){if(1&e&&(Eh(0),Ch(1,"div",14),Fh("pointerdown",(function(e){return e.preventDefault()}))("click",(function(e){return e.stopPropagation()})),Sh(),Ih()),2&e){let e=Vh(2);tc(1),wu("igx-grid__row-indentation igx-grid__row-indentation--level-",e.grid.groupingExpressions.length,"")}}function oY(e,t){1&e&&Th(0)}function aY(e,t){if(1&e&&yh(0,oY,1,0,"ng-container",13),2&e){let e=t.$implicit,i=Vh(4),n=xh(12),r=xh(10);_h("ngTemplateOutlet",0===e.visibleIndex&&i.grid.hasDetails?n:r)("ngTemplateOutletContext",i.getContext(e,i))}}function lY(e,t){if(1&e&&(Eh(0),yh(1,aY,1,2,"ng-template",17),ag(2,"igxNotGrouped"),Ih()),2&e){let e=Vh(3);tc(1),_h("ngForOf",lg(2,1,e.pinnedColumns))}}function dY(e,t){1&e&&Th(0)}function cY(e,t){if(1&e&&yh(0,dY,1,0,"ng-container",13),2&e){let e=t.$implicit,i=Vh(3),n=xh(12),r=xh(10);_h("ngTemplateOutlet",0===e.visibleIndex&&i.grid.hasDetails?n:r)("ngTemplateOutletContext",i.getContext(e,i))}}function hY(e,t){1&e&&Th(0)}function uY(e,t){if(1&e&&yh(0,hY,1,0,"ng-container",13),2&e){let e=t.$implicit,i=Vh(4),n=xh(12),r=xh(10);_h("ngTemplateOutlet",0===e.visibleIndex&&i.grid.hasDetails?n:r)("ngTemplateOutletContext",i.getContext(e,i))}}function gY(e,t){if(1&e&&(Eh(0),yh(1,uY,1,2,"ng-template",17),ag(2,"igxNotGrouped"),Ih()),2&e){let e=Vh(3);tc(1),_h("ngForOf",lg(2,1,e.pinnedColumns))}}function pY(e,t){if(1&e&&(Eh(0),yh(1,lY,3,3,"ng-container",10),yh(2,cY,1,2,"ng-template",15,16,jg),ag(4,"igxNotGrouped"),yh(5,gY,3,3,"ng-container",10),Ih()),2&e){let e=Vh(2);tc(1),_h("ngIf",e.pinnedColumns.length>0&&e.grid.isPinningToStart),tc(1),_h("igxGridForOf",lg(4,8,e.unpinnedColumns))("igxForScrollContainer",e.grid.parentVirtDir)("igxForScrollOrientation","horizontal")("igxForContainerSize",e.grid.unpinnedWidth)("igxForSizePropName","calcPixelWidth")("igxForTrackBy",e.grid.trackColumnChanges),tc(3),_h("ngIf",e.pinnedColumns.length>0&&!e.grid.isPinningToStart)}}function mY(e,t){1&e&&Th(0)}function fY(e,t){if(1&e&&(Eh(0),yh(1,mY,1,0,"ng-container",13),Ih()),2&e){let e=Vh(3),t=xh(6);tc(1),_h("ngTemplateOutlet",t)("ngTemplateOutletContext",e.getContextMRL(e.pinnedColumns,e))}}function yY(e,t){1&e&&Th(0)}function vY(e,t){if(1&e&&yh(0,yY,1,0,"ng-container",13),2&e){let e=t.$implicit,i=Vh(4),n=xh(16),r=xh(14);_h("ngTemplateOutlet",0===e.visibleIndex&&i.grid.hasDetails?n:r)("ngTemplateOutletContext",i.getContext(e,i))}}var xY=function(e,t){return{"grid-template-rows":e,"grid-template-columns":t}};function _Y(e,t){if(1&e&&(Ch(0,"div",18),yh(1,vY,1,2,"ng-template",17),Sh()),2&e){let e=t.$implicit;_h("ngStyle",Uu(2,xY,e.getGridTemplate(!0),e.getGridTemplate(!1))),tc(1),_h("ngForOf",e.children)}}function wY(e,t){1&e&&Th(0)}function CY(e,t){if(1&e&&(Eh(0),yh(1,wY,1,0,"ng-container",13),Ih()),2&e){let e=Vh(3),t=xh(6);tc(1),_h("ngTemplateOutlet",t)("ngTemplateOutletContext",e.getContextMRL(e.pinnedColumns,e))}}function SY(e,t){if(1&e&&(Eh(0),yh(1,fY,2,2,"ng-container",10),yh(2,_Y,2,5,"ng-template",15,16,jg),ag(4,"igxTopLevel"),yh(5,CY,2,2,"ng-container",10),Ih()),2&e){let e=Vh(2);tc(1),_h("ngIf",e.pinnedColumns.length>0&&e.grid.isPinningToStart),tc(1),_h("igxGridForOf",lg(4,8,e.unpinnedColumns))("igxForScrollContainer",e.grid.parentVirtDir)("igxForScrollOrientation","horizontal")("igxForContainerSize",e.grid.unpinnedWidth)("igxForSizePropName","calcPixelWidth")("igxForTrackBy",e.grid.trackColumnChanges),tc(3),_h("ngIf",e.pinnedColumns.length>0&&!e.grid.isPinningToStart)}}function bY(e,t){if(1&e&&(yh(0,Jq,3,5,"ng-container",10),yh(1,rY,3,9,"ng-container",10),yh(2,sY,2,3,"ng-container",10),yh(3,pY,6,10,"ng-container",10),yh(4,SY,6,10,"ng-container",10)),2&e){let e=Vh();_h("ngIf",e.rowDraggable),tc(1),_h("ngIf",e.showRowSelectors),tc(1),_h("ngIf",e.grid.groupingExpressions.length>0),tc(1),_h("ngIf",!e.grid.hasColumnLayouts),tc(1),_h("ngIf",e.grid.hasColumnLayouts)}}function DY(e,t){1&e&&Th(0)}function EY(e,t){if(1&e&&yh(0,DY,1,0,"ng-container",13),2&e){let e=t.$implicit,i=Vh(3),n=xh(16),r=xh(14);_h("ngTemplateOutlet",0===e.visibleIndex&&i.grid.hasDetails?n:r)("ngTemplateOutletContext",i.getContext(e,i))}}var IY=function(e,t,i){return{"grid-template-rows":e,"grid-template-columns":t,"z-index":i}};function TY(e,t){if(1&e&&(Ch(0,"div",18),yh(1,EY,1,2,"ng-template",17),Sh()),2&e){let e=t.$implicit;tu("left",Vh(2).mrlRightPinnedOffset),iu("igx-grid__td--pinned-last",e.hasLastPinnedChildColumn)("igx-grid__td--pinned-first",e.hasFirstPinnedChildColumn),_h("ngStyle",qu(8,IY,e.getGridTemplate(!0),e.getGridTemplate(!1),e.pinned?1:null)),tc(1),_h("ngForOf",e.children)}}function AY(e,t){1&e&&(yh(0,TY,2,12,"div",19),ag(1,"igxTopLevel")),2&e&&_h("ngForOf",lg(1,1,t.$implicit))}function RY(e,t){if(1&e&&(Ch(0,"div",20),bh(1,"igx-checkbox",21),Sh()),2&e){let e=Vh();tc(1),_h("tabindex",-1)("checked",e.selected)("readonly",!0)("disabled",e.deleted)("disableRipple",!0)("disableTransitions",e.grid.disableTransitions)("aria-label",e.rowCheckboxAriaLabel)}}var kY=function(e,t,i,n,r,s,o){return[e,t,i,n,r,s,o]},OY=function(e,t,i,n,r,s){return[e,t,i,n,r,s]},FY=function(e,t,i,n,r){return[e,t,i,n,r]};function PY(e,t){if(1&e&&(Ch(0,"igx-grid-cell",22,23),ag(2,"transactionState"),ag(3,"igxCellStyleClasses"),ag(4,"igxCellStyles"),ag(5,"dataMapper"),Sh()),2&e){let e=t.$implicit,i=Vh();tu("min-height",i.cellHeight,"px")("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth)("left",e.rightPinnedOffset),iu("igx-grid__td--edited",ug(2,38,Qu(66,kY,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--pinned",e.pinned)("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)("igx-grid__td--bool","boolean"===e.dataType)("igx-grid__td--image","image"===e.dataType),_h("ngClass",ug(3,46,Zu(74,OY,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",ug(4,53,Zu(81,OY,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("formatter",e.formatter)("intRow",i)("lastPinned",e.columnLayoutChild?null:e.isLastPinned)("firstPinned",e.columnLayoutChild?null:e.isFirstPinned)("rowData",i.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",ug(5,60,Xu(88,FY,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("active",i.isCellActive(e.visibleIndex))("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function MY(e,t){if(1&e&&(Ch(0,"igx-expandable-grid-cell",24,23),ag(2,"transactionState"),ag(3,"igxCellStyleClasses"),ag(4,"igxCellStyles"),ag(5,"dataMapper"),Sh()),2&e){let e=t.$implicit,i=Vh();tu("min-height",i.cellHeight,"px")("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth),iu("igx-grid__td--pinned",e.pinned)("igx-grid__td--edited",ug(2,32,Qu(60,kY,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--number",("number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)&&0!==e.visibleIndex),_h("ngClass",ug(3,40,Zu(68,OY,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",ug(4,47,Zu(75,OY,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("expanded",i.expanded)("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("formatter",e.formatter)("intRow",i)("lastPinned",e.columnLayoutChild?null:e.isLastPinned)("rowData",i.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",ug(5,54,Xu(82,FY,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("active",i.isCellActive(e.visibleIndex))("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function VY(e,t){if(1&e&&(Ch(0,"igx-grid-cell",25,23),ag(2,"transactionState"),ag(3,"igxCellStyleClasses"),ag(4,"igxCellStyles"),ag(5,"dataMapper"),Sh()),2&e){let e=t.$implicit,i=Vh();tu("grid-row-end",e.rowEnd)("grid-column-end",e.colEnd)("grid-row-start",e.rowStart)("grid-column-start",e.colStart)("min-height",i.cellHeight,"px"),iu("igx-grid__td--edited",ug(2,33,Qu(61,kY,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--pinned",e.pinned)("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType),_h("ngClass",ug(3,41,Zu(69,OY,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",ug(4,48,Zu(76,OY,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("lastPinned",e.columnLayoutChild?null:e.isLastPinned)("firstPinned",e.columnLayoutChild?null:e.isFirstPinned)("formatter",e.formatter)("intRow",i)("rowData",i.data)("visibleColumnIndex",e.visibleIndex)("value",ug(5,55,Xu(83,FY,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("active",i.isCellActive(e.visibleIndex))("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function NY(e,t){if(1&e&&(Ch(0,"igx-expandable-grid-cell",26,23),ag(2,"transactionState"),ag(3,"igxCellStyleClasses"),ag(4,"igxCellStyles"),ag(5,"dataMapper"),Sh()),2&e){let e=t.$implicit,i=Vh();tu("grid-row-end",e.rowEnd)("grid-column-end",e.colEnd)("grid-row-start",e.rowStart)("grid-column-start",e.colStart)("min-height",i.cellHeight,"px"),iu("igx-grid__td--edited",ug(2,33,Qu(61,kY,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--pinned",e.pinned)("igx-grid__td--number",("number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)&&0!==e.visibleIndex),_h("ngClass",ug(3,41,Zu(69,OY,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",ug(4,48,Zu(76,OY,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("expanded",i.expanded)("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("lastPinned",e.columnLayoutChild?null:e.isLastPinned)("formatter",e.formatter)("intRow",i)("rowData",i.data)("visibleColumnIndex",e.visibleIndex)("value",ug(5,55,Xu(83,FY,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("active",i.isCellActive(e.visibleIndex))("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}var LY=(()=>{let e=class extends kk{getContext(e,t){return{$implicit:e,row:t}}get mrlRightPinnedOffset(){return this.grid.isPinningToStart?null:-this.grid.pinnedWidth-this.grid.headerFeaturesWidth+"px"}getContextMRL(e,t){return{$implicit:e,row:t}}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.cmp=tr({type:e,selectors:[["igx-grid-row"]],standalone:!0,features:[Nu([{provide:kk,useExisting:$i((()=>e))}]),th,Wu],decls:17,vars:1,consts:[[4,"ngTemplateOutlet"],["addTemp",""],["defaultTemp",""],["mrlPinnedTemplate",""],["rowSelectorBaseTemplate",""],["cellTemplate",""],["expandableCellTemplate",""],["mrlCellTemplate",""],["mrlExpandableCellTemplate",""],[1,"igx-grid__tr--inner",3,"animationend"],[4,"ngIf"],[3,"igxRowDrag","ghostTemplate","click"],[1,"igx-grid__cbx-selection","igx-grid__tr-action",3,"pointerdown","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"pointerdown","click"],["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForScrollOrientation","igxForContainerSize","igxForSizePropName","igxForTrackBy"],["igxDirRef",""],["ngFor","",3,"ngForOf"],[1,"igx-grid__mrl-block",3,"ngStyle"],["class","igx-grid__mrl-block",3,"igx-grid__td--pinned-last","igx-grid__td--pinned-first","left","ngStyle",4,"ngFor","ngForOf"],[1,"igx-grid__cbx-padding"],[3,"tabindex","checked","readonly","disabled","disableRipple","disableTransitions","aria-label"],[1,"igx-grid__td","igx-grid__td--fw",3,"ngClass","ngStyle","editMode","column","formatter","intRow","lastPinned","firstPinned","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],["cell",""],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--tree-cell",3,"ngClass","ngStyle","expanded","editMode","column","formatter","intRow","lastPinned","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__td","igx-grid__td--fw",3,"ngClass","ngStyle","editMode","column","lastPinned","firstPinned","formatter","intRow","rowData","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--tree-cell",3,"ngClass","ngStyle","expanded","editMode","column","lastPinned","formatter","intRow","rowData","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"]],template:function(e,t){if(1&e&&(yh(0,Yq,1,0,"ng-container",0),yh(1,Zq,2,3,"ng-template",null,1,jg),yh(3,bY,5,5,"ng-template",null,2,jg),yh(5,AY,2,3,"ng-template",null,3,jg),yh(7,RY,2,7,"ng-template",null,4,jg),yh(9,PY,6,94,"ng-template",null,5,jg),yh(11,MY,6,88,"ng-template",null,6,jg),yh(13,VY,6,89,"ng-template",null,7,jg),yh(15,NY,6,89,"ng-template",null,8,jg)),2&e){let e=xh(2),i=xh(4);_h("ngTemplateOutlet",t.addRowUI?e:i)}},dependencies:[Zm,$m,hW,zm,vA,Xm,nk,sq,Bm,qq,E$,I$,C$,w$,O$,P$],encapsulation:2,changeDetection:0}),e})(),HY=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.TOP=2]="TOP",e[e.RIGHT=3]="RIGHT",e[e.BOTTOM=4]="BOTTOM",e[e.TOPLEFT=5]="TOPLEFT",e[e.TOPRIGHT=6]="TOPRIGHT",e[e.BOTTOMLEFT=7]="BOTTOMLEFT",e[e.BOTTOMRIGHT=8]="BOTTOMRIGHT",e}(HY||{}),BY=(()=>{let e=class{get activeDrag(){return this._activeDrag}set activeDrag(e){e!==this._activeDrag&&(this.unsubscribe(),this._activeDrag=e)}get nativeElement(){return this.ref.nativeElement}constructor(e,t){this.ref=e,this.zone=t,this.dragStop=new Pd,this.dragScroll=new Pd,this.end$=new Xe,this.lastDirection=HY.NONE,this.startDragSelection=e=>{if(!this.activeDrag)return;let t=e.clientX,i=e.clientY,{direction:n,delta:r}=this._measureDimensions(t,i);n!==this.lastDirection&&(this.unsubscribe(),this._sub=this._interval$.subscribe((()=>this.dragScroll.emit(r))),this.lastDirection=n)},this.stopDragSelection=()=>{this.activeDrag&&(this.dragStop.emit(!1),this.unsubscribe(),this.lastDirection=HY.NONE)},this._interval$=Ut(0,St).pipe(Si(this.end$),Xt((()=>this.activeDrag)))}ngOnInit(){this.zone.runOutsideAngular((()=>{this.nativeElement.addEventListener("pointerover",this.startDragSelection),this.nativeElement.addEventListener("pointerleave",this.stopDragSelection)}))}ngOnDestroy(){this.zone.runOutsideAngular((()=>{this.nativeElement.removeEventListener("pointerover",this.startDragSelection),this.nativeElement.removeEventListener("pointerleave",this.stopDragSelection)})),this.unsubscribe(),this.end$.complete()}_measureDimensions(e,t){let i,n={left:0,top:0},{left:r,top:s,width:o,height:a}=this.nativeElement.getBoundingClientRect(),l=Math.trunc(e-r),d=Math.trunc(t-s),c=l<=.15*o,h=l>=.85*o,u=d<=.15*a,g=d>=.85*a;return u&&c?(i=HY.TOPLEFT,n={left:-1,top:-1}):u&&h?(i=HY.TOPRIGHT,n={left:1,top:-1}):g&&c?(i=HY.BOTTOMLEFT,n={left:-1,top:1}):g&&h?(i=HY.BOTTOMRIGHT,n={top:1,left:1}):u?(i=HY.TOP,n.top=-1):g?(i=HY.BOTTOM,n.top=1):c?(i=HY.LEFT,n.left=-1):h?(i=HY.RIGHT,n.left=1):i=HY.NONE,{direction:i,delta:n}}unsubscribe(){this._sub&&this._sub.unsubscribe()}};return e.fac=function(t){return new(t||e)(nc(wd),nc(Vd))},e.dir=or({type:e,selectors:[["","igxGridDragSelect",""]],inputs:{activeDrag:["igxGridDragSelect","activeDrag"]},outputs:{dragStop:"dragStop",dragScroll:"dragScroll"},standalone:!0}),e})(),zY=["record_template"],GY=["detail_template_container"],$Y=["group_template"],WY=["summary_template"];function KY(e,t){if(1&e&&(Eh(0),bh(1,"igx-grid-group-by-area",64,65),Ih()),2&e){let e=Vh();tc(1),tu("flex-basis",e.outerWidth,"px"),_h("grid",e)("expressions",e.groupingExpressions)("sortingExpressions",e.sortingExpressions)("density",e.displayDensity)("dropAreaTemplate",e.dropAreaTemplate)("dropAreaMessage",e.dropAreaMessage)}}function jY(e,t){1&e&&bh(0,"span",66),2&e&&(_h("igxColumnMovingDrop",Vh().headerContainer),ph("droppable",!0))}function UY(e,t){if(1&e&&bh(0,"span",67),2&e){let e=Vh();tu("left",e.pinnedWidth,"px"),_h("igxColumnMovingDrop",e.headerContainer),ph("droppable",!0)}}function qY(e,t){1&e&&Th(0)}function YY(e,t){1&e&&Th(0)}function XY(e,t){if(1&e&&(Eh(0),yh(1,YY,1,0,"ng-container",16),Ih()),2&e){let e=t.$implicit,i=t.index,n=Vh(4),r=xh(27);tc(1),_h("ngTemplateOutlet",r)("ngTemplateOutletContext",n.getContext(e,i,!0))}}var ZY=function(e,t){return{"igx-grid__tr--pinned-bottom":e,"igx-grid__tr--pinned-top":t}};function QY(e,t){if(1&e&&(Ch(0,"div",69,70),yh(2,XY,2,2,"ng-container",71),Sh()),2&e){let e=Vh().ngIf,t=Vh(2);tu("width",t.calcWidth,"px"),_h("ngClass",Uu(4,ZY,!t.isRowPinningToTop,t.isRowPinningToTop)),tc(2),_h("ngForOf",e)}}function JY(e,t){if(1&e&&(Eh(0),yh(1,QY,3,7,"div",68),Ih()),2&e){let e=t.ngIf;tc(1),_h("ngIf",e.length>0)}}var eX=function(e,t,i,n,r,s,o){return[e,t,i,n,r,s,o,!0]},tX=function(e,t,i,n,r,s){return[e,t,i,n,r,s,!0]};function iX(e,t){if(1&e&&(yh(0,JY,2,1,"ng-container",0),ag(1,"gridSort"),ag(2,"gridFiltering"),ag(3,"gridRowPinning"),ag(4,"gridAddRow"),ag(5,"visibleColumns"),ag(6,"gridTransaction")),2&e){let e=Vh();_h("ngIf",ug(1,1,Zu(42,tX,ug(2,9,Qu(34,eX,hg(3,18,cg(4,23,dg(5,27,cg(6,30,e.data,e.id,e.pipeTrigger),e.hasVisibleColumns),!0,e.pipeTrigger),e.id,!0,e.pipeTrigger),e.filteringExpressionsTree,e.filterStrategy,e.advancedFilteringExpressionsTree,e.id,e.pipeTrigger,e.filteringPipeTrigger)),e.sortingExpressions,e.groupingExpressions,e.sortStrategy,e.id,e.pipeTrigger)))}}function nX(e,t){}function rX(e,t){if(1&e){let e=Rh();yh(0,nX,0,0,"ng-template",72),Fh("cachedViewLoaded",(function(t){return Bs(e),zs(Vh().cachedViewLoaded(t))}))("viewCreated",(function(t){return Bs(e),zs(Vh().viewCreatedHandler(t))}))("viewMoved",(function(t){return Bs(e),zs(Vh().viewMovedHandler(t))}))}if(2&e){let e=t.$implicit,i=t.index,n=Vh();_h("igxTemplateOutlet",n.getRowTemplate(e))("igxTemplateOutletContext",n.getContext(e,i))}}function sX(e,t){1&e&&Th(0)}var oX=function(e,t,i,n,r,s,o,a,l,d,c){return[e,t,i,n,r,s,o,a,l,!1,d,c]};function aX(e,t){if(1&e&&(bh(0,"igx-grid-row",73,74),ag(2,"igxGridRowClasses"),ag(3,"igxGridRowStyles")),2&e){let e=t.index,i=t.$implicit,n=t.disabled,r=xh(1),s=Vh();_h("gridID",s.id)("index",e)("data",i)("disabled",n)("ngClass",ug(2,6,eg(24,oX,[s.rowClasses,r,r.inEditMode,r.selected,r.dirty,r.deleted,r.dragging,e,s.hasColumnLayouts,i,s.pipeTrigger])))("ngStyle",hg(3,19,s.rowStyles,i,e,s.pipeTrigger))}}function lX(e,t){if(1&e&&(bh(0,"igx-grid-row",75,76),ag(3,"igxGridRowClasses"),ag(4,"igxGridRowStyles")),2&e){let e=t.index,i=t.$implicit,n=xh(1),r=Vh();_h("gridID",r.id)("index",e)("data",i)("ngClass",ug(3,5,eg(23,oX,[r.rowClasses,n,n.inEditMode,n.selected,n.dirty,n.deleted,n.dragging,e,r.hasColumnLayouts,i,r.pipeTrigger])))("ngStyle",hg(4,18,r.rowStyles,i,e,r.pipeTrigger))}}function dX(e,t){if(1&e&&bh(0,"igx-grid-groupby-row",77,74),2&e){let e=t.index,i=t.$implicit,n=Vh();_h("gridID",n.id)("index",e)("groupRow",i)("hideGroupRowSelectors",n.hideRowSelectors)("rowDraggable",n.rowDraggable)}}function cX(e,t){if(1&e&&bh(0,"igx-grid-summary-row",78,79),2&e){let e=t.index,i=t.$implicit;_h("gridID",Vh().id)("summaries",i.summaries)("index",e)}}function hX(e,t){if(1&e&&(Eh(0),bh(1,"div"),Ih()),2&e){let e=Vh(2);tc(1),wu("igx-grid__row-indentation igx-grid__row-indentation--level-",e.groupingExpressions.length,"")}}function uX(e,t){}var gX=function(e){return{"igx-grid__tr-container":!0,"igx-grid__tr-container--active":e}};function pX(e,t){if(1&e){let e=Rh();Ch(0,"div",80,81),Fh("pointerdown",(function(){let t=Bs(e).index,i=xh(1);return zs(Vh().detailsViewFocused(i,t))})),Ch(2,"div",82),yh(3,hX,2,3,"ng-container",0),yh(4,uX,0,0,"ng-template",83),Sh()()}if(2&e){let e=t.index,i=t.$implicit,n=Vh();Gh("id","",n.id,"_",e,""),_h("ngClass",ju(7,gX,n.isDetailActive(e))),ph("data-rowindex",e),tc(3),_h("ngIf",n.groupingExpressions.length>0),tc(1),_h("ngTemplateOutlet",n.detailTemplate)("ngTemplateOutletContext",n.getDetailsContext(i,e))}}function mX(e,t){1&e&&Th(0)}function fX(e,t){1&e&&bh(0,"igx-circular-bar",84),2&e&&_h("indeterminate",!0)}function yX(e,t){1&e&&bh(0,"span",85),2&e&&(_h("igxColumnMovingDrop",Vh().headerContainer),ph("droppable",!0))}function vX(e,t){}function xX(e,t){if(1&e&&(bh(0,"igx-grid-summary-row",86,79),ag(2,"igxGridSummaryDataPipe")),2&e){let e=Vh();tu("width",e.calcWidth,"px")("height",e.summaryRowHeight,"px"),_h("gridID",e.id)("summaries",dg(2,7,e.id,e.summaryService.retriggerRootPipe))("index",e.dataView.length)}}function _X(e,t){}function wX(e,t){1&e&&Th(0)}function CX(e,t){if(1&e&&(Ch(0,"span"),yh(1,wX,1,0,"ng-container",7),Sh()),2&e){let e=Vh(2),t=xh(76);tc(1),_h("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function SX(e,t){if(1&e&&(Ch(0,"span",87)(1,"span"),fu(2),Sh(),yh(3,CX,2,1,"span",0),Sh()),2&e){let e=Vh();tc(2),vu(e.emptyFilteredGridMessage),tc(1),_h("ngIf",e.showAddButton)}}function bX(e,t){1&e&&Th(0)}function DX(e,t){if(1&e&&(Ch(0,"span"),yh(1,bX,1,0,"ng-container",7),Sh()),2&e){let e=Vh(2),t=xh(76);tc(1),_h("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function EX(e,t){if(1&e&&(Ch(0,"span",87)(1,"span"),fu(2),Sh(),yh(3,DX,2,1,"span",0),Sh()),2&e){let e=Vh();tc(2),vu(e.emptyGridMessage),tc(1),_h("ngIf",e.showAddButton)}}function IX(e,t){if(1&e){let e=Rh();Ch(0,"button",88),Fh("click",(function(t){return Bs(e),zs(Vh().crudService.enterAddRowMode(null,!1,t))})),fu(1),Sh()}if(2&e){let e=Vh();tc(1),xu(" ",e.resourceStrings.igx_grid_add_row_label," ")}}function TX(e,t){1&e&&(Ch(0,"div",89),bh(1,"igx-circular-bar",84),Sh()),2&e&&(tc(1),_h("indeterminate",!0))}var AX=function(e){return{"igx-grid__group-expand-btn--push":e}};function RX(e,t){if(1&e&&(Ch(0,"igx-icon",90),fu(1,"unfold_less"),Sh()),2&e){let e=Vh();_h("ngClass",ju(1,AX,e.filteringService.isFilterRowVisible))}}function kX(e,t){if(1&e&&(Ch(0,"igx-icon",90),fu(1,"unfold_more"),Sh()),2&e){let e=Vh();_h("ngClass",ju(1,AX,e.filteringService.isFilterRowVisible))}}function OX(e,t){1&e&&Th(0)}var FX=function(e,t){return{rowChangesCount:e,endEdit:t}};function PX(e,t){if(1&e&&(Ch(0,"div",19,91)(2,"div",92),yh(3,OX,1,0,"ng-container",16),Sh()()),2&e){let e=Vh();tc(2),_h("className",e.bannerClass),tc(1),_h("ngTemplateOutlet",e.rowEditContainer)("ngTemplateOutletContext",Uu(3,FX,e.rowChangesCount,e.endEdit.bind(e)))}}function MX(e,t){if(1&e&&fu(0),2&e){let e=Vh();_u(" You have ",e.rowChangesCount," changes in this row and ",e.hiddenColumnsCount," hidden columns\n")}}function VX(e,t){if(1&e){let e=Rh();Ch(0,"button",93),Fh("click",(function(t){return Bs(e),zs(Vh().endRowEditTabStop(!1,t))})),fu(1),Sh(),Ch(2,"button",93),Fh("click",(function(t){return Bs(e),zs(Vh().endRowEditTabStop(!0,t))})),fu(3),Sh()}if(2&e){let e=Vh();tc(1),vu(e.resourceStrings.igx_grid_row_edit_btn_cancel),tc(2),vu(e.resourceStrings.igx_grid_row_edit_btn_done)}}function NX(e,t){1&e&&Th(0)}function LX(e,t){1&e&&Th(0)}var HX=function(e){return{$implicit:e}};function BX(e,t){if(1&e&&(Ch(0,"div",94)(1,"span",95),yh(2,NX,1,0,"ng-container",16),Sh()(),Ch(3,"div",96)(4,"div",97),yh(5,LX,1,0,"ng-container",16),Sh()()),2&e){let e=Vh(),t=xh(85),i=xh(87);tc(2),_h("ngTemplateOutlet","IgxAddRow"===(null==e.crudService.row?null:e.crudService.row.getClassName())?e.rowAddTextTemplate:e.rowEditTextTemplate?e.rowEditTextTemplate:t)("ngTemplateOutletContext",ju(4,HX,"IgxAddRow"!==(null==e.crudService.row?null:e.crudService.row.getClassName())?e.rowChangesCount:null)),tc(3),_h("ngTemplateOutlet",e.rowEditActionsTemplate?e.rowEditActionsTemplate:i)("ngTemplateOutletContext",ju(6,HX,e.endEdit.bind(e)))}}function zX(e,t){1&e&&(Ch(0,"igx-icon"),fu(1,"drag_indicator"),Sh())}function GX(e,t){1&e&&bh(0,"igx-grid-column-resizer")}var $X=[[["igx-grid-toolbar"],["igc-grid-toolbar"]],[["igx-grid-footer"],["igc-grid-footer"]],[["igx-paginator"],["igc-paginator"]],[["igx-grid-state"],["igc-grid-state"]],[["igx-column"],["igc-column"],["igx-column-group"],["igc-column-group"],["igx-column-layout"],["igc-column-layout"],["igx-action-strip"],["igc-action-strip"]]],WX=function(e,t,i,n,r,s,o){return[e,t,i,n,r,s,o]},KX=function(e,t,i,n,r,s){return[e,t,i,n,r,s]},jX=function(e,t,i,n,r,s,o,a){return[e,t,i,n,r,s,o,a]},UX=function(e,t,i,n,r){return[e,t,i,n,r]},qX=function(){return[]},YX=["igx-grid-toolbar,igc-grid-toolbar","igx-grid-footer,igc-grid-footer","igx-paginator,igc-paginator","igx-grid-state,igc-grid-state","igx-column,igc-column,igx-column-group,igc-column-group,igx-column-layout,igc-column-layout,igx-action-strip,igc-action-strip"],XX=0,ZX=(()=>{let e=class extends Kj{constructor(){super(...arguments),this.dataPreLoad=new Pd,this.groupingExpressionsChange=new Pd,this.groupingExpansionStateChange=new Pd,this.groupingDone=new Pd,this.groupsExpanded=!0,this.role="grid",this.id="igx-grid-"+XX++,this._groupsRecords=[],this._groupingExpressions=[],this._groupingExpandState=[],this._hideGroupedColumns=!1,this._dropAreaMessage=null,this._showGroupArea=!0,this.childDetailTemplates=new Map,this.groupingPerformedSubject=new Xe,this.groupingPerformed$=this.groupingPerformedSubject.asObservable()}get detailTemplate(){return this._detailTemplate}set detailTemplate(e){this._detailTemplate=e}get groupsRecords(){return this._groupsRecords}get data(){return this._data}set data(e){let t=(!this._data||0===this._data.length)&&e&&e.length>0;this._data=e||[],this.summaryService.clearSummaryCache(),this._init||this.validation.updateAll(this._data),this.shouldGenerate&&this.setupColumns(),this.cdr.markForCheck(),this.isPercentHeight&&this.notifyChanges(!0),t&&this._columns.some((e=>"auto"===e._width))&&this.recalculateAutoSizes()}set totalItemCount(e){this.verticalScrollContainer.totalItemCount=e}get totalItemCount(){return this.verticalScrollContainer.totalItemCount}get _gridAPI(){return this.gridAPI}get groupingExpressions(){return this._groupingExpressions}set groupingExpressions(e){if(this.groupingExpressions===e)return;if(e&&e.length>10)throw Error("Maximum amount of grouped columns is 10.");let t=this.groupingExpressions,i=e;if(this._groupingExpressions=QS(e),this.groupingExpressionsChange.emit(this._groupingExpressions),this._gridAPI.grid&&(this._applyGrouping(),this.notifyChanges()),!this._init&&JSON.stringify(t,this.stringifyCallback)!==JSON.stringify(i,this.stringifyCallback)&&this._columns){let e=[],n=[];i.filter((e=>!t.some((t=>e.fieldName===t.fieldName)))).forEach((t=>{e.push(this.getColumnByName(t.fieldName))}),this),t.filter((e=>!i.some((t=>e.fieldName===t.fieldName)))).forEach((e=>{n.push(this.getColumnByName(e.fieldName))}),this),this.notifyChanges();let r={expressions:i,groupedColumns:e,ungroupedColumns:n};this.groupingPerformed$.pipe(gi(1)).subscribe((()=>{this.groupingDone.emit(r)}))}}get groupingExpansionState(){return this._groupingExpandState}set groupingExpansionState(e){e!==this._groupingExpandState&&this.groupingExpansionStateChange.emit(e),this._groupingExpandState=e,this.gridAPI.grid&&this.cdr.detectChanges()}get hideGroupedColumns(){return this._hideGroupedColumns}set hideGroupedColumns(e){this.groupingDiffer=e?this.differs.find(this.groupingExpressions).create():null,this._columns&&this.groupingExpressions&&this._setGroupColsVisibility(e),this._hideGroupedColumns=e}get groupStrategy(){return this._groupStrategy}set groupStrategy(e){this._groupStrategy=e}set dropAreaMessage(e){this._dropAreaMessage=e,this.notifyChanges()}get dropAreaMessage(){return this._dropAreaMessage||this.resourceStrings.igx_grid_groupByArea_message}get groupsRowList(){let e=new mg;if(!this._groupsRowList)return e;let t=this._groupsRowList.filter((e=>null!==e.element.nativeElement.parentElement)).sort(((e,t)=>e.index-t.index));return e.reset(t),e}get groupByRowSelectorTemplate(){return this._groupByRowSelectorTemplate||this.groupByRowSelectorsTemplates?.first}set groupByRowSelectorTemplate(e){this._groupByRowSelectorTemplate=e}getDetailsContext(e,t){return{$implicit:e,index:t}}detailsViewFocused(e,t){this.navigation.setActiveNode({row:t})}get hasDetails(){return!!this.detailTemplate}getRowTemplate(e){return this.isGroupByRecord(e)?this.defaultGroupTemplate:this.isSummaryRow(e)?this.summaryTemplate:this.hasDetails&&this.isDetailRecord(e)?this.detailTemplateContainer:this.recordTemplate}isDetailRecord(e){return e&&void 0!==e.detailsData}isDetailActive(e){return!!this.navigation.activeNode&&this.navigation.activeNode.row===e}get groupRowTemplate(){return this._groupRowTemplate}set groupRowTemplate(e){this._groupRowTemplate=e,this.notifyChanges()}groupBy(e){this.checkIfNoColumnField(e)||(this.crudService.endEdit(!1),e instanceof Array?this._gridAPI.groupBy_multiple(e):this._gridAPI.groupBy(e),this.notifyChanges(!0))}clearGrouping(e){this._gridAPI.clear_groupby(e),this.calculateGridSizes(),this.notifyChanges(!0),this.groupingPerformedSubject.next()}isExpandedGroup(e){let t=this._getStateForGroupRow(e);return t?t.expanded:this.groupsExpanded}toggleGroup(e){this._toggleGroup(e),this.notifyChanges()}selectRowsInGroup(e,t){this._gridAPI.groupBy_select_all_rows_in_group(e,t),this.notifyChanges()}deselectRowsInGroup(e){this._gridAPI.groupBy_deselect_all_rows_in_group(e),this.notifyChanges()}fullyExpandGroup(e){this._fullyExpandGroup(e),this.notifyChanges()}isGroupByRecord(e){return e&&e?.records&&e.records?.length&&e.expression&&e.expression?.fieldName}toggleAllGroupRows(){this.groupingExpansionState=[],this.groupsExpanded=!this.groupsExpanded,this.notifyChanges()}get hasGroupableColumns(){return this._columns.some((e=>e.groupable&&!e.columnGroup))}get showGroupArea(){return this._showGroupArea}set showGroupArea(e){this._showGroupArea=e,this.notifyChanges(!0)}isColumnGrouped(e){return!!this.groupingExpressions.find((t=>t.fieldName===e))}getContext(e,t,i){if(this.isDetailRecord(e)){let t=this.childDetailTemplates.get(e.detailsData),i=this.primaryKey?e.detailsData[this.primaryKey]:e.detailsData;if(t){let n=t.view,r=t.owner;return{$implicit:e.detailsData,moveView:n,owner:r,index:this.dataView.indexOf(e),templateID:{type:"detailRow",id:i}}}return{$implicit:e.detailsData,templateID:{type:"detailRow",id:i},index:this.dataView.indexOf(e)}}return{$implicit:this.isGhostRecord(e)?e.recordRef:e,index:this.getDataViewIndex(t,i),templateID:{type:this.isGroupByRecord(e)?"groupRow":this.isSummaryRow(e)?"summaryRow":"dataRow",id:null},disabled:this.isGhostRecord(e)}}viewCreatedHandler(e){"detailRow"===e.context.templateID.type&&this.childDetailTemplates.set(e.context.$implicit,e)}viewMovedHandler(e){if("detailRow"===e.context.templateID.type){let t=e.context.$implicit;this.childDetailTemplates.get(t).owner=e.owner}}get iconTemplate(){return this.groupsExpanded?this.headerExpandedIndicatorTemplate||this.defaultExpandedTemplate:this.headerCollapsedIndicatorTemplate||this.defaultCollapsedTemplate}ngAfterContentInit(){super.ngAfterContentInit(),this.allowFiltering&&this.hasColumnLayouts&&(this.filterMode=iD),this.groupTemplate&&(this._groupRowTemplate=this.groupTemplate.template),this.detailTemplateDirective&&(this._detailTemplate=this.detailTemplateDirective),this.hideGroupedColumns&&this._columns&&this.groupingExpressions&&this._setGroupColsVisibility(this.hideGroupedColumns),this._setupNavigationService()}ngAfterViewInit(){super.ngAfterViewInit(),this.verticalScrollContainer.beforeViewDestroyed.pipe(Si(this.destroy$)).subscribe((e=>{let t=e.context.$implicit;if(this.isDetailRecord(t)){let e=this.childDetailTemplates.get(t.detailsData);e&&e.owner._viewContainerRef.detach(0)}})),this.sortingExpressionsChange.pipe(Si(this.destroy$)).subscribe((e=>{!this.groupingExpressions||!this.groupingExpressions.length||e.forEach((e=>{let t=e.fieldName,i=this.groupingExpressions.find((e=>e.fieldName===t));i&&(i.dir=e.dir)}))}))}ngOnInit(){super.ngOnInit(),this.trackChanges=(e,t)=>void 0!==t?.detailsData?t.detailsData:t,this.groupingDone.pipe(Si(this.destroy$)).subscribe((e=>{this.crudService.endEdit(!1),this.summaryService.updateSummaryCache(e),this._headerFeaturesWidth=NaN}))}ngDoCheck(){if(this.groupingDiffer&&this._columns&&!this.hasColumnLayouts){let e=this.groupingDiffer.diff(this.groupingExpressions);e&&this._columns.length>0&&(e.forEachAddedItem((e=>{let t=this.getColumnByName(e.item.fieldName);t&&(t.hidden=!0)})),e.forEachRemovedItem((e=>{this.getColumnByName(e.item.fieldName).hidden=!1})))}super.ngDoCheck()}dataLoading(e){this.dataPreLoad.emit(e)}getSelectedData(e=!1,t=!1){if(this.groupingExpressions.length||this.hasDetails){let i=[],n=e=>{e.expression||e.summaries||this.isDetailRecord(e)?i.push(null):i.push(e)};return this.dataView.forEach(n),this.extractDataFromSelection(i,e,t)}return super.getSelectedData(e,t)}getRowByIndex(e){let t;if(!(e<0))return(this.dataView.length>=this.virtualizationState.startIndex+this.virtualizationState.chunkSize||!(e<this.virtualizationState.startIndex)&&!(e>this.virtualizationState.startIndex+this.virtualizationState.chunkSize))&&(t=this.createRow(e)),1===this.pagingMode&&0!==this.page&&(t.index=e+this.perPage*this.page),t}getRowByKey(e){let t=this.filteredSortedData?this.primaryKey?this.filteredSortedData.find((t=>t[this.primaryKey]===e)):this.filteredSortedData.find((t=>t===e)):void 0,i=this.dataView.indexOf(t);if(!(i<0||i>this.dataView.length))return new f$(this,i,t)}allRows(){return this.dataView.map(((e,t)=>(1===this.pagingMode&&0!==this.page?t+=this.perPage*this.page:t=this.dataRowList.first.index+t,this.createRow(t))))}dataRows(){return this.allRows().filter((e=>e instanceof f$))}get selectedCells(){return this.dataRows().map((e=>e.cells.filter((e=>e.selected)))).reduce(((e,t)=>e.concat(t)),[])}getCellByColumn(e,t){let i=this.getRowByIndex(e),n=this._columns.find((e=>e.field===t));if(i&&i instanceof f$&&!i.data?.detailsData&&n)return 1===this.pagingMode&&0!==this.page&&(i.index=e+this.perPage*this.page),new sM(this,i.index,n)}getCellByKey(e,t){let i=this.getRowByKey(e),n=this._columns.find((e=>e.field===t));if(i&&n)return new sM(this,i.index,n)}pinRow(e,t){let i=this.getRowByKey(e);return super.pinRow(e,t,i)}unpinRow(e){let t=this.getRowByKey(e);return super.unpinRow(e,t)}createRow(e,t){let i,n=this._getDataViewIndex(e),r=t??this.dataView[n];return r&&this.isGroupByRecord(r)&&(i=new x$(this,e,r)),r&&this.isSummaryRow(r)&&(i=new _$(this,e,r.summaries,yD.Grid)),!i&&r&&(i=new f$(this,e,r)),i}get defaultTargetBodyHeight(){let e=this.totalItemCount||this.dataLength;return this.renderedActualRowHeight*Math.min(this._defaultTargetRecordNumber,this.paginator?Math.min(e,this.perPage):e)}getGroupAreaHeight(){return this.groupArea?this.getComputedHeight(this.groupArea.nativeElement):0}onColumnsAddedOrRemoved(){this.groupablePipeTrigger++,this.groupingExpressions&&this.hideGroupedColumns&&this._setGroupColsVisibility(this.hideGroupedColumns),super.onColumnsAddedOrRemoved()}scrollTo(e,t){if(this.groupingExpressions&&this.groupingExpressions.length&&"number"!=typeof e){let t=this.groupingResult.indexOf(e),i=this.groupingMetadata[t];i&&this._fullyExpandGroup(i)}super.scrollTo(e,t,this.groupingFlatResult)}_getStateForGroupRow(e){return this._gridAPI.groupBy_get_expanded_for_group(e)}_toggleGroup(e){this._gridAPI.groupBy_toggle_group(e)}_fullyExpandGroup(e){this._gridAPI.groupBy_fully_expand_group(e)}_applyGrouping(){this._gridAPI.sort_groupBy_multiple(this._groupingExpressions)}_setupNavigationService(){this.hasColumnLayouts&&(this.navigation=new hU(this.platform),this.navigation.grid=this)}checkIfNoColumnField(e){if(e instanceof Array){for(let t of e)if(!t.fieldName)return!0;return!1}return!e.fieldName}_setGroupColsVisibility(e){this._columns.length>0&&!this.hasColumnLayouts&&this.groupingExpressions.forEach((t=>{this.getColumnByName(t.fieldName).hidden=e}))}stringifyCallback(e,t){if("externalObject"!==e)return t}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.cmp=tr({type:e,selectors:[["igx-grid"]],contentQueries:function(e,t,i){if(1&e&&(zg(i,_z,5,yg),zg(i,xz,5,xz),zg(i,mW,4,yg)),2&e){let e;Hg(e=Gg())&&(t.detailTemplateDirective=e.first),Hg(e=Gg())&&(t.groupTemplate=e.first),Hg(e=Gg())&&(t.groupByRowSelectorsTemplates=e)}},viewQuery:function(e,t){if(1&e&&(Bg(zY,7,yg),Bg(GY,7,yg),Bg($Y,7,yg),Bg(WY,7,yg),Bg(cU,5,cU)),2&e){let e;Hg(e=Gg())&&(t.recordTemplate=e.first),Hg(e=Gg())&&(t.detailTemplateContainer=e.first),Hg(e=Gg())&&(t.defaultGroupTemplate=e.first),Hg(e=Gg())&&(t.summaryTemplate=e.first),Hg(e=Gg())&&(t._groupsRowList=e)}},hostVars:2,hostBindings:function(e,t){2&e&&ph("role",t.role)("id",t.id)},inputs:{groupsExpanded:"groupsExpanded",dropAreaTemplate:"dropAreaTemplate",detailTemplate:"detailTemplate",id:"id",data:"data",totalItemCount:"totalItemCount",groupingExpressions:"groupingExpressions",groupingExpansionState:"groupingExpansionState",hideGroupedColumns:"hideGroupedColumns",groupStrategy:"groupStrategy",dropAreaMessage:"dropAreaMessage",groupByRowSelectorTemplate:"groupByRowSelectorTemplate",groupRowTemplate:"groupRowTemplate",showGroupArea:"showGroupArea"},outputs:{dataPreLoad:"dataPreLoad",groupingExpressionsChange:"groupingExpressionsChange",groupingExpansionStateChange:"groupingExpansionStateChange",groupingDone:"groupingDone"},standalone:!0,features:[Nu([ck,mj,fj,Tk,pj,{provide:uk,useClass:Uj},{provide:hk,useExisting:e},Yz,Fz,uA,gA]),th,Wu],ngContentSelectors:YX,decls:99,vars:173,consts:[[4,"ngIf"],["tabindex","0",1,"igx-grid-thead",3,"grid","hasMRL","density","activeDescendant","width","pinnedColumnCollection","unpinnedColumnCollection","keydown.meta.c","keydown.control.c","copy","keydown","scroll","focus"],["igxGridBody","","role","rowgroup",1,"igx-grid__tbody",3,"keydown.control.c","copy"],["tabindex","0",1,"igx-grid__tbody-content",3,"igxGridDragSelect","keydown","focus","dragStop","scroll","dragScroll"],["tbody",""],["id","left","class","igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop",4,"ngIf"],["id","left","class","igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop","left",4,"ngIf"],[4,"ngTemplateOutlet"],["pinnedRecordsTemplate",""],["igxGridFor","",3,"igxGridForOf","igxForScrollOrientation","igxForScrollContainer","igxForContainerSize","igxForItemSize","igxForTrackBy","chunkPreload","dataChanging","dataChanged"],["verticalScrollContainer",""],["record_template",""],["pinned_record_template",""],["group_template",""],["summary_template",""],["detail_template_container",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["igxOverlayOutlet","",1,"igx-grid__row-editing-outlet"],["igxRowEditingOverlayOutlet",""],["igxToggle",""],["loadingOverlay",""],[3,"indeterminate",4,"ngIf"],["id","right","class","igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop",4,"ngIf"],[1,"igx-grid__tbody-scrollbar",3,"hidden","pointerdown"],[1,"igx-grid__tbody-scrollbar-start"],[1,"igx-grid__tbody-scrollbar-main"],["igxGridFor","",3,"igxGridForOf"],["verticalScrollHolder",""],[1,"igx-grid__tbody-scrollbar-end"],[1,"igx-grid__addrow-snackbar"],[3,"outlet","actionText","displayTime"],["addRowSnackbar",""],["igxOverlayOutlet",""],["igxBodyOverlayOutlet","overlay-outlet"],["igxOverlayOutlet","",1,"igx-grid__loading-outlet"],["igxLoadingOverlayOutlet",""],["role","rowgroup",1,"igx-grid__tfoot"],["tfoot",""],["tabindex","0",3,"focus","keydown"],["role","row","class","igx-grid__summaries",3,"width","height","gridID","summaries","index",4,"ngIf"],[1,"igx-grid__tfoot-thumb",3,"hidden"],[1,"igx-grid__scroll",3,"hidden","pointerdown"],["scr",""],[1,"igx-grid__scroll-start"],[1,"igx-grid__scroll-main"],["scrollContainer",""],[1,"igx-grid__scroll-end",3,"hidden"],[1,"igx-grid__footer"],["footer",""],["emptyFilteredGrid",""],["defaultEmptyGrid",""],["defaultAddRowEmptyTemplate",""],["defaultLoadingGrid",""],["defaultExpandedTemplate",""],["defaultCollapsedTemplate",""],["igxToggle","",4,"ngIf"],["defaultRowEditText",""],["defaultRowEditActions",""],["defaultRowEditTemplate",""],["dragIndicatorIconBase",""],["igxOverlayOutlet","",1,"igx-grid__outlet"],["igxFilteringOverlayOutlet",""],[2,"display","none"],["sink",""],[3,"grid","expressions","sortingExpressions","density","dropAreaTemplate","dropAreaMessage"],["groupArea",""],["id","left",1,"igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop"],["id","left",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop"],["class","igx-grid__tr--pinned",3,"ngClass","width",4,"ngIf"],[1,"igx-grid__tr--pinned",3,"ngClass"],["pinContainer",""],[4,"ngFor","ngForOf"],[3,"igxTemplateOutlet","igxTemplateOutletContext","cachedViewLoaded","viewCreated","viewMoved"],[3,"gridID","index","data","disabled","ngClass","ngStyle"],["row",""],[3,"gridID","index","data","ngClass","ngStyle"],["row","","pinnedRow",""],[3,"gridID","index","groupRow","hideGroupRowSelectors","rowDraggable"],["role","row",1,"igx-grid__summaries--body",3,"gridID","summaries","index"],["summaryRow",""],["detail","true",3,"id","ngClass","pointerdown"],["detailsContainer",""],[1,"igx-grid__hierarchical-indent"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"indeterminate"],["id","right",1,"igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop"],["role","row",1,"igx-grid__summaries",3,"gridID","summaries","index"],["role","cell",1,"igx-grid__tbody-message"],["type","button","igxButton","raised","igxRipple","",3,"click"],[1,"igx-grid__loading"],["role","button",1,"igx-grid__group-expand-btn",3,"ngClass"],["rowEditingOverlay",""],[3,"className"],["igxButton","","igxRowEditTabStop","","type","button",3,"click"],[1,"igx-banner__message"],[1,"igx-banner__text"],[1,"igx-banner__actions"],[1,"igx-banner__row"]],template:function(e,t){if(1&e&&(Lh($X),Hh(0),yh(1,KY,3,8,"ng-container",0),Ch(2,"igx-grid-header-row",1),Fh("keydown.meta.c",(function(e){return t.copyHandler(e)}))("keydown.control.c",(function(e){return t.copyHandler(e)}))("copy",(function(e){return t.copyHandler(e)}))("keydown",(function(e){return t.navigation.headerNavigation(e)}))("scroll",(function(e){return t.preventHeaderScroll(e)}))("focus",(function(){return t.navigation.focusFirstCell()})),Sh(),Ch(3,"div",2),Fh("keydown.control.c",(function(e){return t.copyHandler(e)}))("copy",(function(e){return t.copyHandler(e)})),Ch(4,"div",3,4),Fh("keydown",(function(e){return t.navigation.handleNavigation(e)}))("focus",(function(e){return t.navigation.focusTbody(e)}))("dragStop",(function(e){return t.selectionService.dragMode=e}))("scroll",(function(e){return t.preventContainerScroll(e)}))("dragScroll",(function(e){return t.dragScroll(e)})),yh(6,jY,1,2,"span",5),yh(7,UY,1,4,"span",6),yh(8,qY,1,0,"ng-container",7),yh(9,iX,7,49,"ng-template",null,8,jg),yh(11,rX,1,2,"ng-template",9,10,jg),ag(13,"gridRowPinning"),ag(14,"gridAddRow"),ag(15,"gridDetails"),ag(16,"gridSummary"),ag(17,"gridPaging"),ag(18,"gridGroupBy"),ag(19,"gridSort"),ag(20,"gridFiltering"),ag(21,"visibleColumns"),ag(22,"gridTransaction"),Fh("chunkPreload",(function(e){return t.dataLoading(e)}))("dataChanging",(function(e){return t.dataRebinding(e)}))("dataChanged",(function(e){return t.dataRebound(e)})),yh(23,sX,1,0,"ng-container",7),yh(24,aX,4,36,"ng-template",null,11,jg),yh(26,lX,5,35,"ng-template",null,12,jg),yh(28,dX,2,5,"ng-template",null,13,jg),yh(30,cX,2,3,"ng-template",null,14,jg),yh(32,pX,5,9,"ng-template",null,15,jg),yh(34,mX,1,0,"ng-container",16),bh(35,"div",17,18),Sh(),Ch(37,"div",19,20),yh(39,fX,1,1,"igx-circular-bar",21),Sh(),yh(40,yX,1,2,"span",22),Ch(41,"div",23),Fh("pointerdown",(function(e){return e.preventDefault()})),bh(42,"div",24),Ch(43,"div",25),yh(44,vX,0,0,"ng-template",26,27,jg),Sh(),bh(46,"div",28),Sh(),Ch(47,"div",29)(48,"igx-snackbar",30,31),fu(50),Sh()(),bh(51,"div",32,33)(53,"div",34,35),Sh(),Ch(55,"div",36,37)(57,"div",38),Fh("focus",(function(){return t.navigation.focusFirstCell(!1)}))("keydown",(function(e){return t.navigation.summaryNav(e)})),yh(58,xX,3,10,"igx-grid-summary-row",39),bh(59,"div",40),Sh()(),Ch(60,"div",41,42),Fh("pointerdown",(function(e){return e.preventDefault()})),bh(62,"div",43),Ch(63,"div",44),yh(64,_X,0,0,"ng-template",26,45,jg),Sh(),bh(66,"div",46),Sh(),Ch(67,"div",47,48),Hh(69,1),Hh(70,2),Sh(),yh(71,SX,4,2,"ng-template",null,49,jg),yh(73,EX,4,2,"ng-template",null,50,jg),yh(75,IX,2,1,"ng-template",null,51,jg),yh(77,TX,2,1,"ng-template",null,52,jg),yh(79,RX,2,3,"ng-template",null,53,jg),yh(81,kX,2,3,"ng-template",null,54,jg),yh(83,PX,4,6,"div",55),yh(84,MX,1,2,"ng-template",null,56,jg),yh(86,VX,4,2,"ng-template",null,57,jg),yh(88,BX,6,8,"ng-template",null,58,jg),yh(90,zX,2,0,"ng-template",null,59,jg),yh(92,GX,1,0,"igx-grid-column-resizer",0),bh(93,"div",60,61),Ch(95,"div",62,63),Hh(97,3),Hh(98,4),Sh()),2&e){let e=xh(10),i=xh(52);tc(1),_h("ngIf",t.showGroupArea&&(t.groupingExpressions.length>0||t.hasGroupableColumns)),tc(1),_h("grid",t)("hasMRL",t.hasColumnLayouts)("density",t.displayDensity)("activeDescendant",t.activeDescendant)("width",t.calcWidth)("pinnedColumnCollection",t.pinnedColumns)("unpinnedColumnCollection",t.unpinnedColumns),tc(2),tu("height",t.totalHeight,"px")("width",t.calcWidth||null,"px"),_h("igxGridDragSelect",t.selectionService.dragMode),ph("role",t.dataView.length?null:"row")("aria-activedescendant",t.activeDescendant),tc(2),_h("ngIf",t.moving&&t.columnInDrag&&t.pinnedColumns.length<=0),tc(1),_h("ngIf",t.moving&&t.columnInDrag&&t.pinnedColumns.length>0),tc(1),_h("ngTemplateOutlet",t.hasPinnedRecords&&t.isRowPinningToTop?e:null),tc(3),_h("igxGridForOf",hg(13,71,cg(14,76,hg(15,80,ug(16,85,Ju(161,jX,ug(17,94,Xu(155,UX,ug(18,100,Ju(146,jX,ug(19,109,Zu(139,KX,ug(20,116,Qu(131,WX,dg(21,124,cg(22,127,t.data,t.id,t.pipeTrigger),t.hasVisibleColumns),t.filteringExpressionsTree,t.filterStrategy,t.advancedFilteringExpressionsTree,t.id,t.pipeTrigger,t.filteringPipeTrigger)),t.sortingExpressions,t.groupingExpressions,t.sortStrategy,t.id,t.pipeTrigger)),t.groupingExpressions,t.groupingExpansionState,t.groupStrategy,t.groupsExpanded,t.id,t.groupsRecords,t.pipeTrigger)),!!t.paginator,t.page,t.perPage,t.pipeTrigger)),t.hasSummarizedColumns,t.summaryCalculationMode,t.summaryPosition,t.id,t.showSummaryOnCollapse,t.pipeTrigger,t.summaryPipeTrigger)),t.hasDetails,t.expansionStates,t.pipeTrigger),!1,t.pipeTrigger),t.id,!1,t.pipeTrigger))("igxForScrollOrientation","vertical")("igxForScrollContainer",t.verticalScroll)("igxForContainerSize",t.calcHeight)("igxForItemSize",t.hasColumnLayouts?t.rowHeight*t.multiRowLayoutRowSize+1:t.renderedRowHeight)("igxForTrackBy",t.trackChanges),tc(12),_h("ngTemplateOutlet",t.hasPinnedRecords&&!t.isRowPinningToTop?e:null),tc(11),_h("ngTemplateOutlet",t.template)("ngTemplateOutletContext",ju(170,HX,t)),tc(5),_h("ngIf",t.shouldOverlayLoading),tc(1),_h("ngIf",t.moving&&t.columnInDrag),tc(1),tu("width",t.scrollSize,"px"),_h("hidden",!t.hasVerticalScroll()),tc(1),tu("height",t.isRowPinningToTop?t.pinnedRowHeight:0,"px"),tc(1),tu("height",t.calcHeight,"px"),tc(1),_h("igxGridForOf",Ku(172,qX)),tc(2),tu("height",t.isRowPinningToTop?0:t.pinnedRowHeight,"px"),tc(2),_h("outlet",i)("actionText",t.resourceStrings.igx_grid_snackbar_addrow_actiontext)("displayTime",t.snackbarDisplayTime),tc(2),vu(t.resourceStrings.igx_grid_snackbar_addrow_label),tc(5),tu("height",t.summaryRowHeight,"px"),tc(2),ph("aria-activedescendant",t.activeDescendant),tc(1),_h("ngIf",t.hasSummarizedColumns&&t.rootSummariesEnabled),tc(1),tu("height",t.summaryRowHeight,"px")("width",t.scrollSize,"px"),_h("hidden",!t.hasVerticalScroll()),tc(1),tu("height",t.scrollSize,"px"),_h("hidden",t.isHorizontalScrollHidden),tc(2),tu("width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px")("min-width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px"),tc(1),tu("width",t.unpinnedWidth,"px"),tc(1),_h("igxGridForOf",t.EMPTY_DATA),tc(2),tu("float","right")("width",t.pinnedWidth,"px")("min-width",t.pinnedWidth,"px"),_h("hidden",0===t.pinnedWidth||t.isPinningToStart),tc(17),_h("ngIf",t.rowEditable),tc(9),_h("ngIf",t.colResizingService.showResizer)}},dependencies:[$m,Bm,zm,Xm,Zm,uj,cW,QW,BY,uG,vA,kA,LY,cU,HK,MA,FA,LL,qK,HI,DA,XI,CK,zK,T$,A$,k$,V$,b$,D$,vU,mU,fU,pU,yU,gU,uU],encapsulation:2,changeDetection:0}),e})(),QX=["esf"],JX=["filterAreaHidden"],eZ=["filterIcon"],tZ=["dropdownChips"],iZ=["pivotFilterContainer"],nZ=["notifyChip"],rZ=["headerVirtualContainer"];function sZ(e,t){if(1&e){let e=Rh();Ch(0,"span",38),Fh("dropped",(function(t){Bs(e),Vh();let i=xh(3);return zs(Vh().onDimDrop(t,i,2))})),fu(1),Sh()}if(2&e){let e=Vh(2);tc(1),vu(e.grid.resourceStrings.igx_grid_pivot_empty_filter_drop_area)}}function oZ(e,t){if(1&e&&(Eh(0),bh(1,"span",39),Ih()),2&e){Vh(2);let e=xh(3),t=Vh();tc(1),tu("height",t.getAreaHeight(e),"px")}}var aZ=function(){return{pivotArea:"filter"}};function lZ(e,t){if(1&e){let e=Rh();Eh(0),bh(1,"span",39),Ch(2,"igx-chip",40),Fh("remove",(function(t){return Bs(e),zs(Vh(2).filterRemoved(t))}))("dragOver",(function(t){return Bs(e),zs(Vh(2).onDimDragOver(t,2))}))("dragLeave",(function(t){return Bs(e),zs(Vh(2).onDimDragLeave(t))}))("dragDrop",(function(t){Bs(e),Vh();let i=xh(3);return zs(Vh().onDimDrop(t,i,2))}))("moveStart",(function(t){Bs(e),Vh();let i=xh(3);return zs(Vh().onDimDragStart(t,i))}))("moveEnd",(function(){return Bs(e),zs(Vh(2).onDimDragEnd())})),Ch(3,"igx-icon",41),Fh("pointerdown",(function(t){return Bs(e),zs(Vh(2).onFilteringIconPointerDown(t))}))("click",(function(t){let i=Bs(e).$implicit;return zs(Vh(2).onFilteringIconClick(t,i))})),fu(4,"filter_list"),Sh(),fu(5),Sh(),yh(6,oZ,2,2,"ng-container",13),Ih()}if(2&e){let e=t.$implicit,i=t.last;Vh();let n=xh(3),r=Vh();tc(1),tu("height",r.getAreaHeight(n),"px"),tc(1),_h("id",e.memberName)("draggable",!0)("displayDensity",r.grid.displayDensity)("data",Ku(9,aZ))("removable",!0),tc(3),xu(" ",e.memberName," "),tc(1),_h("ngIf",i)}}function dZ(e,t){if(1&e){let e=Rh();Ch(0,"div",42)(1,"igx-icon",43,44),Fh("pointerdown",(function(t){return Bs(e),zs(Vh(2).onFilteringIconPointerDown(t))}))("click",(function(t){return Bs(e),zs(Vh(2).onFiltersAreaDropdownClick(t))})),fu(3,"filter_list"),Sh(),bh(4,"igx-badge",45),Sh()}if(2&e){let e=Vh(2);tc(4),Bh("value",e.filterDropdownDimensions.size)}}function cZ(e,t){if(1&e){let e=Rh();Ch(0,"div",30,31),Fh("igxDragLeave",(function(t){Bs(e);let i=xh(3);return zs(Vh().onAreaDragLeave(t,i))}))("dropped",(function(t){Bs(e);let i=xh(3);return zs(Vh().onDimDrop(t,i,2))}))("pointerdown",(function(e){return e.preventDefault()})),Ch(2,"igx-chips-area",11,32),yh(4,sZ,2,1,"span",33),yh(5,lZ,7,10,"ng-container",34),Ch(6,"igx-chip",35,36),Fh("dragDrop",(function(t){Bs(e);let i=xh(3);return zs(Vh().onDimDrop(t,i,2))})),fu(8),Sh()(),yh(9,dZ,5,1,"div",37),Sh()}if(2&e){let e=Vh();tu("min-width",e.grid.pivotRowWidths-1,"px")("max-width",e.grid.pivotRowWidths-1,"px"),tc(4),_h("ngIf",0===e.grid.filterDimensions.length),tc(1),_h("ngForOf",e.filterAreaDimensions),tc(1),_h("hidden",!0)("displayDensity",e.grid.displayDensity),tc(2),xu(" ",e.grid.resourceStrings.igx_grid_pivot_filter_drop_chip," "),tc(1),_h("ngIf",e.isFiltersButton&&0!==e.grid.filterDimensions.length)}}function hZ(e,t){if(1&e){let e=Rh();Ch(0,"span",38),Fh("dropped",(function(t){Bs(e),Vh();let i=xh(3);return zs(Vh().onDimDrop(t,i,1))})),fu(1),Sh()}if(2&e){let e=Vh(2);tc(1),xu(" ",e.grid.resourceStrings.igx_grid_pivot_empty_column_drop_area,"")}}function uZ(e,t){if(1&e&&(Ch(0,"igx-icon",52),fu(1),Sh()),2&e){let e=Vh().$implicit;tc(1),xu(" ",e.sortDirection<2?"arrow_upward":"arrow_downward","")}}function gZ(e,t){if(1&e&&(Eh(0),bh(1,"span",39),Ih()),2&e){Vh(2);let e=xh(3),t=Vh();tc(1),tu("height",t.getAreaHeight(e),"px")}}var pZ=function(){return{pivotArea:"column"}};function mZ(e,t){if(1&e){let e=Rh();Eh(0),bh(1,"span",39),Ch(2,"igx-chip",49),Fh("remove",(function(t){return Bs(e),zs(Vh(2).columnRemoved(t))}))("dragOver",(function(t){return Bs(e),zs(Vh(2).onDimDragOver(t,1))}))("dragLeave",(function(t){return Bs(e),zs(Vh(2).onDimDragLeave(t))}))("dragDrop",(function(t){Bs(e),Vh();let i=xh(3);return zs(Vh().onDimDrop(t,i,1))}))("moveStart",(function(t){Bs(e),Vh();let i=xh(3);return zs(Vh().onDimDragStart(t,i))}))("moveEnd",(function(){return Bs(e),zs(Vh(2).onDimDragEnd())}))("click",(function(t){let i=Bs(e).$implicit;return zs(Vh(2).onChipSort(t,i))})),Ch(3,"igx-icon",50),fu(4,"view_column"),Sh(),Ch(5,"igx-icon",41),Fh("pointerdown",(function(t){return Bs(e),zs(Vh(2).onFilteringIconPointerDown(t))}))("click",(function(t){let i=Bs(e).$implicit;return zs(Vh(2).onFilteringIconClick(t,i))})),fu(6,"filter_list"),Sh(),fu(7),yh(8,uZ,2,1,"igx-icon",51),Sh(),yh(9,gZ,2,2,"ng-container",13),Ih()}if(2&e){let e=t.$implicit,i=t.last;Vh();let n=xh(3),r=Vh();tc(1),tu("height",r.getAreaHeight(n),"px"),tc(1),_h("draggable",!0)("id",e.memberName)("displayDensity",r.grid.displayDensity)("data",Ku(10,pZ))("removable",!0),tc(5),xu(" ",e.memberName," "),tc(1),_h("ngIf",e.sortDirection),tc(1),_h("ngIf",i)}}function fZ(e,t){if(1&e){let e=Rh();Ch(0,"div",46,47),Fh("dropped",(function(t){Bs(e);let i=xh(3);return zs(Vh().onDimDrop(t,i,1))}))("igxDragLeave",(function(t){Bs(e);let i=xh(3);return zs(Vh().onAreaDragLeave(t,i))})),Ch(2,"igx-chips-area",11,48),yh(4,hZ,2,1,"span",33),yh(5,mZ,10,11,"ng-container",34),Ch(6,"igx-chip",35,36),Fh("dragDrop",(function(t){Bs(e);let i=xh(3);return zs(Vh().onDimDrop(t,i,1))})),fu(8),Sh()()()}if(2&e){let e=Vh();tc(4),_h("ngIf",0===e.grid.columnDimensions.length),tc(1),_h("ngForOf",e.grid.columnDimensions),tc(1),_h("hidden",!0)("displayDensity",e.grid.displayDensity),tc(2),xu(" ",e.grid.resourceStrings.igx_grid_pivot_column_drop_chip," ")}}function yZ(e,t){if(1&e){let e=Rh();Ch(0,"span",38),Fh("dropped",(function(t){Bs(e),Vh();let i=xh(3);return zs(Vh().onValueDrop(t,i))})),fu(1),Sh()}if(2&e){let e=Vh(2);tc(1),vu(e.grid.resourceStrings.igx_grid_pivot_empty_value_drop_area)}}function vZ(e,t){1&e&&Th(0)}function xZ(e,t){if(1&e&&(Eh(0),bh(1,"span",39),Ih()),2&e){Vh(2);let e=xh(3),t=Vh();tc(1),tu("height",t.getAreaHeight(e),"px")}}var _Z=function(){return{pivotArea:"value"}},wZ=function(e){return{$implicit:e}};function CZ(e,t){if(1&e){let e=Rh();Eh(0),bh(1,"span",39),Ch(2,"igx-chip",57,58),Fh("remove",(function(t){return Bs(e),zs(Vh(2).valueRemoved(t))}))("dragLeave",(function(t){return Bs(e),zs(Vh(2).onDimDragLeave(t))}))("dragOver",(function(t){return Bs(e),zs(Vh(2).onDimDragOver(t))}))("dragDrop",(function(t){Bs(e),Vh();let i=xh(3);return zs(Vh().onValueDrop(t,i))})),Ch(4,"div",59),Fh("click",(function(t){let i=Bs(e).$implicit,n=xh(3),r=Vh(2),s=xh(22);return zs(r.onSummaryClick(t,i,s,n))}))("pointerdown",(function(e){return e.stopPropagation()})),Ch(5,"igx-icon"),fu(6,"functions"),Sh(),Ch(7,"igx-icon"),fu(8,"arrow_drop_down"),Sh()(),yh(9,vZ,1,0,"ng-container",60),Sh(),yh(10,xZ,2,2,"ng-container",13),Ih()}if(2&e){let e=t.$implicit,i=t.last;Vh();let n=xh(3),r=Vh(),s=xh(22),o=xh(38);tc(1),tu("height",r.getAreaHeight(n),"px"),tc(1),_h("draggable",!0)("id",e.displayName||e.member)("data",Ku(11,_Z))("displayDensity",r.grid.displayDensity)("removable",!0),tc(2),_h("igxDropDownItemNavigation",s),tc(5),_h("ngTemplateOutlet",r.grid.valueChipTemplate?r.grid.valueChipTemplate:o)("ngTemplateOutletContext",ju(12,wZ,e)),tc(1),_h("ngIf",i)}}function SZ(e,t){if(1&e){let e=Rh();Ch(0,"div",53,54),Fh("pointerdown",(function(e){return e.preventDefault()}))("dropped",(function(t){Bs(e);let i=xh(3);return zs(Vh().onValueDrop(t,i))}))("igxDragLeave",(function(t){Bs(e);let i=xh(3);return zs(Vh().onAreaDragLeave(t,i))})),Ch(2,"igx-chips-area",11,55),yh(4,yZ,2,1,"span",33),yh(5,CZ,11,14,"ng-container",34),Ch(6,"igx-chip",35,56),Fh("dragDrop",(function(t){Bs(e);let i=xh(3);return zs(Vh().onValueDrop(t,i))})),fu(8),Sh()()()}if(2&e){let e=Vh();tc(4),_h("ngIf",0===e.grid.values.length),tc(1),_h("ngForOf",e.grid.values),tc(1),_h("hidden",!0)("displayDensity",e.grid.displayDensity),tc(2),xu(" ",e.grid.resourceStrings.igx_grid_pivot_value_drop_chip," ")}}function bZ(e,t){if(1&e){let e=Rh();Ch(0,"span",38),Fh("dropped",(function(t){Bs(e);let i=Vh(2),n=xh(14);return zs(i.onDimDrop(t,n,0))})),fu(1),Sh()}if(2&e){let e=Vh(2);tc(1),vu(e.grid.resourceStrings.igx_grid_pivot_empty_row_drop_area)}}function DZ(e,t){if(1&e&&(Ch(0,"igx-icon",52),fu(1),Sh()),2&e){let e=Vh().$implicit;tc(1),xu(" ",e.sortDirection<2?"arrow_upward":"arrow_downward","")}}function EZ(e,t){if(1&e&&(Eh(0),bh(1,"span",39),Ih()),2&e){let e=Vh(3),t=xh(14);tc(1),tu("height",e.getAreaHeight(t),"px")}}var IZ=function(){return{pivotArea:"row"}};function TZ(e,t){if(1&e){let e=Rh();Eh(0),bh(1,"span",39),Ch(2,"igx-chip",61),Fh("remove",(function(t){return Bs(e),zs(Vh(2).rowRemoved(t))}))("dragLeave",(function(t){return Bs(e),zs(Vh(2).onDimDragLeave(t))}))("dragDrop",(function(t){Bs(e);let i=Vh(2),n=xh(14);return zs(i.onDimDrop(t,n,0))}))("dragOver",(function(t){return Bs(e),zs(Vh(2).onDimDragOver(t,0))}))("moveStart",(function(t){Bs(e);let i=Vh(2),n=xh(14);return zs(i.onDimDragStart(t,n))}))("moveEnd",(function(){return Bs(e),zs(Vh(2).onDimDragEnd())}))("click",(function(t){let i=Bs(e).$implicit;return zs(Vh(2).onChipSort(t,i))})),Ch(3,"igx-icon",50),fu(4,"table_rows"),Sh(),Ch(5,"igx-icon",41),Fh("pointerdown",(function(t){return Bs(e),zs(Vh(2).onFilteringIconPointerDown(t))}))("click",(function(t){let i=Bs(e).$implicit;return zs(Vh(2).onFilteringIconClick(t,i))})),fu(6,"filter_list"),Sh(),fu(7),yh(8,DZ,2,1,"igx-icon",51),Sh(),yh(9,EZ,2,2,"ng-container",13),Ih()}if(2&e){let e=t.$implicit,i=t.last,n=Vh(2),r=xh(14);tc(1),tu("height",n.getAreaHeight(r),"px"),tc(1),_h("draggable",!0)("id",e.memberName)("displayDensity",n.grid.displayDensity)("data",Ku(10,IZ))("removable",!0),tc(5),xu(" ",e.memberName," "),tc(1),_h("ngIf",e.sortDirection),tc(1),_h("ngIf",i)}}function AZ(e,t){if(1&e){let e=Rh();Eh(0),yh(1,bZ,2,1,"span",33),yh(2,TZ,10,11,"ng-container",34),Ch(3,"igx-chip",35,36),Fh("dragDrop",(function(t){Bs(e);let i=Vh(),n=xh(14);return zs(i.onDimDrop(t,n,0))})),fu(5),Sh(),Ih()}if(2&e){let e=Vh();tc(1),_h("ngIf",0===e.grid.rowDimensions.length&&e.grid.showPivotConfigurationUI),tc(1),_h("ngForOf",e.grid.rowDimensions),tc(1),_h("hidden",!0)("displayDensity",e.grid.displayDensity),tc(2),xu(" ",e.grid.resourceStrings.igx_grid_pivot_row_drop_chip," ")}}function RZ(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"igx-grid-header-group",62),Fh("pointerdown",(function(t){return Bs(e),zs(Vh(2).grid.navigation.focusOutRowHeader(t))})),ag(2,"igxHeaderGroupWidth"),ag(3,"igxHeaderGroupWidth"),ag(4,"igxHeaderGroupStyle"),Sh(),Ih()}if(2&e){let e=t.$implicit,i=Vh(2);tc(1),tu("min-width",cg(2,7,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("flex-basis",cg(3,11,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL)),_h("ngClass",e.headerGroupClasses)("ngStyle",cg(4,15,e.headerGroupStyles,e,i.grid.pipeTrigger))("column",e)}}function kZ(e,t){if(1&e&&(Eh(0),yh(1,RZ,5,19,"ng-container",34),ag(2,"igxTopLevel"),Ih()),2&e){let e=Vh();tc(1),_h("ngForOf",lg(2,1,e.pinnedColumnCollection))}}function OZ(e,t){if(1&e&&(Ch(0,"igx-grid-header-group",66),ag(1,"igxHeaderGroupWidth"),ag(2,"igxHeaderGroupWidth"),ag(3,"igxHeaderGroupStyle"),Sh()),2&e){let e=t.$implicit,i=Vh().index,n=Vh();tu("height",n.totalDepth>1?n.calcHeight(e,i):void 0,"px")("min-width",cg(1,13,e.resolvedWidth,n.grid.defaultHeaderGroupMinWidth,n.hasMRL))("flex-basis",cg(2,17,e.resolvedWidth,n.grid.defaultHeaderGroupMinWidth,n.hasMRL)),iu("igx-grid__tr-pivot--columnDimensionLeaf",n.isDuplicateOfExistingParent(e,i))("igx-grid__tr-pivot--columnMultiRowSpan",n.isMultiRow(e,i)),_h("ngClass",e.headerGroupClasses)("ngStyle",cg(3,21,e.headerGroupStyles,e,n.grid.pipeTrigger))("column",e)}}function FZ(e,t){if(1&e&&(Ch(0,"div",63),yh(1,OZ,4,25,"ng-template",64,65,jg),Sh()),2&e){let e=t.$implicit,i=Vh();tu("height",i.totalDepth>1?i.grid.rowHeight:void 0,"px")("width",i.grid.unpinnedWidth,"px"),tc(1),_h("igxGridForOf",e)("igxGridForOfUniqueSizeCache",!0)("igxForScrollContainer",i.grid.parentVirtDir)("igxForContainerSize",i.grid.unpinnedWidth)("igxForTrackBy",i.grid.trackColumnChanges)("igxForSizePropName","calcPixelWidth")("igxForScrollOrientation","horizontal")}}function PZ(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"igx-grid-header-group",62),Fh("pointerdown",(function(t){return Bs(e),zs(Vh(2).grid.navigation.focusOutRowHeader(t))})),ag(2,"igxHeaderGroupWidth"),ag(3,"igxHeaderGroupWidth"),ag(4,"igxHeaderGroupStyle"),Sh(),Ih()}if(2&e){let e=t.$implicit,i=Vh(2);tc(1),tu("min-width",cg(2,9,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("flex-basis",cg(3,13,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("left",e.rightPinnedOffset),_h("ngClass",e.headerGroupClasses)("ngStyle",cg(4,17,e.headerGroupStyles,e,i.grid.pipeTrigger))("column",e)}}function MZ(e,t){if(1&e&&(Eh(0),yh(1,PZ,5,21,"ng-container",34),ag(2,"igxTopLevel"),Ih()),2&e){let e=Vh();tc(1),_h("ngForOf",lg(2,1,e.pinnedColumnCollection))}}function VZ(e,t){if(1&e&&(Ch(0,"igx-drop-down-item",67),fu(1),Sh()),2&e){let e=t.$implicit;_h("selected",Vh().isSelected(e))("value",e),tc(1),xu(" ",e.label," ")}}function NZ(e,t){if(1&e){let e=Rh();Ch(0,"igx-chip",68),Fh("remove",(function(t){return Bs(e),zs(Vh().filterRemoved(t))}))("chipClick",(function(t){return Bs(e),zs(Vh().onFiltersSelectionChanged(t))})),fu(1),Sh()}if(2&e){let e=t.$implicit,i=Vh();_h("id",e.memberName)("displayDensity",i.grid.displayDensity)("removable",!0)("selectable",!0)("selected",e===i.filterDropdownDimensions.values().next().value),tc(1),xu(" ",e.memberName," ")}}function LZ(e,t){if(1&e){let e=Rh();Ch(0,"igx-chip",69),Fh("remove",(function(t){return Bs(e),zs(Vh().filterRemoved(t))})),Ch(1,"igx-icon",50),fu(2,"filter_list"),Sh(),fu(3),Sh()}if(2&e){let e=t.$implicit,i=Vh();_h("id",e.memberName)("draggable",!0)("displayDensity",i.grid.displayDensity)("removable",!0),tc(3),xu(" ",e.memberName," ")}}function HZ(e,t){if(1&e&&fu(0),2&e){let e=t.$implicit;_u(" ",e.aggregate.key,"(",e.displayName||e.member,")\n")}}var BZ=(()=>{let e=class extends cW{get headerForOf(){return this.headerContainers?.last}constructor(e,t,i,n){super(t,i),this.grid=e,this.renderer=n,this.aggregateList=[],this.filterDropdownDimensions=new Set,this.filterAreaDimensions=new Set,this._dropPos=nM.AfterDropTarget,this._subMenuPositionSettings={verticalStartPoint:GE.Bottom,closeAnimation:void 0},this._subMenuOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new XE(this._subMenuPositionSettings),scrollStrategy:new rI},this.columnDimensionsByLevel=[[]]}get isFiltersButton(){let e=0;if(this.filterDropdownDimensions.clear(),this.filterAreaDimensions.clear(),this.filterArea?.chipsList&&0!==this.filterArea.chipsList.length){let t=getComputedStyle(this.pivotFilterContainer.nativeElement),i=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight);return e+=i+(this.filtersButton&&this.filterArea?.chipsList.length>1?this.filtersButton.el.nativeElement.getBoundingClientRect().width:0),this.filterArea.chipsList.forEach((t=>{let i=this.grid.filterDimensions.find((e=>e.memberName===t.id));if(i){let n=t.nativeElement.getBoundingClientRect().width+8;e+n<this.grid.pivotRowWidths?this.filterAreaDimensions.add(i):this.filterDropdownDimensions.add(i),e+=n}})),this.filterDropdownDimensions.size>0}return!1}get totalDepth(){let e=this.grid.columnDimensions;if(0===e.length)return 1;let t=e.map((e=>Ik.getDimensionDepth(e)+1)).reduce(((e,t)=>e+t));return this.grid.hasMultipleValues&&(t+=1),t}get maxContainerHeight(){return this.totalDepth*this.grid.renderedRowHeight}calcHeight(e,t){return!e.columnGroup&&e.level<this.totalDepth&&e.level===t?(this.totalDepth-e.level)*this.grid.rowHeight:this.grid.rowHeight}isDuplicateOfExistingParent(e,t){return-1!==(t>0?this.columnDimensionsByLevel[t-1]:[]).indexOf(e)}isMultiRow(e,t){return!e.columnGroup&&t!==this.totalDepth-1}populateColumnDimensionsByLevel(){let e=[];for(let t=0;t<this.totalDepth;t++)e[t]=[];let t=this.unpinnedColumnCollection;this.populateDimensionRecursively(t.filter((e=>0===e.level)),0,e),this.columnDimensionsByLevel=e}populateDimensionRecursively(e,t=0,i){e.forEach((e=>{if(i[t])if(i[t].push(e),e.columnGroup&&e.children.length>0){let n=e.children.toArray().filter((e=>!e.hidden));this.populateDimensionRecursively(n,t+1,i)}else if(t<this.totalDepth-1)for(let n=t+1;n<=this.totalDepth-1;n++)i[n].push(e)}))}ngOnChanges(e){e.unpinnedColumnCollection&&this.populateColumnDimensionsByLevel()}onDimDragStart(e,t){this.cdr.detectChanges();for(let e of this.notificationChips){let i=e.nativeElement.parentElement;-1===t.chipsList.toArray().indexOf(e)&&i.children.length>0&&"empty"!==i.children.item(0).id&&(e.nativeElement.hidden=!1,i.parentElement.scrollTo({left:e.nativeElement.offsetLeft}))}}onDimDragEnd(){for(let e of this.notificationChips)e.nativeElement.hidden=!0}getAreaHeight(e){let t=e.chipsList;return t&&t.length>0?t.first.nativeElement.offsetHeight:0}rowRemoved(e){let t=this.grid.pivotConfiguration.rows.find((t=>t.memberName===e.owner.id));this.grid.toggleDimension(t)}columnRemoved(e){let t=this.grid.pivotConfiguration.columns.find((t=>t.memberName===e.owner.id));this.grid.toggleDimension(t)}valueRemoved(e){let t=this.grid.pivotConfiguration.values.find((t=>t.member===e.owner.id||t.displayName===e.owner.id));this.grid.toggleValue(t)}filterRemoved(e){let t=this.grid.pivotConfiguration.filters.find((t=>t.memberName===e.owner.id));this.grid.toggleDimension(t),this.filterDropdownDimensions.size>0?this.onFiltersAreaDropdownClick({target:this.filtersButton.el.nativeElement},void 0,!1):this.grid.filteringService.hideESF()}onFiltersSelectionChanged(e){this.dropdownChips.chipsList.forEach((t=>{t.id!==e.owner.id&&(t.selected=!1)})),this.onFiltersAreaDropdownClick({target:this.filtersButton.el.nativeElement},this.grid.filterDimensions.find((t=>t.memberName===e.owner.id)),!1)}onFilteringIconPointerDown(e){e.stopPropagation(),e.preventDefault()}onFilteringIconClick(e,t){e.stopPropagation(),e.preventDefault();let i=t,n=this.grid.dimensionDataColumns.find((e=>e.field===i.memberName||e.field===i.member));this.grid.filteringService.toggleFilterDropdown(e.target,n)}onSummaryClick(e,t,i,n){this._subMenuOverlaySettings.target=e.currentTarget,this.updateDropDown(t,i,n)}onFiltersAreaDropdownClick(e,t,i=!0){let n=t||this.filterDropdownDimensions.values().next().value,r=this.grid.dimensionDataColumns.find((e=>e.field===n.memberName||e.field===n.member));i&&(this.dropdownChips.chipsList.forEach((e=>{e.selected=!1})),this.dropdownChips.chipsList.first.selected=!0),this.grid.filteringService.toggleFiltersESF(this.esf,e.target,r,i)}onAggregationChange(e){this.isSelected(e.newSelection.value)||(this.value.aggregate=e.newSelection.value,this.grid.pipeTrigger++)}isSelected(e){return this.value.aggregate.key===e.key}onChipSort(e,t){let i=t.sortDirection||Rb.None,n=i+1>Rb.Desc?Rb.None:i+1;this.grid.sortDimension(t,n)}onDimDragOver(e,t){if(!e.dragChip||!e.dragChip.data?.pivotArea||(void 0!==t?this.grid.pivotConfiguration.values.find((t=>t.member===e.dragChip.id||t.displayName===e.dragChip.id)):!this.grid.pivotConfiguration.values.find((t=>t.member===e.dragChip.id||t.displayName===e.dragChip.id))))return;let i=e.owner.nativeElement.getBoundingClientRect().width/2;this._dropPos=e.originalEvent.offsetX>i?nM.AfterDropTarget:nM.BeforeDropTarget,this._dropPos===nM.AfterDropTarget?(e.owner.nativeElement.previousElementSibling.style.visibility="hidden",e.owner.nativeElement.nextElementSibling.style.visibility=""):(e.owner.nativeElement.nextElementSibling.style.visibility="hidden",e.owner.nativeElement.previousElementSibling.style.visibility="")}onDimDragLeave(e){e.owner.nativeElement.previousElementSibling.style.visibility="hidden",e.owner.nativeElement.nextElementSibling.style.visibility="hidden",this._dropPos=nM.AfterDropTarget}onAreaDragLeave(e,t){t.chipsList.toArray().filter((e=>-1===this.notificationChips.toArray().indexOf(e))).forEach((e=>{e.nativeElement.previousElementSibling&&(e.nativeElement.previousElementSibling.style.visibility="hidden"),e.nativeElement.nextElementSibling&&(e.nativeElement.nextElementSibling.style.visibility="hidden")}))}onValueDrop(e,t){if(!(e.dragChip&&e.dragChip.data?.pivotArea||e.dragData?.chip&&e.dragData.chip.data.pivotArea))return;let i=this.grid.pivotConfiguration.values,n=e.dragChip?.id||e.dragData?.chip.id,r=t.chipsList.toArray(),s=-1!==r.indexOf(e.owner)?r.indexOf(e.owner):r.length;s=this._dropPos===nM.AfterDropTarget?s+1:s;let o=i.find((e=>e.member===n||e.displayName===n));if(o){let t=r.indexOf(e.dragChip||e.dragData.chip);this.grid.moveValue(o,t>=s?s:s-1)}}onDimDrop(e,t,i){if(!(e.dragChip&&e.dragChip.data?.pivotArea||e.dragData?.chip&&e.dragData.chip.data.pivotArea))return;let n=e.dragChip?.id||e.dragData?.chip.id,r=this.grid.getDimensionsByType(i),s=void 0===t.chipsList.toArray().find((e=>e.id===n)),o=void 0!==e.owner.id,a=-1!==r.findIndex((t=>t.memberName===e.owner.id))?r.findIndex((t=>t.memberName===e.owner.id)):r.length,l=this._dropPos===nM.AfterDropTarget?a+1:a;if(s){let e=this.grid.allDimensions.find((e=>e&&e.memberName===n));if(!e)return;this.grid.moveDimension(e,i,l)}else if(o){let e=r.find((e=>e.memberName===n)),t=r.findIndex((e=>e.memberName===n));this.grid.moveDimension(e,i,t>a?l:l-1)}this.grid.pipeTrigger++,this.grid.dimensionsChange.emit({dimensions:r,dimensionCollectionType:i}),this.onDimDragEnd(),this.onAreaDragLeave(e,t)}updateDropDown(e,t,i){this.value=e,t.width=i.nativeElement.clientWidth+"px",this.aggregateList=Ik.getAggregateList(e,this.grid),this.cdr.detectChanges(),t.open(this._subMenuOverlaySettings)}};return e.fac=function(t){return new(t||e)(nc(hk),nc(wd),nc(fp),nc(bd))},e.cmp=tr({type:e,selectors:[["igx-pivot-header-row"]],viewQuery:function(e,t){if(1&e&&(Bg(QX,5),Bg(JX,5),Bg(eZ,5),Bg(tZ,5),Bg(iZ,5),Bg(nZ,5),Bg(rZ,5,vA)),2&e){let e;Hg(e=Gg())&&(t.esf=e.first),Hg(e=Gg())&&(t.filterArea=e.first),Hg(e=Gg())&&(t.filtersButton=e.first),Hg(e=Gg())&&(t.dropdownChips=e.first),Hg(e=Gg())&&(t.pivotFilterContainer=e.first),Hg(e=Gg())&&(t.notificationChips=e),Hg(e=Gg())&&(t.headerContainers=e)}},standalone:!0,features:[th,fs,Wu],decls:39,vars:31,consts:[["role","row",1,"igx-grid-thead__wrapper","igx-grid-thead__wrapper--pivot"],["role","row",1,"igx-grid__tr"],[1,"igx-grid__tr-pivot--filter-container"],["class","igx-grid__tr-pivot igx-grid__tr-pivot--filter","igxDrop","",3,"min-width","max-width","igxDragLeave","dropped","pointerdown",4,"ngIf"],["igxDrop","",1,"igx-grid__tr-pivot--drop-row-area",3,"igxDragLeave","dropped"],[1,"igx-grid__tr-pivot-group"],["class","igx-grid__tr-pivot","igxDrop","",3,"dropped","igxDragLeave",4,"ngIf"],["class","igx-grid__tr-pivot","igxDrop","",3,"pointerdown","dropped","igxDragLeave",4,"ngIf"],["role","rowgroup",1,"igx-grid-thead__wrapper"],["igxDrop","",1,"igx-grid__tr-pivot","igx-grid__tr-pivot--row-area",3,"igxDragLeave","dropped","pointerdown"],["pivotContainer",""],["droppable","true"],["rowArea",""],[4,"ngIf"],[1,"igx-grid-thead--virtualizationWrapper"],["class","igx-grid-thead__group igx-grid-thead--virtualizationContainer",3,"height","width",4,"ngFor","ngForOf"],[1,"igx-grid-thead__thumb",3,"hidden"],[3,"selectionChanging"],["dropdown",""],[3,"selected","value",4,"ngFor","ngForOf"],[3,"hidden"],[3,"maxHeight","minHeight"],["esf",""],["igxExcelStyleColumnOperations",""],["dropdownChips",""],[3,"id","displayDensity","removable","selectable","selected","remove","chipClick",4,"ngFor","ngForOf"],[2,"visibility","hidden","position","absolute","top","-10000px"],["filterAreaHidden",""],[3,"id","draggable","displayDensity","removable","remove",4,"ngFor","ngForOf"],["valueChipDefaultTemplate",""],["igxDrop","",1,"igx-grid__tr-pivot","igx-grid__tr-pivot--filter",3,"igxDragLeave","dropped","pointerdown"],["pivotFilterContainer",""],["filterArea",""],["id","empty","igxDrop","","class","igx-grid__pivot-empty-chip-area",3,"dropped",4,"ngIf"],[4,"ngFor","ngForOf"],["igxDrop","",3,"hidden","displayDensity","dragDrop"],["notifyChip",""],["class","igx-grid__pivot-filter-toggle",4,"ngIf"],["id","empty","igxDrop","",1,"igx-grid__pivot-empty-chip-area",3,"dropped"],[1,"igx-grid__tr-pivot--chip_drop_indicator"],[3,"id","draggable","displayDensity","data","removable","remove","dragOver","dragLeave","dragDrop","moveStart","moveEnd"],["igxPrefix","",3,"pointerdown","click"],[1,"igx-grid__pivot-filter-toggle"],[3,"pointerdown","click"],["filterIcon",""],[3,"value"],["igxDrop","",1,"igx-grid__tr-pivot",3,"dropped","igxDragLeave"],["pivotColumnContainer",""],["colArea",""],[3,"draggable","id","displayDensity","data","removable","remove","dragOver","dragLeave","dragDrop","moveStart","moveEnd","click"],["igxPrefix",""],["igxSuffix","",4,"ngIf"],["igxSuffix",""],["igxDrop","",1,"igx-grid__tr-pivot",3,"pointerdown","dropped","igxDragLeave"],["pivotValueContainer",""],["valueArea",""],["notifyValueChip",""],[3,"draggable","id","data","displayDensity","removable","remove","dragLeave","dragOver","dragDrop"],["currChip",""],["igxPrefix","",1,"igx-grid__tr-pivot-toggle-icons",3,"igxDropDownItemNavigation","click","pointerdown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"draggable","id","displayDensity","data","removable","remove","dragLeave","dragDrop","dragOver","moveStart","moveEnd","click"],[3,"ngClass","ngStyle","column","pointerdown"],[1,"igx-grid-thead__group","igx-grid-thead--virtualizationContainer"],["igxGridFor","",3,"igxGridForOf","igxGridForOfUniqueSizeCache","igxForScrollContainer","igxForContainerSize","igxForTrackBy","igxForSizePropName","igxForScrollOrientation"],["headerVirtualContainer",""],[3,"ngClass","ngStyle","column"],[3,"selected","value"],[3,"id","displayDensity","removable","selectable","selected","remove","chipClick"],[3,"id","draggable","displayDensity","removable","remove"]],template:function(e,t){if(1&e){let e=Rh();Ch(0,"div")(1,"div",0)(2,"div",1)(3,"div",2),yh(4,cZ,10,10,"div",3),Ch(5,"div",4),Fh("igxDragLeave",(function(i){Bs(e);let n=xh(14);return zs(t.onAreaDragLeave(i,n))}))("dropped",(function(i){Bs(e);let n=xh(14);return zs(t.onDimDrop(i,n,0))})),Sh()(),Ch(6,"div",5),yh(7,fZ,9,5,"div",6),yh(8,SZ,9,5,"div",7),Sh()()(),Ch(9,"div",8)(10,"div",1)(11,"div",9,10),Fh("igxDragLeave",(function(i){Bs(e);let n=xh(14);return zs(t.onAreaDragLeave(i,n))}))("dropped",(function(i){Bs(e);let n=xh(14);return zs(t.onDimDrop(i,n,0))}))("pointerdown",(function(e){return e.preventDefault()})),Ch(13,"igx-chips-area",11,12),yh(15,AZ,6,5,"ng-container",13),Sh()(),yh(16,kZ,3,3,"ng-container",13),Ch(17,"div",14),yh(18,FZ,3,11,"div",15),Sh(),yh(19,MZ,3,3,"ng-container",13),Sh()()(),bh(20,"div",16),Ch(21,"igx-drop-down",17,18),Fh("selectionChanging",(function(e){return t.onAggregationChange(e)})),yh(23,VZ,2,3,"igx-drop-down-item",19),Sh(),Ch(24,"div",20)(25,"igx-grid-excel-style-filtering",21,22)(27,"div",23)(28,"igx-chips-area",null,24),yh(30,NZ,2,6,"igx-chip",25),Sh()(),Ch(31,"igx-excel-style-filter-operations"),bh(32,"igx-excel-style-search"),Sh()()(),Ch(33,"div",26)(34,"igx-chips-area",11,27),yh(36,LZ,4,5,"igx-chip",28),Sh()(),yh(37,HZ,1,2,"ng-template",null,29,jg)}2&e&&(tc(1),tu("width",t.width,"px"),tc(1),tu("width",t.width,"px"),tc(2),_h("ngIf",t.grid.showPivotConfigurationUI),tc(3),_h("ngIf",t.grid.showPivotConfigurationUI),tc(1),_h("ngIf",t.grid.showPivotConfigurationUI),tc(1),tu("width",t.width,"px"),iu("igx-grid__tr--mrl",t.hasMRL),ph("aria-activedescendant",t.activeDescendant),tc(1),tu("width",t.width,"px"),tc(1),tu("width",t.grid.pivotRowWidths-1,"px"),tc(4),_h("ngIf",t.grid.showPivotConfigurationUI),tc(1),_h("ngIf",t.pinnedColumnCollection.length&&t.grid.isPinningToStart),tc(1),tu("max-height",t.maxContainerHeight,"px"),tc(1),_h("ngForOf",t.columnDimensionsByLevel),tc(1),_h("ngIf",t.pinnedColumnCollection.length&&!t.grid.isPinningToStart),tc(1),tu("width",t.grid.scrollSize,"px"),_h("hidden",!t.grid.hasVerticalScroll()),tc(3),_h("ngForOf",t.aggregateList),tc(1),_h("hidden",!0),tc(1),_h("maxHeight",t.grid.excelStyleFilterMaxHeight)("minHeight",t.grid.excelStyleFilterMinHeight),tc(5),_h("ngForOf",t.filterDropdownDimensions),tc(6),_h("ngForOf",t.grid.filterDimensions))},dependencies:[$m,eA,gP,zm,hP,XI,DI,xO,EI,fI,Zm,LG,Bm,Xm,vA,HR,FR,pz,uz,gz,KB,kz,Oz,I$],encapsulation:2,changeDetection:0}),e})(),zZ=(()=>{let e=class e{static instance(){return this._instance||(this._instance=new e)}process(e,t,i){return e}};return e._instance=null,e})(),GZ=(()=>{let e=class e{static instance(){return this._instance||(this._instance=new e)}process(e,t,i,n,r=Dk){let s,o,a=[],l=QS(t,!0);if(Ik.assignLevels(l),0===l.length)return s=Ik.getFieldsHierarchy(e,[{memberName:"",enabled:!0}],Ek.Row,r,n),o=Ik.processHierarchy(s,r,0,!0),o;for(let t of l)o?Ik.processGroups(o,t,r,n):(s=Ik.getFieldsHierarchy(e,[t],Ek.Row,r,n),o=Ik.processHierarchy(s,r,0,!0),a.push(t));return o}};return e._instance=null,e})(),$Z=(()=>{let e=class e{static instance(){return this._instance||(this._instance=new e)}process(e,t,i,n,r=Dk){return this.processHierarchy(e,t,i,r,n)}processHierarchy(e,t,i,n,r){let s=[];return e.forEach((e=>{this.groupColumns(e,t,i,n,r),s.push(e)})),s}groupColumns(e,t,i,n,r){let s=e.children;s&&s.size>0&&s.forEach((e=>{e&&e.forEach((e=>{this.groupColumns(e,t,i,n,r)}))})),this.applyAggregates(e,t,i,n,r)}applyAggregates(e,t,i,n,r){let s=this.getLeafs(e.records,n),o=Ik.getFieldsHierarchy(s,t,Ek.Column,n,r);Ik.applyAggregations(e,o,i,n)}getLeafs(e,t){let i=[];for(let n of e)n[t.records]?i=i.concat(this.getLeafs(n[t.records],t)):i.push(n);return i}};return e._instance=null,e})(),WZ=class extends Jb{constructor(e){super(),this.fields=e}getFieldValue(e,t,i=!1,n=!1,r){let s=r.allDimensions.filter((e=>e&&e.enabled)),o=Ik.flatten(s).find((e=>e.memberName===t));return o.childLevel?this._getDimensionValueHierarchy(o,e).map((e=>"["+e+"]")).join("."):Ik.extractValueFromDimension(o,e)}getFilterItems(e,t){let i=e.grid,n=i.allDimensions.filter((e=>e&&e.enabled)),r=e.grid.gridAPI.filterDataByExpressions(t),s=n.find((t=>t.memberName===e.field)),o=Ik.getFieldsHierarchy(r,[s],Ek.Column,i.pivotKeys,i.pivotValueCloneStrategy),a=i.pivotConfiguration.columnStrategy instanceof zZ||i.pivotConfiguration.rowStrategy instanceof zZ?[{value:""}]:this._getFilterItems(o,i.pivotKeys);return Promise.resolve(a)}_getFilterItems(e,t){let i=[];return e.forEach((e=>{let n=e.value,r=n.split(t.columnDimensionSeparator),s=r.length>1?r.map((e=>"["+e+"]")).join("."):n,o=r[r.length-1];i.push({value:s,label:o,children:this._getFilterItems(e.children,t)})})),i}_getDimensionValueHierarchy(e,t){let i=[],n=Ik.extractValueFromDimension(e,t);if(i.push(n),e.childLevel){let n=this._getDimensionValueHierarchy(e.childLevel,t);i=i.concat(n)}return i}},KZ=(()=>{let e=class extends mj{get lastRowDimensionsIndex(){return this.grid.rowDimensions.length-1}focusOutRowHeader(){this.isRowHeaderActive=!1}handleNavigation(e){if(this.isRowHeaderActive){let t=e.key.toLowerCase(),i=e.ctrlKey;if(!mb.has(t))return;e.preventDefault();let n={row:this.activeNode.row,column:this.activeNode.column,level:null,mchCache:null,layout:null};(t.includes("left")||"home"===t)&&this.activeNode.column>0&&(n.column=i||"home"===t?0:this.activeNode.column-1),(t.includes("right")||"end"===t)&&this.activeNode.column<this.lastRowDimensionsIndex&&(n.column=i||"end"===t?this.lastRowDimensionsIndex:this.activeNode.column+1);let r=this.grid.verticalRowDimScrollContainers.toArray()[n.column];if(t.includes("up")&&this.activeNode.row>0&&(n.row=i?0:this.activeNode.row-1),t.includes("down")&&this.activeNode.row<this.findLastDataRowIndex()&&(n.row=i?r.igxForOf.length-1:Math.min(this.activeNode.row+1,r.igxForOf.length-1)),t.includes("left")||t.includes("right")){let e=this.activeNode.row,t=this.grid.verticalRowDimScrollContainers.toArray()[this.activeNode.column].getScrollForIndex(e);n.row=this.activeNode.mchCache&&this.activeNode.mchCache.level===n.column?this.activeNode.mchCache.visibleIndex:r.getIndexAtScroll(t),n.mchCache={visibleIndex:this.activeNode.row,level:this.activeNode.column}}this.setActiveNode(n),r.isIndexOutsideView(n.row)&&r.scrollTo(n.row)}else super.handleNavigation(e)}focusTbody(e){this.activeNode&&null!==this.activeNode.row&&void 0!==this.activeNode.row?super.focusTbody(e):this.activeNode=this.lastActiveNode}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.prov=Zi({token:e,factory:e.fac}),e})(),jZ=(()=>{let e=class extends Fz{getColumnHeaderRenderedWidth(){return this.rowHeaderGroup.header.nativeElement.getBoundingClientRect().width}_handlePixelResize(e,t){let i=this.rowHeaderGroup.parent.rootDimension;if(!i)return;let n=parseFloat(t.width),r=t.minWidthPx,s=t.maxWidthPx,o=n;o=n+e<r?r:s&&n+e>s?s:n+e,this.rowHeaderGroup.grid.resizeRowDimensionPixels(i,o)}_handlePercentageResize(){}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.prov=Zi({token:e,factory:e.fac}),e})(),UZ=(()=>{let e=class extends Yz{clearFilter(e){this.clear_filter(e)}clear_filter(e){super.clear_filter(e);let t=this.grid,i=t.allDimensions,n=Ik.flatten(i).find((t=>t.memberName===e));n.filter=void 0,t.filteringPipeTrigger++,-1!==i.indexOf(n)&&t.setupColumns()}filter_internal(e,t,i,n){super.filter_internal(e,t,i,n);let r=this.grid,s=r.pivotConfiguration,o=Ik.flatten(s.rows.concat(s.columns).concat(s.filters).filter((e=>null!=e))),a=o.filter((e=>e&&e.enabled)).find((t=>t.memberName===e||t.member===e)),l=a.filter||new qb(Yb.And),d=l.findIndex(e);d>-1&&l.filteringOperands.splice(d,1),this.prepare_filtering_expression(l,e,t,i,n,d),a.filter=l,r.filteringPipeTrigger++,r.filterStrategy=r.filterStrategy??new WZ,-1!==o.indexOf(a)&&r.setupColumns()}toggleFiltersESF(e,t,i,n){let r=i.filteringExpressionsTree?"igx-excel-filter__icon--filtered":"igx-excel-filter__icon",s=t.querySelector(`.${r}`)||t,{id:o,ref:a}=this.grid.createFilterESF(e,i,f(m({},this._filterMenuOverlaySettings),{target:s}),n);this.filtersESFId=o,n&&(this._overlayService.opening.pipe(fi((e=>e.id===o)),Si(this.destroy$)).subscribe((()=>this.lastActiveNode=this.grid.navigation.activeNode)),this._overlayService.closed.pipe(fi((e=>e.id===o)),Si(this.destroy$)).subscribe((()=>{this._overlayService.detach(o),a?.destroy(),this.grid.navigation.activeNode=this.lastActiveNode,this.grid.theadRow.nativeElement.focus()})),this.grid.columnPinned.pipe(fi()).subscribe((()=>a?.destroy())),this._overlayService.show(o))}hideESF(){this._overlayService.hide(this.filtersESFId)}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.prov=Zi({token:e,factory:e.fac}),e})();function qZ(e,t){if(1&e&&(Ch(0,"span",6),fu(1),Sh()),2&e){let e=Vh();_h("title",e.title),tc(1),vu(e.column.header||e.column.field)}}function YZ(e,t){1&e&&(Ch(0,"igx-icon"),fu(1,"more_vert"),Sh())}function XZ(e,t){if(1&e&&(Ch(0,"igx-icon"),fu(1),Sh()),2&e){let e=Vh();tc(1),vu(e.sortDirection<2?"arrow_upward":"arrow_downward")}}function ZZ(e,t){1&e&&Th(0)}function QZ(e,t){1&e&&Th(0)}var JZ=function(e){return{$implicit:e}};function eQ(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"div",8),Fh("pointerdown",(function(t){return Bs(e),zs(Vh(2).onPointerDownIndicator(t))}))("click",(function(t){return Bs(e),zs(Vh(2).onSortingIconClick(t))})),ag(2,"sortingIndex"),yh(3,QZ,1,0,"ng-container",4),Sh(),Ih()}if(2&e){let e=Vh(2);tc(1),ph("data-sortIndex","single"===e.grid.sortingOptions.mode&&e.grid.sortingExpressions.length<=1?null:dg(2,3,e.column.field,e.grid.sortingExpressions)),tc(2),_h("ngTemplateOutlet",e.sortIconTemplate)("ngTemplateOutletContext",ju(6,JZ,e))}}function tQ(e,t){1&e&&Th(0)}function iQ(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"div",9),Fh("pointerdown",(function(t){return Bs(e),zs(Vh(2).onPointerDownIndicator(t))}))("click",(function(t){return Bs(e),zs(Vh(2).onFilteringIconClick(t))})),yh(2,tQ,1,0,"ng-container",4),Sh(),Ih()}if(2&e){let e=Vh(2);tc(1),_h("ngClass",e.filterIconClassName),tc(1),_h("ngTemplateOutlet",e.esfIconTemplate)("ngTemplateOutletContext",ju(3,JZ,e))}}function nQ(e,t){if(1&e&&(Eh(0),Ch(1,"div",7),yh(2,eQ,4,8,"ng-container",5),yh(3,iQ,3,5,"ng-container",5),Sh(),Ih()),2&e){let e=Vh();tc(2),_h("ngIf",e.column.sortable&&!e.disabled),tc(1),_h("ngIf",e.grid.allowFiltering&&e.column.filterable&&"excelStyleFilter"===e.grid.filterMode)}}var rQ=function(e,t){return{$implicit:e,column:t}},sQ=(()=>{let e=class extends Uz{constructor(e,t,i,n){super(e,t,i,n),this.colResizingService=t,this.refInstance=n}onClick(e){e.preventDefault()}get selectable(){return!1}};return e.fac=function(t){return new(t||e)(nc(hk),nc(jZ),nc(fp),nc(wd))},e.cmp=tr({type:e,selectors:[["igx-pivot-row-dimension-header"]],hostBindings:function(e,t){1&e&&Fh("click",(function(e){return t.onClick(e)}))},standalone:!0,features:[th,Wu],decls:9,vars:6,consts:[["defaultColumn",""],["defaultESFHeaderIconTemplate",""],["defaultSortHeaderIconTemplate",""],[1,"igx-grid-th__title"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[3,"title"],[1,"igx-grid-th__icons"],[1,"sort-icon",3,"pointerdown","click"],[3,"ngClass","pointerdown","click"]],template:function(e,t){if(1&e&&(yh(0,qZ,2,2,"ng-template",null,0,jg),yh(2,YZ,2,0,"ng-template",null,1,jg),yh(4,XZ,2,1,"ng-template",null,2,jg),Ch(6,"span",3),yh(7,ZZ,1,0,"ng-container",4),Sh(),yh(8,nQ,4,2,"ng-container",5)),2&e){let e=xh(1);tc(7),_h("ngTemplateOutlet",t.column.headerTemplate?t.column.headerTemplate:e)("ngTemplateOutletContext",Uu(3,rQ,t.column,t.column)),tc(1),_h("ngIf",!t.column.columnGroup)}},dependencies:[XI,Zm,$m,Bm,Rz],encapsulation:2,changeDetection:0}),e})(),oQ=(()=>{let e=class extends hG{set pivotColumn(e){this.column=e}get pivotColumn(){return this.column}constructor(e,t,i){super(e,t,i),this.colResizingService=i}onDoubleClick(){this._dblClick=!0,this.initResizeService(),this.rowHeaderGroup.grid.autoSizeRowDimension(this.rowHeaderGroup.parent.rootDimension)}initResizeService(e=null){super.initResizeService(e),this.colResizingService.rowHeaderGroup=this.rowHeaderGroup}};return e.fac=function(t){return new(t||e)(nc(Vd),nc(wd),nc(jZ))},e.dir=or({type:e,selectors:[["","igxPivotResizeHandle",""]],inputs:{pivotColumn:["igxPivotResizeHandle","pivotColumn"],rowHeaderGroup:["igxPivotResizeHandleHeader","rowHeaderGroup"]},standalone:!0,features:[th]}),e})();function aQ(e,t){if(1&e&&(Ch(0,"span",3),fu(1),Sh()),2&e){let e=Vh();_h("title",e.title),tc(1),vu(e.column.header)}}function lQ(e,t){if(1&e&&(Ch(0,"igx-icon"),fu(1),Sh()),2&e){let e=Vh();tc(1),vu(e.column.expanded?"expand_more":"chevron_right")}}function dQ(e,t){1&e&&bh(0,"span",9)}function cQ(e,t){1&e&&bh(0,"igx-grid-filtering-cell",10),2&e&&(_h("column",Vh(2).column),ph("draggable",!1))}function hQ(e,t){if(1&e&&bh(0,"span",11),2&e){let e=Vh(2);tu("cursor",e.colResizingService.resizeCursor),_h("igxPivotResizeHandle",e.column)("igxPivotResizeHandleHeader",e),ph("draggable",!1)}}function uQ(e,t){1&e&&bh(0,"span",12)}function gQ(e,t){if(1&e){let e=Rh();Eh(0),yh(1,dQ,1,0,"span",4),Ch(2,"igx-pivot-row-dimension-header",5),Fh("pointerdown",(function(t){return Bs(e),zs(Vh().pointerdown(t))})),ag(3,"igxHeaderGroupStyle"),Sh(),yh(4,cQ,1,2,"igx-grid-filtering-cell",6),yh(5,hQ,1,5,"span",7),yh(6,uQ,1,0,"span",8),Ih()}if(2&e){let e=Vh();tc(1),_h("ngIf",e.grid.hasMovableColumns),tc(1),_h("id",e.grid.id+"_"+e.column.field)("ngClass",e.column.headerClasses)("ngStyle",cg(3,13,e.column.headerStyles,e.column,e.grid.pipeTrigger))("igxColumnMovingDrag",e.column)("ghostHost",e.grid.outlet.nativeElement)("igxColumnMovingDrop",e.column)("column",e.column)("density",e.grid.displayDensity),ph("droppable",!0),tc(2),_h("ngIf",e.grid.allowFiltering&&"quickFilter"===e.grid.filterMode),tc(1),_h("ngIf",!e.column.columnGroup&&e.column.resizable),tc(1),_h("ngIf",e.grid.hasMovableColumns)}}var pQ=(()=>{let e=class extends LG{constructor(e,t,i,n,r,s,o){super(e,t,i,n,r,s),this.cdRef=e,this.grid=t,this.elementRef=i,this.colResizingService=n,this.zone=o,this.userSelect="none"}get headerID(){return`${this.grid.id}_-2_${this.rowIndex}_${this.visibleIndex}`}get title(){return this.column.header}onClick(e){if("none"===this.grid.rowSelection)return;e?.stopPropagation();let t=this.parent.getRowDimensionKey(this.column);this.grid.selectionService.isRowSelected(t)?this.grid.selectionService.deselectRow(t,e):this.grid.selectionService.selectRowById(t,!0,e),this.zone.run((()=>{}))}get visibleIndex(){let e=this.column.field,t=this.grid.rowDimensions,i=this.findRootDimension(e);return t.indexOf(i)}get active(){let e=this.grid.navigation,t=e.activeNode;return!(!t||this.column.columnGroup)&&e.isRowHeaderActive&&t.row===this.rowIndex&&t.column===this.visibleIndex}get activeNode(){return this.grid.navigation.isRowHeaderActive=!0,{row:this.rowIndex,column:this.visibleIndex,level:null,mchCache:null,layout:null}}findRootDimension(e){let t,i=this.grid.rowDimensions,n=null;return i.forEach((i=>{t=i;do{t.memberName===e&&(n=i),t=t.childLevel}while(t)})),n}activate(){this.grid.navigation.isRowHeader=!0,this.grid.navigation.setActiveNode(this.activeNode)}pointerdown(e){this.activate()}onMouseDown(e){this.activate()}get selectable(){return!1}};return e.fac=function(t){return new(t||e)(nc(fp),nc(hk),nc(wd),nc(jZ),nc(Yz),nc(ob),nc(Vd))},e.cmp=tr({type:e,selectors:[["igx-pivot-row-dimension-header-group"]],viewQuery:function(e,t){if(1&e&&Bg(sQ,5),2&e){let e;Hg(e=Gg())&&(t.header=e.first)}},hostVars:6,hostBindings:function(e,t){1&e&&Fh("click",(function(e){return t.onClick(e)})),2&e&&(ph("id",t.headerID)("title",t.title),tu("user-select",t.userSelect),iu("igx-grid-th--active",t.active))},inputs:{rowIndex:"rowIndex",parent:"parent"},standalone:!0,features:[th,Wu],decls:5,vars:1,consts:[["defaultColumn",""],["defaultCollapseIndicator",""],[4,"ngIf"],[1,"igx-grid-th__group-title",3,"title"],["class","igx-grid-th__drop-indicator-left",4,"ngIf"],["role","columnheader",1,"igx-grid-th--fw",3,"id","ngClass","ngStyle","igxColumnMovingDrag","ghostHost","igxColumnMovingDrop","column","density","pointerdown"],[3,"column",4,"ngIf"],["class","igx-grid-th__resize-handle",3,"igxPivotResizeHandle","igxPivotResizeHandleHeader","cursor",4,"ngIf"],["class","igx-grid-th__drop-indicator-right",4,"ngIf"],[1,"igx-grid-th__drop-indicator-left"],[3,"column"],[1,"igx-grid-th__resize-handle",3,"igxPivotResizeHandle","igxPivotResizeHandleHeader"],[1,"igx-grid-th__drop-indicator-right"]],template:function(e,t){1&e&&(yh(0,aQ,2,2,"ng-template",null,0,jg),yh(2,lQ,2,1,"ng-template",null,1,jg),yh(4,gQ,7,17,"ng-container",2)),2&e&&(tc(4),_h("ngIf",!t.column.columnGroup))},dependencies:[XI,$m,sQ,Bm,Xm,fz,uG,cG,oQ,Oz],encapsulation:2,changeDetection:0}),e})(),mQ=["headerTemplate"],fQ=["headerDefaultTemplate"];function yQ(e,t){if(1&e){let e=Rh();Ch(0,"div")(1,"igx-icon",5),Fh("click",(function(t){return Bs(e),zs(Vh().toggleRowDimension(t))})),fu(2),Sh(),fu(3),Sh()}if(2&e){let e=t.$implicit,i=Vh();wu("igx-grid__tr--header igx-grid__row-indentation--level-",i.getLevel(),""),tc(1),ph("draggable",!1),tc(1),xu(" ",i.getExpandState()?"expand_more":"chevron_right",""),tc(1),xu(" ",e.header," ")}}function vQ(e,t){if(1&e&&(Ch(0,"div",6),bh(1,"igx-icon",7),fu(2),Sh()),2&e){let e=t.$implicit;wu("igx-grid__tr--header igx-grid__row-indentation--level-",Vh().getLevel(),""),tc(1),ph("draggable",!1),tc(1),xu(" ",e.header," ")}}var xQ=(()=>{let e=class extends cW{constructor(e,t,i,n,r,s){super(t,r),this.grid=e,this.injector=i,this.envInjector=n,this.viewRef=s}get rowDimensionColumn(){return this.rowDimensionData?.column}ngOnChanges(e){e.rowData&&(this.rowDimensionData=null,this.viewRef.clear(),this.extractFromDimensions(),this.viewRef.clear()),e.width&&this.rowDimensionData&&(this.rowDimensionData.column.width=this.grid.rowDimensionWidthToPixels(this.rootDimension)+"px")}toggleRowDimension(e){this.grid.toggleRow(this.getRowDimensionKey()),e?.stopPropagation()}getRowDimensionKey(){let e=this.rowDimensionData;return Ik.getRecordKey(this.rowData,e.dimension)}getExpandState(){return this.grid.gridAPI.get_row_expansion_state(this.getRowDimensionKey())}getLevel(){return this.dimension.level}extractFromDimensions(){let e=this.extractFromDimension(this.dimension,this.rowData);this.rowDimensionData={column:e,dimension:this.dimension,prevDimensions:[]}}extractFromDimension(e,t){let i=e.memberName,n=t?.dimensionValues.get(i);return this._createColComponent(i,n,e)}_createColComponent(e,t,i){let n=Pp(aM,{environmentInjector:this.envInjector,elementInjector:this.injector});return n.instance.field=e,n.instance.header=t,n.instance.width=this.grid.rowDimensionWidthToPixels(this.rootDimension)+"px",n.instance.resizable=this.grid.rowDimensionResizing,n.instance._vIndex=this.grid.columns.length+this.rowIndex+this.rowIndex*this.grid.pivotConfiguration.rows.length,i.childLevel?n.instance.headerTemplate=this.headerTemplate:n.instance.headerTemplate=this.headerTemplateDefault,n.instance}};return e.fac=function(t){return new(t||e)(nc(hk),nc(wd),nc(Rd),nc(id),nc(fp),nc(Cg))},e.cmp=tr({type:e,selectors:[["igx-pivot-row-dimension-content"]],viewQuery:function(e,t){if(1&e&&(Bg(mQ,7,yg),Bg(fQ,7,yg),Bg(pQ,5)),2&e){let e;Hg(e=Gg())&&(t.headerTemplate=e.first),Hg(e=Gg())&&(t.headerTemplateDefault=e.first),Hg(e=Gg())&&(t.headerGroups=e)}},inputs:{rowIndex:"rowIndex",dimension:"dimension",rootDimension:"rootDimension",rowData:"rowData"},standalone:!0,features:[th,fs,Wu],decls:10,vars:27,consts:[["role","rowgroup",1,"igx-grid-thead__wrapper"],["role","row",1,"igx-grid__tr","igx-grid__tr-header-row"],[3,"ngClass","ngStyle","column","rowIndex","parent"],["headerTemplate",""],["headerDefaultTemplate",""],[2,"--component-size","3",3,"click"],[2,"--component-size","3"],[2,"flex-shrink","0"]],template:function(e,t){1&e&&(Ch(0,"div",0)(1,"div",1)(2,"igx-pivot-row-dimension-header-group",2),ag(3,"igxHeaderGroupWidth"),ag(4,"igxHeaderGroupWidth"),ag(5,"igxHeaderGroupStyle"),Sh()()(),yh(6,yQ,4,6,"ng-template",null,3,jg),yh(8,vQ,3,5,"ng-template",null,4,jg)),2&e&&(tu("width",t.width,"px"),iu("igx-grid__tr--mrl",t.hasMRL),tc(1),tu("width",t.width,"px"),tc(1),tu("min-width",cg(3,15,t.grid.rowDimensionWidthToPixels(t.rootDimension),t.grid.defaultHeaderGroupMinWidth,t.hasMRL))("flex-basis",cg(4,19,t.grid.rowDimensionWidthToPixels(t.rootDimension),t.grid.defaultHeaderGroupMinWidth,t.hasMRL)),_h("ngClass",t.rowDimensionColumn.headerGroupClasses)("ngStyle",cg(5,23,t.rowDimensionColumn.headerGroupStyles,t.rowDimensionColumn,t.grid.pipeTrigger))("column",t.rowDimensionColumn)("rowIndex",t.rowIndex)("parent",t))},dependencies:[pQ,Bm,Xm,XI,kz,Oz],encapsulation:2,changeDetection:0}),e})(),_Q=(()=>{let e=class extends zK{constructor(e){super(e),this.colResizingService=e}};return e.fac=function(t){return new(t||e)(nc(jZ))},e.cmp=tr({type:e,selectors:[["igx-pivot-grid-column-resizer"]],standalone:!0,features:[th,Wu],decls:1,vars:7,consts:[["igxResizer","",1,"igx-grid-th__resize-line",3,"restrictHResizeMax","restrictHResizeMin","restrictResizerTop","resizeEnd"]],template:function(e,t){1&e&&(Ch(0,"div",0),Fh("resizeEnd",(function(e){return t.colResizingService.resizeColumn(e)})),Sh()),2&e&&(tu("left",-99999,"px")("height",t.colResizingService.resizerHeight,"px"),_h("restrictHResizeMax",t.colResizingService.restrictResizeMax)("restrictHResizeMin",t.colResizingService.restrictResizeMin)("restrictResizerTop",t.restrictResizerTop))},dependencies:[BK],encapsulation:2,changeDetection:0}),e})(),wQ=(()=>{let e=class extends kb{static instance(){return this._instance||(this._instance=new this)}sort(e,t,i,n,r,s,o,a){let l=i===Rb.Desc?-1:1;return this.arraySort(e,((e,i)=>this.compareObjects(e,i,t,l,n,this.getFieldValue,s,o)))}getFieldValue(e,t,i=!1,n=!1){return e.aggregationValues.get(t)}};return e._instance=null,e})(),CQ=(()=>{let e=class extends kb{static instance(){return this._instance||(this._instance=new this)}sort(e,t,i,n,r,s,o,a){let l=t,d=a.allDimensions.filter((e=>e&&e.enabled));this.dimension=Ik.flatten(d).find((e=>e.memberName===l));let c=i===Rb.Desc?-1:1;return this.arraySort(e,((e,t)=>this.compareObjects(e,t,l,c,n,this.getFieldValue,s,o)))}getFieldValue(e,t,i=!1,n=!1){let r=Ik.extractValueFromDimension(this.dimension,e)||e[0];if(this.dimension.dataType===Wb.Date||this.dimension.dataType===Wb.DateTime){let e=ib(r);r=n&&e?(new Date).setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()):e}return r}};return e._instance=null,e})(),SQ=class{static generateDimensionSortingExpressions(e){let t=[];return Ik.flatten(e).forEach((e=>{e.sortDirection?t.push({dir:e.sortDirection,fieldName:e.memberName,strategy:CQ.instance()}):t.push({dir:Rb.None,fieldName:e.memberName,strategy:CQ.instance()})})),t}},bQ=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxPivotValueChip",""]],standalone:!0}),e})(),DQ=(()=>{let e=class{constructor(){}transform(e,t,i,n,r,s){let o=t.pivotKeys||Dk,a=t.rows?.filter((e=>e.enabled))||[],l=t.columns?.filter((e=>e.enabled))||[],d=t.values?.filter((e=>e.enabled))||[];if(0===a.length&&0===l.length&&0===d.length)return[];let c=t.rowStrategy||GZ.instance(),h=QS(e,!0);return c.process(h,a,t.values,i,o)}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"pivotGridRow",type:e,pure:!0,standalone:!0}),e})(),EQ=(()=>{let e=class{transform(e,t,i,n){let r=!1;return e.length>0&&(r=!this.isPivotRecord(e[0])),r?this.processCollectionToPivotRecord(t,e):e}isPivotRecord(e){return!!e.aggregationValues}processCollectionToPivotRecord(e,t){let i=e.pivotKeys||Dk,n=e.rows.filter((e=>e.enabled)),r=Ik.flatten(n),s=[];for(let n of t){let t={dimensionValues:new Map,aggregationValues:new Map,children:new Map,dimensions:[]},o=Object.keys(n);for(let s of o){let o=r.find((e=>e.memberName===s));if(o)t.dimensions.push(o),t.dimensionValues.set(s,n[s]);else if(-1!==s.indexOf(i.rowDimensionSeparator+i.records)){let r=s.slice(0,s.indexOf(i.rowDimensionSeparator+i.records)),o=n[s],a=this.processCollectionToPivotRecord(e,o);t.children.set(r,a)}else t.aggregationValues.set(s,n[s])}let a=Ik.flatten(e.rows);t.dimensions.sort(((e,t)=>a.indexOf(e)-a.indexOf(t))),s.push(t)}return s}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"pivotGridAutoTransform",type:e,pure:!0,standalone:!0}),e})(),IQ=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s){let o=t.rows?.filter((e=>e.enabled))||[],a=e?QS(e,!0):[];for(let e of o)Ik.flattenGroups(a,e,i,n);let l=o.length>0?a.filter((e=>e.dimensions.length===o.length)):a;return this.grid&&this.grid.setFilteredSortedData(l,!1),l}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"pivotGridRowExpansion",type:e,pure:!0,standalone:!0}),e})(),TQ=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n){if(0===e.length||0===t.rows.length)return e;let r,s=e?QS(e,!0):[],o=[],a=t.rows?.filter((e=>e.enabled)),l=[],d=a.indexOf(i);for(let e of s){let t=e.dimensions[d],i=Ik.getRecordKey(e,t);if(l.length>0&&r!==i){let e=l.length>1?l.length*this.grid.renderedRowHeight:void 0;l[0].height=e,l[0].rowSpan=l.length,o.push(l[0]),l=[]}l.push(e),r=i}if(l.length>0){let e=l.length>1?l.length*this.grid.rowHeight+(l.length-1)+1:void 0;l[0].height=e,l[0].rowSpan=l.length,o.push(l[0])}return o}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"pivotGridCellMerging",type:e,pure:!0,standalone:!0}),e})(),AQ=(()=>{let e=class{transform(e,t,i,n,r,s){let o=t.pivotKeys||Dk,a=t.columns?.filter((e=>e.enabled))||[],l=t.values?.filter((e=>e.enabled))||[],d=t.columnStrategy||$Z.instance(),c=QS(e,!0);return d.process(c,a,l,i,o)}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"pivotGridColumn",type:e,pure:!0,standalone:!0}),e})(),RQ=(()=>{let e=class{constructor(e){this.gridAPI=e}transform(e,t,i,n,r,s){let o={expressionsTree:Ik.buildExpressionTree(t),strategy:i||new WZ,advancedExpressionsTree:n};return qb.empty(o.expressionsTree)&&qb.empty(o.advancedExpressionsTree)?e:Xb.filter(QS(e,!0),o,this.gridAPI.grid)}};return e.fac=function(t){return new(t||e)(nc(jj,16))},e.pipe=ar({name:"pivotGridFilter",type:e,pure:!0,standalone:!0}),e})(),kQ=(()=>{let e=class{transform(e,t,i,n){let r;if(t.length){for(let e of t)e.strategy=wQ.instance();r=Ik.sort(QS(e,!0),t,i)}else r=e;return r}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"pivotGridColumnSort",type:e,pure:!0,standalone:!0}),e})(),OQ=(()=>{let e=class{constructor(e){this.gridAPI=e}transform(e,t,i,n){let r,s=(t.rows||[]).filter((e=>e&&e.enabled)),o=SQ.generateDimensionSortingExpressions(s);return r=o.length?Kb.sort(QS(e,!0),o,i,this.gridAPI.grid):e,r}};return e.fac=function(t){return new(t||e)(nc(jj,16))},e.pipe=ar({name:"pivotGridSort",type:e,pure:!0,standalone:!0}),e})(),FQ=(()=>{let e=class{transform(e,t,i){if(!e)return e;let n=e.slice(0);if(t&&t.length>0){let i=e=>{let n=e.member||e.memberName;return!!n&&(n.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>=0||(e.children?.some(i)??!1))};n=e.filter(i)}return n}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"filterPivotItems",type:e,pure:!0,standalone:!0}),e})(),PQ=(()=>{let e=class{transform(e,t,i,n,r,s){if(!e)return"";let o=[];for(let t of Object.keys(e)){let s=e[t];("function"==typeof s?s(i,n,vb(i,n.field),r):s)&&o.push(t)}return o.join(" ")}};return e.fac=function(t){return new(t||e)},e.pipe=ar({name:"igxPivotCellStyleClasses",type:e,pure:!0,standalone:!0}),e})(),MQ=function(e,t,i,n,r,s,o){return[e,t,i,n,r,s,o]},VQ=function(e,t,i,n,r,s){return[e,t,i,n,r,s]},NQ=function(e,t,i,n,r){return[e,t,i,n,r]};function LQ(e,t){if(1&e){let e=Rh();Ch(0,"igx-grid-cell",3,4),Fh("pointerdown",(function(t){return Bs(e),zs(Vh().grid.navigation.focusOutRowHeader(t))})),ag(2,"transactionState"),ag(3,"igxPivotCellStyleClasses"),ag(4,"igxCellStyles"),ag(5,"dataMapper"),Sh()}if(2&e){let e=t.$implicit,i=Vh();tu("min-height",i.cellHeight,"px")("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth),iu("igx-grid__td--edited",ug(2,30,Qu(58,MQ,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)("igx-grid__td--bool","boolean"===e.dataType),_h("ngClass",ug(3,38,Zu(66,VQ,i.getCellClass(e),i.data[e.field],i.data,i.getColumnData(e),i.viewIndex,i.grid.pipeTrigger)))("ngStyle",ug(4,45,Zu(73,VQ,e.cellStyles,i.pivotAggregationData[e.field],i.pivotAggregationData,e.field,i.viewIndex,i.grid.pipeTrigger)))("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("formatter",e.formatter)("intRow",i)("active",i.isCellActive(e.visibleIndex))("rowData",i.data)("columnData",i.getColumnData(e))("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",ug(5,52,Xu(80,NQ,i.pivotAggregationData[e.field],e.field,i.grid.pipeTrigger,i.pivotAggregationData[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function HQ(e,t){if(1&e&&(Ch(0,"div",5),bh(1,"igx-checkbox",6),Sh()),2&e){let e=Vh();tc(1),_h("tabindex",-1)("readonly",!0)("checked",e.selected)("disableRipple",!0)("disabled",e.deleted)("disableTransitions",e.grid.disableTransitions)("aria-label",e.rowCheckboxAriaLabel)}}var BQ=(()=>{let e=class extends kk{get selected(){let e=!1;for(let t of this.data.dimensions){let i=Ik.getRecordKey(this.data,t);this.selectionService.isPivotRowSelected(i)&&(e=!0)}return e}constructor(e,t,i,n,r){super(e,t,i,n),this.grid=e,this.viewRef=r,this.disabled=!1}get viewIndex(){return this.index}get addRowUI(){return!1}get inEditMode(){return!1}set pinned(e){}get pinned(){return!1}delete(){}beginAddRow(){}update(e){}pin(){return!1}unpin(){return!1}get data(){return this._data}set data(e){this._data=e}get pivotAggregationData(){let e=this.data.aggregationValues,t={};return e.forEach(((e,i)=>{t[i]=e})),t}getCellClass(e){let t=this.grid.values;if(1===t.length)return t[0].styles;let i=e.field.split(this.grid.pivotKeys.columnDimensionSeparator),n=i[i.length-1];return t.find((e=>e.member===n))?.styles}isCellActive(e){let t=this.grid.navigation,i=t.activeNode;return!(!i||0===Object.keys(i).length)&&!t.isRowHeaderActive&&super.isCellActive(e)}getColumnData(e){let t,i=e.field.split(this.grid.pivotKeys.columnDimensionSeparator),n=new Map,r=Ik.flatten(this.grid.columnDimensions);for(let e of r)n.set(e.memberName,i.shift());return t=this.grid.hasMultipleValues?this.grid.values.find((e=>e.member===i.shift())):this.grid.values?this.grid.values[0]:void 0,{field:e.field,dimensions:this.grid.columnDimensions,dimensionValues:n,value:t}}};return e.fac=function(t){return new(t||e)(nc(hk),nc(Tk),nc(wd),nc(fp),nc(Cg))},e.cmp=tr({type:e,selectors:[["igx-pivot-row"]],hostVars:1,hostBindings:function(e,t){2&e&&ph("aria-selected",t.selected)},inputs:{selected:"selected",data:"data"},standalone:!0,features:[Nu([{provide:kk,useExisting:$i((()=>e))}]),th,Wu],decls:5,vars:8,consts:[["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForSizePropName","igxForScrollOrientation","igxForContainerSize","igxForTrackBy"],["igxDirRef",""],["rowSelectorBaseTemplate",""],[1,"igx-grid__td","igx-grid__td--fw",3,"ngClass","ngStyle","editMode","column","formatter","intRow","active","rowData","columnData","width","visibleColumnIndex","value","cellTemplate","lastSearchInfo","cellSelectionMode","displayPinnedChip","pointerdown"],["cell",""],[1,"igx-grid__cbx-padding"],[3,"tabindex","readonly","checked","disableRipple","disabled","disableTransitions","aria-label"]],template:function(e,t){1&e&&(yh(0,LQ,6,86,"ng-template",0,1,jg),ag(2,"igxNotGrouped"),yh(3,HQ,2,7,"ng-template",null,2,jg)),2&e&&_h("igxGridForOf",lg(2,6,t.unpinnedColumns))("igxForScrollContainer",t.grid.parentVirtDir)("igxForSizePropName","calcPixelWidth")("igxForScrollOrientation","horizontal")("igxForContainerSize",t.grid.unpinnedWidth)("igxForTrackBy",t.grid.trackColumnChanges)},dependencies:[vA,sq,Bm,Xm,nk,E$,C$,O$,P$,PQ],encapsulation:2,changeDetection:0}),e})(),zQ=["record_template"],GQ=["headerTemplate"],$Q=["emptyPivotGridTemplate"],WQ=["verticalRowDimScrollContainer"];function KQ(e,t){1&e&&Th(0)}function jQ(e,t){1&e&&bh(0,"span",52),2&e&&(_h("igxColumnMovingDrop",Vh().headerContainer),ph("droppable",!0))}function UQ(e,t){if(1&e&&bh(0,"span",53),2&e){let e=Vh();tu("left",e.pinnedWidth,"px"),_h("igxColumnMovingDrop",e.headerContainer),ph("droppable",!0)}}function qQ(e,t){}function YQ(e,t){if(1&e){let e=Rh();yh(0,qQ,0,0,"ng-template",54),Fh("cachedViewLoaded",(function(t){return Bs(e),zs(Vh().cachedViewLoaded(t))}))}if(2&e){let e=t.$implicit,i=t.index,n=Vh();_h("igxTemplateOutlet",n.recordTemplate)("igxTemplateOutletContext",n.getContext(e,i))}}var XQ=function(e,t,i,n,r,s,o,a,l,d,c){return[e,t,i,n,r,s,o,a,l,!1,d,c]};function ZQ(e,t){if(1&e&&(bh(0,"igx-pivot-row",55,56),ag(2,"igxGridRowClasses"),ag(3,"igxGridRowStyles")),2&e){let e=t.index,i=t.$implicit,n=xh(1),r=Vh();tu("height",r.renderedRowHeight,"px"),_h("gridID",r.id)("index",e)("data",i)("ngClass",ug(2,7,eg(25,XQ,[r.rowClasses,n,n.inEditMode,n.selected,n.dirty,n.deleted,n.dragging,e,r.hasColumnLayouts,i,r.pipeTrigger])))("ngStyle",hg(3,20,r.rowStyles,i,e,r.pipeTrigger))}}function QQ(e,t){1&e&&Th(0)}function JQ(e,t){1&e&&bh(0,"igx-circular-bar",57),2&e&&_h("indeterminate",!0)}function eJ(e,t){1&e&&bh(0,"span",58),2&e&&(_h("igxColumnMovingDrop",Vh().headerContainer),ph("droppable",!0))}function tJ(e,t){}function iJ(e,t){}function nJ(e,t){if(1&e&&(Ch(0,"span",59)(1,"span"),fu(2),Sh()()),2&e){let e=Vh();tc(2),vu(e.emptyFilteredGridMessage)}}function rJ(e,t){if(1&e&&(Ch(0,"span",59)(1,"span"),fu(2),Sh()()),2&e){let e=Vh();tc(2),vu(e.emptyGridMessage)}}function sJ(e,t){1&e&&(Ch(0,"div",60),bh(1,"igx-circular-bar",57),Sh()),2&e&&(tc(1),_h("indeterminate",!0))}function oJ(e,t){1&e&&bh(0,"igx-pivot-grid-column-resizer",61),2&e&&_h("restrictResizerTop",Vh().theadRow.nativeElement.clientHeight)}function aJ(e,t){if(1&e){let e=Rh();Ch(0,"div",62)(1,"igx-icon",63),Fh("click",(function(){let t=Bs(e).$implicit;return zs(Vh().toggleColumn(t))})),fu(2),Sh(),fu(3),Sh()}if(2&e){let e=t.$implicit,i=Vh();tc(1),ph("draggable",!1),tc(1),xu(" ",i.getColumnGroupExpandState(e)?"chevron_right":"expand_more",""),tc(1),xu(" ",e.header," ")}}function lJ(e,t){if(1&e&&bh(0,"igx-pivot-row-dimension-content",69),2&e){let e=t.$implicit,i=t.index,n=Vh(),r=n.index,s=n.$implicit,o=Vh(2);tu("height",o.renderedRowHeight*(e.rowSpan||1),"px"),_h("grid",o)("dimension",e.dimensions[r])("rootDimension",s)("rowIndex",i)("rowData",e)("density",o.displayDensity)("width",o.rowDimensionWidthToPixels(s))}}function dJ(e,t){if(1&e){let e=Rh();Ch(0,"div",65,66),Fh("focus",(function(t){return Bs(e),zs(Vh(2).navigation.focusTbody(t))}))("keydown",(function(t){return Bs(e),zs(Vh(2).navigation.handleNavigation(t))})),yh(2,lJ,1,9,"ng-template",67,68,jg),ag(4,"pivotGridCellMerging"),Sh()}if(2&e){let e=t.$implicit,i=Vh(2);tu("height",i.totalHeight,"px"),tc(2),_h("igxGridForOf",hg(4,8,i.dataView,i.pivotConfiguration,e,i.pipeTrigger))("igxForScrollOrientation","vertical")("igxForScrollContainer",i.verticalScroll)("igxForContainerSize",i.calcHeight)("igxForItemSize",i.renderedRowHeight)("igxForSizePropName","height")}}function cJ(e,t){1&e&&yh(0,dJ,5,13,"div",64),2&e&&_h("ngForOf",Vh().rowDimensions)}function hJ(e,t){if(1&e){let e=Rh();Ch(0,"div",65,66),Fh("focus",(function(t){return Bs(e),zs(Vh(2).navigation.focusTbody(t))}))("keydown",(function(t){return Bs(e),zs(Vh(2).navigation.handleNavigation(t))})),bh(2,"igx-pivot-row-dimension-content",69),Sh()}if(2&e){let e=Vh(2);tc(2),_h("grid",e)("dimension",e.emptyRowDimension)("rootDimension",e.emptyRowDimension)("rowIndex",0)("rowData",e.dataView[0])("density",e.displayDensity)("width",e.rowDimensionWidthToPixels(e.emptyRowDimension))}}function uJ(e,t){if(1&e&&yh(0,hJ,3,7,"div",70),2&e){let e=Vh();_h("ngIf",e.columnDimensions.length>0||e.values.length>0)}}function gJ(e,t){if(1&e&&(Ch(0,"span",59)(1,"span"),fu(2),Sh()()),2&e){let e=Vh();tc(2),vu(e.resourceStrings.igx_grid_pivot_empty_message)}}var pJ=[[["igx-grid-toolbar"],["igc-grid-toolbar"]],[["igx-grid-footer"],["igc-grid-footer"]],[["igx-grid-state"],["igc-grid-state"]]],mJ=function(e,t,i,n,r,s){return[e,t,i,n,r,s]},fJ=function(e,t,i,n,r){return[e,t,i,n,r]},yJ=function(e){return{$implicit:e}},vJ=function(){return[]},xJ=0,_J=class extends Kj{get dimensionsSortingExpressions(){let e=this.rowDimensions.concat(this.columnDimensions);return SQ.generateDimensionSortingExpressions(e)}set pivotConfiguration(e){this._pivotConfiguration=e,this.emitInitEvents(this._pivotConfiguration),this.filteringExpressionsTree=Ik.buildExpressionTree(e),this._init||this.setupColumns(),this.notifyChanges(!0)}get pivotConfiguration(){return this._pivotConfiguration||{rows:null,columns:null,values:null,filters:null}}get superCompactMode(){return this._superCompactMode}set superCompactMode(e){Promise.resolve().then((()=>{this._superCompactMode=e,this.cdr.detectChanges()}))}get displayDensity(){return this.superCompactMode?AI:super.displayDensity}set displayDensity(e){let t=this._displayDensity;if(this._displayDensity=e,t!==this._displayDensity){let e={oldDensity:t,newDensity:this._displayDensity};this.densityChanged.emit(e)}}get pivotValueCloneStrategy(){return this._pivotValueCloneStrategy}set pivotValueCloneStrategy(e){e&&(this._pivotValueCloneStrategy=e)}get minColumnWidth(){return this.superCompactMode?104:200}get pivotKeys(){return this.pivotConfiguration.pivotKeys||Dk}get rootSummariesEnabled(){return!1}get emptyRowDimension(){return this._emptyRowDimension}get defaultExpandState(){return this._defaultExpandState}set defaultExpandState(e){this._defaultExpandState=e}get pagingMode(){}set pagingMode(e){}get hideRowSelectors(){}set hideRowSelectors(e){}get rowDraggable(){}set rowDraggable(e){}get allowAdvancedFiltering(){return!1}set allowAdvancedFiltering(e){}get filterMode(){return tD}set filterMode(e){}get allowFiltering(){return!1}set allowFiltering(e){}get page(){return 0}set page(e){}get perPage(){}set perPage(e){}get pinnedColumns(){return[]}get unpinnedColumns(){return super.unpinnedColumns}get unpinnedDataView(){return super.unpinnedDataView}get unpinnedWidth(){return super.unpinnedWidth}get pinnedWidth(){return super.pinnedWidth}set summaryRowHeight(e){}get summaryRowHeight(){return 0}get transactions(){return this._transactions}get dragIndicatorIconTemplate(){}set dragIndicatorIconTemplate(e){}get rowEditable(){}set rowEditable(e){}get pinning(){return{}}set pinning(e){}get summaryPosition(){}set summaryPosition(e){}get summaryCalculationMode(){}set summaryCalculationMode(e){}get showSummaryOnCollapse(){}set showSummaryOnCollapse(e){}get hiddenColumnsCount(){return null}get pinnedColumnsCount(){return null}get batchEditing(){}set batchEditing(e){}get selectedRows(){if(0===this.selectionService.getSelectedRows().length)return[];let e=[];return this.dataView.forEach((t=>{let i=[];for(let n of this.rowDimensions){let r=n,s=!1;do{let i=Ik.getRecordKey(t,r);if(this.selectionService.isPivotRowSelected(i)&&!e.find((e=>e===t))){e.push(t),s=!0;break}r=r.childLevel}while(r);if(i.push(n),s)break}})),e}get defaultRowHeight(){return this.superCompactMode?24:super.defaultRowHeight}constructor(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,y,v,x,_){super(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,y,v,x,_),this.dimensionsChange=new Pd,this.pivotConfigurationChange=new Pd,this.dimensionInit=new Pd,this.valueInit=new Pd,this.dimensionsSortingExpressionsChange=new Pd,this.valuesChange=new Pd,this.showPivotConfigurationUI=!0,this.role="grid",this.autoGenerateExclude=[],this.snackbarDisplayTime=6e3,this.cellEdit=new Pd,this.cellEditDone=new Pd,this.cellEditEnter=new Pd,this.cellEditExit=new Pd,this.columnMovingStart=new Pd,this.columnMoving=new Pd,this.columnMovingEnd=new Pd,this.columnPin=new Pd,this.columnPinned=new Pd,this.rowAdd=new Pd,this.rowAdded=new Pd,this.rowDeleted=new Pd,this.rowDelete=new Pd,this.rowDragStart=new Pd,this.rowDragEnd=new Pd,this.rowEditEnter=new Pd,this.rowEdit=new Pd,this.rowEditDone=new Pd,this.rowEditExit=new Pd,this.rowPinning=new Pd,this.rowPinned=new Pd,this.columnGroupStates=new Map,this.isPivot=!0,this.dragRowID=null,this.rowDimensionResizing=!0,this._emptyRowDimension={memberName:"",enabled:!0,level:0},this._pivotValueCloneStrategy=new Gb,this._defaultExpandState=!1,this._filterStrategy=new WZ,this._pivotConfiguration={rows:null,columns:null,values:null,filters:null},this.p_id="igx-pivot-grid-"+xJ++,this._superCompactMode=!1,this.autoGenerate=!0,this.moving=!1,this.toolbarExporting=new Pd}ngOnInit(){this.autoGenerate=!0,super.ngOnInit()}ngAfterContentInit(){this.updateColumns([]),Promise.resolve().then((()=>{this.setupColumns()})),this.valueChipTemplateDirective&&(this.valueChipTemplate=this.valueChipTemplateDirective.template)}ngAfterViewInit(){Promise.resolve().then((()=>{super.ngAfterViewInit()}))}notifyDimensionChange(e=!1){e&&this.setupColumns(),this.pipeTrigger++,this.cdr.detectChanges()}get allDimensions(){let e=this._pivotConfiguration;return e?(e.rows||[]).concat(e.columns||[]).concat(e.filters||[]).filter((e=>null!=e)):[]}createFilterESF(e,t,i,n){if(i.outlet=this.outlet,e){if(e.initialize(t,this.overlayService),n){let t=this.overlayService.attach(e.element,i);return e.overlayComponentId=t,{id:t,ref:void 0}}return{id:e.overlayComponentId,ref:void 0}}}featureColumnsWidth(){return this.pivotRowWidths}get id(){return this.p_id}set id(e){this.p_id=e}set data(e){this._data=e||[],this._init||(this.setupColumns(),this.reflow()),this.cdr.markForCheck(),(null===this.height||-1!==this.height.indexOf("%"))&&this.notifyChanges(!0)}get data(){return this._data}getContext(e,t){return{$implicit:e,templateID:{type:"dataRow",id:null},index:this.getDataViewIndex(t,!1)}}get pivotRowWidths(){return this.rowDimensions.length?this.rowDimensions.reduce(((e,t)=>e+this.rowDimensionWidthToPixels(t)),0):this.rowDimensionWidthToPixels(this.emptyRowDimension)}rowDimensionWidthToPixels(e,t=!1){return!t&&this.shouldGenerate?0:e.width?e.width&&-1!==e.width.indexOf("%")?parseFloat(e.width)/100*this.calcWidth:parseInt(e.width,10):200}reverseDimensionWidthToPercent(e){return 100*e/this.calcWidth}get pivotContentCalcWidth(){let e=this.rowDimensions.length>0?this.rowDimensions.map((e=>this.rowDimensionWidthToPixels(e))).reduce(((e,t)=>e+t)):0;return this.calcWidth-e}get pivotPinnedWidth(){return this.shouldGenerate?0:this.isPinningToStart?this.pinnedWidth:this.headerFeaturesWidth}get pivotUnpinnedWidth(){return this.shouldGenerate?0:this.unpinnedWidth}get rowDimensions(){return this.pivotConfiguration.rows?.filter((e=>e.enabled))||[]}get columnDimensions(){return this.pivotConfiguration.columns?.filter((e=>e.enabled))||[]}get filterDimensions(){return this.pivotConfiguration.filters?.filter((e=>e.enabled))||[]}get values(){return this.pivotConfiguration.values?.filter((e=>e.enabled))||[]}toggleColumn(e){let t=!this.columnGroupStates.get(e.field);this.columnGroupStates.set(e.field,t),this.toggleRowGroup(e,t),this.reflow()}getColumnWidthSum(){let e=super.getColumnWidthSum();return e+=this.rowDimensions.map((e=>this.rowDimensionWidthToPixels(e,!0))).reduce(((e,t)=>e+t),0),e}isRecordPinnedByIndex(e){return null}toggleColumnVisibility(e){}expandAll(){}collapseAll(){}expandRow(e){}collapseRow(e){}get pinnedRows(){}get totalRecords(){}set totalRecords(e){}moveColumn(e,t,i=nM.AfterDropTarget){}addRow(e){}deleteRow(e){}updateCell(e,t,i){}updateRow(e,t){}enableSummaries(...e){}disableSummaries(...e){}pinColumn(e,t){}unpinColumn(e,t){}pinRow(e,t,i){}unpinRow(e,t){}get pinnedRowHeight(){}get hasEditableColumns(){}get hasSummarizedColumns(){}get hasMovableColumns(){}get pinnedDataView(){return[]}openAdvancedFilteringDialog(e){}closeAdvancedFilteringDialog(e){}endEdit(e=!0,t){}beginAddRowById(e,t){}beginAddRowByIndex(e){}clearSearch(){}refreshSearch(e,t=!0){return 0}findNext(e,t,i){return 0}findPrev(e,t,i){return 0}getNextCell(e,t,i=null){return super.getNextCell(e,t,i)}getPreviousCell(e,t,i=null){return super.getPreviousCell(e,t,i)}getPinnedWidth(e=!1){return super.getPinnedWidth(e)}get totalHeight(){return this.calcHeight}getColumnGroupExpandState(e){return this.columnGroupStates.get(e.field)??!1}toggleRowGroup(e,t){if(e)if(this.hasMultipleValues){let i=e.parent?e.parent.children.toArray():this._autoGeneratedCols.filter((e=>0===e.level)),n=i.filter((t=>t.header===e.header&&t!==e))[0];i.indexOf(e)<i.indexOf(n)?(this.resolveToggle(e,t),n.headerTemplate=this.headerTemplate):(e.headerTemplate=void 0,this.resolveToggle(n,t))}else{let i=e.parent?e.parent.children:this._autoGeneratedCols.filter((e=>0===e.level)),n=i.filter((t=>t.header===e.header&&!t.columnGroup))[0],r=i.filter((t=>t.header===e.header&&t.columnGroup))[0];this.resolveToggle(r,t),n.headerTemplate=t?this.headerTemplate:void 0}}setupColumns(){super.setupColumns()}autoSizeRowDimension(e){if(this.getDimensionType(e)===Ek.Row){let t=Ik.flatten([e]).map((e=>e.memberName)),i=this.rowDimensionContentCollection.filter((e=>-1!==t.indexOf(e.dimension.memberName))).map((e=>e.headerGroups.toArray())).flat().map((e=>e.header&&e.header.refInstance)),n=this.getLargesContentWidth(i);e.width=n,this.pipeTrigger++,this.cdr.detectChanges()}}insertDimensionAt(e,t,i){let n=this.getDimensionsByType(t);void 0!==i?n.splice(i,0,e):n.push(e),t===Ek.Column&&this.setupColumns(),this.pipeTrigger++,this.dimensionsChange.emit({dimensions:n,dimensionCollectionType:t}),t===Ek.Filter&&(this.dimensionDataColumns=this.generateDimensionColumns(),this.reflow()),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration})}moveDimension(e,t,i){let n=this.getDimensionType(e);null!==n&&(this._removeDimensionInternal(e),this.insertDimensionAt(e,t,i),n===Ek.Column&&this.setupColumns())}removeDimension(e){let t=this.getDimensionType(e);this._removeDimensionInternal(e),t===Ek.Column&&this.setupColumns(),t===Ek.Filter&&this.reflow(),this.pipeTrigger++,this.cdr.detectChanges()}toggleDimension(e){let t=this.getDimensionType(e);if(null===t)return;let i=this.getDimensionsByType(t);e.enabled=!e.enabled,t===Ek.Column&&this.setupColumns(),!e.enabled&&e.filter&&this.filteringService.clearFilter(e.memberName),this.pipeTrigger++,this.dimensionsChange.emit({dimensions:i,dimensionCollectionType:t}),this.cdr.detectChanges(),t===Ek.Filter&&this.reflow(),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration})}insertValueAt(e,t){this.pivotConfiguration.values||(this.pivotConfiguration.values=[]);let i=this.pivotConfiguration.values;void 0!==t?i.splice(t,0,e):i.push(e),this.setupColumns(),this.pipeTrigger++,this.cdr.detectChanges(),this.valuesChange.emit({values:i}),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration})}moveValue(e,t){-1!==this.pivotConfiguration.values.indexOf(e)&&(this.removeValue(e),this.insertValueAt(e,t))}removeValue(e){let t=this.pivotConfiguration.values,i=t.indexOf(e);-1!==i&&(t.splice(i,1),this.setupColumns(),this.pipeTrigger++,this.valuesChange.emit({values:t}),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration}))}toggleValue(e){-1!==this.pivotConfiguration.values.indexOf(e)&&(e.enabled=!e.enabled,this.setupColumns(),this.pipeTrigger++,this.valuesChange.emit({values:this.pivotConfiguration.values}),this.reflow(),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration}))}sortDimension(e,t){let i=this.getDimensionType(e);e.sortDirection=t;let n=e;for(;n.childLevel;)n.childLevel.sortDirection=e.sortDirection,n=n.childLevel;this.pipeTrigger++,this.dimensionsSortingExpressionsChange.emit(this.dimensionsSortingExpressions),i===Ek.Column&&this.setupColumns(),this.cdr.detectChanges(),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration})}filterDimension(e,t,i){this.filteringService.filter(e.memberName,t,i),this.getDimensionType(e)===Ek.Column&&this.setupColumns(),this.cdr.detectChanges()}getDimensionsByType(e){switch(e){case Ek.Row:return this.pivotConfiguration.rows||(this.pivotConfiguration.rows=[]),this.pivotConfiguration.rows;case Ek.Column:return this.pivotConfiguration.columns||(this.pivotConfiguration.columns=[]),this.pivotConfiguration.columns;case Ek.Filter:return this.pivotConfiguration.filters||(this.pivotConfiguration.filters=[]),this.pivotConfiguration.filters;default:return null}}resizeRowDimensionPixels(e,t){e.width&&"string"==typeof e.width&&-1!==e.width.indexOf("%")?e.width=this.reverseDimensionWidthToPercent(t).toFixed(2)+"%":e.width=t+"px",this.pipeTrigger++,this.cdr.detectChanges()}_removeDimensionInternal(e){let t=this.getDimensionType(e);if(null===t)return;let i=this.getDimensionsByType(t),n=i.indexOf(e);i.splice(n,1),this.pipeTrigger++,this.cdr.detectChanges()}getDimensionType(e){return-1!==Ik.flatten(this.pivotConfiguration.rows).indexOf(e)?Ek.Row:-1!==Ik.flatten(this.pivotConfiguration.columns).indexOf(e)?Ek.Column:this.pivotConfiguration.filters&&-1!==Ik.flatten(this.pivotConfiguration.filters).indexOf(e)?Ek.Filter:null}getLargesContentWidth(e){let t=new Map;if(e.length>0){let i=[];e.forEach((e=>i.push(this.getHeaderCellWidth(e.nativeElement).width)));let n=i.indexOf(Math.max(...i)),r=this.document.defaultView.getComputedStyle(e[n].nativeElement),s=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth);t.set(Math.max(...i),s)}let i=Math.max(...Array.from(t.keys())),n=Math.ceil(i+t.get(i));return Number.isNaN(n)?null:n+"px"}get hasMultipleValues(){return this.values.length>1}get excelStyleFilterMaxHeight(){return 10*this.renderedRowHeight+"px"}get excelStyleFilterMinHeight(){return 5*this.renderedRowHeight+"px"}resolveToggle(e,t){if(!e)return;e.hidden=t,this.columnGroupStates.set(e.field,t);let i=this.hasMultipleValues?e.children.filter((e=>e.columnGroup&&e.children.filter((e=>!e.columnGroup)).length===this.values.length)):e.children.filter((e=>!e.columnGroup)),n=this.hasMultipleValues?e.children.filter((e=>e.columnGroup&&0===e.children.filter((e=>!e.columnGroup)).length)):e.children.filter((e=>e.columnGroup));i.forEach((e=>{this.columnGroupStates.get(e.field)||t?e.headerTemplate=this.headerTemplate:e.headerTemplate=void 0})),!e.hidden&&n.length>0&&n.forEach((e=>{let i=this.columnGroupStates.get(e.field)||t;this.resolveToggle(e,i)}))}calcGridHeadRow(){}buildDataView(e){this._dataView=e}getDataBasedBodyHeight(){return(this.dataView?.length||0)<this._defaultTargetRecordNumber?0:this.defaultTargetBodyHeight}horizontalScrollHandler(e){let t=e.target.scrollLeft;this.theadRow.headerContainers.forEach((e=>{e.onHScroll(t)})),super.horizontalScrollHandler(e)}verticalScrollHandler(e){this.verticalRowDimScrollContainers.forEach((t=>{t.onScroll(e)})),super.verticalScrollHandler(e)}autogenerateColumns(){let e=[],t=this.gridAPI.filterDataByExpressions(this.filteringExpressionsTree);this.dimensionDataColumns=this.generateDimensionColumns();let i,n=Ik.flatten(this.columnDimensions).filter((e=>e.sortDirection)),r=n.length>0?SQ.generateDimensionSortingExpressions(n):[],s=t;if(r.length>0&&(s=Kb.sort(QS(t),r,this.sortStrategy,this)),this.pivotConfiguration.columnStrategy&&this.pivotConfiguration.columnStrategy instanceof zZ){let e=this.generateDataFields(s);if(0===e.length)return;let t=Ik.flatten(this.pivotConfiguration.rows).map((e=>e.memberName)),n=Object.values(this.pivotKeys),r=e.filter((e=>-1===t.indexOf(e)&&-1===n.indexOf(e)&&-1===e.indexOf(this.pivotKeys.rowDimensionSeparator+this.pivotKeys.level)&&-1===e.indexOf(this.pivotKeys.rowDimensionSeparator+this.pivotKeys.records)));i=this.generateFromData(r)}else i=Ik.getFieldsHierarchy(s,this.columnDimensions,Ek.Column,this.pivotKeys,this.pivotValueCloneStrategy);e=this.generateColumnHierarchy(i,s),this._autoGeneratedCols=e,this.columnGroupStates.forEach(((t,i)=>{if(t){let n=e.find((e=>e.field===i&&e.headerTemplate===this.headerTemplate)),r=e.find((e=>e.field===i&&e.headerTemplate!==this.headerTemplate));this.toggleRowGroup(n,t),r&&(r.headerTemplate=this.headerTemplate)}})),this.updateColumns(e),this.reflow(),t&&t.length>0&&(this.shouldGenerate=!1)}getComponentDensityClass(e){return this.superCompactMode?`${e}--${AI} igx-grid__pivot--super-compact`:super.getComponentDensityClass(e)}generateDimensionColumns(){let e=this.allDimensions.map((e=>e.memberName)),t=[];return e.forEach((e=>{let i=Pp(aM,{environmentInjector:this.envInjector,elementInjector:this.injector});i.instance.field=e,i.changeDetectorRef.detectChanges(),t.push(i.instance)})),t}generateFromData(e){let t=this.pivotKeys.columnDimensionSeparator,i=e.map((e=>e.split(t))).sort((e=>e.length)),n=new Map,r=Ik.flatten(this.columnDimensions);return i.forEach((e=>{let i=n,s=[],o=0;for(let n of e){s.push(n);let e=s.join(t),a=i.get(e);if(!a){let t=r[o];i.set(e,{value:e,expandable:!!t.childLevel,children:new Map,dimension:t}),a=i.get(e)}i=a.children,o++}})),n}generateColumnHierarchy(e,t,i=null){let n=[];return 0===e.size?(this.values.forEach((e=>{let r=Pp(aM,{environmentInjector:this.envInjector,elementInjector:this.injector});r.instance.header=e.displayName,r.instance.field=e.member,r.instance.parent=i,r.instance.sortable=!0,r.instance.dataType=e.dataType||this.resolveDataTypes(t[0][e.member]),r.instance.formatter=e.formatter,n.push(r.instance)})),n):(e.forEach((e=>{let r=!0;if(0===t.length&&(r=!1),!r||null!=e.children&&0!==e.children.length&&0!==e.children.size){if(r){let r=this.createColumnForDimension(e,t,i,!0);e.expandable&&(r.headerTemplate=this.headerTemplate);let s=this.generateColumnHierarchy(e.children,t,r),o=s.filter((e=>e.level===r.level+1));if(n.push(r),this.hasMultipleValues){let a=this.getMeasureChildren(t,r,!0,e.dimension.width),l=o;if(r.children.reset(l),n=n.concat(s),e.dimension.childLevel){let r=this.createColumnForDimension(e,t,i,!0);n.push(r),a=this.getMeasureChildren(t,r,!1,e.dimension?.width),r.children.reset(a),n=n.concat(a)}}else if(r.children.reset(o),n=n.concat(s),e.dimension.childLevel){let r=this.createColumnForDimension(e,t,i,!1);n.push(r)}}}else{let r=this.createColumnForDimension(e,t,i,this.hasMultipleValues);if(n.push(r),this.hasMultipleValues){let i=this.getMeasureChildren(t,r,!1,e.dimension.width);r.children.reset(i),n=n.concat(i)}}})),n)}createColumnForDimension(e,t,i,n){let r=e.value,s=Pp(n?cM:aM,{environmentInjector:this.envInjector,elementInjector:this.injector});s.instance.header=null!=i?r.split(i.header+this.pivotKeys.columnDimensionSeparator)[1]:r,s.instance.field=r,s.instance.parent=i,e.dimension.width&&(s.instance.width=e.dimension.width);let o=this.values[0];return s.instance.dataType=o?.dataType||this.resolveDataTypes(t[0][o?.member]),s.instance.formatter=o?.formatter,s.instance.sortable=!0,s.changeDetectorRef.detectChanges(),s.instance}resolveColumnDimensionWidth(e){return e.width?e.width:this.minColumnWidth+"px"}getMeasureChildren(e,t,i,n){let r=[],s=this.values.length,o=parseInt(n,10)/s,a=n&&-1!==n.indexOf("%");return this.values.forEach((s=>{let l=Pp(aM,{environmentInjector:this.envInjector,elementInjector:this.injector});l.instance.header=s.displayName||s.member,l.instance.field=t.field+this.pivotKeys.columnDimensionSeparator+s.member,l.instance.parent=t,n&&(l.instance.width=a?o+"%":o+"px"),l.instance.hidden=i,l.instance.sortable=!0,l.instance.dataType=s.dataType||this.resolveDataTypes(e[0][s.member]),l.instance.formatter=s.formatter,l.changeDetectorRef.detectChanges(),r.push(l.instance)})),r}get template(){if(0===this.rowDimensions.concat(this.columnDimensions).length&&0===this.values.length)return this.emptyPivotGridTemplate||this.defaultEmptyPivotGridTemplate;super.template}emitInitEvents(e){Ik.flatten(this.allDimensions).forEach((e=>{this.dimensionInit.emit(e)})),e?.values?.forEach((e=>{this.valueInit.emit(e)}))}};_J.fac=function(e){return new(e||_J)(nc(pj),nc(Tk),nc(jZ),nc(jj),nc(dI),nc(wd),nc(Vd),nc(Hp),nc(fp),nc(Tp),nc(Cg),nc(Rd),nc(id),nc(KZ),nc(Yz),nc(nI),nc(fj),nc(RI,8),nc(Xg),nc(ob),nc(gj,8))},_J.cmp=tr({type:_J,selectors:[["igx-pivot-grid"]],contentQueries:function(e,t,i){if(1&e&&zg(i,bQ,5,bQ),2&e){let e;Hg(e=Gg())&&(t.valueChipTemplateDirective=e.first)}},viewQuery:function(e,t){if(1&e&&(Bg(BZ,7),Bg(zQ,7,yg),Bg(GQ,7,yg),Bg(_Q,5),Bg($Q,7,yg),Bg(pz,5,pz),Bg(xQ,5),Bg(WQ,5,vA)),2&e){let e;Hg(e=Gg())&&(t.theadRow=e.first),Hg(e=Gg())&&(t.recordTemplate=e.first),Hg(e=Gg())&&(t.headerTemplate=e.first),Hg(e=Gg())&&(t.resizeLine=e.first),Hg(e=Gg())&&(t.defaultEmptyPivotGridTemplate=e.first),Hg(e=Gg())&&(t.excelStyleFilteringComponents=e),Hg(e=Gg())&&(t.rowDimensionContentCollection=e),Hg(e=Gg())&&(t.verticalRowDimScrollContainers=e)}},hostVars:4,hostBindings:function(e,t){2&e&&(ph("role",t.role)("id",t.id),iu("igx-grid__pivot--super-compact",t.superCompactMode))},inputs:{valueChipTemplate:"valueChipTemplate",pivotConfiguration:"pivotConfiguration",showPivotConfigurationUI:"showPivotConfigurationUI",superCompactMode:"superCompactMode",displayDensity:"displayDensity",pivotValueCloneStrategy:"pivotValueCloneStrategy",addRowEmptyTemplate:"addRowEmptyTemplate",autoGenerateExclude:"autoGenerateExclude",snackbarDisplayTime:"snackbarDisplayTime",defaultExpandState:"defaultExpandState",pagingMode:"pagingMode",hideRowSelectors:"hideRowSelectors",rowDraggable:"rowDraggable",allowAdvancedFiltering:"allowAdvancedFiltering",filterMode:"filterMode",allowFiltering:"allowFiltering",page:"page",perPage:"perPage",summaryRowHeight:"summaryRowHeight",rowEditable:"rowEditable",pinning:"pinning",summaryPosition:"summaryPosition",summaryCalculationMode:"summaryCalculationMode",showSummaryOnCollapse:"showSummaryOnCollapse",batchEditing:"batchEditing",id:"id",data:"data",totalRecords:"totalRecords",emptyPivotGridTemplate:"emptyPivotGridTemplate"},outputs:{dimensionsChange:"dimensionsChange",pivotConfigurationChange:"pivotConfigurationChange",dimensionInit:"dimensionInit",valueInit:"valueInit",dimensionsSortingExpressionsChange:"dimensionsSortingExpressionsChange",valuesChange:"valuesChange",cellEdit:"cellEdit",cellEditDone:"cellEditDone",cellEditEnter:"cellEditEnter",cellEditExit:"cellEditExit",columnMovingStart:"columnMovingStart",columnMoving:"columnMoving",columnMovingEnd:"columnMovingEnd",columnPin:"columnPin",columnPinned:"columnPinned",rowAdd:"rowAdd",rowAdded:"rowAdded",rowDeleted:"rowDeleted",rowDelete:"rowDelete",rowDragStart:"rowDragStart",rowDragEnd:"rowDragEnd",rowEditEnter:"rowEditEnter",rowEdit:"rowEdit",rowEditDone:"rowEditDone",rowEditExit:"rowEditExit",rowPinning:"rowPinning",rowPinned:"rowPinned"},standalone:!0,features:[Nu([ck,pj,fj,Tk,Fz,jj,{provide:hk,useExisting:_J},{provide:Yz,useClass:UZ},KZ,jZ,uA,gA]),th,Wu],ngContentSelectors:["igx-grid-toolbar,igc-grid-toolbar","igx-grid-footer,igc-grid-footer","igx-grid-state,igc-grid-state"],decls:75,vars:133,consts:[["tabindex","0",1,"igx-grid-thead","igx-grid-thead--pivot",3,"grid","hasMRL","density","activeDescendant","width","pinnedColumnCollection","unpinnedColumnCollection","keydown.meta.c","keydown.control.c","copy","keydown","scroll"],["igxGridBody","","role","rowgroup",1,"igx-grid__tbody",3,"keydown.control.c","copy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0",1,"igx-grid__tbody-content",3,"igxGridDragSelect","keydown","focus","dragStop","scroll","dragScroll"],["tbody",""],["id","left","class","igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop",4,"ngIf"],["id","left","class","igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop","left",4,"ngIf"],["igxGridFor","",3,"igxGridForOf","igxForScrollOrientation","igxForScrollContainer","igxForContainerSize","igxForItemSize","igxGridForOfVariableSizes"],["verticalScrollContainer",""],["record_template",""],["igxToggle",""],["loadingOverlay",""],[3,"indeterminate",4,"ngIf"],["id","right","class","igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop",4,"ngIf"],[1,"igx-grid__tbody-scrollbar",3,"hidden","pointerdown"],[1,"igx-grid__tbody-scrollbar-start"],[1,"igx-grid__tbody-scrollbar-main"],["igxGridFor","",3,"igxGridForOf"],["verticalScrollHolder",""],[1,"igx-grid__tbody-scrollbar-end"],[1,"igx-grid__addrow-snackbar"],[3,"outlet","actionText","displayTime"],["addRowSnackbar",""],["igxOverlayOutlet",""],["igxBodyOverlayOutlet","overlay-outlet"],[1,"igx-grid__scroll",3,"hidden","pointerdown"],["scr",""],[1,"igx-grid__scroll-start"],[1,"igx-grid__scroll-main"],["scrollContainer",""],[1,"igx-grid__scroll-end",3,"hidden"],["role","rowgroup",1,"igx-grid__tfoot"],["tfoot",""],[1,"igx-grid__footer"],["footer",""],["emptyFilteredGrid",""],["defaultEmptyGrid",""],["defaultLoadingGrid",""],[3,"restrictResizerTop",4,"ngIf"],["igxOverlayOutlet","",1,"igx-grid__loading-outlet"],["igxLoadingOverlayOutlet",""],["igxOverlayOutlet","",1,"igx-grid__outlet"],["igxFilteringOverlayOutlet",""],["headerTemplate",""],["defaultRowDimensionsTemplate",""],["emptyRowDimensionsTemplate",""],["emptyPivotGridTemplate",""],[3,"hidden"],[3,"maxHeight","minHeight"],["igxExcelStyleColumnOperations","",3,"hidden"],[2,"display","none"],["sink",""],["id","left",1,"igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop"],["id","left",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop"],[3,"igxTemplateOutlet","igxTemplateOutletContext","cachedViewLoaded"],[3,"gridID","index","data","ngClass","ngStyle"],["row",""],[3,"indeterminate"],["id","right",1,"igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop"],["role","cell",1,"igx-grid__tbody-message"],[1,"igx-grid__loading"],[3,"restrictResizerTop"],[1,"igx-grid__tr--header"],[3,"click"],["tabindex","0","role","rowgroup","class","igx-grid__tbody-pivot-dimension",3,"height","focus","keydown",4,"ngFor","ngForOf"],["tabindex","0","role","rowgroup",1,"igx-grid__tbody-pivot-dimension",3,"focus","keydown"],["rowDimensionContainer",""],["igxGridFor","",3,"igxGridForOf","igxForScrollOrientation","igxForScrollContainer","igxForContainerSize","igxForItemSize","igxForSizePropName"],["verticalRowDimScrollContainer",""],["role","row",1,"igx-grid-thead",3,"grid","dimension","rootDimension","rowIndex","rowData","density","width"],["tabindex","0","role","rowgroup","class","igx-grid__tbody-pivot-dimension",3,"focus","keydown",4,"ngIf"]],template:function(e,t){if(1&e&&(Lh(pJ),Hh(0),Ch(1,"igx-pivot-header-row",0),Fh("keydown.meta.c",(function(e){return t.copyHandler(e)}))("keydown.control.c",(function(e){return t.copyHandler(e)}))("copy",(function(e){return t.copyHandler(e)}))("keydown",(function(e){return t.navigation.headerNavigation(e)}))("scroll",(function(e){return t.preventHeaderScroll(e)})),Sh(),Ch(2,"div",1),Fh("keydown.control.c",(function(e){return t.copyHandler(e)}))("copy",(function(e){return t.copyHandler(e)})),yh(3,KQ,1,0,"ng-container",2),Ch(4,"div",3,4),Fh("keydown",(function(e){return t.navigation.handleNavigation(e)}))("focus",(function(e){return t.navigation.focusTbody(e)}))("dragStop",(function(e){return t.selectionService.dragMode=e}))("scroll",(function(e){return t.preventContainerScroll(e)}))("dragScroll",(function(e){return t.dragScroll(e)})),yh(6,jQ,1,2,"span",5),yh(7,UQ,1,4,"span",6),yh(8,YQ,1,2,"ng-template",7,8,jg),ag(10,"pivotGridRowExpansion"),ag(11,"pivotGridColumnSort"),ag(12,"pivotGridAutoTransform"),ag(13,"pivotGridColumn"),ag(14,"pivotGridRow"),ag(15,"pivotGridSort"),ag(16,"pivotGridFilter"),yh(17,ZQ,4,37,"ng-template",null,9,jg),yh(19,QQ,1,0,"ng-container",2),Sh(),Ch(20,"div",10,11),yh(22,JQ,1,1,"igx-circular-bar",12),Sh(),yh(23,eJ,1,2,"span",13),Ch(24,"div",14),Fh("pointerdown",(function(e){return e.preventDefault()})),bh(25,"div",15),Ch(26,"div",16),yh(27,tJ,0,0,"ng-template",17,18,jg),Sh(),bh(29,"div",19),Sh(),Ch(30,"div",20)(31,"igx-snackbar",21,22),fu(33),Sh()(),bh(34,"div",23,24),Sh(),Ch(36,"div",25,26),Fh("pointerdown",(function(e){return e.preventDefault()})),bh(38,"div",27),Ch(39,"div",28),yh(40,iJ,0,0,"ng-template",17,29,jg),Sh(),bh(42,"div",30),Sh(),bh(43,"div",31,32),Ch(45,"div",33,34),Hh(47,1),Sh(),yh(48,nJ,3,1,"ng-template",null,35,jg),yh(50,rJ,3,1,"ng-template",null,36,jg),yh(52,sJ,2,1,"ng-template",null,37,jg),yh(54,oJ,1,1,"igx-pivot-grid-column-resizer",38),bh(55,"div",39,40)(57,"div",41,42),yh(59,aJ,4,3,"ng-template",null,43,jg),yh(61,cJ,1,1,"ng-template",null,44,jg),yh(63,uJ,1,1,"ng-template",null,45,jg),yh(65,gJ,3,1,"ng-template",null,46,jg),Ch(67,"div",47)(68,"igx-grid-excel-style-filtering",48),bh(69,"div",49),Ch(70,"igx-excel-style-filter-operations"),bh(71,"igx-excel-style-search"),Sh()()(),Ch(72,"div",50,51),Hh(74,2),Sh()),2&e){let e=xh(35),i=xh(62),n=xh(64);tc(1),_h("grid",t)("hasMRL",t.hasColumnLayouts)("density",t.displayDensity)("activeDescendant",t.activeDescendant)("width",t.calcWidth)("pinnedColumnCollection",t.pinnedColumns)("unpinnedColumnCollection",t.unpinnedColumns),tc(2),_h("ngTemplateOutlet",t.rowDimensions.length?i:n)("ngTemplateOutletContext",t),tc(1),tu("height",t.totalHeight,"px")("width",t.pivotContentCalcWidth||null,"px"),_h("igxGridDragSelect",t.selectionService.dragMode),ph("role",t.dataView.length?null:"row")("aria-activedescendant",t.activeDescendant),tc(2),_h("ngIf",t.hasMovableColumns&&t.columnInDrag&&t.pinnedColumns.length<=0),tc(1),_h("ngIf",t.hasMovableColumns&&t.columnInDrag&&t.pinnedColumns.length>0),tc(1),_h("igxGridForOf",ug(10,62,Xu(124,fJ,hg(11,68,cg(12,73,ug(13,77,Zu(117,mJ,ug(14,84,Zu(110,mJ,hg(15,91,ug(16,96,Zu(103,mJ,t.data,t.pivotConfiguration,t.filterStrategy,t.advancedFilteringExpressionsTree,t.filteringPipeTrigger,t.pipeTrigger)),t.pivotConfiguration,t.sortStrategy,t.pipeTrigger),t.pivotConfiguration,t.pivotValueCloneStrategy,t.expansionStates,t.pipeTrigger,t.sortingExpressions)),t.pivotConfiguration,t.pivotValueCloneStrategy,t.expansionStates,t.pipeTrigger,t.sortingExpressions)),t.pivotConfiguration,t.pipeTrigger),t.sortingExpressions,t.sortStrategy,t.pipeTrigger),t.pivotConfiguration,t.expansionStates,t.defaultExpandState,t.pipeTrigger)))("igxForScrollOrientation","vertical")("igxForScrollContainer",t.verticalScroll)("igxForContainerSize",t.calcHeight)("igxForItemSize",t.hasColumnLayouts?t.rowHeight*t.multiRowLayoutRowSize+1:t.renderedRowHeight)("igxGridForOfVariableSizes",!1),tc(11),_h("ngTemplateOutlet",t.template)("ngTemplateOutletContext",ju(130,yJ,t)),tc(3),_h("ngIf",t.shouldOverlayLoading),tc(1),_h("ngIf",t.hasMovableColumns&&t.columnInDrag),tc(1),tu("width",t.scrollSize,"px"),_h("hidden",!t.hasVerticalScroll()),tc(1),tu("height",t.isRowPinningToTop?t.pinnedRowHeight:0,"px"),tc(1),tu("height",t.calcHeight,"px"),tc(1),_h("igxGridForOf",Ku(132,vJ)),tc(2),tu("height",t.isRowPinningToTop?0:t.pinnedRowHeight,"px"),tc(2),_h("outlet",e)("actionText",t.resourceStrings.igx_grid_snackbar_addrow_actiontext)("displayTime",t.snackbarDisplayTime),tc(2),vu(t.resourceStrings.igx_grid_snackbar_addrow_label),tc(3),tu("height",t.scrollSize,"px"),_h("hidden",t.isHorizontalScrollHidden),tc(2),tu("width",t.pivotPinnedWidth,"px")("min-width",t.pivotPinnedWidth,"px"),tc(1),tu("width",t.pivotUnpinnedWidth,"px"),tc(1),_h("igxGridForOf",t.EMPTY_DATA),tc(2),tu("width",t.pivotPinnedWidth,"px")("min-width",t.pivotPinnedWidth,"px"),_h("hidden",0===t.pivotPinnedWidth||t.isPinningToStart),tc(12),_h("ngIf",t.colResizingService.showResizer),tc(13),_h("hidden",!0),tc(1),_h("maxHeight",t.excelStyleFilterMaxHeight)("minHeight",t.excelStyleFilterMinHeight),tc(1),_h("hidden",!0)}},dependencies:[$m,zm,Bm,Xm,Zm,BZ,QW,BY,uG,vA,kA,BQ,FA,LL,qK,MA,_Q,XI,xQ,pz,uz,gz,KB,b$,D$,DQ,IQ,EQ,AQ,RQ,OQ,kQ,TQ],encapsulation:2,changeDetection:0});var wJ=_J;zF([UP()],wJ.prototype,"hideRowSelectors",null),zF([UP()],wJ.prototype,"rowEditable",null);var CJ=class{set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}get baseDimension(){return this._baseDimension}set baseDimension(e){this._baseDimension=e,this.initialize(this.baseDimension,this.options)}get options(){return this._options}set options(e){this._options=e,this.baseDimension&&this.initialize(this.baseDimension,this.options)}get inBaseDimension(){return this._baseDimension}get inOptions(){return this._options}constructor(e=null,t={}){this.enabled=!0,this.defaultOptions={total:!0,years:!0,months:!0,fullDate:!0},this.memberName="AllPeriods",this._resourceStrings=FI.GridResStrings,this._options={},this._monthIntl=new Intl.DateTimeFormat("default",{month:"long"}),this.memberFunction=e=>this.resourceStrings.igx_grid_pivot_date_dimension_total,this._baseDimension=e,this._options=t,this.baseDimension&&this.options&&this.initialize(this.baseDimension,this.options)}initialize(e,t){let i=m(m({},this.defaultOptions),t);this.dataType=Wb.Date,e.dataType=Wb.Date;let n=i.fullDate?e:null,r={memberName:"Months",memberFunction:t=>{let i=Ik.extractValueFromDimension(e,t);return i?this._monthIntl.format(new Date(i)):t.Months},enabled:!0,childLevel:n},s=i.months?r:n,o={memberName:"Quarters",memberFunction:t=>{let i=Ik.extractValueFromDimension(e,t);return i?"Q"+Math.ceil((new Date(i).getMonth()+1)/3):t.Quarters},enabled:!0,childLevel:s},a=i.quarters?o:s,l={memberName:"Years",memberFunction:t=>{let i=Ik.extractValueFromDimension(e,t);return i?new Date(i).getFullYear().toString():t.Years},enabled:!0,childLevel:a},d=i.years?l:a;this.childLevel=d,i.total||(this.memberName=d.memberName,this.memberFunction=d.memberFunction,this.childLevel=d.childLevel)}},SJ=(()=>{let e=class{get options(){return this._options}set options(e){Object.assign(this._options,e),this.grid instanceof ZX?delete this._options.rowIslands:delete this._options.groupBy}constructor(e,t,i,n){this.grid=e,this.viewRef=t,this.envInjector=i,this.injector=n,this.featureKeys=[],this._options={columns:!0,filtering:!0,advancedFiltering:!0,sorting:!0,groupBy:!0,paging:!0,cellSelection:!0,rowSelection:!0,columnSelection:!0,rowPinning:!0,expansion:!0,moving:!0,rowIslands:!0,pivotConfiguration:!0},this.FEATURES={sorting:{getFeatureState:e=>{let t=e.currGrid.sortingExpressions;return t.forEach((e=>{delete e.strategy,delete e.owner})),{sorting:t}},restoreFeatureState:(e,t)=>{e.currGrid.sortingExpressions=t}},filtering:{getFeatureState:e=>{let t=e.currGrid.filteringExpressionsTree;if(t){delete t.owner;for(let e of t.filteringOperands)delete e.owner}return{filtering:t}},restoreFeatureState:(e,t)=>{let i=e.createExpressionsTreeFromObject(t);e.currGrid.filteringExpressionsTree=i}},advancedFiltering:{getFeatureState:e=>{let t,i=e.currGrid.advancedFilteringExpressionsTree;if(i){delete i.owner;for(let e of i.filteringOperands)delete e.owner;t=i}else t={};return{advancedFiltering:t}},restoreFeatureState:(e,t)=>{let i=e.createExpressionsTreeFromObject(t);e.currGrid.advancedFilteringExpressionsTree=i}},columns:{getFeatureState:e=>({columns:e.currGrid.columns.map((e=>({pinned:e.pinned,sortable:e.sortable,filterable:e.filterable,editable:e.editable,sortingIgnoreCase:e.sortingIgnoreCase,filteringIgnoreCase:e.filteringIgnoreCase,headerClasses:e.headerClasses,headerGroupClasses:e.headerGroupClasses,maxWidth:e.maxWidth,groupable:e.groupable,movable:e.movable,hidden:e.hidden,dataType:e.dataType,hasSummary:e.hasSummary,field:e.field,width:e.width,header:e.header,resizable:e.resizable,searchable:e.searchable,selectable:e.selectable,parent:e.parent?e.parent.header:null,columnGroup:e.columnGroup,disableHiding:e.disableHiding,disablePinning:e.disablePinning,collapsible:e.columnGroup?e.collapsible:void 0,expanded:e.columnGroup?e.expanded:void 0,visibleWhenCollapsed:e.parent?.columnGroup?e.visibleWhenCollapsed:void 0})))}),restoreFeatureState:(e,t)=>{let i=[];t.forEach((t=>{let n=t.columnGroup;if(delete t.columnGroup,n){let n=Pp(cM,{environmentInjector:this.envInjector,elementInjector:this.injector});if(Object.assign(n.instance,t),n.instance.grid=e.currGrid,n.instance.parent){let e=i.find((e=>e.header===n.instance.parent&&e.columnGroup));e.children.reset([...e.children.toArray(),n.instance]),n.instance.parent=e}n.changeDetectorRef.detectChanges(),i.push(n.instance)}else{let n=Pp(aM,{environmentInjector:this.envInjector,elementInjector:this.injector});if(Object.assign(n.instance,t),n.instance.grid=e.currGrid,n.instance.parent){let e=i.find((e=>e.header===n.instance.parent&&e.columnGroup));e&&(n.instance.parent=e,e.children.reset([...e.children.toArray(),n.instance]))}n.changeDetectorRef.detectChanges(),i.push(n.instance)}})),e.currGrid.updateColumns(i),i.forEach((t=>{e.currGrid.columnInit.emit(t)}))}},groupBy:{getFeatureState:e=>{let t=e.currGrid,i=t.groupingExpressions;return i.forEach((e=>{delete e.strategy})),{groupBy:{expressions:i,expansion:t.groupingExpansionState,defaultExpanded:t.groupsExpanded}}},restoreFeatureState:(e,t)=>{let i=e.currGrid;i.groupingExpressions=t.expressions,i.groupsExpanded!==t.defaultExpanded?i.toggleAllGroupRows():i.groupingExpansionState=t.expansion}},paging:{getFeatureState:e=>({paging:e.currGrid.pagingState}),restoreFeatureState:(e,t)=>{e.currGrid.paginator&&(e.currGrid.perPage!==t.recordsPerPage&&(e.currGrid.perPage=t.recordsPerPage,e.currGrid.cdr.detectChanges()),e.currGrid.page=t.index)}},moving:{getFeatureState:e=>({moving:e.currGrid.moving}),restoreFeatureState:(e,t)=>{e.currGrid.moving=t}},rowSelection:{getFeatureState:e=>({rowSelection:e.currGrid.selectionService.getSelectedRows()}),restoreFeatureState:(e,t)=>{e.currGrid.selectRows(t,!0)}},cellSelection:{getFeatureState:e=>({cellSelection:e.currGrid.getSelectedRanges().map((e=>({rowStart:e.rowStart,rowEnd:e.rowEnd,columnStart:e.columnStart,columnEnd:e.columnEnd})))}),restoreFeatureState:(e,t)=>{t.forEach((t=>{let i={rowStart:t.rowStart,rowEnd:t.rowEnd,columnStart:t.columnStart,columnEnd:t.columnEnd};e.currGrid.selectRange(i)}))}},columnSelection:{getFeatureState:e=>({columnSelection:e.currGrid.selectedColumns().map((e=>e.field))}),restoreFeatureState:(e,t)=>{e.currGrid.deselectAllColumns(),e.currGrid.selectColumns(t)}},rowPinning:{getFeatureState:e=>({rowPinning:e.currGrid.pinnedRows?.map((e=>e.key))}),restoreFeatureState:(e,t)=>{e.currGrid.pinnedRows.forEach((e=>e.unpin())),t.forEach((t=>e.currGrid.pinRow(t)))}},pinningConfig:{getFeatureState:e=>({pinningConfig:e.currGrid.pinning}),restoreFeatureState:(e,t)=>{e.currGrid.pinning=t}},expansion:{getFeatureState:e=>({expansion:Array.from(e.currGrid.expansionStates)}),restoreFeatureState:(e,t)=>{let i=new Map(t);e.currGrid.expansionStates=i}},rowIslands:{getFeatureState(e){let t=[],i=e.currGrid.allLayoutList;return i&&i.forEach((i=>{i.rowIslandAPI.getChildGrids().forEach((n=>{let r=this.getParentRowID(n);if(e.currGrid=n,e.currGrid){let n=e.buildState(e.featureKeys);t.push({id:`${i.id}`,parentRowID:r,state:n})}}))})),e.currGrid=e.grid,{rowIslands:t}},restoreFeatureState(e,t){let i=e.currGrid.allLayoutList;i&&i.forEach((i=>{i.rowIslandAPI.getChildGrids().forEach((n=>{let r=this.getParentRowID(n);e.currGrid=n;let s=t.find((e=>e.id===i.id&&e.parentRowID===r));s&&e.currGrid&&e.restoreGridState(s.state,e.featureKeys)}))})),e.currGrid=e.grid},getParentRowID:e=>{let t;for(;e.parent;)t=e,e=e.parent;return e.gridAPI.getParentRowId(t)}},pivotConfiguration:{getFeatureState(e){let t=e.currGrid.pivotConfiguration;if(!(t&&e.currGrid instanceof wJ))return{pivotConfiguration:void 0};let i=tb(t);return i.rows=QS(t.rows,!0),i.columns=QS(t.columns,!0),i.filters=QS(t.filters,!0),[...i.rows||[],...i.columns||[],...i.filters||[]].filter((t=>e.isDateDimension(t)))?.forEach((e=>{e.resourceStrings={}})),{pivotConfiguration:i}},restoreFeatureState(e,t){let i=t;!i||!(e.currGrid instanceof wJ)||(e.restoreValues(i,e.currGrid),e.restoreDimensions(i),e.currGrid.pivotConfiguration=i)}}}}getStateInternal(e=!0,t){let i;return this.currGrid=this.grid,this.state=i=this.buildState(t),e&&(i=JSON.stringify(i,this.stringifyCallback)),i}setStateInternal(e,t){this.state=e,this.currGrid=this.grid,this.restoreGridState(e,t),this.grid.cdr.detectChanges()}buildState(e){this.applyFeatures(e);let t={};return this.featureKeys.forEach((e=>{if(this.options[e]){if(!(this.grid instanceof ZX)&&"groupBy"===e)return;let i=this.getFeature(e)?.getFeatureState(this);t=Object.assign(t,i)}})),t}restoreGridState(e,t){this.applyFeatures(t),this.restoreFeatures(e)}restoreFeatures(e){this.featureKeys.forEach((t=>{if(this.options[t]){let i=e[t];("moving"===t||i)&&this.getFeature(t).restoreFeatureState(this,i)}}))}applyFeatures(e){if(this.featureKeys=[],e)Array.isArray(e)?this.featureKeys=[...e]:this.featureKeys.push(e);else for(let e of Object.keys(this.options))this.featureKeys.push(e)}restoreDimensions(e){let t=[e.rows,e.columns,e.filters];for(let e of t)for(let t=0;t<e?.length;t++){let i=e[t];this.isDateDimension(i)&&this.restoreDateDimension(i),i.filter&&(i.filter=this.createExpressionsTreeFromObject(i.filter))}}restoreDateDimension(e){let t=new CJ(e._baseDimension,e._options);e.resourceStrings=t.resourceStrings,e.memberFunction=t.memberFunction;let i=e,n=t;for(;i.childLevel;)i=i.childLevel,n=n.childLevel,i.memberFunction=n.memberFunction}isDateDimension(e){return e._baseDimension}restoreValues(e,t){let i=e.values;for(let e of i){let i=e.aggregateList,n=Ik.getAggregatorsForValue(e,t);if(e.aggregate.aggregator=n.find((t=>t.key===e.aggregate.key&&t.label===e.aggregate.label))?.aggregator,i)for(let e of i)e.aggregator=n.find((t=>t.key===e.key&&t.label===e.label))?.aggregator}}createExpressionsTreeFromObject(e){if(!e||!e.filteringOperands)return null;let t=new qb(e.operator,e.fieldName);for(let i of e.filteringOperands)if(i.filteringOperands){let e=this.createExpressionsTreeFromObject(i);t.filteringOperands.push(e)}else{let e,n=i;if(this.currGrid instanceof wJ)e=this.currGrid.allDimensions.find((e=>e.memberName===n.fieldName)).dataType;else if(this.currGrid.columns.length>0)e=this.currGrid.columns.find((e=>e.field===n.fieldName)).dataType;else{if(!this.state.columns)return null;e=this.state.columns.find((e=>e.field===n.fieldName)).dataType}Array.isArray(n.searchVal)?n.searchVal=new Set(n.searchVal):n.searchVal=!n.searchVal||"date"!==e&&"dateTime"!==e?n.searchVal:new Date(Date.parse(n.searchVal));let r=this.generateFilteringCondition(e,n.condition.name)||this.currGrid.columns.find((e=>e.field===n.fieldName)).filters.condition(n.condition.name);r&&(n.condition=r,t.filteringOperands.push(n))}return t}generateFilteringCondition(e,t){let i;switch(e){case Wb.Boolean:i=jA.instance();break;case Wb.Number:i=ZA.instance();break;case Wb.Date:i=qA.instance();break;case Wb.DateTime:i=YA.instance();break;default:i=QA.instance()}return i.condition(t)}stringifyCallback(e,t){return"searchVal"===e&&t instanceof Set?Array.from(t):t}getFeature(e){return this.FEATURES[e]}};return e.fac=function(t){return new(t||e)(nc(hk,9),nc(Cg),nc(id),nc(Rd))},e.dir=or({type:e,inputs:{options:"options"}}),e})(),bJ=((()=>{let e=class extends SJ{constructor(){super(...arguments),this.stateParsed=new Pd}get stateOptions(){return super.options}set stateOptions(e){super.options=e}getState(e=!0,t){return super.getStateInternal(e,t)}setState(e,t){return"string"==typeof e&&(e=JSON.parse(e),this.stateParsed.emit(e)),super.setStateInternal(e,t)}};e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.dir=or({type:e,selectors:[["","igxGridState",""]],inputs:{stateOptions:["igxGridState","stateOptions"]},outputs:{stateParsed:"stateParsed"},standalone:!0,features:[th]})})(),(()=>{let e=class{set overlaySettings(e){this._overlaySettings=e}get overlaySettings(){return this._overlaySettings}get grid(){return this.toolbar.grid}constructor(e){this.toolbar=e,this.opening=new Pd,this.opened=new Pd,this.closing=new Pd,this.closed=new Pd,this.columnToggle=new Pd,this.$destroy=new Xe,this._overlaySettings={positionStrategy:new qE({horizontalDirection:zE.Left,horizontalStartPoint:zE.Right,verticalDirection:GE.Bottom,verticalStartPoint:GE.Bottom}),scrollStrategy:new rI,modal:!1,closeOnEscape:!0,closeOnOutsideClick:!0}}ngOnDestroy(){this.$destroy.next(),this.$destroy.complete()}toggle(e,t,i){if(i){this._setupListeners(t,i);let e=()=>i.columnsAreaMaxHeight="100%"!==i.columnsAreaMaxHeight?i.columnsAreaMaxHeight:this.columnListHeight??`${Math.max(.5*this.grid.calcHeight,200)}px`;t.opening.pipe(fi()).subscribe(e)}t.toggle(f(m({},this.overlaySettings),{target:e,outlet:this.grid.outlet,excludeFromOutsideClick:[e]}))}focusSearch(e){e.querySelector("input")?.focus()}_setupListeners(e,t){t&&(!this.$sub||this.$sub.closed)&&(this.$sub=t.columnToggled.pipe(Si(this.$destroy)).subscribe((e=>this.columnToggle.emit(e)))),e.collapsed?(e.opening.pipe(fi(),Si(this.$destroy)).subscribe((e=>this.opening.emit(e))),e.opened.pipe(fi(),Si(this.$destroy)).subscribe((e=>this.opened.emit(e)))):(e.closing.pipe(fi(),Si(this.$destroy)).subscribe((e=>this.closing.emit(e))),e.closed.pipe(fi(),Si(this.$destroy)).subscribe((e=>this.closed.emit(e))))}};return e.fac=function(t){return new(t||e)(nc(oK))},e.dir=or({type:e,inputs:{columnListHeight:"columnListHeight",title:"title",prompt:"prompt",overlaySettings:"overlaySettings"},outputs:{opening:"opening",opened:"opened",closing:"closing",closed:"closed",columnToggle:"columnToggle"}}),e})()),DJ=(()=>{let e=class extends bJ{constructor(){super(...arguments),this.hideFilter=!1,this.filterCriteria="",this.columnDisplayOrder=gD,this.columnsAreaMaxHeight="100%",this.indentetion=30}checkAll(){this.columnActionsUI.checkAllColumns()}uncheckAll(){this.columnActionsUI.uncheckAllColumns()}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.dir=or({type:e,inputs:{hideFilter:"hideFilter",filterCriteria:"filterCriteria",columnDisplayOrder:"columnDisplayOrder",columnsAreaMaxHeight:"columnsAreaMaxHeight",uncheckAllText:"uncheckAllText",checkAllText:"checkAllText",indentetion:"indentetion",buttonText:"buttonText"},features:[th]}),e})();function EJ(e,t){if(1&e&&(Ch(0,"span"),fu(1),Sh()),2&e){let e=Vh();tc(1),xu(" ",null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_exporter_button_label," ")}}function IJ(e,t){if(1&e&&(Ch(0,"excel-text"),fu(1),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_exporter_excel_entry_text," ")}}function TJ(e,t){if(1&e){let e=Rh();Ch(0,"li",9,10),Fh("click",(function(){Bs(e);let t=Vh(),i=xh(12);return zs(t.export("excel",i))})),Ch(2,"span",null,11),Hh(4,1),Sh(),yh(5,IJ,2,1,"excel-text",3),Sh()}if(2&e){let e=xh(3);tc(5),_h("ngIf",!e.childNodes.length)}}function AJ(e,t){if(1&e&&(Ch(0,"csv-text"),fu(1),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_exporter_csv_entry_text,"")}}function RJ(e,t){if(1&e){let e=Rh();Ch(0,"li",12,13),Fh("click",(function(){Bs(e);let t=Vh(),i=xh(12);return zs(t.export("csv",i))})),Ch(2,"span",null,14),Hh(4,2),Sh(),yh(5,AJ,2,1,"csv-text",3),Sh()}if(2&e){let e=xh(3);tc(5),_h("ngIf",!e.childNodes.length)}}var kJ=["*",[["","excelText",""],["excel-text"]],[["","csvText",""],["csv-text"]]],OJ=["*","[excelText],excel-text","[csvText],csv-text"],FJ=(()=>{let e=class extends bJ{constructor(e,t,i){super(e),this.excelExporter=t,this.csvExporter=i,this.exportCSV=!0,this.exportExcel=!0,this.filename="ExportedData",this.exportStarted=new Pd,this.exportEnded=new Pd,this.isExporting=!1}export(e,t){let i,n;switch(t?.close(),e){case"csv":i=new RD(this.filename,kD.CSV),n=this.csvExporter;break;case"excel":i=new HE(this.filename),n=this.excelExporter}let r={exporter:n,options:i,grid:this.grid,cancel:!1};this.exportStarted.emit(r),this.grid.toolbarExporting.emit(r),this.isExporting=!0,this.toolbar.showProgress=!0,!r.cancel&&(n.exportEnded.pipe(fi()).subscribe((()=>{this.exportEnded.emit(),this.isExporting=!1,this.toolbar.showProgress=!1})),n.export(this.grid,i))}};return e.fac=function(t){return new(t||e)(nc(oK),nc(LE),nc(OD))},e.cmp=tr({type:e,selectors:[["igx-grid-toolbar-exporter"]],inputs:{exportCSV:"exportCSV",exportExcel:"exportExcel",filename:"filename"},outputs:{exportStarted:"exportStarted",exportEnded:"exportEnded"},standalone:!0,features:[th,Wu],ngContentSelectors:OJ,decls:15,vars:6,consts:[["igxButton","outlined","type","button","igxRipple","",3,"title","disabled","displayDensity","click"],["btn",""],["ref",""],[4,"ngIf"],["id","btnExport",1,"igx-grid-toolbar__dropdown"],["igxToggle","",1,"igx-grid-toolbar__dd-list"],["toggleRef","toggle"],["id","btnExportExcel","class","igx-grid-toolbar__dd-list-items","igxRipple","",3,"click",4,"ngIf"],["id","btnExportCsv","class","igx-grid-toolbar__dd-list-items","igxRipple","",3,"click",4,"ngIf"],["id","btnExportExcel","igxRipple","",1,"igx-grid-toolbar__dd-list-items",3,"click"],["btnExportExcel",""],["excel",""],["id","btnExportCsv","igxRipple","",1,"igx-grid-toolbar__dd-list-items",3,"click"],["btnExportCsv",""],["csv",""]],template:function(e,t){if(1&e){let e=Rh();Lh(kJ),Ch(0,"button",0,1),Fh("click",(function(){Bs(e);let i=xh(1),n=xh(12);return zs(t.toggle(i,n))})),Ch(2,"igx-icon"),fu(3,"import_export"),Sh(),Ch(4,"span",null,2),Hh(6),Sh(),yh(7,EJ,2,1,"span",3),Ch(8,"igx-icon"),fu(9,"arrow_drop_down"),Sh()(),Ch(10,"div",4)(11,"ul",5,6),yh(13,TJ,6,1,"li",7),yh(14,RJ,6,1,"li",8),Sh()()}if(2&e){let e=xh(5);_h("title",null==t.grid?null:t.grid.resourceStrings.igx_grid_toolbar_exporter_button_tooltip)("disabled",t.isExporting)("displayDensity",t.grid.displayDensity),tc(7),_h("ngIf",!e.textContent.trim()),tc(6),_h("ngIf",t.exportExcel),tc(1),_h("ngIf",t.exportCSV)}},dependencies:[HI,DA,XI,$m,FA,tK,iK],encapsulation:2}),e})();function PJ(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"button",1,2),Fh("click",(function(){Bs(e);let t=xh(2),i=xh(11),n=xh(10);return zs(Vh().toggle(t,i,n))})),Ch(3,"igx-icon"),fu(4),Sh(),Ch(5,"span"),fu(6),Sh(),Ch(7,"span"),fu(8),Sh()(),Ch(9,"igx-column-actions",3,4),Fh("opened",(function(){Bs(e);let t=xh(11);return zs(Vh().focusSearch(t.element))})),Sh(),Ih()}if(2&e){let e=Vh();tc(1),_h("title",null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_hiding_button_tooltip)("displayDensity",e.grid.displayDensity),tc(3),vu(e.grid.hiddenColumnsCount?"visibility_off":"visibility"),tc(2),vu(e.grid.hiddenColumnsCount),tc(2),vu(e.buttonText),tc(1),_h("grid",e.grid)("title",e.title||(null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_hiding_title))("filterColumnsPrompt",e.prompt||(null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_actions_filter_prompt))("hideFilter",e.hideFilter)("filterCriteria",e.filterCriteria)("columnDisplayOrder",e.columnDisplayOrder)("columnsAreaMaxHeight",e.columnsAreaMaxHeight)("uncheckAllText",e.uncheckAllText)("checkAllText",e.checkAllText)("indentation",e.indentetion)}}var MJ=(()=>{let e=class extends DJ{set content(e){this.columnActionsUI=e}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.cmp=tr({type:e,selectors:[["igx-grid-toolbar-hiding"]],viewQuery:function(e,t){if(1&e&&Bg(KP,5,BP),2&e){let e;Hg(e=Gg())&&(t.content=e.first)}},standalone:!0,features:[th,Wu],decls:2,vars:3,consts:[[4,"ngIf"],["igxButton","outlined","type","button","name","btnColumnHiding",3,"title","displayDensity","click"],["btn",""],["igxColumnHiding","","igxToggle","",3,"grid","title","filterColumnsPrompt","hideFilter","filterCriteria","columnDisplayOrder","columnsAreaMaxHeight","uncheckAllText","checkAllText","indentation","opened"],["actions","","ref","toggle"]],template:function(e,t){1&e&&(yh(0,PJ,12,15,"ng-container",0),ag(1,"async")),2&e&&_h("ngIf",lg(1,1,t.grid.rendered$))},dependencies:[$m,HI,XI,BP,KP,FA,tf],encapsulation:2}),e})();function VJ(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"button",1,2),Fh("click",(function(){Bs(e);let t=xh(2),i=xh(10),n=xh(9);return zs(Vh().toggle(t,i,n))})),bh(3,"igx-icon",3),Ch(4,"span"),fu(5),Sh(),Ch(6,"span"),fu(7),Sh()(),Ch(8,"igx-column-actions",4,5),Fh("opened",(function(){Bs(e);let t=xh(10);return zs(Vh().focusSearch(t.element))})),Sh(),Ih()}if(2&e){let e=Vh();tc(1),_h("title",null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_pinning_button_tooltip)("displayDensity",e.grid.displayDensity),tc(2),_h("name",e.grid.pinnedColumnsCount?"pin-left":"unpin-left"),tc(2),vu(e.grid.pinnedColumnsCount),tc(2),vu(e.buttonText),tc(1),_h("grid",e.grid)("title",e.title||(null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_pinning_title))("filterColumnsPrompt",e.prompt||(null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_actions_filter_prompt))("hideFilter",e.hideFilter)("filterCriteria",e.filterCriteria)("columnDisplayOrder",e.columnDisplayOrder)("columnsAreaMaxHeight",e.columnsAreaMaxHeight)("uncheckAllText",e.uncheckAllText)("checkAllText",e.checkAllText)("indentation",e.indentetion)}}var NJ=(()=>{let e=class extends DJ{set content(e){this.columnActionsUI=e}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.cmp=tr({type:e,selectors:[["igx-grid-toolbar-pinning"]],viewQuery:function(e,t){if(1&e&&Bg(jP,5,BP),2&e){let e;Hg(e=Gg())&&(t.content=e.first)}},standalone:!0,features:[th,Wu],decls:2,vars:3,consts:[[4,"ngIf"],["igxButton","outlined","type","button","name","btnColumnPinning",3,"title","displayDensity","click"],["btn",""],["family","imx-icons",3,"name"],["igxColumnPinning","","igxToggle","",3,"grid","title","filterColumnsPrompt","hideFilter","filterCriteria","columnDisplayOrder","columnsAreaMaxHeight","uncheckAllText","checkAllText","indentation","opened"],["actions","","ref","toggle"]],template:function(e,t){1&e&&(yh(0,VJ,11,15,"ng-container",0),ag(1,"async")),2&e&&_h("ngIf",lg(1,1,t.grid.rendered$))},dependencies:[$m,HI,XI,BP,jP,FA,tf],encapsulation:2}),e})(),LJ=(()=>{let e=class{constructor(e){this.template=e}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxPaginator",""]],standalone:!0}),e})();function HJ(e,t){if(1&e){let e=Rh();Ch(0,"igx-list-item",12)(1,"igx-checkbox",13),Fh("click",(function(){let t=Bs(e).$implicit;return zs(Vh().toggleItem(t))})),Sh(),Ch(2,"span"),fu(3),Sh()()}if(2&e){let e=t.$implicit;_h("id",e.memberName),tc(1),_h("aria-labelledby",e.memberName)("disableRipple",!0)("checked",e.enabled),tc(2),vu(e.memberName)}}function BJ(e,t){if(1&e){let e=Rh();Ch(0,"igx-list-item",12)(1,"igx-checkbox",13),Fh("click",(function(){let t=Bs(e).$implicit;return zs(Vh().toggleItem(t))})),Sh(),Ch(2,"span"),fu(3),Sh()()}if(2&e){let e=t.$implicit;_h("id",e.member),tc(1),_h("aria-labelledby",e.member)("disableRipple",!0)("checked",e.enabled),tc(2),vu(e.displayName||e.member)}}function zJ(e,t){if(1&e&&(Ch(0,"span"),fu(1),Sh()),2&e){let e=Vh().$implicit;tc(1),vu(e.aggregate.key)}}function GJ(e,t){1&e&&(Ch(0,"span"),fu(1,"("),Sh())}function $J(e,t){1&e&&(Ch(0,"span"),fu(1,")"),Sh())}function WJ(e,t){if(1&e&&(Ch(0,"igx-icon",33),fu(1),Sh()),2&e){let e=Vh().$implicit;tc(1),xu(" ",e.sortDirection<2?"arrow_upward":"arrow_downward"," ")}}function KJ(e,t){if(1&e){let e=Rh();Ch(0,"igx-icon",34),Fh("pointerdown",(function(t){return Bs(e),zs(Vh(4).onFilteringIconPointerDown(t))}))("click",(function(t){Bs(e);let i=Vh().$implicit;return zs(Vh(3).onFilteringIconClick(t,i))})),fu(1,"filter_list "),Sh()}}function jJ(e,t){if(1&e){let e=Rh();Ch(0,"igx-icon",35),Fh("click",(function(t){Bs(e);let i=Vh().$implicit,n=Vh(3),r=xh(14);return zs(n.onSummaryClick(t,i,r))})),fu(1," functions "),Sh()}2&e&&(Vh(4),_h("igxDropDownItemNavigation",xh(14)))}function UJ(e,t){1&e&&(Ch(0,"igx-icon",36),fu(1,"drag_handle"),Sh())}var qJ=function(e,t){return{gridID:e,selectorChannels:t}};function YJ(e,t){if(1&e){let e=Rh();Ch(0,"igx-list-item",23),Fh("ghostCreate",(function(t){let i=Bs(e).$implicit,n=Vh(2).$implicit;return zs(Vh().ghostCreated(t,i[n.itemKey]))}))("over",(function(t){return Bs(e),zs(Vh(3).onItemDragOver(t))}))("leave",(function(t){return Bs(e),zs(Vh(3).onItemDragLeave(t))}))("dragMove",(function(t){return Bs(e),zs(Vh(3).onItemDragMove(t))}))("dragEnd",(function(t){return Bs(e),zs(Vh(3).onItemDragEnd(t))}))("dropped",(function(t){Bs(e);let i=Vh(2).$implicit;return zs(Vh().onItemDropped(t,i.type))})),Ch(1,"div",24)(2,"div",25),Fh("click",(function(t){let i=Bs(e).$implicit,n=Vh(2).$implicit;return zs(Vh().onItemSort(t,i,n.type))})),Ch(3,"div",26),yh(4,zJ,2,1,"span",27),yh(5,GJ,2,0,"span",27),Ch(6,"span"),fu(7),Sh(),yh(8,$J,2,0,"span",27),Sh(),yh(9,WJ,2,1,"igx-icon",28),Sh(),Ch(10,"div",29),yh(11,KJ,2,0,"igx-icon",30),yh(12,jJ,2,1,"igx-icon",31),yh(13,UJ,2,0,"igx-icon",32),Sh()()()}if(2&e){let e=t.$implicit,i=Vh(2).$implicit,n=Vh(),r=xh(17);_h("igxDrag",Uu(13,qJ,n.grid.id,i.dragChannels))("ghostTemplate",r)("id",e[i.itemKey]),tc(2),iu("igx-pivot-data-selector__action-sort",i.sortable),tc(2),_h("ngIf",null===i.type),tc(1),_h("ngIf",null===i.type),tc(2),vu(e[i.displayKey]||e[i.itemKey]),tc(1),_h("ngIf",null===i.type),tc(1),_h("ngIf",i.sortable&&e.sortDirection),tc(2),_h("ngIf",null!==i.type),tc(1),_h("ngIf",null===i.type),tc(1),_h("ngIf",i.dragChannels.length>0)}}function XJ(e,t){if(1&e&&(Ch(0,"igx-list",5),yh(1,YJ,14,16,"igx-list-item",22),Sh()),2&e){let e=Vh().$implicit,t=Vh();_h("displayDensity",t.displayDensity),tc(1),_h("ngForOf",t.grid[e.dataKey])}}function ZJ(e,t){if(1&e&&(Ch(0,"div",37),fu(1),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",null==e.grid?null:e.grid.resourceStrings.igx_grid_pivot_selector_panel_empty," ")}}function QJ(e,t){if(1&e){let e=Rh();Ch(0,"igx-expansion-panel",14),Fh("collapsedChange",(function(t){let i=Bs(e).$implicit;return zs(Vh().onCollapseChange(t,i.type))})),Ch(1,"igx-expansion-panel-header",15),Fh("enter",(function(t){let i=Bs(e).$implicit;return zs(Vh().onPanelEntry(t,i.name))}))("dropped",(function(t){let i=Bs(e).$implicit;return zs(Vh().onItemDropped(t,i.type))})),Ch(2,"igx-expansion-panel-title",16)(3,"h6",17),fu(4),Sh(),Ch(5,"div",18)(6,"igx-icon"),fu(7),Sh(),Ch(8,"igx-chip"),fu(9),Sh()()()(),Ch(10,"igx-expansion-panel-body",19),Fh("enter",(function(t){let i=Bs(e).$implicit;return zs(Vh().onPanelEntry(t,i.name))}))("dropped",(function(t){let i=Bs(e).$implicit;return zs(Vh().onItemDropped(t,i.type))})),yh(11,XJ,2,2,"igx-list",20),yh(12,ZJ,2,1,"div",21),Sh()()}if(2&e){let e=t.$implicit,i=Vh();_h("animationSettings",i.animationSettings)("collapsed",i.getPanelCollapsed(e.type)),tc(1),_h("disabled",!1),tc(3),xu(" ",null==i.grid?null:i.grid.resourceStrings[e.i18n]," "),tc(3),vu(e.icon),tc(2),vu(i.grid?i.grid[e.dataKey].length:0),tc(2),_h("ngIf",i.grid&&i.grid[e.dataKey].length>0),tc(1),_h("ngIf",i.grid&&0===i.grid[e.dataKey].length)}}function JJ(e,t){if(1&e&&(Ch(0,"igx-drop-down-item",38),fu(1),Sh()),2&e){let e=t.$implicit;_h("selected",Vh().isSelected(e))("value",e),tc(1),xu(" ",e.label," ")}}function e0(e,t){if(1&e&&(Ch(0,"div",39)(1,"div",40)(2,"igx-icon"),fu(3,"unfold_more"),Sh(),Ch(4,"span"),fu(5),Sh()(),Ch(6,"igx-icon"),fu(7,"drag_handle"),Sh()()),2&e){let e=Vh();tu("width",e.ghostWidth,"px"),iu("igx-pivot-data-selector__item-ghost--no-drop",!e.dropAllowed),tc(5),vu(e.ghostText)}}var t0=(()=>{let e=class{get dims(){return this._grid?.allDimensions||[]}get values(){return this._grid?.pivotConfiguration.values||[]}constructor(e,t){this.renderer=e,this.cdr=t,this.columnsExpanded=!0,this.columnsExpandedChange=new Pd,this.rowsExpanded=!0,this.rowsExpandedChange=new Pd,this.filtersExpanded=!0,this.filtersExpandedChange=new Pd,this.valuesExpanded=!0,this.valuesExpandedChange=new Pd,this._dropDelta=0,this.cssClass="igx-pivot-data-selector",this._subMenuPositionSettings={verticalStartPoint:GE.Bottom,closeAnimation:void 0},this._subMenuOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new XE(this._subMenuPositionSettings),scrollStrategy:new rI},this.animationSettings={closeAnimation:Ey(Py,{params:{duration:"0ms"}}),openAnimation:Ey(Fy,{params:{duration:"0ms"}})},this.aggregateList=[],this._panels=[{name:"Filters",i18n:"igx_grid_pivot_selector_filters",type:Ek.Filter,dataKey:"filterDimensions",icon:"filter_list",itemKey:"memberName",sortable:!1,dragChannels:["Filters","Columns","Rows"]},{name:"Columns",i18n:"igx_grid_pivot_selector_columns",type:Ek.Column,dataKey:"columnDimensions",icon:"view_column",itemKey:"memberName",sortable:!0,dragChannels:["Filters","Columns","Rows"]},{name:"Rows",i18n:"igx_grid_pivot_selector_rows",type:Ek.Row,dataKey:"rowDimensions",icon:"table_rows",itemKey:"memberName",sortable:!0,dragChannels:["Filters","Columns","Rows"]},{name:"Values",i18n:"igx_grid_pivot_selector_values",type:null,dataKey:"values",icon:"functions",itemKey:"member",displayKey:"displayName",sortable:!1,dragChannels:["Values"]}]}get displayDensity(){return this.grid?.displayDensity}set grid(e){this._grid=e}get grid(){return this._grid}onItemSort(e,t,i){if(!this._panels.find((e=>e.type===i)).sortable)return;let n=t.sortDirection||Rb.None,r=n+1>Rb.Desc?Rb.None:n+1;this.grid.sortDimension(t,r)}onFilteringIconPointerDown(e){e.stopPropagation(),e.preventDefault()}onFilteringIconClick(e,t){e.stopPropagation(),e.preventDefault();let i,n=t;for(;n&&(i=this.grid.dimensionDataColumns.find((e=>e.field===n.memberName)),!i);)n=n.childLevel;this.grid.filteringService.toggleFilterDropdown(e.target,i)}getDimensionState(e){switch(e){case Ek.Row:return this.grid.rowDimensions;case Ek.Column:return this.grid.columnDimensions;case Ek.Filter:return this.grid.filterDimensions;default:return null}}moveValueItem(e){let t=this.grid.pivotConfiguration.values,i=-1!==t.findIndex((t=>t.member===e))?t?.findIndex((t=>t.member===e)):t.length,n=i+this._dropDelta<0?0:i+this._dropDelta,r=t.find((t=>t.member===e||t.displayName===e));r&&(this.grid.moveValue(r,n),this.grid.valuesChange.emit({values:this.grid.pivotConfiguration.values}))}onItemDropped(e,t){if(!this.dropAllowed)return;let i=this.grid.getDimensionsByType(t),n=this.getDimensionState(t),r=e.drag.element.nativeElement.id,s=e.owner.element.nativeElement.id,o=i?.find((e=>e.memberName===r)),a=-1!==i?.findIndex((e=>e?.memberName===r))?i?.findIndex((e=>e.memberName===r)):i?.length,l=this.grid.allDimensions.filter((e=>e&&e.memberName===r)),d=-1!==n?.findIndex((e=>e.memberName===r)),c=""!==s?i?.findIndex((e=>e.memberName===s)):i?.length;if(i||this.moveValueItem(r),d&&(c=a+this._dropDelta<0?0:a+this._dropDelta),o)this.grid.moveDimension(o,t,c);else{let e=l.find((e=>e.memberName===r));this.grid.moveDimension(e,t,c)}this.grid.dimensionsChange.emit({dimensions:i,dimensionCollectionType:t})}updateDropDown(e,t){this.value=e,t.width="200px",this.aggregateList=Ik.getAggregateList(e,this.grid),this.cdr.detectChanges(),t.open(this._subMenuOverlaySettings)}onSummaryClick(e,t,i){this._subMenuOverlaySettings.target=e.currentTarget,i.collapsed?this.updateDropDown(t,i):(i.close(),i.closed.pipe(fi()).subscribe((()=>{this.updateDropDown(t,i)})))}onAggregationChange(e){this.isSelected(e.newSelection.value)||(this.value.aggregate=e.newSelection.value,this.grid.pipeTrigger++,this.grid.cdr.markForCheck())}isSelected(e){return this.value.aggregate.key===e.key}ghostCreated(e,t){let{width:i}=e.owner.element.nativeElement.getBoundingClientRect();this.ghostWidth=i,this.ghostText=t,this.renderer.setStyle(e.owner.element.nativeElement,"position","absolute"),this.renderer.setStyle(e.owner.element.nativeElement,"visibility","hidden")}toggleItem(e){e&&this.grid.toggleValue(e),e&&this.grid.toggleDimension(e)}onPanelEntry(e,t){this.dropAllowed=e.dragData.gridID===this.grid.id&&e.dragData.selectorChannels?.some((e=>e===t))}onItemDragMove(e){let t=e.owner.element.nativeElement.getBoundingClientRect();this._dropDelta=Math.round((e.nextPageY-e.startY)/t.height)}onItemDragEnd(e){this.renderer.setStyle(e.owner.element.nativeElement,"position","static"),this.renderer.setStyle(e.owner.element.nativeElement,"visibility","visible")}onItemDragOver(e){this.dropAllowed&&this.renderer.addClass(e.owner.element.nativeElement,"igx-drag--push")}onItemDragLeave(e){this.dropAllowed&&this.renderer.removeClass(e.owner.element.nativeElement,"igx-drag--push")}getPanelCollapsed(e){switch(e){case Ek.Column:return!this.columnsExpanded;case Ek.Filter:return!this.filtersExpanded;case Ek.Row:return!this.rowsExpanded;default:return!this.valuesExpanded}}onCollapseChange(e,t){switch(t){case Ek.Column:this.columnsExpanded=!e,this.columnsExpandedChange.emit(this.columnsExpanded);break;case Ek.Filter:this.filtersExpanded=!e,this.filtersExpandedChange.emit(this.filtersExpanded);break;case Ek.Row:this.rowsExpanded=!e,this.rowsExpandedChange.emit(this.rowsExpanded);break;default:this.valuesExpanded=!e,this.valuesExpandedChange.emit(this.valuesExpanded)}}};return e.fac=function(t){return new(t||e)(nc(bd),nc(fp))},e.cmp=tr({type:e,selectors:[["igx-pivot-data-selector"]],hostVars:2,hostBindings:function(e,t){2&e&&iu("igx-pivot-data-selector",t.cssClass)},inputs:{columnsExpanded:"columnsExpanded",rowsExpanded:"rowsExpanded",filtersExpanded:"filtersExpanded",valuesExpanded:"valuesExpanded",grid:"grid"},outputs:{columnsExpandedChange:"columnsExpandedChange",rowsExpandedChange:"rowsExpandedChange",filtersExpandedChange:"filtersExpandedChange",valuesExpandedChange:"valuesExpandedChange"},standalone:!0,features:[Wu],decls:18,vars:14,consts:[[1,"igx-pivot-data-selector__filter"],["type","box",3,"displayDensity"],["igxPrefix",""],["igxInput","","tabindex","0","placeholder","Search","autocomplete","off"],["input",""],[3,"displayDensity"],[3,"id",4,"ngFor","ngForOf"],[3,"animationSettings","collapsed","collapsedChange",4,"ngFor","ngForOf"],[3,"selectionChanging"],["dropdown",""],[3,"selected","value",4,"ngFor","ngForOf"],["itemGhost",""],[3,"id"],[3,"aria-labelledby","disableRipple","checked","click"],[3,"animationSettings","collapsed","collapsedChange"],["iconPosition","left","igxDrop","",3,"disabled","enter","dropped"],[1,"igx-pivot-data-selector__header"],[1,"igx-pivot-data-selector__header-title"],[1,"igx-pivot-data-selector__header-extra"],["igxDrop","",3,"enter","dropped"],[3,"displayDensity",4,"ngIf"],["class","igx-pivot-data-selector__empty",4,"ngIf"],["igxDrop","",3,"igxDrag","ghostTemplate","id","ghostCreate","over","leave","dragMove","dragEnd","dropped",4,"ngFor","ngForOf"],["igxDrop","",3,"igxDrag","ghostTemplate","id","ghostCreate","over","leave","dragMove","dragEnd","dropped"],[1,"igx-pivot-data-selector__item"],[1,"igx-pivot-data-selector__item-start",3,"click"],[1,"igx-pivot-data-selector__item-text"],[4,"ngIf"],["class","igx-pivot-data-selector__action-sort",4,"ngIf"],[1,"igx-pivot-data-selector__item-end"],["class","igx-pivot-data-selector__action-filter",3,"pointerdown","click",4,"ngIf"],["class","igx-pivot-data-selector__action-summary",3,"igxDropDownItemNavigation","click",4,"ngIf"],["igxDragHandle","","class","igx-pivot-data-selector__action-move",4,"ngIf"],[1,"igx-pivot-data-selector__action-sort"],[1,"igx-pivot-data-selector__action-filter",3,"pointerdown","click"],[1,"igx-pivot-data-selector__action-summary",3,"igxDropDownItemNavigation","click"],["igxDragHandle","",1,"igx-pivot-data-selector__action-move"],[1,"igx-pivot-data-selector__empty"],[3,"selected","value"],[1,"igx-pivot-data-selector__item-ghost"],[1,"igx-pivot-data-selector__item-ghost-text"]],template:function(e,t){if(1&e&&(Ch(0,"div",0)(1,"igx-input-group",1)(2,"igx-icon",2),fu(3,"search"),Sh(),bh(4,"input",3,4),Sh(),Ch(6,"igx-list",5),yh(7,HJ,4,5,"igx-list-item",6),ag(8,"filterPivotItems"),yh(9,BJ,4,5,"igx-list-item",6),ag(10,"filterPivotItems"),Sh()(),Ch(11,"igx-accordion"),yh(12,QJ,13,8,"igx-expansion-panel",7),Sh(),Ch(13,"igx-drop-down",8,9),Fh("selectionChanging",(function(e){return t.onAggregationChange(e)})),yh(15,JJ,2,3,"igx-drop-down-item",10),Sh(),yh(16,e0,8,5,"ng-template",null,11,jg)),2&e){let e=xh(5);tc(1),_h("displayDensity",t.displayDensity),tc(5),_h("displayDensity",t.displayDensity),tc(1),_h("ngForOf",cg(8,6,t.dims,e.value,null==t.grid?null:t.grid.pipeTrigger)),tc(2),_h("ngForOf",cg(10,10,t.values,e.value,null==t.grid?null:t.grid.pipeTrigger)),tc(3),_h("ngForOf",t._panels),tc(3),_h("ngForOf",t.aggregateList)}},dependencies:[UT,XI,DI,CI,dB,zm,eB,nk,SR,xR,uR,eA,nR,hP,iR,$m,JT,fI,ZT,HR,FR,FQ],encapsulation:2}),e})(),i0=(()=>{let e=class extends jj{get_all_data(e){let t=this.grid,i=t&&t.flatData?t.flatData:[];return i=e?t.dataWithAddedInTransactionRows:i,i}get_summary_data(){let e=this.grid,t=e.processedRootRecords?.filter((e=>void 0===e.isFilteredOutParent||!1===e.isFilteredOutParent)).map((e=>e.data));return t&&e.transactions.enabled&&e.transactions.getTransactionLog().filter((e=>e.type===Tb.DELETE)).map((e=>e.id)).forEach((i=>{let n=(e.primaryKey?t.map((t=>t[e.primaryKey])):t).indexOf(i);-1!==n&&t.splice(n,1)})),t}allow_expansion_state_change(e,t){let i=this.grid,n=i.records.get(e);return!(n.expanded===t||(!n.children||!n.children.length)&&(!i.loadChildrenOnDemand||i.hasChildrenKey&&!n.data[i.hasChildrenKey]))}expand_path_to_record(e){let t=this.grid,i=t.expansionStates;for(;e.parent;)e=e.parent,this.get_row_expansion_state(e)||i.set(e.key,!0);t.expansionStates=i,t.rowEditable&&t.gridAPI.crudService.endEdit(!1)}get_row_expansion_state(e){let t=this.grid,i=t.expansionStates.get(e.key);return void 0!==i?i:e.children&&e.children.length&&e.level<t.expansionDepth}should_apply_number_style(e){return e.dataType===Wb.Number&&0!==e.visibleIndex}deleteRowById(e){let t=this.grid,i=t.primaryKey&&t.foreignKey&&t.cascadeOnDelete&&t.transactions.enabled;i&&t.transactions.startPending();let n=super.deleteRowById(e);return i&&t.transactions.endPending(!0),n}deleteRowFromData(e,t){let i=this.grid,n=i.records.get(e);if(i.primaryKey&&i.foreignKey){if(t=i.primaryKey?i.data.map((e=>e[i.primaryKey])).indexOf(e):i.data.indexOf(e),super.deleteRowFromData(e,t),i.cascadeOnDelete&&n&&n.children)for(let e of n.children)super.deleteRowById(e.key)}else{let r=n.parent?n.parent.data[i.childDataKey]:i.data;t=i.primaryKey?r.map((e=>e[i.primaryKey])).indexOf(e):r.indexOf(e);let s=[];if(this.get_selected_children(n,s),s.length>0&&i.deselectRows(s),i.transactions.enabled){let n=i.generateRowPath(e);i.transactions.add({id:e,type:Tb.DELETE,newValue:null,path:n},r[t])}else r.splice(t,1);this.grid.validation.clear(e)}}get_selected_children(e,t){let i=this.grid;if(e.children&&0!==e.children.length)for(let n of e.children)i.selectionService.isRowSelected(n.key)&&t.push(n.key),this.get_selected_children(n,t)}row_deleted_transaction(e){return this.row_deleted_parent(e)||super.row_deleted_transaction(e)}get_rec_by_id(e){return this.grid.records.get(e)}get_rec_index_by_id(e,t){return t=t||this.grid.data,this.grid.primaryKey?t.findIndex((t=>t.data[this.grid.primaryKey]===e)):-1}addRowToData(e,t){if(null!=t){let i=this.grid.transactions.getState(t);if(i&&i.type===Tb.DELETE)throw Error("Cannot add child row to deleted parent row");let n=this.grid.records.get(t);if(!n)throw Error("Invalid parent row ID!");if(this.grid.summaryService.clearSummaryCache({rowID:n.key}),this.grid.primaryKey&&this.grid.foreignKey)e[this.grid.foreignKey]=t,super.addRowToData(e);else{let i=n.data,r=this.grid.childDataKey;if(this.grid.transactions.enabled){let i=this.grid.primaryKey?e[this.grid.primaryKey]:e,n=[];n.push(...this.grid.generateRowPath(t)),n.push(t),this.grid.transactions.add({id:i,path:n,newValue:e,type:Tb.ADD},null)}else i[r]||(i[r]=[]),i[r].push(e)}}else super.addRowToData(e)}filterDataByExpressions(e){let t=this.filterTreeDataByExpressions(e),i=[];return this.getFlatDataFromFilteredRecords(t,i),i}sortDataByExpressions(e,t){return Kb.sort(QS(e),t,this.grid.sortStrategy??new zb,this.grid).map((e=>e.data))}filterTreeDataByExpressions(e){let t=this.grid.rootRecords;if(e.filteringOperands.length){let i={expressionsTree:e,strategy:this.grid.filterStrategy??new eD};t=Xb.filter(QS(t),i,this.grid)}return t}update_row_in_array(e,t,i){let n=this.grid;if(n.primaryKey&&n.foreignKey)super.update_row_in_array(e,t,i);else{let r=n.records.get(t),s=r.parent?r.parent.data[n.childDataKey]:n.data;i=n.primaryKey?s.map((e=>e[n.primaryKey])).indexOf(t):s.indexOf(t),s[i]=e}}updateData(e,t,i,n,r){if(e.transactions.enabled){let i=e.generateRowPath(t),s={id:t,type:Tb.UPDATE,newValue:r,path:i};e.transactions.add(s,n)}else eb(i,r)}row_deleted_parent(e){let t=this.grid;if(!t)return!1;if(t.cascadeOnDelete&&t.foreignKey||t.childDataKey){let i=t.records.get(e);for(;i;){let e=t.transactions.getState(i.key);if(e&&e.type===Tb.DELETE)return!0;i=i.parent}}return!1}getFlatDataFromFilteredRecords(e,t){if(e&&0!==e.length)for(let i of e)i.isFilteredOutParent||t.push(i),this.getFlatDataFromFilteredRecords(i.children,t)}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.prov=Zi({token:e,factory:e.fac}),e})(),n0=(()=>{let e=class{constructor(e){this.template=e}};return e.fac=function(t){return new(t||e)(nc(yg))},e.dir=or({type:e,selectors:[["","igxRowLoadingIndicator",""]],standalone:!0}),e})(),r0=(()=>{let e=class extends Tk{selectRowsWithNoEvent(e,t){this.grid&&this.grid.rowSelection===hD?this.cascadeSelectRowsWithNoEvent(e,t):super.selectRowsWithNoEvent(e,t)}deselectRowsWithNoEvent(e){this.grid.rowSelection!==hD?super.deselectRowsWithNoEvent(e):this.cascadeDeselectRowsWithNoEvent(e)}emitRowSelectionEvent(e,t,i,n){this.grid.rowSelection!==hD?super.emitRowSelectionEvent(e,t,i,n):this.emitCascadeRowSelectionEvent(e,t,i,n)}updateCascadeSelectionOnFilterAndCRUD(e,t,i=null){if(null===i){if(!e.size)return;i=new Set(this.getRowIDs(this.allData)),this.rowsToBeSelected=new Set(this.rowSelection),this.rowsToBeIndeterminate=new Set(this.indeterminateRows),t&&this.rowSelection.delete(t)}if(!e.size)return this.rowSelection=new Set(this.rowsToBeSelected),this.indeterminateRows=new Set(this.rowsToBeIndeterminate),this.clearHeaderCBState(),void this.selectedRowsChange.next();let n=new Set;e.forEach((e=>{this.handleRowSelectionState(e,i),e&&e.parent&&n.add(e.parent)})),this.updateCascadeSelectionOnFilterAndCRUD(n,null,i)}cascadeSelectRowsWithNoEvent(e,t){if(t)this.indeterminateRows.clear(),this.rowSelection.clear(),this.calculateRowsNewSelectionState({added:e,removed:[]});else{let t=this.getSelectedRows(),i={oldSelection:t,newSelection:[...t,...e]};this.handleAddedAndRemovedArgs(i),this.calculateRowsNewSelectionState(i)}this.rowSelection=new Set(this.rowsToBeSelected),this.indeterminateRows=new Set(this.rowsToBeIndeterminate),this.clearHeaderCBState(),this.selectedRowsChange.next()}cascadeDeselectRowsWithNoEvent(e){let t={added:[],removed:e};this.calculateRowsNewSelectionState(t),this.rowSelection=new Set(this.rowsToBeSelected),this.indeterminateRows=new Set(this.rowsToBeIndeterminate),this.clearHeaderCBState(),this.selectedRowsChange.next()}get selectionService(){return this.grid.selectionService}emitCascadeRowSelectionEvent(e,t,i,n){let r=this.getSelectedRows();if(this.areEqualCollections(r,e))return;let s={owner:this.grid,oldSelection:this.getSelectedRowsData(),newSelection:e,added:t,removed:i,event:n,cancel:!1};if(this.calculateRowsNewSelectionState(s,!!this.grid.primaryKey),s.newSelection=Array.from(this.grid.gridAPI.get_all_data().filter((e=>this.rowsToBeSelected.has(this.grid.primaryKey?e[this.grid.primaryKey]:e)))),this.handleAddedAndRemovedArgs(s),this.grid.rowSelectionChanging.emit(s),s.cancel)return;let o=s.newSelection.map((e=>this.grid.primaryKey?e[this.grid.primaryKey]:e));this.areEqualCollections(Array.from(this.rowsToBeSelected),o)?(this.rowSelection=new Set(this.rowsToBeSelected),this.indeterminateRows=new Set(this.rowsToBeIndeterminate),this.clearHeaderCBState(),this.selectedRowsChange.next()):this.cascadeSelectRowsWithNoEvent(o,!0)}handleAddedAndRemovedArgs(e){let t=new Set(e.newSelection),i=new Set(e.oldSelection);e.removed=e.oldSelection.filter((e=>!t.has(e))),e.added=e.newSelection.filter((e=>!i.has(e)))}collectRowsChildrenAndDirectParents(e,t,i,n){let r=new Set;return Array.from(e).forEach((e=>{let s=n?e[this.grid.primaryKey]:e;this.selectDeselectRow(s,i);let o=this.grid.gridAPI.get_rec_by_id(s);this.get_all_children(o).forEach((e=>{t.has(e.key)&&this.selectDeselectRow(e.key,i)})),o&&o.parent&&r.add(o.parent)})),r}calculateRowsNewSelectionState(e,t=!1){this.rowsToBeSelected=new Set(e.oldSelection?t?e.oldSelection.map((e=>e[this.grid.primaryKey])):e.oldSelection:this.getSelectedRows()),this.rowsToBeIndeterminate=new Set(this.getIndeterminateRows());let i=new Set(this.getRowIDs(this.allData)),n=new Set(e.removed),r=new Set(e.added);if(n&&n.size){let e=new Set;e=this.collectRowsChildrenAndDirectParents(n,i,!1,t),Array.from(e).forEach((e=>{this.handleParentSelectionState(e,i)}))}if(r&&r.size){let e=new Set;e=this.collectRowsChildrenAndDirectParents(r,i,!0,t),Array.from(e).forEach((e=>{this.handleParentSelectionState(e,i)}))}}handleParentSelectionState(e,t){e&&(this.handleRowSelectionState(e,t),e.parent&&this.handleParentSelectionState(e.parent,t))}handleRowSelectionState(e,t){let i=[];e&&e.children&&(i=e.children.filter((e=>t.has(e.key)))),i.length?i.every((e=>this.rowsToBeSelected.has(e.key)))?this.selectDeselectRow(e.key,!0):i.some((e=>this.rowsToBeSelected.has(e.key)||this.rowsToBeIndeterminate.has(e.key)))?(this.rowsToBeIndeterminate.add(e.key),this.rowsToBeSelected.delete(e.key)):this.selectDeselectRow(e.key,!1):this.isRowSelected(e.key)?this.selectDeselectRow(e.key,!0):this.selectDeselectRow(e.key,!1)}get_all_children(e){let t=[];if(e&&e.children&&e.children.length)for(let i of e.children)t.push(...this.get_all_children(i)),t.push(i);return t}selectDeselectRow(e,t){t?(this.rowsToBeSelected.add(e),this.rowsToBeIndeterminate.delete(e)):(this.rowsToBeSelected.delete(e),this.rowsToBeIndeterminate.delete(e))}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.prov=Zi({token:e,factory:e.fac}),e})();function s0(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"igx-chip",5),Fh("keyDown",(function(t){return Bs(e),zs(Vh().handleKeyDown(t.owner.id,t.originalEvent))}))("remove",(function(t){return Bs(e),zs(Vh().clearGrouping(t.owner.id))}))("chipClick",(function(){let t=Bs(e).$implicit;return zs(Vh().handleClick(t.fieldName))})),ag(2,"igxGroupByMeta"),ag(3,"igxGroupByMeta"),ag(4,"igxGroupByMeta"),ag(5,"igxGroupByMeta"),Ch(6,"span"),fu(7),ag(8,"igxGroupByMeta"),Sh(),Ch(9,"igx-icon",6),fu(10),Sh()(),Ch(11,"span",7)(12,"igx-icon",8),fu(13,"arrow_forward"),Sh()(),Ih()}if(2&e){let e=t.$implicit,i=t.last,n=Vh();tc(1),_h("id",e.fieldName)("title",dg(2,9,e.fieldName,n.grid).title)("displayDensity",n.grid.displayDensity)("removable",cg(3,12,e.fieldName,n.grid,n.grid.groupablePipeTrigger).groupable)("draggable",cg(4,16,e.fieldName,n.grid,n.grid.groupablePipeTrigger).groupable)("disabled",!cg(5,20,e.fieldName,n.grid,n.grid.groupablePipeTrigger).groupable),tc(6),vu(dg(8,24,e.fieldName,n.grid).title),tc(3),vu(1===e.dir?"arrow_upward":"arrow_downward"),tc(2),_h("hidden",i&&!n.dropAreaVisible)}}function o0(e,t){1&e&&Th(0)}function a0(e,t){if(1&e&&(Ch(0,"igx-icon",9),fu(1,"group_work"),Sh(),Ch(2,"span",10),fu(3),Sh()),2&e){let e=Vh();tc(3),vu(e.dropAreaMessage)}}var l0=(()=>{let e=class extends yz{get hideGroupedColumns(){return this._hideGroupedColumns}set hideGroupedColumns(e){this.grid.columns&&this.expressions&&this.setColumnsVisibility(e),this._hideGroupedColumns=e}constructor(e,t,i){super(t,i),this.differs=e,this._hideGroupedColumns=!1,this.destroy$=new Xe}ngAfterContentInit(){this.grid.columns&&this.expressions&&(this.groupingDiffer=this.differs.find(this.expressions).create(),this.updateColumnsVisibility()),this.grid.sortingExpressionsChange.pipe(Si(this.destroy$)).subscribe((e=>{if(!this.expressions||!this.expressions.length)return;let t=!1;e.forEach((e=>{let i=e.fieldName,n=this.expressions.find((e=>e.fieldName===i));n&&n.dir!==e.dir&&(n.dir=e.dir,t=!0)})),t&&(this.expressions=[...this.expressions])}))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}handleReorder(e){let{chipsArray:t,originalEvent:i}=e,n=this.getReorderedExpressions(t);this.chipExpressions=n,i instanceof KeyboardEvent&&(this.expressions=n)}handleMoveEnd(){this.expressions=this.chipExpressions}groupBy(e){this.expressions.push(e),this.expressions=[...this.expressions]}clearGrouping(e){this.expressions=this.expressions.filter((t=>t.fieldName!==e)),this.grid.sortingExpressions=this.grid.sortingExpressions.filter((t=>t.fieldName!==e)),this.grid.notifyChanges(!0)}expressionsChanged(){this.updateColumnsVisibility()}updateColumnsVisibility(){if(this.groupingDiffer&&this.grid.columns&&!this.grid.hasColumnLayouts){let e=this.groupingDiffer.diff(this.expressions);e&&this.grid.columns.length>0&&(e.forEachAddedItem((e=>{this.grid.getColumnByName(e.item.fieldName).hidden=this.hideGroupedColumns})),e.forEachRemovedItem((e=>{this.grid.getColumnByName(e.item.fieldName).hidden=!1})))}}setColumnsVisibility(e){this.grid.columns.length>0&&!this.grid.hasColumnLayouts&&this.expressions.forEach((t=>{this.grid.getColumnByName(t.fieldName).hidden=e}))}};return e.fac=function(t){return new(t||e)(nc(Tp),nc(wd),nc(ob))},e.cmp=tr({type:e,selectors:[["igx-tree-grid-group-by-area"]],inputs:{hideGroupedColumns:"hideGroupedColumns"},standalone:!0,features:[Nu([{provide:yz,useExisting:e}]),th,Wu],decls:6,vars:4,consts:[[3,"reorder","moveEnd"],[4,"ngFor","ngForOf"],["igxGroupAreaDrop","",1,"igx-drop-area",3,"hidden","igxDrop"],[4,"ngTemplateOutlet"],["default",""],[3,"id","title","displayDensity","removable","draggable","disabled","keyDown","remove","chipClick"],["igxSuffix",""],[1,"igx-grid-grouparea__connector"],[3,"hidden"],[1,"igx-drop-area__icon"],[1,"igx-drop-area__text"]],template:function(e,t){if(1&e&&(Ch(0,"igx-chips-area",0),Fh("reorder",(function(e){return t.handleReorder(e)}))("moveEnd",(function(){return t.handleMoveEnd()})),yh(1,s0,14,27,"ng-container",1),Ch(2,"div",2),Fh("igxDrop",(function(e){return t.onDragDrop(e)})),yh(3,o0,1,0,"ng-container",3),Sh()(),yh(4,a0,4,1,"ng-template",null,4,jg)),2&e){let e=xh(5);tc(1),_h("ngForOf",t.chipExpressions),tc(1),_h("hidden",!t.dropAreaVisible),ph("gridId",t.grid.id),tc(1),_h("ngTemplateOutlet",t.dropAreaTemplate||e)}},dependencies:[gP,zm,hP,XI,EI,Az,eA,Zm,vz],encapsulation:2}),e})(),d0=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o){return e&&t&&i!==sD?this.addSummaryRows(this.grid,e,n,r):e}addSummaryRows(e,t,i,n){let r=[],s=e.summaryService.calcMaxSummaryHeight();for(let o of t){if(r.push(o),!o.expanded&&o.children&&o.children.length>0&&n){let t=o.children.filter((e=>!e.isFilteredOutParent)).map((e=>e.data));t=this.removeDeletedRecord(e,o.key,t);let i={summaries:e.summaryService.calculateSummaries(o.key,t),max:s,cellIndentation:o.level+1};r.push(i)}let t=o.children&&o.children.length>0&&o.expanded;if(i!==rD||t){if(i===nD&&t){let t=o.children.filter((e=>!e.isFilteredOutParent)).map((e=>e.data));t=this.removeDeletedRecord(e,o.key,t);let i={summaries:e.summaryService.calculateSummaries(o.key,t),max:s,cellIndentation:o.level+1};r.push(i)}}else{let t=o,i=o.parent;for(;i;){let n=i.children;if(n[n.length-1]!==t)break;{let o=n.filter((e=>!e.isFilteredOutParent)).map((e=>e.data));o=this.removeDeletedRecord(e,i.key,o);let a={summaries:e.summaryService.calculateSummaries(i.key,o),max:s,cellIndentation:i.level+1};r.push(a),t=i,i=t.parent}}}}return r}removeDeletedRecord(e,t,i){if(!e.transactions.enabled||!e.cascadeOnDelete)return i;let n=e.transactions.getTransactionLog().filter((e=>"delete"===e.type)).map((e=>e.id)),r=e.records.get(t);if(!r&&0===n.lenght)return[];for(r=r.children?r:r.parent;r;){if(t=r.key,-1!==n.indexOf(t))return[];r=r.parent}return n.forEach((t=>{let n=(e.primaryKey?i.map((t=>t[e.primaryKey])):i).indexOf(t);-1!==n&&i.splice(n,1)})),i}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"treeGridSummary",type:e,pure:!0,standalone:!0}),e})(),c0=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o){let a={expressionsTree:t,advancedExpressionsTree:n,strategy:new eD};if(i&&(a.strategy=i),qb.empty(a.expressionsTree)&&qb.empty(a.advancedExpressionsTree))return this.grid.setFilteredData(null,o),e;let l=this.filter(e,a,this.grid),d=[];return this.expandAllRecursive(this.grid,l,this.grid.expansionStates,d),this.grid.setFilteredData(d,o),l}expandAllRecursive(e,t,i,n){for(let r of t)n.push(r.data),r.children&&r.children.length>0&&(i.set(r.key,!0),this.expandAllRecursive(e,r.children,i,n))}filter(e,t,i){return t.strategy.filter(e,t.expressionsTree,t.advancedExpressionsTree,i)}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"treeGridFiltering",type:e,pure:!0,standalone:!0}),e})(),h0=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r){let s=[],o=new Map,a=[];return e&&e.length?(n?s=this.hierarchizeRecursive(e,t,n,void 0,a,0,o):t&&(s=this.hierarchizeFlatData(e,t,i,o,a)),this.grid.flatData=this.grid.transactions.enabled?a.filter((e=>{let i=this.grid.transactions.getState(this.getRowID(t,e));return!i||i.type!==Tb.ADD})):a,this.grid.records=o,this.grid.rootRecords=s,s):(this.grid.flatData=e,this.grid.records=o,this.grid.rootRecords=e,e)}getRowID(e,t){return e?t[e]:t}hierarchizeFlatData(e,t,i,n,r){let s=[],o=[];return e.forEach((e=>{let r={key:this.getRowID(t,e),data:e,children:[]},s=n.get(e[i]);s?(r.parent=s,s.children.push(r)):o.push(r),n.set(e[t],r)})),o.forEach((e=>{let t=n.get(e.data[i]);t?(e.parent=t,t.children.push(e)):s.push(e)})),this.setIndentationLevels(s,0,r),s}setIndentationLevels(e,t,i){for(let n of e)n.level=t,n.expanded=this.grid.gridAPI.get_row_expansion_state(n),i.push(n.data),n.children&&n.children.length>0&&this.setIndentationLevels(n.children,t+1,i)}hierarchizeRecursive(e,t,i,n,r,s,o){let a=[];for(let l of e){let e={key:this.getRowID(t,l),data:l,parent:n,level:s};e.expanded=this.grid.gridAPI.get_row_expansion_state(e),r.push(l),o.set(e.key,e),e.children=l[i]?this.hierarchizeRecursive(l[i],t,i,e,r,s+1,o):void 0,a.push(e)}return a}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"treeGridHierarchizing",type:e,pure:!0,standalone:!0}),e})(),u0=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n){let r=[];return this.grid.processedRootRecords=e,this.grid.processedRecords=new Map,this.getFlatDataRecursive(e,r,t,i,!0),this.grid.processedExpandedFlatData=r.map((e=>e.data)),r}getFlatDataRecursive(e,t,i,n,r){if(e&&e.length)for(let s of e)r&&t.push(s),s.expanded=this.grid.gridAPI.get_row_expansion_state(s),this.updateNonProcessedRecordExpansion(this.grid,s),this.grid.processedRecords.set(s.key,s),this.getFlatDataRecursive(s.children,t,i,n,r&&s.expanded)}updateNonProcessedRecordExpansion(e,t){e.records.get(t.key).expanded=t.expanded}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"treeGridFlattening",type:e,pure:!0,standalone:!0}),e})(),g0=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s){let o,a=i?i.concat(t):t;o=a.length?Kb.treeGridSort(e,a,n,null,this.grid):e;let l=[];return this.flattenTreeGridRecords(o,l),this.grid.setFilteredSortedData(l,s),o}flattenTreeGridRecords(e,t){if(e&&e.length)for(let i of e)t.push(i.data),this.flattenTreeGridRecords(i.children,t)}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"treeGridSorting",type:e,pure:!0,standalone:!0}),e})(),p0=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i=0,n=15,r){if(!t||this.grid.pagingMode!==fD.Local)return e;let s=this.grid._totalRecords>=0?this.grid._totalRecords:e.length,o=Math.ceil(s/n),a={index:o>0&&i>=o?o-1:i,recordsPerPage:n},l=Kb.page(QS(e),a,s);return this.grid.pagingState=a,this.grid.page=a.index,l}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"treeGridPaging",type:e,pure:!0,standalone:!0}),e})(),m0=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t){if(this.grid.transactions.enabled){let t=this.grid.transactions.getAggregatedChanges(!0);if(t.length>0){if(!this.grid.primaryKey)return e;let i=this.grid.childDataKey;if(i){let n=JS(e,i);return Kb.mergeHierarchicalTransactions(n,t,i,this.grid.primaryKey,this.grid.dataCloneStrategy)}{let i=QS(e);return Kb.mergeTransactions(i,t,this.grid.primaryKey,this.grid.dataCloneStrategy)}}}return e}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"treeGridTransaction",type:e,pure:!0,standalone:!0}),e})(),f0=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t){let i=this.grid.primaryKey,n=this.grid.flatData;return n?n.map((e=>({rowID:this.grid.primaryKey?e[i]:e,data:e,level:0,children:[]}))):[]}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"treeGridNormalizeRecord",type:e,pure:!0,standalone:!0}),e})(),y0=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t=!1,i){if(!this.grid.rowEditable||!this.grid.crudService.row||this.grid.crudService.row.getClassName()!==sk.name||!this.grid.gridAPI.crudService.addRowParent||t!==this.grid.gridAPI.crudService.addRowParent.isPinned)return e;let n=e.slice(0),r=this.grid.crudService.row.recordRef;if(this.grid.crudService.addRowParent.isPinned){let e=n.findIndex((e=>e.rowID===this.grid.crudService.addRowParent.rowID));n.splice(e+1,0,r)}else n.splice(this.grid.crudService.row.index,0,r);return this.grid.records.set(r.key,r),n}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"treeGridAddRow",type:e,pure:!0,standalone:!0}),e})();function v0(e,t){if(1&e&&(Ch(0,"igx-chip",10),fu(1),Sh()),2&e){let e=Vh(2);_h("disabled",!0)("displayDensity","compact"),tc(1),vu(e.grid.resourceStrings.igx_grid_pinned_row_indicator)}}function x0(e,t){1&e&&yh(0,v0,2,3,"igx-chip",9),2&e&&_h("ngIf",Vh().displayPinnedChip)}var _0=function(e,t,i,n,r){return[e,t,i,n,r]};function w0(e,t){if(1&e&&(Ch(0,"div",14),ag(1,"columnFormatter"),ag(2,"number"),ag(3,"date"),ag(4,"currency"),ag(5,"percent"),fu(6),ag(7,"columnFormatter"),ag(8,"number"),ag(9,"date"),ag(10,"currency"),ag(11,"percent"),Sh()),2&e){let e=Vh(2);_h("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?cg(1,9,e.value,e.formatter,e.rowData):"number"===e.column.dataType?cg(2,13,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?hg(3,17,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?ug(4,22,Xu(55,_0,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?cg(5,28,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),tc(6),vu(e.formatter?cg(7,32,e.value,e.formatter,e.rowData):"number"===e.column.dataType?cg(8,36,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?hg(9,40,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?ug(10,45,Xu(61,_0,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?cg(11,51,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)}}var C0=function(e,t){return{"igx-icon--success":e,"igx-icon--error":t}};function S0(e,t){if(1&e&&(Ch(0,"igx-icon",15),fu(1),Sh()),2&e){let e=Vh(2);_h("ngClass",Uu(2,C0,e.value,!e.value)),tc(1),vu(e.value?"check":"close")}}function b0(e,t){if(1&e&&(bh(0,"img",16),ag(1,"igxCellImageAlt")),2&e){let e=Vh(2);_h("src",e.value,Vl)("alt",lg(1,2,e.value))}}function D0(e,t){if(1&e&&(yh(0,w0,12,67,"div",11),yh(1,S0,2,5,"igx-icon",12),yh(2,b0,2,4,"img",13)),2&e){let e=Vh();_h("ngIf","boolean"!==e.column.dataType&&"image"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter),tc(1),_h("ngIf","boolean"===e.column.dataType&&!e.formatter),tc(1),_h("ngIf","image"===e.column.dataType)}}function E0(e,t){if(1&e&&(Ch(0,"div",14),ag(1,"columnFormatter"),ag(2,"number"),ag(3,"date"),ag(4,"currency"),ag(5,"percent"),fu(6),Sh()),2&e){let e=Vh(2);_h("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?cg(1,9,e.value,e.formatter,e.rowData):"number"===e.column.dataType?cg(2,13,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?hg(3,17,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?ug(4,22,Xu(32,_0,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?cg(5,28,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),tc(6),vu(e.isEmptyAddRowCell?e.column.header||e.column.field:e.value)}}function I0(e,t){if(1&e&&yh(0,E0,7,38,"div",11),2&e){let e=Vh();_h("ngIf","boolean"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter)}}function T0(e,t){if(1&e){let e=Rh();Eh(0,18),Ch(1,"igx-input-group",19)(2,"input",20),Fh("compositionstart",(function(){return Bs(e),zs(Vh(2).grid.crudService.isInCompositionMode=!0)}))("compositionend",(function(){return Bs(e),zs(Vh(2).grid.crudService.isInCompositionMode=!1)})),Sh()(),Ih()}if(2&e){let e=Vh(2);_h("formGroup",e.formGroup),tc(2),_h("igxFocus",!0)("igxTextSelection",!0)("formControl",e.formControl),ph("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function A0(e,t){if(1&e&&(Eh(0),Ch(1,"igx-input-group",21),bh(2,"input",22),Sh(),Ih()),2&e){let e=Vh(2);tc(1),_h("formGroup",e.formGroup),tc(1),_h("igxFocus",!0)("step",e.step)("igxTextSelection",!0)("formControl",e.formControl),ph("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function R0(e,t){if(1&e&&(Eh(0,18),bh(1,"igx-checkbox",23),Ih()),2&e){let e=Vh(2);_h("formGroup",e.formGroup),tc(1),_h("checked",e.editValue)("igxFocus",!0)("disableRipple",!0)("formControl",e.formControl)}}function k0(e,t){if(1&e){let e=Rh();Eh(0,18),Ch(1,"igx-date-picker",24),Fh("valueChange",(function(t){return Bs(e),zs(Vh(2).editValue=t)})),Sh(),Ih()}if(2&e){let e=Vh(2);_h("formGroup",e.formGroup),tc(1),tu("width",100,"%"),_h("outlet",e.grid.outlet)("locale",e.grid.locale)("weekStart",e.column.pipeArgs.weekStart)("value",e.editValue)("igxFocus",!0)("formControl",e.formControl)}}function O0(e,t){if(1&e){let e=Rh();Eh(0,18),Ch(1,"igx-time-picker",25),Fh("valueChange",(function(t){return Bs(e),zs(Vh(2).editValue=t)})),Sh(),Ih()}if(2&e){let e=Vh(2);_h("formGroup",e.formGroup),tc(1),tu("width",100,"%"),_h("outlet",e.grid.outlet)("locale",e.grid.locale)("inputFormat",e.column.defaultTimeFormat)("value",e.editValue)("igxFocus",!0)("formControl",e.formControl)}}function F0(e,t){if(1&e&&(Eh(0),Ch(1,"igx-input-group",18),bh(2,"input",26),Sh(),Ih()),2&e){let e=Vh(2);tc(1),_h("formGroup",e.formGroup),tc(1),_h("formControl",e.formControl)("igxDateTimeEditor",e.column.defaultDateTimeFormat)("igxFocus",!0),ph("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function P0(e,t){if(1&e&&(Ch(0,"igx-prefix"),fu(1),Sh()),2&e){let e=Vh(3);tc(1),vu(e.currencyCodeSymbol)}}function M0(e,t){if(1&e&&(Ch(0,"igx-suffix"),fu(1),Sh()),2&e){let e=Vh(3);tc(1),vu(e.currencyCodeSymbol)}}function V0(e,t){if(1&e&&(Eh(0),Ch(1,"igx-input-group",21),yh(2,P0,2,1,"igx-prefix",4),bh(3,"input",22),yh(4,M0,2,1,"igx-suffix",4),Sh(),Ih()),2&e){let e=Vh(2);tc(1),_h("formGroup",e.formGroup),tc(1),_h("ngIf",e.grid.currencyPositionLeft),tc(1),_h("igxFocus",!0)("step",e.step)("igxTextSelection",!0)("formControl",e.formControl),ph("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),tc(1),_h("ngIf",!e.grid.currencyPositionLeft)}}function N0(e,t){if(1&e&&(Eh(0),Ch(1,"igx-input-group",21),bh(2,"input",22),Ch(3,"igx-suffix"),fu(4),ag(5,"percent"),Sh()(),Ih()),2&e){let e=Vh(2);tc(1),_h("formGroup",e.formGroup),tc(1),_h("igxFocus",!0)("step",e.step)("igxTextSelection",!0)("formControl",e.formControl),ph("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),tc(2),xu(" ",cg(5,8,e.editValue,e.column.pipeArgs.digitsInfo,e.grid.locale)," ")}}function L0(e,t){if(1&e&&(yh(0,T0,3,6,"ng-container",17),yh(1,A0,3,7,"ng-container",4),yh(2,R0,2,5,"ng-container",17),yh(3,k0,2,9,"ng-container",17),yh(4,O0,2,9,"ng-container",17),yh(5,F0,3,6,"ng-container",4),yh(6,V0,5,9,"ng-container",4),yh(7,N0,6,12,"ng-container",4)),2&e){let e=Vh();_h("ngIf","string"===e.column.dataType||"image"===e.column.dataType),tc(1),_h("ngIf","number"===e.column.dataType),tc(1),_h("ngIf","boolean"===e.column.dataType),tc(1),_h("ngIf","date"===e.column.dataType),tc(1),_h("ngIf","time"===e.column.dataType),tc(1),_h("ngIf","dateTime"===e.column.dataType),tc(1),_h("ngIf","currency"===e.column.dataType),tc(1),_h("ngIf","percent"===e.column.dataType)}}var H0=function(e){return{"padding-inline-start":e}};function B0(e,t){if(1&e&&(Eh(0),bh(1,"div",30,31),Ih()),2&e){let e=Vh(2);tc(1),wu("igx-grid__tree-cell--padding-level-",e.level,""),_h("ngStyle",ju(4,H0,"calc(var(--igx-tree-indent-size) *"+e.level+")"))}}function z0(e,t){1&e&&Th(0)}function G0(e,t){1&e&&Th(0)}var $0=function(e){return{visibility:e}},W0=function(e){return{$implicit:e}};function K0(e,t){if(1&e){let e=Rh();Ch(0,"div",32,33),Fh("click",(function(t){return Bs(e),zs(Vh(2).toggle(t))}))("focus",(function(){return Bs(e),zs(Vh(2).onIndicatorFocus())})),yh(2,z0,1,0,"ng-container",5),yh(3,G0,1,0,"ng-container",5),Sh()}if(2&e){let e=Vh(2);_h("ngStyle",ju(5,$0,e.showIndicator?"visible":"hidden")),tc(2),_h("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",ju(7,W0,e)),tc(1),_h("ngTemplateOutlet",e.pinnedIndicatorTemplate)("ngTemplateOutletContext",e.context)}}function j0(e,t){1&e&&Th(0)}function U0(e,t){if(1&e){let e=Rh();Ch(0,"div",34),Fh("dblclick",(function(t){return Bs(e),zs(Vh(2).onLoadingDblClick(t))})),yh(1,j0,1,0,"ng-container",35),Sh()}if(2&e){Vh();let e=xh(5),t=Vh();tc(1),_h("ngTemplateOutlet",t.grid.rowLoadingIndicatorTemplate?t.grid.rowLoadingIndicatorTemplate:e)}}function q0(e,t){1&e&&bh(0,"igx-circular-bar",36),2&e&&_h("indeterminate",!0)}function Y0(e,t){if(1&e&&(Eh(0),yh(1,B0,3,6,"ng-container",4),yh(2,K0,4,9,"div",27),yh(3,U0,2,1,"div",28),yh(4,q0,1,1,"ng-template",null,29,jg),Ih()),2&e){let e=Vh();tc(1),_h("ngIf",e.level>0),tc(1),_h("ngIf",!e.isLoading),tc(1),_h("ngIf",e.isLoading)}}function X0(e,t){1&e&&Th(0)}function Z0(e,t){1&e&&Th(0)}function Q0(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"igx-icon",37,38),Fh("mouseover",(function(){return Bs(e),zs(Vh().errorShowing=!0)}))("mouseout",(function(){return Bs(e),zs(Vh().errorShowing=!1)})),fu(3,"error"),Sh(),Ch(4,"div",39,40)(7,"div"),yh(8,Z0,1,0,"ng-container",5),Sh()(),Ih()}if(2&e){let e=xh(6),t=Vh(),i=xh(16);tc(1),_h("igxTooltipTarget",e)("igxToggleOutlet",t.grid.outlet),tc(3),_h("id",t.ariaErrorMessage),tc(3),tu("width","max-content"),tc(1),_h("ngTemplateOutlet",t.cellValidationErrorTemplate||i)("ngTemplateOutletContext",t.context)}}function J0(e,t){1&e&&(Ch(0,"igx-icon"),fu(1,"expand_more"),Sh())}function e1(e,t){1&e&&(Ch(0,"igx-icon"),fu(1,"chevron_right"),Sh())}function t1(e,t){if(1&e&&(Ch(0,"div"),fu(1),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",e.grid.resourceStrings.igx_grid_required_validation_error," ")}}function i1(e,t){if(1&e&&(Ch(0,"div"),fu(1),ag(2,"igxStringReplace"),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",cg(2,1,e.grid.resourceStrings.igx_grid_min_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.minlength.requiredLength)," ")}}function n1(e,t){if(1&e&&(Ch(0,"div"),fu(1),ag(2,"igxStringReplace"),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",cg(2,1,e.grid.resourceStrings.igx_grid_max_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.maxlength.requiredLength)," ")}}function r1(e,t){if(1&e&&(Ch(0,"div"),fu(1),ag(2,"igxStringReplace"),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",cg(2,1,e.grid.resourceStrings.igx_grid_min_validation_error,"{0}",e.formGroup.get(e.column.field).errors.min.min)," ")}}function s1(e,t){if(1&e&&(Ch(0,"div"),fu(1),ag(2,"igxStringReplace"),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",cg(2,1,e.grid.resourceStrings.igx_grid_max_validation_error,"{0}",e.formGroup.get(e.column.field).errors.max.max)," ")}}function o1(e,t){if(1&e&&(Ch(0,"div"),fu(1),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",e.grid.resourceStrings.igx_grid_email_validation_error," ")}}function a1(e,t){if(1&e&&(Ch(0,"div"),fu(1),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",e.grid.resourceStrings.igx_grid_pattern_validation_error," ")}}function l1(e,t){if(1&e&&(yh(0,t1,2,1,"div",4),yh(1,i1,3,5,"div",4),yh(2,n1,3,5,"div",4),yh(3,r1,3,5,"div",4),yh(4,s1,3,5,"div",4),yh(5,o1,2,1,"div",4),yh(6,a1,2,1,"div",4)),2&e){let e=Vh();_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.required),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.minlength),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.maxlength),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.min),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.max),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.email),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.pattern)}}var d1=(()=>{let e=class extends qq{constructor(){super(...arguments),this.level=0,this.showIndicator=!1}get row(){return new y$(this.grid,this.intRow.index,this.intRow.data)}toggle(e){e.stopPropagation(),this.grid.gridAPI.set_row_expansion_state(this.intRow.key,!this.intRow.expanded,e)}onLoadingDblClick(e){e.stopPropagation()}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.cmp=tr({type:e,selectors:[["igx-tree-grid-cell"]],inputs:{level:"level",showIndicator:"showIndicator",isLoading:"isLoading",row:"row"},standalone:!0,features:[Nu([tF]),th,Wu],decls:17,vars:4,consts:[["defaultPinnedIndicator",""],["defaultCell",""],["addRowCell",""],["inlineEditor",""],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["defaultExpandedTemplate",""],["defaultCollapsedTemplate",""],["defaultError",""],["class","igx-grid__td--pinned-chip",3,"disabled","displayDensity",4,"ngIf"],[1,"igx-grid__td--pinned-chip",3,"disabled","displayDensity"],["igxTextHighlight","","class","igx-grid__td-text",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"src","alt",4,"ngIf"],["igxTextHighlight","",1,"igx-grid__td-text",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata"],[3,"ngClass"],[3,"src","alt"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["displayDensity","compact"],["igxInput","",3,"igxFocus","igxTextSelection","formControl","compositionstart","compositionend"],["displayDensity","compact",3,"formGroup"],["igxInput","","type","number",3,"igxFocus","step","igxTextSelection","formControl"],[3,"checked","igxFocus","disableRipple","formControl"],["mode","dropdown",3,"outlet","locale","weekStart","value","igxFocus","formControl","valueChange"],["mode","dropdown",3,"outlet","locale","inputFormat","value","igxFocus","formControl","valueChange"],["type","text","igxInput","",3,"formControl","igxDateTimeEditor","igxFocus"],["class","igx-grid__tree-grouping-indicator",3,"ngStyle","click","focus",4,"ngIf"],["class","igx-grid__tree-loading-indicator",3,"dblclick",4,"ngIf"],["defaultLoadingIndicatorTemplate",""],[3,"ngStyle"],["indentationDiv",""],[1,"igx-grid__tree-grouping-indicator",3,"ngStyle","click","focus"],["indicator",""],[1,"igx-grid__tree-loading-indicator",3,"dblclick"],[4,"ngTemplateOutlet"],[3,"indeterminate"],[3,"igxTooltipTarget","igxToggleOutlet","mouseover","mouseout"],["errorIcon",""],["igxTooltip","",3,"id"],["error","","tooltipRef","tooltip"]],template:function(e,t){1&e&&(yh(0,x0,1,1,"ng-template",null,0,jg),yh(2,D0,3,3,"ng-template",null,1,jg),yh(4,I0,1,1,"ng-template",null,2,jg),yh(6,L0,8,8,"ng-template",null,3,jg),yh(8,Y0,6,3,"ng-container",4),yh(9,X0,1,0,"ng-container",5),yh(10,Q0,9,7,"ng-container",4),yh(11,J0,2,0,"ng-template",null,6,jg),yh(13,e1,2,0,"ng-template",null,7,jg),yh(15,l1,7,7,"ng-template",null,8,jg)),2&e&&(tc(8),_h("ngIf",!t.editMode),tc(1),_h("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.context),tc(1),_h("ngIf",t.isInvalid))},dependencies:[$m,Bm,Xm,Zm,lf,df,cf,af,hP,AA,XI,Yw,p_,Sw,Y_,X_,Iw,Aw,UT,CI,iA,nk,MP,pV,WA,DI,EI,LL,HA,NA,S$,F$,M$,RA],encapsulation:2,changeDetection:0}),e})(),c1=["treeCell"];function h1(e,t){1&e&&Th(0)}function u1(e,t){1&e&&Th(0)}function g1(e,t){if(1&e){let e=Rh();Ch(0,"div",3),Fh("animationend",(function(){return Bs(e),zs(Vh().animationEndHandler())})),yh(1,u1,1,0,"ng-container",0),Sh()}if(2&e){let e=Vh(),t=xh(4);iu("igx-grid__tr--add-animate",e.triggerAddAnimationClass),tc(1),_h("ngTemplateOutlet",t)}}function p1(e,t){1&e&&Th(0)}function m1(e,t){if(1&e&&(Eh(0),Ch(1,"div",9),Fh("click",(function(e){return e.stopPropagation()})),yh(2,p1,1,0,"ng-container",0),Sh(),Ih()),2&e){let e=Vh(2);tc(1),nu(e.resolveDragIndicatorClasses),_h("igxRowDrag",e)("ghostTemplate",e.grid.getDragGhostCustomTemplate()),tc(1),_h("ngTemplateOutlet",e.grid.dragIndicatorIconTemplate?e.grid.dragIndicatorIconTemplate:e.grid.dragIndicatorIconBase)}}function f1(e,t){}function y1(e,t){1&e&&yh(0,f1,0,0,"ng-template")}var v1=function(e,t,i,n){return{index:e,rowID:t,key:i,selected:n}},x1=function(e){return{$implicit:e}};function _1(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"div",10),Fh("click",(function(t){return Bs(e),zs(Vh(2).onRowSelectorClick(t))}))("pointerdown",(function(e){return e.preventDefault()})),yh(2,y1,1,0,null,11),Sh(),Ih()}if(2&e){Vh();let e=xh(8),t=Vh();tc(2),_h("ngTemplateOutlet",t.grid.rowSelectorTemplate?t.grid.rowSelectorTemplate:e)("ngTemplateOutletContext",ju(7,x1,Yu(2,v1,t.viewIndex,t.key,t.key,t.selected)))}}function w1(e,t){1&e&&Th(0)}function C1(e,t){if(1&e&&(Eh(0),yh(1,w1,1,0,"ng-container",11),Ih()),2&e){Vh();let e=xh(10),t=Vh();tc(1),_h("ngTemplateOutlet",e)("ngTemplateOutletContext",t)}}var S1=function(e,t,i,n,r,s,o){return[e,t,i,n,r,s,o]},b1=function(e,t,i,n,r,s){return[e,t,i,n,r,s]},D1=function(e,t,i,n,r){return[e,t,i,n,r]};function E1(e,t){if(1&e&&(Ch(0,"igx-grid-cell",14,15),ag(2,"transactionState"),ag(3,"igxCellStyleClasses"),ag(4,"igxCellStyles"),ag(5,"dataMapper"),Sh()),2&e){let e=Vh().$implicit,t=Vh(2);tu("min-height",t.cellHeight,"px")("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth),iu("igx-grid__td--edited",ug(2,30,Qu(58,S1,t.key,e.field,t.grid.rowEditable,t.grid.transactions,t.grid.pipeTrigger,t.grid.gridAPI.crudService.cell,t.grid.gridAPI.crudService.row)))("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)("igx-grid__td--bool","boolean"===e.dataType),_h("ngClass",ug(3,38,Zu(66,b1,e.cellClasses,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("ngStyle",ug(4,45,Zu(73,b1,e.cellStyles,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("editMode",e.editable&&t.grid.crudService.targetInEdit(t.index,e.index))("column",e)("formatter",e.formatter)("intRow",t)("rowData",t.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",ug(5,52,Xu(80,D1,t.data,e.field,t.grid.pipeTrigger,t.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",t.grid.lastSearchInfo)("active",t.isCellActive(e.visibleIndex))("cellSelectionMode",t.grid.cellSelection)("displayPinnedChip",t.shouldDisplayPinnedChip(e.visibleIndex))}}function I1(e,t){if(1&e&&(Ch(0,"igx-tree-grid-cell",16,15),ag(2,"transactionState"),ag(3,"igxCellStyleClasses"),ag(4,"igxCellStyles"),ag(5,"dataMapper"),Sh()),2&e){let e=Vh().$implicit,t=Vh(2);tu("min-height",t.cellHeight,"px")("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth),iu("igx-grid__td--edited",ug(2,32,Qu(60,S1,t.key,e.field,t.grid.rowEditable,t.grid.transactions,t.grid.pipeTrigger,t.grid.gridAPI.crudService.cell,t.grid.gridAPI.crudService.row)))("igx-grid__td--number",("number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)&&0!==e.visibleIndex),_h("ngClass",ug(3,40,Zu(68,b1,e.cellClasses,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("ngStyle",ug(4,47,Zu(75,b1,e.cellStyles,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("level",t.treeRow.level)("expanded",t.expanded)("showIndicator",t.showIndicator)("editMode",e.editable&&t.grid.crudService.targetInEdit(t.index,e.index))("column",e)("formatter",e.formatter)("intRow",t)("rowData",t.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",ug(5,54,Xu(82,D1,t.data,e.field,t.grid.pipeTrigger,t.data[e.field],e.hasNestedPath)))("isLoading",t.isLoading)("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",t.grid.lastSearchInfo)("active",t.isCellActive(e.visibleIndex))("cellSelectionMode",t.grid.cellSelection)("displayPinnedChip",t.shouldDisplayPinnedChip(e.visibleIndex))}}function T1(e,t){1&e&&Th(0)}function A1(e,t){if(1&e&&(yh(0,E1,6,86,"ng-template",null,12,jg),yh(2,I1,6,88,"ng-template",null,13,jg),yh(4,T1,1,0,"ng-container",0)),2&e){let e=t.$implicit,i=xh(1),n=xh(3);tc(4),_h("ngTemplateOutlet",0===e.visibleIndex?n:i)}}function R1(e,t){1&e&&Th(0)}function k1(e,t){if(1&e&&(Eh(0),yh(1,R1,1,0,"ng-container",11),Ih()),2&e){Vh();let e=xh(10),t=Vh();tc(1),_h("ngTemplateOutlet",e)("ngTemplateOutletContext",t)}}function O1(e,t){if(1&e&&(Ch(0,"div",17),bh(1,"igx-checkbox",18),Sh()),2&e){let e=Vh(2);tc(1),_h("tabindex",-1)("readonly",!0)("checked",e.selected)("indeterminate",e.indeterminate)("disabled",e.deleted)("disableRipple",!0)("disableTransitions",e.grid.disableTransitions)("aria-label",e.rowCheckboxAriaLabel)}}function F1(e,t){if(1&e&&(Ch(0,"igx-grid-cell",20,15),ag(2,"transactionState"),ag(3,"igxCellStyleClasses"),ag(4,"igxCellStyles"),ag(5,"dataMapper"),Sh()),2&e){let e=Vh().$implicit,t=Vh(3);tu("min-height",t.cellHeight,"px")("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth)("left",e.rightPinnedOffset),iu("igx-grid__td--edited",ug(2,32,Qu(60,S1,t.key,e.field,t.grid.rowEditable,t.grid.transactions,t.grid.pipeTrigger,t.grid.gridAPI.crudService.cell,t.grid.gridAPI.crudService.row)))("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType),_h("ngClass",ug(3,40,Zu(68,b1,e.cellClasses,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("ngStyle",ug(4,47,Zu(75,b1,e.cellStyles,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("editMode",e.editable&&t.grid.crudService.targetInEdit(t.index,e.index))("column",e)("formatter",e.formatter)("intRow",t)("firstPinned",e.isFirstPinned)("lastPinned",e.isLastPinned)("rowData",t.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",ug(5,54,Xu(82,D1,t.data,e.field,t.grid.pipeTrigger,t.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",t.grid.lastSearchInfo)("active",t.isCellActive(e.visibleIndex))("cellSelectionMode",t.grid.cellSelection)("displayPinnedChip",t.shouldDisplayPinnedChip(e.visibleIndex))}}function P1(e,t){if(1&e&&(Ch(0,"igx-tree-grid-cell",21,15),ag(2,"transactionState"),ag(3,"igxCellStyleClasses"),ag(4,"igxCellStyles"),ag(5,"dataMapper"),Sh()),2&e){let e=Vh().$implicit,t=Vh(3);tu("min-height",t.cellHeight,"px")("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth)("left",e.rightPinnedOffset),iu("igx-grid__td--edited",ug(2,35,Qu(63,S1,t.key,e.field,t.grid.rowEditable,t.grid.transactions,t.grid.pipeTrigger,t.grid.gridAPI.crudService.cell,t.grid.gridAPI.crudService.row)))("igx-grid__td--number",("number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)&&0!==e.visibleIndex),_h("ngClass",ug(3,43,Zu(71,b1,e.cellClasses,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("ngStyle",ug(4,50,Zu(78,b1,e.cellStyles,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("level",t.treeRow.level)("expanded",t.expanded)("showIndicator",t.showIndicator)("editMode",e.editable&&t.grid.crudService.targetInEdit(t.index,e.index))("column",e)("formatter",e.formatter)("intRow",t)("lastPinned",e.isLastPinned)("rowData",t.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",ug(5,57,Xu(85,D1,t.data,e.field,t.grid.pipeTrigger,t.data[e.field],e.hasNestedPath)))("isLoading",t.isLoading)("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",t.grid.lastSearchInfo)("active",t.isCellActive(e.visibleIndex))("cellSelectionMode",t.grid.cellSelection)("displayPinnedChip",t.shouldDisplayPinnedChip(e.visibleIndex))}}function M1(e,t){1&e&&Th(0)}function V1(e,t){if(1&e&&(yh(0,F1,6,88,"ng-template",null,12,jg),yh(2,P1,6,91,"ng-template",null,13,jg),yh(4,M1,1,0,"ng-container",0)),2&e){let e=t.$implicit,i=xh(1),n=xh(3);tc(4),_h("ngTemplateOutlet",0===e.visibleIndex?n:i)}}function N1(e,t){1&e&&(yh(0,V1,5,1,"ng-template",19),ag(1,"igxNotGrouped")),2&e&&_h("ngForOf",lg(1,1,Vh(2).pinnedColumns))}function L1(e,t){if(1&e&&(yh(0,m1,3,5,"ng-container",4),yh(1,_1,3,9,"ng-container",4),yh(2,C1,2,2,"ng-container",4),yh(3,A1,5,1,"ng-template",5,6,jg),ag(5,"igxNotGrouped"),yh(6,k1,2,2,"ng-container",4),yh(7,O1,2,8,"ng-template",null,7,jg),yh(9,N1,2,3,"ng-template",null,8,jg)),2&e){let e=Vh();_h("ngIf",e.rowDraggable),tc(1),_h("ngIf",e.showRowSelectors),tc(1),_h("ngIf",e.pinnedColumns.length>0&&e.grid.isPinningToStart),tc(1),_h("igxGridForOf",lg(5,10,e.unpinnedColumns))("igxForScrollContainer",e.grid.parentVirtDir)("igxForScrollOrientation","horizontal")("igxForContainerSize",e.grid.unpinnedWidth)("igxForSizePropName","calcPixelWidth")("igxForTrackBy",e.grid.trackColumnChanges),tc(3),_h("ngIf",e.pinnedColumns.length>0&&!e.grid.isPinningToStart)}}var H1=(()=>{let e=class extends kk{get treeRow(){return this._treeRow}set treeRow(e){this._treeRow!==e&&(this._treeRow=e,this.data=this._treeRow.data)}set pinned(e){e?this.grid.pinRow(this.key):this.grid.unpinRow(this.key)}get pinned(){return this.grid.isRecordPinned(this._treeRow)}get isRoot(){let e=this.treeRow;return this.pinned&&!this.disabled&&(e=this.grid.unpinnedRecords.find((e=>e.data===this.data))),0===e?.level}get hasChildren(){return!0}get expanded(){return this._treeRow.expanded}set expanded(e){this.grid.gridAPI.set_row_expansion_state(this._treeRow.key,e)}get viewIndex(){return this.index+this.grid.page*this.grid.perPage}get showIndicator(){return this.grid.loadChildrenOnDemand?this.grid.expansionStates.has(this.key)?this.treeRow.children&&this.treeRow.children.length:!this.grid.hasChildrenKey||this.data[this.grid.hasChildrenKey]:this.treeRow.children&&this.treeRow.children.length}get indeterminate(){return this.selectionService.isRowInIndeterminateState(this.key)}ngDoCheck(){this.isLoading=!!this.grid.loadChildrenOnDemand&&this.grid.loadingRows.has(this.key),super.ngDoCheck()}beginAddChild(){this.grid.crudService.enterAddRowMode(this,!0)}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.cmp=tr({type:e,selectors:[["igx-tree-grid-row"]],viewQuery:function(e,t){if(1&e&&Bg(c1,5),2&e){let e;Hg(e=Gg())&&(t._cells=e)}},hostVars:1,hostBindings:function(e,t){2&e&&ph("aria-expanded",t.expanded)},inputs:{treeRow:"treeRow"},standalone:!0,features:[Nu([{provide:kk,useExisting:$i((()=>e))}]),th,Wu],decls:5,vars:1,consts:[[4,"ngTemplateOutlet"],["addTemp",""],["defaultTemp",""],[1,"igx-grid__tr--inner",3,"animationend"],[4,"ngIf"],["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForScrollOrientation","igxForContainerSize","igxForSizePropName","igxForTrackBy"],["igxDirRef",""],["rowSelectorBaseTemplate",""],["pinnedCellsTemplate",""],[3,"igxRowDrag","ghostTemplate","click"],[1,"igx-grid__cbx-selection","igx-grid__tr-action",3,"click","pointerdown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["cellTemplate",""],["treeCellTemplate",""],[1,"igx-grid__td","igx-grid__td--fw",3,"ngClass","ngStyle","editMode","column","formatter","intRow","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],["treeCell",""],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--tree-cell",3,"ngClass","ngStyle","level","expanded","showIndicator","editMode","column","formatter","intRow","rowData","width","visibleColumnIndex","value","isLoading","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__cbx-padding"],[3,"tabindex","readonly","checked","indeterminate","disabled","disableRipple","disableTransitions","aria-label"],["ngFor","",3,"ngForOf"],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--pinned",3,"ngClass","ngStyle","editMode","column","formatter","intRow","firstPinned","lastPinned","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--tree-cell","igx-grid__td--pinned",3,"ngClass","ngStyle","level","expanded","showIndicator","editMode","column","formatter","intRow","lastPinned","rowData","width","visibleColumnIndex","value","isLoading","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"]],template:function(e,t){if(1&e&&(yh(0,h1,1,0,"ng-container",0),yh(1,g1,2,3,"ng-template",null,1,jg),yh(3,L1,11,12,"ng-template",null,2,jg)),2&e){let e=xh(2),i=xh(4);_h("ngTemplateOutlet",t.addRowUI?e:i)}},dependencies:[Zm,$m,hW,vA,sq,Bm,Xm,d1,nk,zm,E$,C$,w$,O$,P$],encapsulation:2,changeDetection:0}),e})(),B1=["record_template"],z1=["summary_template"];function G1(e,t){1&e&&bh(0,"span",60),2&e&&(_h("igxColumnMovingDrop",Vh().headerContainer),ph("droppable",!0))}function $1(e,t){if(1&e&&bh(0,"span",61),2&e){let e=Vh();tu("left",e.pinnedWidth,"px"),_h("igxColumnMovingDrop",e.headerContainer),ph("droppable",!0)}}function W1(e,t){1&e&&Th(0)}function K1(e,t){if(1&e&&(Eh(0),yh(1,W1,1,0,"ng-container",13),Ih()),2&e){let e=t.$implicit,i=t.index,n=Vh(4),r=xh(27);tc(1),_h("ngTemplateOutlet",r)("ngTemplateOutletContext",n.getContext(e,i,!0))}}var j1=function(e,t){return{"igx-grid__tr--pinned-bottom":e,"igx-grid__tr--pinned-top":t}};function U1(e,t){if(1&e&&(Ch(0,"div",63,64),yh(2,K1,2,2,"ng-container",65),Sh()),2&e){let e=Vh().ngIf,t=Vh(2);tu("width",t.calcWidth,"px"),_h("ngClass",Uu(4,j1,!t.isRowPinningToTop,t.isRowPinningToTop)),tc(2),_h("ngForOf",e)}}function q1(e,t){if(1&e&&(Eh(0),yh(1,U1,3,7,"div",62),Ih()),2&e){let e=t.ngIf;tc(1),_h("ngIf",e.length>0)}}var Y1=function(e,t,i,n,r,s){return[e,t,i,n,r,s,!0]},X1=function(e,t,i,n,r){return[e,t,i,n,r,!0]};function Z1(e,t){if(1&e&&(yh(0,q1,2,1,"ng-container",53),ag(1,"treeGridSorting"),ag(2,"treeGridFiltering"),ag(3,"gridRowPinning"),ag(4,"treeGridAddRow"),ag(5,"treeGridNormalizeRecord"),ag(6,"visibleColumns"),ag(7,"treeGridTransaction")),2&e){let e=Vh();_h("ngIf",ug(1,1,Xu(41,X1,ug(2,8,Zu(34,Y1,hg(3,16,cg(4,21,dg(5,25,dg(6,28,dg(7,31,e.data,e.pipeTrigger),e.hasVisibleColumns),e.pipeTrigger),!0,e.pipeTrigger),e.id,!0,e.pipeTrigger),e.filteringExpressionsTree,e.filterStrategy,e.advancedFilteringExpressionsTree,e.pipeTrigger,e.filteringPipeTrigger)),e.sortingExpressions,null==e.treeGroupArea?null:e.treeGroupArea.expressions,e.sortStrategy,e.pipeTrigger)))}}function Q1(e,t){1&e&&Th(0)}function J1(e,t){}function e2(e,t){if(1&e){let e=Rh();yh(0,J1,0,0,"ng-template",66),Fh("cachedViewLoaded",(function(t){return Bs(e),zs(Vh().cachedViewLoaded(t))}))}if(2&e){let e=t.$implicit,i=t.index,n=Vh(),r=xh(29),s=xh(25);_h("igxTemplateOutlet",n.isSummaryRow(e)?r:s)("igxTemplateOutletContext",n.getContext(e,i,!1))}}function t2(e,t){1&e&&Th(0)}var i2=function(e,t,i,n,r,s,o,a,l,d,c,h){return[e,t,i,n,r,s,o,a,l,d,c,h]};function n2(e,t){if(1&e&&(bh(0,"igx-tree-grid-row",67,68),ag(2,"igxGridRowClasses"),ag(3,"igxGridRowStyles")),2&e){let e=t.index,i=t.disabled,n=t.$implicit,r=xh(1),s=Vh();_h("gridID",s.id)("index",e)("treeRow",n)("disabled",i)("ngClass",ug(2,6,eg(24,i2,[s.rowClasses,r,r.inEditMode,r.selected,r.dirty,r.deleted,r.dragging,e,s.hasColumnLayouts,r.treeRow.isFilteredOutParent,n,s.pipeTrigger])))("ngStyle",hg(3,19,s.rowStyles,n,e,s.pipeTrigger))}}function r2(e,t){if(1&e&&(bh(0,"igx-tree-grid-row",69,70),ag(3,"igxGridRowClasses"),ag(4,"igxGridRowStyles")),2&e){let e=t.index,i=t.$implicit,n=xh(1),r=Vh();_h("gridID",r.id)("index",e)("treeRow",i)("ngClass",ug(3,5,eg(23,i2,[r.rowClasses,n,n.inEditMode,n.selected,n.dirty,n.deleted,n.dragging,e,r.hasColumnLayouts,n.treeRow.isFilteredOutParent,i,r.pipeTrigger])))("ngStyle",hg(4,18,r.rowStyles,i,e,r.pipeTrigger))}}function s2(e,t){if(1&e&&bh(0,"igx-grid-summary-row",71,72),2&e){let e=t.index,i=t.$implicit;_h("gridID",Vh().id)("summaries",i.summaries)("firstCellIndentation",i.cellIndentation)("index",e)}}function o2(e,t){1&e&&Th(0)}function a2(e,t){1&e&&bh(0,"igx-circular-bar",73),2&e&&_h("indeterminate",!0)}function l2(e,t){1&e&&bh(0,"span",74),2&e&&(_h("igxColumnMovingDrop",Vh().headerContainer),ph("droppable",!0))}function d2(e,t){}function c2(e,t){if(1&e&&(bh(0,"igx-grid-summary-row",75,72),ag(2,"igxGridSummaryDataPipe")),2&e){let e=Vh();tu("width",e.calcWidth,"px")("height",e.summaryRowHeight,"px"),_h("gridID",e.id)("summaries",dg(2,7,e.id,e.summaryService.retriggerRootPipe))("index",e.dataView.length)}}function h2(e,t){}function u2(e,t){1&e&&Th(0)}function g2(e,t){if(1&e&&(Ch(0,"span"),yh(1,u2,1,0,"ng-container",7),Sh()),2&e){let e=Vh(2),t=xh(70);tc(1),_h("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function p2(e,t){if(1&e&&(Ch(0,"span",76)(1,"span"),fu(2),Sh(),yh(3,g2,2,1,"span",53),Sh()),2&e){let e=Vh();tc(2),vu(e.emptyFilteredGridMessage),tc(1),_h("ngIf",e.showAddButton)}}function m2(e,t){1&e&&Th(0)}function f2(e,t){if(1&e&&(Ch(0,"span"),yh(1,m2,1,0,"ng-container",7),Sh()),2&e){let e=Vh(2),t=xh(70);tc(1),_h("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function y2(e,t){if(1&e&&(Ch(0,"span",76)(1,"span"),fu(2),Sh(),yh(3,f2,2,1,"span",53),Sh()),2&e){let e=Vh();tc(2),vu(e.emptyGridMessage),tc(1),_h("ngIf",e.showAddButton)}}function v2(e,t){if(1&e){let e=Rh();Ch(0,"button",77),Fh("click",(function(t){return Bs(e),zs(Vh().crudService.enterAddRowMode(null,!1,t))})),fu(1),Sh()}if(2&e){let e=Vh();tc(1),xu(" ",e.resourceStrings.igx_grid_add_row_label," ")}}function x2(e,t){1&e&&(Ch(0,"div",78),bh(1,"igx-circular-bar",73),Sh()),2&e&&(tc(1),_h("indeterminate",!0))}function _2(e,t){1&e&&Th(0)}var w2=function(e,t){return{rowChangesCount:e,endEdit:t}};function C2(e,t){if(1&e&&(Ch(0,"div",16,79)(2,"div",80),yh(3,_2,1,0,"ng-container",13),Sh()()),2&e){let e=Vh();tc(2),_h("className",e.bannerClass),tc(1),_h("ngTemplateOutlet",e.rowEditContainer)("ngTemplateOutletContext",Uu(3,w2,e.rowChangesCount,e.crudService.endEdit.bind(e)))}}function S2(e,t){if(1&e&&fu(0),2&e){let e=Vh();_u(" You have ",e.rowChangesCount," changes in this row and ",e.hiddenColumnsCount," hidden columns\n")}}function b2(e,t){if(1&e){let e=Rh();Ch(0,"button",81),Fh("click",(function(t){return Bs(e),zs(Vh().endRowEditTabStop(!1,t))})),fu(1),Sh(),Ch(2,"button",81),Fh("click",(function(t){return Bs(e),zs(Vh().endRowEditTabStop(!0,t))})),fu(3),Sh()}if(2&e){let e=Vh();tc(1),vu(e.resourceStrings.igx_grid_row_edit_btn_cancel),tc(2),vu(e.resourceStrings.igx_grid_row_edit_btn_done)}}function D2(e,t){1&e&&Th(0)}function E2(e,t){1&e&&Th(0)}var I2=function(e){return{$implicit:e}};function T2(e,t){if(1&e&&(Ch(0,"div",82)(1,"span",83),yh(2,D2,1,0,"ng-container",13),Sh()(),Ch(3,"div",84)(4,"div",85),yh(5,E2,1,0,"ng-container",13),Sh()()),2&e){let e=Vh(),t=xh(75),i=xh(77);tc(2),_h("ngTemplateOutlet","IgxAddRow"===(null==e.crudService.row?null:e.crudService.row.getClassName())?e.rowAddTextTemplate:e.rowEditTextTemplate?e.rowEditTextTemplate:t)("ngTemplateOutletContext",ju(4,I2,"IgxAddRow"!==(null==e.crudService.row?null:e.crudService.row.getClassName())?e.rowChangesCount:null)),tc(3),_h("ngTemplateOutlet",e.rowEditActionsTemplate?e.rowEditActionsTemplate:i)("ngTemplateOutletContext",ju(6,I2,e.endEdit.bind(e)))}}function A2(e,t){1&e&&(Ch(0,"igx-icon"),fu(1,"drag_indicator"),Sh())}function R2(e,t){1&e&&bh(0,"igx-grid-column-resizer")}var k2=[[["igx-grid-toolbar"],["igc-grid-toolbar"]],[["igx-tree-grid-group-by-area"],["igc-tree-grid-group-by-area"]],[["igx-grid-footer"],["igc-grid-footer"]],[["igx-paginator"],["igc-paginator"]],[["igx-grid-state"],["igc-grid-state"]],[["igx-column"],["igc-column"],["igx-column-group"],["igc-column-group"],["igx-action-strip"],["igc-action-strip"]]],O2=function(e,t,i,n,r){return[e,t,i,n,r]},F2=function(e,t,i,n,r,s){return[e,t,i,n,r,s]},P2=function(e,t,i,n,r,s,o){return[e,t,i,n,r,s,o]},M2=function(){return[]},V2=["igx-grid-toolbar,igc-grid-toolbar","igx-tree-grid-group-by-area,igc-tree-grid-group-by-area","igx-grid-footer,igc-grid-footer","igx-paginator,igc-paginator","igx-grid-state,igc-grid-state","igx-column,igc-column,igx-column-group,igc-column-group,igx-action-strip,igc-action-strip"],N2=0,L2=(()=>{let e=class extends Kj{get data(){return this._data}set data(e){this._data=e||[],this.summaryService.clearSummaryCache(),this._init||this.validation.updateAll(this._data),this.shouldGenerate&&this.setupColumns(),this.cdr.markForCheck()}get transactions(){return this._diTransactions&&!this.batchEditing?this._diTransactions:this._transactions}get expansionDepth(){return this._expansionDepth}set expansionDepth(e){this._expansionDepth=e,this.notifyChanges()}get rowLoadingIndicatorTemplate(){return this._rowLoadingIndicatorTemplate}set rowLoadingIndicatorTemplate(e){this._rowLoadingIndicatorTemplate=e,this.notifyChanges()}constructor(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,y,v,x,_){super(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,y,v,x,_),this._diTransactions=_,this.cascadeOnDelete=!0,this.role="treegrid",this.id="igx-tree-grid-"+N2++,this.records=new Map,this.processedRecords=new Map,this.loadingRows=new Set,this._filterStrategy=new eD,this._expansionDepth=1/0}ngOnInit(){super.ngOnInit(),this.rowToggle.pipe(Si(this.destroy$)).subscribe((e=>{this.loadChildrenOnRowExpansion(e)})),this.rowAddedNotifier.pipe(Si(this.destroy$)).subscribe((e=>{if(this.rowSelection===hD){let t=this.gridAPI.get_rec_by_id(this.primaryKey?e.data[this.primaryKey]:e.data);t&&t.parent?this.gridAPI.grid.selectionService.updateCascadeSelectionOnFilterAndCRUD(new Set([t.parent]),t.parent.key):requestAnimationFrame((()=>{t=this.gridAPI.get_rec_by_id(this.primaryKey?e.data[this.primaryKey]:e.data),t&&t.parent&&this.gridAPI.grid.selectionService.updateCascadeSelectionOnFilterAndCRUD(new Set([t.parent]),t.parent.key),this.notifyChanges()}))}})),this.rowDeletedNotifier.pipe(Si(this.destroy$)).subscribe((e=>{if(this.rowSelection===hD)if(e.data){let t=this.gridAPI.get_rec_by_id(this.primaryKey?e.data[this.primaryKey]:e.data);this.handleCascadeSelection(e,t)}else{let e=new Set;this.records.forEach((t=>{t&&(!t.children||0===t.children.length)&&t.parent&&e.add(t.parent)})),requestAnimationFrame((()=>{this.gridAPI.grid.selectionService.updateCascadeSelectionOnFilterAndCRUD(e),this.notifyChanges()}))}})),this.filteringDone.pipe(Si(this.destroy$)).subscribe((()=>{if(this.rowSelection===hD){let e=new Set;this.records.forEach((t=>{t&&(!t.children||0===t.children.length)&&t.parent&&e.add(t.parent)})),this.gridAPI.grid.selectionService.updateCascadeSelectionOnFilterAndCRUD(e),this.notifyChanges()}}))}ngAfterViewInit(){if(super.ngAfterViewInit(),this.rowSelection===hD&&this.selectedRows.length){let e=this.selectedRows;this.selectionService.clearRowSelection(),this.selectRows(e,!0),this.cdr.detectChanges()}}ngAfterContentInit(){this.rowLoadingTemplate&&(this._rowLoadingIndicatorTemplate=this.rowLoadingTemplate.template),super.ngAfterContentInit()}getDefaultExpandState(e){return e.children&&e.children.length&&e.level<this.expansionDepth}expandAll(){this._expansionDepth=1/0,this.expansionStates=new Map}collapseAll(){this._expansionDepth=0,this.expansionStates=new Map}refreshGridState(e){if(super.refreshGridState(),this.primaryKey&&this.foreignKey&&e){let t=e.data[this.foreignKey];this.summaryService.clearSummaryCache({rowID:t}),this.pipeTrigger++,this.cdr.detectChanges()}}addRow(e,t){this.crudService.endEdit(!0),this.gridAPI.addRowToData(e,t),this.rowAddedNotifier.next({data:e,owner:this,primaryKey:e[this.primaryKey]}),this.pipeTrigger++,this.notifyChanges()}beginAddRowByIndex(e,t){return null===e||e<0?this.beginAddRowById(null,t):this._addRowForIndex(e-1,t)}getContext(e,t,i){return{$implicit:this.isGhostRecord(e)?e.recordRef:e,index:this.getDataViewIndex(t,i),templateID:{type:this.isSummaryRow(e)?"summaryRow":"dataRow",id:null},disabled:!!this.isGhostRecord(e)&&void 0===e.recordRef.isFilteredOutParent}}getInitialPinnedIndex(e){let t=this.gridAPI.get_row_id(e);return this._pinnedRecordIDs.indexOf(t)}isRecordPinned(e){return-1!==this.getInitialPinnedIndex(e.data)}getSelectedData(e=!1,t=!1){let i=[];return this.unpinnedDataView.forEach((e=>{e.summaries?i.push(null):i.push(e.data)})),i=this.isRowPinningToTop?[...this.pinnedDataView,...i]:[...i,...this.pinnedDataView],this.extractDataFromSelection(i,e,t)}getEmptyRecordObjectFor(e){let t=e?.treeRow||null,i=m({},t),n=t?.data||{};i.data=m({},n),Object.keys(i.data).forEach((e=>{this.foreignKey&&e===this.foreignKey?i.data[e]=t.data[this.crudService.addRowParent?.asChild?this.primaryKey:e]:i.data[e]=void 0}));let r=this.generateRowID();return r===(this.foreignKey&&this.rootRecords&&this.rootRecords.length>0?this.rootRecords[0].data[this.foreignKey]:null)&&(r=this.generateRowID()),i.key=r,i.data[this.primaryKey]=r,{rowID:r,data:i.data,recordRef:i}}deleteRowById(e){let t={rowID:e,primaryKey:e,cancel:!1,rowData:this.getRowData(e),oldValue:null,owner:this};if(this.rowDelete.emit(t),t.cancel)return;let i=this.gridAPI.deleteRowById(e);if(null!=i){let e={data:i,owner:this,primaryKey:i[this.primaryKey]};this.rowDeleted.emit(e)}return i}getRowByIndex(e){if(!(e<0||e>=this.dataView.length))return this.createRow(e)}getRowByKey(e){let t=this.filteredSortedData?this.primaryKey?this.filteredSortedData.find((t=>t[this.primaryKey]===e)):this.filteredSortedData.find((t=>t===e)):void 0,i=this.dataView.findIndex((e=>e.data&&e.data===t));if(!(i<0||i>=this.filteredSortedData.length))return new y$(this,i,t)}allRows(){return this.dataView.map(((e,t)=>this.createRow(t)))}dataRows(){return this.allRows().filter((e=>e instanceof y$))}get selectedCells(){return this.dataRows().map((e=>e.cells.filter((e=>e.selected)))).reduce(((e,t)=>e.concat(t)),[])}getCellByColumn(e,t){let i=this.getRowByIndex(e),n=this.columns.find((e=>e.field===t));if(i&&i instanceof y$&&n)return new sM(this,e,n)}getCellByKey(e,t){let i=this.getRowByKey(e),n=this.columns.find((e=>e.field===t));if(i&&n)return new sM(this,i.index,n)}pinRow(e,t){let i=this.getRowByKey(e);return super.pinRow(e,t,i)}unpinRow(e){let t=this.getRowByKey(e);return super.unpinRow(e,t)}generateRowPath(e){let t=[],i=this.records.get(e);for(;i.parent;)t.push(i.parent.key),i=i.parent;return t.reverse()}isTreeRow(e){return void 0!==e.key&&e.data}getUnpinnedIndexById(e){return this.unpinnedRecords.findIndex((t=>t.data[this.primaryKey]===e))}createRow(e,t){let i,n=this._getDataViewIndex(e),r=t??this.dataView[n];if(this.isSummaryRow(r)&&(i=new _$(this,e,r.summaries,yD.TreeGrid)),!i&&r){let t=this.isTreeRow(r),n=t?r.data:r;i=new y$(this,e,n,t?r:void 0)}return i}generateDataFields(e){return super.generateDataFields(e).filter((e=>e!==this.childDataKey))}transactionStatusUpdate(e){let t=[];if(e.origin===Ab.REDO)t=e.actions?e.actions.filter((e=>e.transaction.type===Tb.DELETE)):[],this.rowSelection===hD&&this.handleCascadeSelection(e);else if(e.origin===Ab.UNDO&&(t=e.actions?e.actions.filter((e=>e.transaction.type===Tb.ADD)):[],this.rowSelection===hD))if("add"===e.actions[0].transaction.type){let t=this.gridAPI.get_rec_by_id(e.actions[0].transaction.id);this.handleCascadeSelection(e,t)}else this.handleCascadeSelection(e);if(t.length)for(let e of t)this.deselectChildren(e.transaction.id);super.transactionStatusUpdate(e)}findRecordIndexInView(e){return this.dataView.findIndex((t=>t.data[this.primaryKey]===e[this.primaryKey]))}getDataBasedBodyHeight(){return!this.flatData||this.flatData.length<this._defaultTargetRecordNumber?0:this.defaultTargetBodyHeight}scrollTo(e,t){let i,n=!1;if("number"!=typeof e){let t=e,r=this.gridAPI.get_row_id(t);if(i=this.processedRecords.get(r),this.gridAPI.expand_path_to_record(i),this.paginator){let e=this.processedExpandedFlatData.indexOf(t),i=Math.floor(e/this.perPage);this.page!==i&&(n=!0,this.page=i)}}n?this.verticalScrollContainer.dataChanged.pipe(fi()).subscribe((()=>{this.scrollDirective(this.verticalScrollContainer,"number"==typeof e?e:this.unpinnedDataView.indexOf(i))})):this.scrollDirective(this.verticalScrollContainer,"number"==typeof e?e:this.unpinnedDataView.indexOf(i)),this.scrollToHorizontally(t)}writeToData(e,t){eb(this.flatData[e],t)}initColumns(e,t=null){if(this.hasColumnLayouts){let e=this.columns.filter((e=>!e.columnLayout&&!e.columnLayoutChild));this.updateColumns(e)}super.initColumns(e,t)}getGroupAreaHeight(){return this.treeGroupArea?this.getComputedHeight(this.treeGroupArea.nativeElement):0}deselectChildren(e){let t=[],i=this.records.get(e);this.selectionService.deselectRowsWithNoEvent([e]),this.gridAPI.get_selected_children(i,t),t.length>0&&t.forEach((e=>this.deselectChildren(e)))}addChildRows(e,t){if(this.primaryKey&&this.foreignKey){for(let i of e)i[this.foreignKey]=t;this.data.push(...e)}else if(this.childDataKey){let i=this.records.get(t),n=i.data;if(this.transactions.enabled&&this.transactions.getAggregatedChanges(!0).length){let e=[];for(;i;)e.push(i.key),i=i.parent;let t,r=this.data;for(let i=e.length-1;i>=0;i--){let n=e[i];if(t=r.find((e=>e[this.primaryKey]===n)),!t)break;r=t[this.childDataKey]}t&&(n=t)}n[this.childDataKey]=e}this.selectionService.clearHeaderCBState(),this.pipeTrigger++,this.rowSelection===hD&&(this.cdr.detectChanges(),this.selectionService.isRowSelected(t)&&(this.selectionService.rowSelection.delete(t),this.selectionService.selectRowsWithNoEvent([t])))}loadChildrenOnRowExpansion(e){if(this.loadChildrenOnDemand){let t=e.rowID;e.expanded&&!this._expansionStates.has(t)&&(this.loadingRows.add(t),this.loadChildrenOnDemand(t,(e=>{this.loadingRows.delete(t),this.addChildRows(e,t),this.notifyChanges()})))}}handleCascadeSelection(e,t=null){requestAnimationFrame((()=>{null===t&&(t=this.gridAPI.get_rec_by_id(e.actions[0].transaction.id)),t&&t.parent&&(this.gridAPI.grid.selectionService.updateCascadeSelectionOnFilterAndCRUD(new Set([t.parent]),t.parent.key),this.notifyChanges())}))}};return e.fac=function(t){return new(t||e)(nc(pj),nc(Tk),nc(Fz),nc(uk),nc(cI),nc(wd),nc(Vd),nc(Hp),nc(fp),nc(Tp),nc(Cg),nc(Rd),nc(id),nc(mj),nc(Yz),nc(nI),nc(fj),nc(RI,8),nc(Xg),nc(ob),nc(gj,8))},e.cmp=tr({type:e,selectors:[["igx-tree-grid"]],contentQueries:function(e,t,i){if(1&e&&(zg(i,l0,5,l0),zg(i,n0,5,n0)),2&e){let e;Hg(e=Gg())&&(t.treeGroupArea=e.first),Hg(e=Gg())&&(t.rowLoadingTemplate=e.first)}},viewQuery:function(e,t){if(1&e&&(Bg(B1,7,yg),Bg(z1,7,yg)),2&e){let e;Hg(e=Gg())&&(t.recordTemplate=e.first),Hg(e=Gg())&&(t.summaryTemplate=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&ph("role",t.role)("id",t.id)},inputs:{childDataKey:"childDataKey",foreignKey:"foreignKey",hasChildrenKey:"hasChildrenKey",cascadeOnDelete:"cascadeOnDelete",loadChildrenOnDemand:"loadChildrenOnDemand",id:"id",data:"data",expansionDepth:"expansionDepth",rowLoadingIndicatorTemplate:"rowLoadingIndicatorTemplate"},standalone:!0,features:[Nu([ck,pj,fj,mj,{provide:Tk,useClass:r0},{provide:uk,useClass:i0},{provide:hk,useExisting:e},Yz,Fz,uA,gA]),th,Wu],ngContentSelectors:V2,decls:91,vars:158,consts:[["tabindex","0",1,"igx-grid-thead",3,"grid","hasMRL","activeDescendant","width","pinnedColumnCollection","unpinnedColumnCollection","keydown.meta.c","keydown.control.c","copy","keydown","focus"],["igxGridBody","","role","rowgroup",1,"igx-grid__tbody",3,"keydown.control.c","copy"],["tabindex","0",1,"igx-grid__tbody-content",3,"igxGridDragSelect","focus","keydown","dragStop","dragScroll","scroll"],["tbody",""],["id","left","class","igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop",4,"ngIf"],["id","left","class","igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop","left",4,"ngIf"],["pinnedRecordsTemplate",""],[4,"ngTemplateOutlet"],["igxGridFor","",3,"igxGridForOf","igxForScrollOrientation","igxForScrollContainer","igxForContainerSize","igxForItemSize","dataChanging","dataChanged"],["verticalScrollContainer",""],["record_template",""],["pinned_record_template",""],["summary_template",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["igxOverlayOutlet","",1,"igx-grid__row-editing-outlet"],["igxRowEditingOverlayOutlet",""],["igxToggle",""],["loadingOverlay",""],[3,"indeterminate",4,"ngIf"],["id","right","class","igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop",4,"ngIf"],[1,"igx-grid__tbody-scrollbar",3,"hidden","pointerdown"],[1,"igx-grid__tbody-scrollbar-start"],[1,"igx-grid__tbody-scrollbar-main"],["igxGridFor","",3,"igxGridForOf"],["verticalScrollHolder",""],[1,"igx-grid__tbody-scrollbar-end"],[1,"igx-grid__addrow-snackbar"],[3,"outlet","actionText","displayTime"],["addRowSnackbar",""],["igxOverlayOutlet",""],["igxBodyOverlayOutlet","overlay-outlet"],["role","rowgroup",1,"igx-grid__tfoot"],["tfoot",""],["tabindex","0",3,"focus","keydown"],["role","row","class","igx-grid__summaries",3,"width","height","gridID","summaries","index",4,"ngIf"],[1,"igx-grid__tfoot-thumb",3,"hidden"],[1,"igx-grid__scroll",3,"hidden","pointerdown"],["scr",""],[1,"igx-grid__scroll-start"],[1,"igx-grid__scroll-main"],["scrollContainer",""],[1,"igx-grid__scroll-end",3,"hidden"],[1,"igx-grid__footer"],["footer",""],["emptyFilteredGrid",""],["defaultEmptyGrid",""],["defaultAddRowEmptyTemplate",""],["defaultLoadingGrid",""],["igxToggle","",4,"ngIf"],["defaultRowEditText",""],["defaultRowEditActions",""],["defaultRowEditTemplate",""],["dragIndicatorIconBase",""],[4,"ngIf"],["igxOverlayOutlet","",1,"igx-grid__loading-outlet"],["igxLoadingOverlayOutlet",""],["igxOverlayOutlet","",1,"igx-grid__outlet"],["igxFilteringOverlayOutlet",""],[2,"display","none"],["sink",""],["id","left",1,"igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop"],["id","left",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop"],["class","igx-grid__tr--pinned",3,"ngClass","width",4,"ngIf"],[1,"igx-grid__tr--pinned",3,"ngClass"],["pinContainer",""],[4,"ngFor","ngForOf"],[3,"igxTemplateOutlet","igxTemplateOutletContext","cachedViewLoaded"],[3,"gridID","index","treeRow","disabled","ngClass","ngStyle"],["row",""],[3,"gridID","index","treeRow","ngClass","ngStyle"],["row","","pinnedRow",""],["role","row",1,"igx-grid__summaries--body",3,"gridID","summaries","firstCellIndentation","index"],["summaryRow",""],[3,"indeterminate"],["id","right",1,"igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop"],["role","row",1,"igx-grid__summaries",3,"gridID","summaries","index"],["role","cell",1,"igx-grid__tbody-message"],["type","button","igxButton","raised","igxRipple","",3,"click"],[1,"igx-grid__loading"],["rowEditingOverlay",""],[3,"className"],["type","button","igxButton","","igxRowEditTabStop","",3,"click"],[1,"igx-banner__message"],[1,"igx-banner__text"],[1,"igx-banner__actions"],[1,"igx-banner__row"]],template:function(e,t){if(1&e&&(Lh(k2),Hh(0),Hh(1,1),Ch(2,"igx-grid-header-row",0),Fh("keydown.meta.c",(function(e){return t.copyHandler(e)}))("keydown.control.c",(function(e){return t.copyHandler(e)}))("copy",(function(e){return t.copyHandler(e)}))("keydown",(function(e){return t.navigation.headerNavigation(e)}))("focus",(function(){return t.navigation.focusFirstCell()})),Sh(),Ch(3,"div",1),Fh("keydown.control.c",(function(e){return t.copyHandler(e)}))("copy",(function(e){return t.copyHandler(e)})),Ch(4,"div",2,3),Fh("focus",(function(e){return t.navigation.focusTbody(e)}))("keydown",(function(e){return t.navigation.handleNavigation(e)}))("dragStop",(function(e){return t.selectionService.dragMode=e}))("dragScroll",(function(e){return t.dragScroll(e)}))("scroll",(function(e){return t.preventContainerScroll(e)})),yh(6,G1,1,2,"span",4),yh(7,$1,1,4,"span",5),yh(8,Z1,8,47,"ng-template",null,6,jg),yh(10,Q1,1,0,"ng-container",7),yh(11,e2,1,2,"ng-template",8,9,jg),ag(13,"gridRowPinning"),ag(14,"treeGridAddRow"),ag(15,"treeGridSummary"),ag(16,"treeGridPaging"),ag(17,"treeGridFlattening"),ag(18,"treeGridSorting"),ag(19,"treeGridFiltering"),ag(20,"treeGridHierarchizing"),ag(21,"visibleColumns"),ag(22,"treeGridTransaction"),Fh("dataChanging",(function(e){return t.dataRebinding(e)}))("dataChanged",(function(e){return t.dataRebound(e)})),yh(23,t2,1,0,"ng-container",7),yh(24,n2,4,37,"ng-template",null,10,jg),yh(26,r2,5,36,"ng-template",null,11,jg),yh(28,s2,2,4,"ng-template",null,12,jg),yh(30,o2,1,0,"ng-container",13),bh(31,"div",14,15),Sh(),Ch(33,"div",16,17),yh(35,a2,1,1,"igx-circular-bar",18),Sh(),yh(36,l2,1,2,"span",19),Ch(37,"div",20),Fh("pointerdown",(function(e){return e.preventDefault()})),bh(38,"div",21),Ch(39,"div",22),yh(40,d2,0,0,"ng-template",23,24,jg),Sh(),bh(42,"div",25),Sh(),Ch(43,"div",26)(44,"igx-snackbar",27,28),fu(46),Sh()(),bh(47,"div",29,30),Sh(),Ch(49,"div",31,32)(51,"div",33),Fh("focus",(function(){return t.navigation.focusFirstCell(!1)}))("keydown",(function(e){return t.navigation.summaryNav(e)})),yh(52,c2,3,10,"igx-grid-summary-row",34),bh(53,"div",35),Sh()(),Ch(54,"div",36,37),Fh("pointerdown",(function(e){return e.preventDefault()})),bh(56,"div",38),Ch(57,"div",39),yh(58,h2,0,0,"ng-template",23,40,jg),Sh(),bh(60,"div",41),Sh(),Ch(61,"div",42,43),Hh(63,2),Hh(64,3),Sh(),yh(65,p2,4,2,"ng-template",null,44,jg),yh(67,y2,4,2,"ng-template",null,45,jg),yh(69,v2,2,1,"ng-template",null,46,jg),yh(71,x2,2,1,"ng-template",null,47,jg),yh(73,C2,4,6,"div",48),yh(74,S2,1,2,"ng-template",null,49,jg),yh(76,b2,4,2,"ng-template",null,50,jg),yh(78,T2,6,8,"ng-template",null,51,jg),yh(80,A2,2,0,"ng-template",null,52,jg),yh(82,R2,1,0,"igx-grid-column-resizer",53),bh(83,"div",54,55)(85,"div",56,57),Ch(87,"div",58,59),Hh(89,4),Hh(90,5),Sh()),2&e){let e=xh(9),i=xh(48);tc(2),_h("grid",t)("hasMRL",t.hasColumnLayouts)("activeDescendant",t.activeDescendant)("width",t.calcWidth)("pinnedColumnCollection",t.pinnedColumns)("unpinnedColumnCollection",t.unpinnedColumns),tc(2),tu("height",t.totalHeight,"px")("width",t.calcWidth,"px"),_h("igxGridDragSelect",t.selectionService.dragMode),ph("aria-activedescendant",t.activeDescendant)("role",t.dataView.length?null:"row"),tc(2),_h("ngIf",t.moving&&t.columnInDrag&&t.pinnedColumns.length<=0),tc(1),_h("ngIf",t.moving&&t.columnInDrag&&t.pinnedColumns.length>0),tc(3),_h("ngTemplateOutlet",t.hasPinnedRecords&&t.isRowPinningToTop?e:null),tc(1),_h("igxGridForOf",hg(13,68,cg(14,73,ug(15,77,Qu(146,P2,ug(16,85,Xu(140,O2,hg(17,91,ug(18,96,Xu(134,O2,ug(19,102,Zu(127,F2,ug(20,109,Xu(121,O2,dg(21,115,dg(22,118,t.data,t.pipeTrigger),t.hasVisibleColumns),t.primaryKey,t.foreignKey,t.childDataKey,t.pipeTrigger)),t.filteringExpressionsTree,t.filterStrategy,t.advancedFilteringExpressionsTree,t.pipeTrigger,t.filteringPipeTrigger)),t.sortingExpressions,null==t.treeGroupArea?null:t.treeGroupArea.expressions,t.sortStrategy,t.pipeTrigger)),t.expansionDepth,t.expansionStates,t.pipeTrigger),!!t.paginator,t.page,t.perPage,t.pipeTrigger)),t.hasSummarizedColumns,t.summaryCalculationMode,t.summaryPosition,t.showSummaryOnCollapse,t.pipeTrigger,t.summaryPipeTrigger)),!1,t.pipeTrigger),t.id,!1,t.pipeTrigger))("igxForScrollOrientation","vertical")("igxForScrollContainer",t.verticalScroll)("igxForContainerSize",t.calcHeight)("igxForItemSize",t.renderedRowHeight),tc(12),_h("ngTemplateOutlet",t.hasPinnedRecords&&!t.isRowPinningToTop?e:null),tc(7),_h("ngTemplateOutlet",t.template)("ngTemplateOutletContext",ju(154,I2,t)),tc(5),_h("ngIf",t.shouldOverlayLoading),tc(1),_h("ngIf",t.moving&&t.columnInDrag),tc(1),tu("width",t.scrollSize,"px")("height",t.calcHeight,"px"),_h("hidden",!t.hasVerticalScroll()),tc(1),tu("height",t.isRowPinningToTop?t.pinnedRowHeight:0,"px"),tc(1),tu("height",t.calcHeight,"px"),tc(1),_h("igxGridForOf",Ku(156,M2)),tc(2),tu("height",t.isRowPinningToTop?0:t.pinnedRowHeight,"px"),tc(2),_h("outlet",i)("actionText",t.resourceStrings.igx_grid_snackbar_addrow_actiontext)("displayTime",t.snackbarDisplayTime),tc(2),vu(t.resourceStrings.igx_grid_snackbar_addrow_label),tc(3),tu("height",t.summaryRowHeight,"px"),tc(2),ph("aria-activedescendant",t.activeDescendant),tc(1),_h("ngIf",t.hasSummarizedColumns&&t.rootSummariesEnabled),tc(1),tu("height",t.summaryRowHeight,"px")("width",t.scrollSize,"px"),_h("hidden",!t.hasVerticalScroll()),tc(1),tu("height",t.scrollSize,"px"),_h("hidden",t.isHorizontalScrollHidden),tc(2),tu("width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px")("min-width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px"),tc(1),tu("width",t.unpinnedWidth,"px"),tc(1),_h("igxGridForOf",Ku(157,M2)),tc(2),tu("width",t.pinnedWidth,"px")("min-width",t.pinnedWidth,"px"),_h("hidden",0===t.pinnedWidth||t.isPinningToStart),tc(13),_h("ngIf",t.rowEditable),tc(9),_h("ngIf",t.colResizingService.showResizer)}},dependencies:[$m,zm,Bm,Xm,Zm,cW,QW,BY,uG,vA,kA,H1,HK,MA,FA,LL,qK,HI,DA,CK,XI,zK,A$,k$,b$,D$,vU,h0,u0,g0,c0,p0,m0,d0,f0,y0],encapsulation:2,changeDetection:0}),e})(),H2=class{},B2=((()=>{let e=class{transform(e,t,i,n,r,s){if(0===t.length)return e;if(i?.toLowerCase()===n?.toLowerCase())throw new Error("Group key and child data key cannot be the same.");this.grid=r;let o=[],a=this.groupByMultiple(e,t);return this.flattenGrouping(a,i,n,o,s),o}flattenGrouping(e,t,i,n,r=[]){for(let s of e){let e={},o=s.records;e[i]=[];for(let t of r)e[t.field]=t.aggregate(e,o);e[t]=s.value+` (${s.records.length})`,e._Igx_Hidden_Data_={[s.key]:s.value},n.push(e),s.groups?this.flattenGrouping(s.groups,t,i,e[i],r):e[i]=o}}groupByMultiple(e,t,i=0){let n=this.groupBy(e,t[i]);if(i+1<t.length)for(let e of n)e.groups=this.groupByMultiple(e.records,t,i+1);return n}groupBy(e,t){let i=t.fieldName,n=this.grid?.getColumnByName(i),r=n?.dataType===Wb.Date||n?.dataType===Wb.DateTime||n?.dataType===Wb.Time,s=new Map;for(let o of e){let e,a=r?bb(o[i],n.pipeArgs.format,this.grid.locale):o[i],l=a;t.ignoreCase&&(l=a?.toString().toLowerCase()),s.has(l)?e=s.get(l):(e=new H2,e.key=i,e.value=a,e.records=[],s.set(l,e)),e.records.push(o)}return Array.from(s.values())}};e.fac=function(t){return new(t||e)},e.pipe=ar({name:"treeGridGrouping",type:e,pure:!0,standalone:!0})})(),(()=>{let e=class extends jj{constructor(){super(...arguments),this.childRowIslands=new Map,this.childGrids=new Map}registerChildRowIsland(e){this.childRowIslands.set(e.key,e),this.destroyMap.set(e.key,new Xe)}unsetChildRowIsland(e){this.childGrids.delete(e.key),this.childRowIslands.delete(e.key),this.destroyMap.delete(e.key)}getChildRowIsland(e){return this.childRowIslands.get(e)}getChildGrid(e){let t,i=e,n=i.shift(),r=this.childGrids.get(n.rowIslandKey);if(r){let e=r.get(n.rowID);t=0===i.length?e:e.gridAPI.getChildGrid(i)}return t}getChildGrids(e){let t=[];return this.childGrids.forEach((i=>{i.forEach((i=>{if(t.push(i),e){let n=i.gridAPI.getChildGrids(e);t=t.concat(n)}}))})),t}getParentRowId(e){let t;return this.childGrids.forEach((i=>{i.forEach(((i,n)=>{i!==e||(t=n)}))})),t}registerChildGrid(e,t,i){let n=this.childGrids.get(t);n||(this.childGrids.set(t,new Map),n=this.childGrids.get(t)),n.set(e,i)}getChildGridsForRowIsland(e){let t=this.childGrids.get(e),i=[];return t&&t.forEach((e=>{i.push(e)})),i}getChildGridByID(e,t){return this.childGrids.get(e).get(t)}get_row_expansion_state(e){let t;if(void 0!==e.childGridsData){let t=e.key,i=this.grid.expansionStates.get(t);return void 0!==i?i:this.grid.getDefaultExpandState(e)}return t=!!super.get_row_expansion_state(e),t&&0!==this.grid.childLayoutList.length}allow_expansion_state_change(e,t){let i=this.get_rec_by_id(e),n=this.grid;return!(n.hasChildrenKey&&!i[n.hasChildrenKey]||!i||this.grid.expansionStates.get(e)===t)}get_rec_by_id(e){let t=this.get_all_data(!1);return t[this.get_row_index_in_data(e,t)]}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.prov=Zi({token:e,factory:e.fac}),e})()),z2=(()=>{let e=class extends mj{constructor(){super(...arguments),this._pendingNavigation=!1}dispatchEvent(e){let t=e.key.toLowerCase();if(this.activeNode&&(pb.has(t)||"tab"===t&&this.grid.crudService.cell||this.grid.crudService.rowEditingBlocked||this.grid.crudService.rowInEditMode)&&(this.getClosestElemByTag(e.target,"igx-hierarchical-grid")||this.getClosestElemByTag(e.target,"igc-hierarchical-grid"))===this.grid.nativeElement){if(this._pendingNavigation&&db.has(t))return void e.preventDefault();super.dispatchEvent(e)}}navigateInBody(e,t,i=null){let n=this.grid.dataView[e];if(n&&this.grid.isChildGridRecord(n)){let n=this.grid.verticalScrollContainer.state,r=e>=n.startIndex&&e<=n.startIndex+n.chunkSize,s=this.activeNode.row<e,o=s?null:this.grid.childLayoutKeys.length-1;if(r)this._moveToChild(e,t,s,o,i);else{let n=this.grid.verticalScrollContainer.getScrollForIndex(e,!s);n+=s?1:-1,this.grid.verticalScrollContainer.getScroll().scrollTop=n,this._pendingNavigation=!0,this.grid.verticalScrollContainer.chunkLoad.pipe(fi()).subscribe((()=>{this._moveToChild(e,t,s,o,i),this._pendingNavigation=!1}))}return}let r=e===this.grid.dataView.length;if(-1!==e&&!r||null===this.grid.parent){if(this.grid.parent){let n=!(!this.activeNode||"number"!=typeof this.activeNode.row)&&e>this.activeNode.row,r=t=>{this._handleScrollInChild(e,n),i(t)};return this.activeNode||(this.activeNode={row:null,column:null}),void super.navigateInBody(e,t,r)}this.activeNode||(this.activeNode={row:null,column:null}),super.navigateInBody(e,t,i)}else{let e=this.nextSiblingIndex(r);null!==e?this.grid.parent.navigation._moveToChild(this.grid.childRow.index,t,r,e,i):this._moveToParent(r,t,i)}}shouldPerformVerticalScroll(e,t=-1,i){let n=this.grid.dataView[e];if(this.grid.isChildGridRecord(n)){let t=this.grid.verticalScrollContainer.getScrollForIndex(e,!i),n=this.grid.verticalScrollContainer.getScroll().scrollTop;return i?n<t:t>n}return super.shouldPerformVerticalScroll(e,t)}focusTbody(e){this.activeNode&&null!==this.activeNode.row?super.focusTbody(e):(this.activeNode={row:0,column:0},this.grid.navigateTo(0,0,(t=>{this.grid.clearCellSelection(),t.target.activate(e)})))}nextSiblingIndex(e){let t=this.grid.childRow.layout.key,i=this.grid.parent.childLayoutKeys.indexOf(t),n=e?i+1:i-1;return n<=this.grid.parent.childLayoutKeys.length-1&&n>-1?n:null}_handleScrollInChild(e,t,i){this.shouldPerformVerticalScroll(e,-1,t)?this.grid.navigation.performVerticalScrollToCell(e,-1,(()=>{this.positionInParent(e,t,i)})):this.positionInParent(e,t,i)}positionInParent(e,t,i){let n=this.grid.gridAPI.get_row_by_index(e);if(!n)return void(i&&i());let r=this.getPositionInfo(n,t);if(r.inView)i&&i();else{this._pendingNavigation=!0;let e=t?this.getNextScrollableDown(this.grid):this.getNextScrollableUp(this.grid);e.grid.verticalScrollContainer.recalcUpdateSizes(),e.grid.verticalScrollContainer.addScrollTop(r.offset),e.grid.verticalScrollContainer.chunkLoad.pipe(fi()).subscribe((()=>{this._pendingNavigation=!1,i&&i()}))}}_moveToChild(e,t,i,n,r){let s="number"!=typeof n?this.grid.childLayoutList.first:this.grid.childLayoutList.toArray()[n],o={rowID:this.grid.dataView[e].rowID,rowIslandKey:s.key},a=this.grid.gridAPI.getChildGrid([o]),l=i?0:a.dataView.length-1,d=a.dataView[l];if(!d)return void a.navigation.navigateInBody(l,t,r);if(a.isChildGridRecord(d))return this.grid.navigation.activeNode.row=null,a.navigation.activeNode={row:l,column:this.activeNode.column},void a.navigation._handleScrollInChild(l,i,(()=>{let e=i?0:a.childLayoutList.toArray().length-1;a.navigation._moveToChild(l,t,i,e,r)}));let c=a.navigation;this.clearActivation();let h=c.lastColumnIndex,u=t<=h?t:h;c.activeNode={row:l,column:u},a.tbody.nativeElement.focus({preventScroll:!0}),this._pendingNavigation=!1,a.navigation._handleScrollInChild(l,i,(()=>{a.navigateTo(l,u,r)}))}_moveToParent(e,t,i){let n=this.grid.childRow.index;if(!this.hasNextTarget(this.grid.parent,n,e))return;this.clearActivation();let r=e?n+1:n-1,s=this.grid.parent.navigation.lastColumnIndex,o=t<=s?t:s;this._pendingNavigation=!0,this.grid.parent.navigation.navigateInBody(r,o,(e=>{this._pendingNavigation=!1,i(e),e.target.grid.tbody.nativeElement.focus()}))}getPositionInfo(e,t){let i=e.nativeElement;if(e.layout){let n=this.grid.childLayoutKeys,r=t?n[0]:n[n.length-1],s={rowID:e.data.rowID,rowIslandKey:r};i=this.grid.gridAPI.getChildGrid([s]).tfoot.nativeElement}let n=this._getMinBottom(this.grid),r=i.getBoundingClientRect().bottom-n,s=this._getMaxTop(this.grid),o=i.getBoundingClientRect().bottom-i.offsetHeight-s;return{inView:t?Math.round(r)<=0:Math.round(o)>=0,offset:t?r:o}}getClosestElemByTag(e,t){let i=e;for(;null!==i&&1===i.nodeType;){if(i.tagName.toLowerCase()===t.toLowerCase())return i;i=i.parentNode}return null}clearActivation(){this.activeNode&&Object.keys(this.activeNode).length&&(this.activeNode=Object.assign({}))}hasNextTarget(e,t,i){let n=i?t+1:t-1;if(e.dataView[n])return!0;{let t=!1;if(e.parent){let n=e.childRow.index;t=this.hasNextTarget(e.parent,n,i)}return t}}_getMaxTop(e){let t=e,i=t.tbody.nativeElement.getBoundingClientRect().top;for(;t.parent;){t=t.parent;let e=t.hasPinnedRecords&&t.isRowPinningToTop?t.pinnedRowHeight:0;i=Math.max(i,t.tbody.nativeElement.getBoundingClientRect().top+e)}return i}_getMinBottom(e){let t=e,i=t.tbody.nativeElement.getBoundingClientRect().bottom;for(;t.parent;){t=t.parent;let e=t.hasPinnedRecords&&!t.isRowPinningToTop?t.pinnedRowHeight:0;i=Math.min(i,t.tbody.nativeElement.getBoundingClientRect().bottom-e)}return i}getNextScrollableDown(e){let t=e.parent;if(!t)return{grid:e,prev:null};let i=t.verticalScrollContainer.scrollPosition,n=t.verticalScrollContainer.getScroll().scrollHeight,r=0===n||Math.round(i+t.verticalScrollContainer.igxForContainerSize)===n,s=e;for(;r&&null!==t.parent;)s=t,t=t.parent,i=t.verticalScrollContainer.scrollPosition,n=t.verticalScrollContainer.getScroll().scrollHeight,r=0===n||Math.round(i+t.verticalScrollContainer.igxForContainerSize)===n;return{grid:t,prev:s}}getNextScrollableUp(e){let t=e.parent;if(!t)return{grid:e,prev:null};let i=0===t.verticalScrollContainer.scrollPosition,n=e;for(;i&&null!==t.parent;)n=t,t=t.parent,i=0===t.verticalScrollContainer.scrollPosition;return{grid:t,prev:n}}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.prov=Zi({token:e,factory:e.fac}),e})(),G2=(()=>{let e=class extends Kj{get maxLevelHeaderDepth(){return null===this._maxLevelHeaderDepth&&(this._maxLevelHeaderDepth=this.columns.reduce(((e,t)=>Math.max(e,t.level)),0)),this._maxLevelHeaderDepth}get outlet(){return this.rootGrid?this.rootGrid.resolveOutlet():this.resolveOutlet()}set outlet(e){this._userOutletDirective=e}get batchEditing(){return this._batchEditing}set batchEditing(e){e!==this._batchEditing&&(delete this._transactions,this.switchTransactionService(e),this.subscribeToTransactions(),this.batchEditingChange.emit(e),this._batchEditing=e)}constructor(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,y,v,x,_){super(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,y,v,x,_),this.gridAPI=n,this.showExpandAll=!1,this.dataPreLoad=new Pd,this.batchEditingChange=new Pd}createColumnsList(e){let t=[];e.filter((e=>0===e.level)).forEach((e=>{let i=this._createColumn(e);i.changeDetectorRef.detectChanges(),t.push(i.instance)}));let i=$2(t);this.updateColumns(i),this.initPinning(),i.forEach((e=>{this.columnInit.emit(e)})),Mp(aM).outputs.filter((e=>"columnChange"!==e.propName)).forEach((e=>{this.columns.forEach((t=>{t[e.propName]&&t[e.propName].pipe(Si(t.destroy$)).subscribe((i=>{this.parentIsland.columnList.find((e=>e.field?e.field===t.field:e.header===t.header))[e.propName].emit({args:i,owner:this})}))}))}))}_createColumn(e){let t;return t=e instanceof cM?this._createColGroupComponent(e):this._createColComponent(e),t}_createColGroupComponent(e){let t=Pp(cM,{environmentInjector:this.envInjector,elementInjector:this.injector});if(t.changeDetectorRef.detectChanges(),Mp(cM).inputs.forEach((i=>{let n=i.propName;t.instance[n]=e[n]})),e.children.length>0){let i=[];e.children.forEach((e=>{let n=this._createColumn(e).instance;n.parent=t.instance,i.push(n)})),t.instance.children.reset(i),t.instance.children.notifyOnChanges()}return t}_createColComponent(e){let t=Pp(aM,{environmentInjector:this.envInjector,elementInjector:this.injector});return Mp(aM).inputs.forEach((i=>{let n=i.propName;e[n]instanceof fk?t.instance[n]=e[n].constructor:t.instance[n]=e[n]})),t.instance.validators=e.validators,t}getGridsForIsland(e){return this.gridAPI.getChildGridsForRowIsland(e)}getChildGrid(e){if(e)return this.gridAPI.getChildGrid(e)}};return e.fac=function(t){return new(t||e)(nc(pj),nc(Tk),nc(Fz),nc(uk),nc(dI),nc(wd),nc(Vd),nc(Hp),nc(fp),nc(Tp),nc(Cg),nc(Rd),nc(id),nc(z2),nc(Yz),nc(nI),nc(fj),nc(RI,8),nc(Xg),nc(ob),nc(gj,8))},e.dir=or({type:e,inputs:{hasChildrenKey:"hasChildrenKey",showExpandAll:"showExpandAll"},outputs:{dataPreLoad:"dataPreLoad"},features:[th]}),e})(),$2=e=>{let t=[];return e.forEach((e=>{t.push(e),e.children&&(t=t.concat($2(e.children.toArray())))})),t},W2=(()=>{let e=class{constructor(){this.change=new Xe,this.state=new Map,this.destroyMap=new Map,this.childRowIslands=new Map,this.childGrids=new Map}register(e){this.state.set(e.id,e),this.destroyMap.set(e.id,new Xe)}unsubscribe(e){this.state.delete(e.id)}get(e){return this.state.get(e)}unset(e){this.state.delete(e),this.destroyMap.delete(e)}reset(e,t){let i=this.destroyMap.get(e),n=this.get(e);this.unset(e),n&&this.state.set(t,n),i&&this.destroyMap.set(t,i)}registerChildRowIsland(e){this.childRowIslands.set(e.key,e),this.destroyMap.set(e.key,new Xe)}unsetChildRowIsland(e){this.childRowIslands.delete(e.key),this.destroyMap.delete(e.key)}getChildRowIsland(e){return this.childRowIslands.get(e)}registerChildGrid(e,t){this.childGrids.set(e,t)}getChildGrids(e){let t=[];return this.childGrids.forEach((e=>{t.push(e)})),e&&this.childRowIslands.forEach((i=>{t=t.concat(i.rowIslandAPI.getChildGrids(e))})),t}getChildGridByID(e){return this.childGrids.get(e)}};return e.fac=function(t){return new(t||e)},e.prov=Zi({token:e,factory:e.fac}),e})(),K2=[[["igx-column"],["igc-column"],["igx-column-group"],["igc-column-group"],["igx-action-strip"],["igc-action-strip"]],[["igx-row-island"],["igc-row-island"]]],j2=["igx-column,igc-column,igx-column-group,igc-column-group,igx-action-strip,igc-action-strip","igx-row-island,igc-row-island"],U2=(()=>{let e=class extends G2{get childDataKey(){return this.key}set childDataKey(e){this.key=e}get toolbarTemplate(){return this._toolbarTemplate||this.toolbarDirectiveTemplate}set toolbarTemplate(e){this._toolbarTemplate=e}get paginatorTemplate(){return this._paginatorTemplate||this.paginatorDirectiveTemplate}set paginatorTemplate(e){this._paginatorTemplate=e}set expandChildren(e){this._defaultExpandState=e,this.rowIslandAPI.getChildGrids().forEach((t=>{document.body.contains(t.nativeElement)?(t.expandChildren=e,t.cdr.detectChanges()):t.updateOnRender=!0}))}get expandChildren(){return this._defaultExpandState}get id(){let e=this.parentId?this.parentId.substring(this.parentId.indexOf(this.layout_id)+this.layout_id.length)+"-":"";return this.layout_id+e+this.key}get parentId(){return this.parentIsland?this.parentIsland.id:null}get level(){let e=this.parentIsland,t=0;for(;e;)t++,e=e.parentIsland;return t+1}constructor(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,y,v,x,_){super(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,y,x,_),this.rowIslandAPI=v,this.children=new mg,this.childLayoutList=new mg,this.childColumns=new mg,this.layoutChange=new Pd,this.gridCreated=new Pd,this.gridInitialized=new Pd,this.initialChanges=[],this.rootGrid=null,this.layout_id="igx-row-island-",this.isInit=!1,this._childColumns=[]}ngOnInit(){this.filteringService.grid=this,this.rootGrid=this.gridAPI.grid,this.rowIslandAPI.rowIsland=this,this.ri_columnListDiffer=this.differs.find([]).create(null)}ngAfterContentInit(){this.updateChildren(),this.children.notifyOnChanges(),this.children.changes.pipe(Si(this.destroy$)).subscribe((()=>{this.updateChildren(),this.getGridsForIsland(this.key).forEach((e=>{e.onRowIslandChange(this.children)}))}));let e=this.children.map((e=>e.columnList.toArray())),t=[].concat.apply([],e),i=this.columnList.filter((e=>-1===t.indexOf(e)));this._childColumns=i,this.updateColumns(this._childColumns),this.columnList.changes.pipe(Si(this.destroy$)).subscribe((()=>{Promise.resolve().then((()=>{this.updateColumnList()}))})),this.ri_columnListDiffer.diff(this.childColumns),this._childColumns.forEach((e=>e.columnChange.pipe(Si(e.destroy$)).subscribe((()=>this.updateColumnList())))),this.childColumns.changes.pipe(Si(this.destroy$)).subscribe((e=>{let t=this.ri_columnListDiffer.diff(e);t&&t.forEachAddedItem((e=>{e.item.columnChange.pipe(Si(e.item.destroy$)).subscribe((()=>this.updateColumnList()))}))})),this.actionStrip=this.actionStrips.first,this.actionStrip&&(this.actionStrip.menuOverlaySettings.outlet=this.outlet)}ngAfterViewInit(){this.rowIslandAPI.register(this),this.parentIsland?this.parentIsland.rowIslandAPI.registerChildRowIsland(this):this.rootGrid.gridAPI.registerChildRowIsland(this),this._init=!1,this.gridCreated.pipe(function(...e){let t=e.length;if(0===t)throw new Error("list of properties cannot be empty.");return i=>At(function(e,t){return i=>{let n=i;for(let i=0;i<t;i++){let t=n?.[e[i]];if(void 0===t)return;n=t}return n}}(e,t))(i)}("grid"),Si(this.destroy$)).subscribe((e=>{e.rendered$.pipe(fi(),Xt((()=>!!this.toolbarTemplate))).subscribe((()=>e.toolbarOutlet.createEmbeddedView(this.toolbarTemplate,{$implicit:e}))),e.rendered$.pipe(fi(),Xt((()=>!!this.paginatorTemplate))).subscribe((()=>{this.rootGrid.paginatorList.changes.pipe(Si(this.destroy$)).subscribe((t=>{t.forEach((t=>{t.nativeElement.offsetParent?.id===e.id&&e.setUpPaginator()}))})),e.paginatorOutlet.createEmbeddedView(this.paginatorTemplate)}))}))}ngOnChanges(e){this.layoutChange.emit(e),this.isInit||this.initialChanges.push(e)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this._destroyed=!0,this.rowIslandAPI.unset(this.id),this.parentIsland?(this.getGridsForIsland(this.key).forEach((e=>{this.cleanGridState(e),e.gridAPI.unsetChildRowIsland(this)})),this.parentIsland.rowIslandAPI.unsetChildRowIsland(this)):(this.rootGrid.gridAPI.unsetChildRowIsland(this),this.cleanGridState(this.rootGrid))}reflow(){}calculateGridHeight(){}calculateGridWidth(){}updateColumnList(){let e=this.children.map((e=>e.columnList.toArray())),t=[].concat.apply([],e),i=this.columnList.filter((e=>-1===t.indexOf(e)&&(e.defaultWidth=void 0,!0)));this._childColumns=i,this.updateColumns(this._childColumns),this.rowIslandAPI.getChildGrids().forEach((e=>{e.createColumnsList(this._childColumns),document.body.contains(e.nativeElement)||(e.updateOnRender=!0)}))}updateChildren(){this.children.first===this&&this.children.reset(this.children.toArray().slice(1)),this.children.forEach((e=>{e.parentIsland=this}))}cleanGridState(e){e.childGridTemplates.forEach((e=>{e.owner.cleanView(e.context.templateID)})),e.childGridTemplates.clear(),e.onRowIslandChange()}};return e.fac=function(t){return new(t||e)(nc(pj),nc(Tk),nc(Fz),nc(uk),nc(dI),nc(wd),nc(Vd),nc(Hp),nc(fp),nc(Tp),nc(Cg),nc(Rd),nc(id),nc(z2),nc(Yz),nc(nI),nc(fj),nc(RI,8),nc(W2),nc(Xg),nc(ob))},e.cmp=tr({type:e,selectors:[["igx-row-island"]],contentQueries:function(t,i,n){if(1&t&&(zg(n,sK,5,yg),zg(n,LJ,5,yg),zg(n,e,4,e),zg(n,e,4,e),zg(n,aM,4,aM),zg(n,Bk,4,Bk)),2&t){let e;Hg(e=Gg())&&(i.toolbarDirectiveTemplate=e.first),Hg(e=Gg())&&(i.paginatorDirectiveTemplate=e.first),Hg(e=Gg())&&(i.children=e),Hg(e=Gg())&&(i.childLayoutList=e),Hg(e=Gg())&&(i.childColumns=e),Hg(e=Gg())&&(i.actionStrips=e)}},inputs:{key:"key",childDataKey:"childDataKey",toolbarTemplate:"toolbarTemplate",paginatorTemplate:"paginatorTemplate",expandChildren:"expandChildren"},outputs:{layoutChange:"layoutChange",gridCreated:"gridCreated",gridInitialized:"gridInitialized"},standalone:!0,features:[Nu([W2,Yz,Tk]),th,fs,Wu],ngContentSelectors:j2,decls:4,vars:0,consts:[[2,"display","none"],["sink",""]],template:function(e,t){1&e&&(Lh(K2),Ch(0,"div",0,1),Hh(2),Hh(3,1),Sh())},encapsulation:2,changeDetection:0}),e})(),q2=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t=new Map,i,n,r,s){return 0===r.length||this.grid.verticalScrollContainer.isRemote?e:this.addHierarchy(this.grid,QS(e),t,n,r)}addHierarchy(e,t,i,n,r){let s=[];return t.forEach((t=>{s.push(t);let i={};r.forEach((e=>{t[e]||(t[e]=[]);let n=e?.includes(".")?vb(t,e):t[e];i[e]=n})),e.gridAPI.get_row_expansion_state(t)&&s.push({rowID:n?t[n]:t,childGridsData:i})})),s}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"gridHierarchical",type:e,pure:!0,standalone:!0}),e})(),Y2=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i=0,n=15,r,s){if(!t||this.grid.pagingMode!==fD.Local)return e;let o={index:i,recordsPerPage:n},a=this.grid._totalRecords>=0?this.grid._totalRecords:e.length,l=Kb.page(QS(e),o,a);return this.grid.pagingState=o,l}};return e.fac=function(t){return new(t||e)(nc(hk,16))},e.pipe=ar({name:"gridHierarchicalPaging",type:e,pure:!0,standalone:!0}),e})();function X2(e,t){if(1&e&&(Ch(0,"igx-chip",8),fu(1),Sh()),2&e){let e=Vh(2);_h("disabled",!0)("displayDensity","compact"),tc(1),vu(e.grid.resourceStrings.igx_grid_pinned_row_indicator)}}function Z2(e,t){1&e&&yh(0,X2,2,3,"igx-chip",7),2&e&&_h("ngIf",Vh().displayPinnedChip)}var Q2=function(e,t,i,n,r){return[e,t,i,n,r]};function J2(e,t){if(1&e&&(Ch(0,"div",12),ag(1,"columnFormatter"),ag(2,"number"),ag(3,"date"),ag(4,"currency"),ag(5,"percent"),fu(6),ag(7,"columnFormatter"),ag(8,"number"),ag(9,"date"),ag(10,"currency"),ag(11,"percent"),Sh()),2&e){let e=Vh(2);_h("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?hg(1,9,e.value,e.formatter,e.rowData,e.columnData):"number"===e.column.dataType?cg(2,14,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?hg(3,18,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?ug(4,23,Xu(57,Q2,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?cg(5,29,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),tc(6),vu(e.formatter?hg(7,33,e.value,e.formatter,e.rowData,e.columnData):"number"===e.column.dataType?cg(8,38,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?hg(9,42,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?ug(10,47,Xu(63,Q2,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?cg(11,53,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)}}var e3=function(e,t){return{"igx-icon--success":e,"igx-icon--error":t}};function t3(e,t){if(1&e&&(Ch(0,"igx-icon",13),fu(1),Sh()),2&e){let e=Vh(2);_h("ngClass",Uu(2,e3,e.value,!e.value)),tc(1),vu(e.value?"check":"close")}}function i3(e,t){if(1&e&&(bh(0,"img",14),ag(1,"igxCellImageAlt")),2&e){let e=Vh(2);_h("src",e.value,Vl)("alt",lg(1,2,e.value))}}function n3(e,t){if(1&e&&(yh(0,J2,12,69,"div",9),yh(1,t3,2,5,"igx-icon",10),yh(2,i3,2,4,"img",11)),2&e){let e=Vh();_h("ngIf","boolean"!==e.column.dataType&&"image"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter),tc(1),_h("ngIf","boolean"===e.column.dataType&&!e.formatter),tc(1),_h("ngIf","image"===e.column.dataType)}}function r3(e,t){if(1&e&&(Ch(0,"div",12),ag(1,"columnFormatter"),ag(2,"number"),ag(3,"date"),ag(4,"currency"),ag(5,"percent"),fu(6),Sh()),2&e){let e=Vh(2);_h("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?cg(1,9,e.value,e.formatter,e.rowData):"number"===e.column.dataType?cg(2,13,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?hg(3,17,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?ug(4,22,Xu(32,Q2,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?cg(5,28,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),tc(6),vu(e.isEmptyAddRowCell?e.column.header||e.column.field:e.value)}}function s3(e,t){if(1&e&&yh(0,r3,7,38,"div",9),2&e){let e=Vh();_h("ngIf","boolean"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter)}}function o3(e,t){if(1&e){let e=Rh();Eh(0,16),Ch(1,"igx-input-group",17)(2,"input",18),Fh("compositionstart",(function(){return Bs(e),zs(Vh(2).grid.crudService.isInCompositionMode=!0)}))("compositionend",(function(){return Bs(e),zs(Vh(2).grid.crudService.isInCompositionMode=!1)})),Sh()(),Ih()}if(2&e){let e=Vh(2);_h("formGroup",e.formGroup),tc(2),_h("igxFocus",!0)("igxTextSelection",!0)("formControl",e.formControl),ph("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function a3(e,t){if(1&e&&(Eh(0),Ch(1,"igx-input-group",19),bh(2,"input",20),Sh(),Ih()),2&e){let e=Vh(2);tc(1),_h("formGroup",e.formGroup),tc(1),_h("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),ph("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function l3(e,t){if(1&e&&(Eh(0,16),bh(1,"igx-checkbox",21),Ih()),2&e){let e=Vh(2);_h("formGroup",e.formGroup),tc(1),_h("checked",e.editValue)("igxFocus",!0)("disableRipple",!0)("formControl",e.formControl)}}function d3(e,t){if(1&e){let e=Rh();Eh(0,16),Ch(1,"igx-date-picker",22),Fh("valueChange",(function(t){return Bs(e),zs(Vh(2).editValue=t)})),Sh(),Ih()}if(2&e){let e=Vh(2);_h("formGroup",e.formGroup),tc(1),tu("width",100,"%"),_h("outlet",e.grid.outlet)("locale",e.grid.locale)("weekStart",e.column.pipeArgs.weekStart)("value",e.editValue)("igxFocus",!0)("formControl",e.formControl)}}function c3(e,t){if(1&e){let e=Rh();Eh(0,16),Ch(1,"igx-time-picker",23),Fh("valueChange",(function(t){return Bs(e),zs(Vh(2).editValue=t)})),Sh(),Ih()}if(2&e){let e=Vh(2);_h("formGroup",e.formGroup),tc(1),tu("width",100,"%"),_h("outlet",e.grid.outlet)("locale",e.grid.locale)("inputFormat",e.column.defaultTimeFormat)("value",e.editValue)("igxFocus",!0)("formControl",e.formControl)}}function h3(e,t){if(1&e&&(Eh(0),Ch(1,"igx-input-group",16),bh(2,"input",24),Sh(),Ih()),2&e){let e=Vh(2);tc(1),_h("formGroup",e.formGroup),tc(1),_h("formControl",e.formControl)("igxDateTimeEditor",e.column.defaultDateTimeFormat)("igxFocus",!0),ph("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function u3(e,t){if(1&e&&(Ch(0,"igx-prefix"),fu(1),Sh()),2&e){let e=Vh(3);tc(1),vu(e.currencyCodeSymbol)}}function g3(e,t){if(1&e&&(Ch(0,"igx-suffix"),fu(1),Sh()),2&e){let e=Vh(3);tc(1),vu(e.currencyCodeSymbol)}}function p3(e,t){if(1&e&&(Eh(0),Ch(1,"igx-input-group",19),yh(2,u3,2,1,"igx-prefix",5),bh(3,"input",20),yh(4,g3,2,1,"igx-suffix",5),Sh(),Ih()),2&e){let e=Vh(2);tc(1),_h("formGroup",e.formGroup),tc(1),_h("ngIf",e.grid.currencyPositionLeft),tc(1),_h("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),ph("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),tc(1),_h("ngIf",!e.grid.currencyPositionLeft)}}function m3(e,t){if(1&e&&(Eh(0),Ch(1,"igx-input-group",19),bh(2,"input",20),Ch(3,"igx-suffix"),fu(4),ag(5,"percent"),Sh()(),Ih()),2&e){let e=Vh(2);tc(1),_h("formGroup",e.formGroup),tc(1),_h("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),ph("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),tc(2),xu(" ",cg(5,8,e.editValue,e.column.pipeArgs.digitsInfo,e.grid.locale)," ")}}function f3(e,t){if(1&e&&(yh(0,o3,3,6,"ng-container",15),yh(1,a3,3,7,"ng-container",5),yh(2,l3,2,5,"ng-container",15),yh(3,d3,2,9,"ng-container",15),yh(4,c3,2,9,"ng-container",15),yh(5,h3,3,6,"ng-container",5),yh(6,p3,5,9,"ng-container",5),yh(7,m3,6,12,"ng-container",5)),2&e){let e=Vh();_h("ngIf","string"===e.column.dataType||"image"===e.column.dataType),tc(1),_h("ngIf","number"===e.column.dataType),tc(1),_h("ngIf","boolean"===e.column.dataType),tc(1),_h("ngIf","date"===e.column.dataType),tc(1),_h("ngIf","time"===e.column.dataType),tc(1),_h("ngIf","dateTime"===e.column.dataType),tc(1),_h("ngIf","currency"===e.column.dataType),tc(1),_h("ngIf","percent"===e.column.dataType)}}function y3(e,t){1&e&&Th(0)}function v3(e,t){1&e&&Th(0)}function x3(e,t){1&e&&Th(0)}function _3(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"igx-icon",25,26),Fh("mouseover",(function(){return Bs(e),zs(Vh().errorShowing=!0)}))("mouseout",(function(){return Bs(e),zs(Vh().errorShowing=!1)})),fu(3,"error"),Sh(),Ch(4,"div",27,28)(7,"div"),yh(8,x3,1,0,"ng-container",4),Sh()(),Ih()}if(2&e){let e=xh(6),t=Vh(),i=xh(12);tc(1),_h("igxTooltipTarget",e)("igxToggleOutlet",t.grid.outlet),tc(3),_h("id",t.ariaErrorMessage),tc(3),tu("width","max-content"),tc(1),_h("ngTemplateOutlet",t.cellValidationErrorTemplate||i)("ngTemplateOutletContext",t.context)}}function w3(e,t){if(1&e&&(Ch(0,"div"),fu(1),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",e.grid.resourceStrings.igx_grid_required_validation_error," ")}}function C3(e,t){if(1&e&&(Ch(0,"div"),fu(1),ag(2,"igxStringReplace"),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",cg(2,1,e.grid.resourceStrings.igx_grid_min_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.minlength.requiredLength)," ")}}function S3(e,t){if(1&e&&(Ch(0,"div"),fu(1),ag(2,"igxStringReplace"),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",cg(2,1,e.grid.resourceStrings.igx_grid_max_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.maxlength.requiredLength)," ")}}function b3(e,t){if(1&e&&(Ch(0,"div"),fu(1),ag(2,"igxStringReplace"),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",cg(2,1,e.grid.resourceStrings.igx_grid_min_validation_error,"{0}",e.formGroup.get(e.column.field).errors.min.min)," ")}}function D3(e,t){if(1&e&&(Ch(0,"div"),fu(1),ag(2,"igxStringReplace"),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",cg(2,1,e.grid.resourceStrings.igx_grid_max_validation_error,"{0}",e.formGroup.get(e.column.field).errors.max.max)," ")}}function E3(e,t){if(1&e&&(Ch(0,"div"),fu(1),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",e.grid.resourceStrings.igx_grid_email_validation_error," ")}}function I3(e,t){if(1&e&&(Ch(0,"div"),fu(1),Sh()),2&e){let e=Vh(2);tc(1),xu(" ",e.grid.resourceStrings.igx_grid_pattern_validation_error," ")}}function T3(e,t){if(1&e&&(yh(0,w3,2,1,"div",5),yh(1,C3,3,5,"div",5),yh(2,S3,3,5,"div",5),yh(3,b3,3,5,"div",5),yh(4,D3,3,5,"div",5),yh(5,E3,2,1,"div",5),yh(6,I3,2,1,"div",5)),2&e){let e=Vh();_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.required),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.minlength),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.maxlength),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.min),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.max),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.email),tc(1),_h("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.pattern)}}var A3=(()=>{let e=class extends sq{constructor(e,t,i,n,r,s,o,a){super(e,t,i,n,r,s,o,a)}ngOnInit(){super.ngOnInit(),this._rootGrid=this._getRootGrid()}activate(e){this._clearAllHighlights();let t,i=this.grid.nativeElement,n=this.grid;for(this._rootGrid.id!==i.id&&i.classList.add("igx-grid__tr--highlighted");this._rootGrid.id!==n.id;){t=n,n=n.parent;let e=n.gridAPI.getParentRowId(t);n.highlightedRowID=e}this.grid.navigation.activeNode.gridID=this.gridID,super.activate(e)}_getRootGrid(){let e=this.grid;for(;e.parent;)e=e.parent;return e}_clearAllHighlights(){[this._rootGrid,...this._rootGrid.getChildGrids(!0)].forEach((e=>{e!==this.grid&&e.navigation.activeNode&&(e.navigation.clearActivation(),e.selectionService.initKeyboardState(),e.selectionService.clear()),e.selectionService.activeElement=null,e.nativeElement.classList.remove("igx-grid__tr--highlighted"),e.highlightedRowID=null,e.cdr.markForCheck()}))}};return e.fac=function(t){return new(t||e)(nc(Tk),nc(hk),nc(nI),nc(fp),nc(wd),nc(Vd),nc(tF),nc(ob))},e.cmp=tr({type:e,selectors:[["igx-hierarchical-grid-cell"]],standalone:!0,features:[Nu([tF]),th,Wu],decls:13,vars:5,consts:[["defaultPinnedIndicator",""],["defaultCell",""],["addRowCell",""],["inlineEditor",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],["defaultError",""],["class","igx-grid__td--pinned-chip",3,"disabled","displayDensity",4,"ngIf"],[1,"igx-grid__td--pinned-chip",3,"disabled","displayDensity"],["igxTextHighlight","","class","igx-grid__td-text",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"src","alt",4,"ngIf"],["igxTextHighlight","",1,"igx-grid__td-text",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata"],[3,"ngClass"],[3,"src","alt"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["displayDensity","compact"],["igxInput","",3,"igxFocus","igxTextSelection","formControl","compositionstart","compositionend"],["displayDensity","compact",3,"formGroup"],["igxInput","","type","number",3,"igxFocus","igxTextSelection","step","formControl"],[3,"checked","igxFocus","disableRipple","formControl"],["mode","dropdown",3,"outlet","locale","weekStart","value","igxFocus","formControl","valueChange"],["mode","dropdown",3,"outlet","locale","inputFormat","value","igxFocus","formControl","valueChange"],["type","text","igxInput","",3,"formControl","igxDateTimeEditor","igxFocus"],[3,"igxTooltipTarget","igxToggleOutlet","mouseover","mouseout"],["errorIcon",""],["igxTooltip","",3,"id"],["error","","tooltipRef","tooltip"]],template:function(e,t){1&e&&(yh(0,Z2,1,1,"ng-template",null,0,jg),yh(2,n3,3,3,"ng-template",null,1,jg),yh(4,s3,1,1,"ng-template",null,2,jg),yh(6,f3,8,8,"ng-template",null,3,jg),yh(8,y3,1,0,"ng-container",4),yh(9,v3,1,0,"ng-container",4),yh(10,_3,9,7,"ng-container",5),yh(11,T3,7,7,"ng-template",null,6,jg)),2&e&&(tc(8),_h("ngTemplateOutlet",t.pinnedIndicatorTemplate)("ngTemplateOutletContext",t.context),tc(1),_h("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.context),tc(1),_h("ngIf",t.isInvalid))},dependencies:[$m,hP,AA,XI,Bm,qw,p_,Sw,Y_,X_,Yw,Iw,Aw,UT,CI,iA,RA,nk,MP,pV,WA,DI,EI,Zm,HA,NA,S$,F$,M$,lf,df,cf,af],encapsulation:2,changeDetection:0}),e})(),R3=["expander"],k3=["defaultExpandedTemplate"],O3=["defaultEmptyTemplate"],F3=["defaultCollapsedTemplate"];function P3(e,t){1&e&&Th(0)}function M3(e,t){1&e&&(Ch(0,"igx-icon",6),fu(1,"expand_more"),Sh()),2&e&&_h("active",!Vh().added)}function V3(e,t){1&e&&(Ch(0,"igx-icon",6),fu(1,"chevron_right"),Sh()),2&e&&_h("active",!Vh().added)}function N3(e,t){1&e&&bh(0,"igx-icon")}function L3(e,t){1&e&&Th(0)}function H3(e,t){if(1&e){let e=Rh();Ch(0,"div",7),Fh("animationend",(function(){return Bs(e),zs(Vh().animationEndHandler())})),yh(1,L3,1,0,"ng-container",0),Sh()}if(2&e){let e=Vh(),t=xh(10);iu("igx-grid__tr--add-animate",e.triggerAddAnimationClass),tc(1),_h("ngTemplateOutlet",t)}}function B3(e,t){1&e&&Th(0)}function z3(e,t){if(1&e&&(Eh(0),Ch(1,"div",14),Fh("click",(function(e){return e.stopPropagation()}))("pointerdown",(function(e){return e.preventDefault()})),yh(2,B3,1,0,"ng-container",0),Sh(),Ih()),2&e){let e=Vh(2);tc(1),nu(e.resolveDragIndicatorClasses),_h("igxRowDrag",e)("ghostTemplate",e.grid.getDragGhostCustomTemplate()),tc(1),_h("ngTemplateOutlet",e.grid.dragIndicatorIconTemplate?e.grid.dragIndicatorIconTemplate:e.grid.dragIndicatorIconBase)}}function G3(e,t){}function $3(e,t){1&e&&yh(0,G3,0,0,"ng-template")}var W3=function(e,t,i,n,r,s){return{index:e,rowID:t,key:i,selected:n,select:r,deselect:s}},K3=function(e){return{$implicit:e}};function j3(e,t){if(1&e){let e=Rh();Eh(0),Ch(1,"div",15),Fh("click",(function(t){return Bs(e),zs(Vh(2).onRowSelectorClick(t))}))("pointerdown",(function(e){return e.preventDefault()})),yh(2,$3,1,0,null,16),Sh(),Ih()}if(2&e){Vh();let e=xh(9),t=Vh();tc(2),_h("ngTemplateOutlet",t.grid.rowSelectorTemplate?t.grid.rowSelectorTemplate:e)("ngTemplateOutletContext",ju(9,K3,Zu(2,W3,t.viewIndex,t.key,t.key,t.selected,t.select,t.deselect)))}}function U3(e,t){1&e&&Th(0)}function q3(e,t){if(1&e){let e=Rh();Ch(0,"div",17,18),Fh("click",(function(t){return Bs(e),zs(Vh(2).expanderClick(t))}))("mousedown",(function(e){return e.preventDefault()})),yh(2,U3,1,0,"ng-container",16),Sh()}if(2&e){let e=Vh(2);_h("ngClass",e.expanderClassResolved),tc(2),_h("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",ju(3,K3,e))}}function Y3(e,t){}function X3(e,t){1&e&&yh(0,Y3,0,0,"ng-template")}function Z3(e,t){if(1&e&&(Eh(0),yh(1,X3,1,0,null,16),Ih()),2&e){Vh();let e=xh(11),t=Vh();tc(1),_h("ngTemplateOutlet",e)("ngTemplateOutletContext",t)}}var Q3=function(e,t,i,n,r,s,o){return[e,t,i,n,r,s,o]},J3=function(e,t,i,n,r,s){return[e,t,i,n,r,s]},e4=function(e,t,i,n,r){return[e,t,i,n,r]};function t4(e,t){if(1&e&&(Ch(0,"igx-hierarchical-grid-cell",19),ag(1,"transactionState"),ag(2,"igxCellStyleClasses"),ag(3,"igxCellStyles"),ag(4,"dataMapper"),Sh()),2&e){let e=t.$implicit,i=Vh(2);tu("min-height",i.cellHeight,"px")("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth),iu("igx-grid__td--edited",ug(1,30,Qu(58,Q3,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)("igx-grid__td--bool","boolean"===e.dataType),_h("ngClass",ug(2,38,Zu(66,J3,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",ug(3,45,Zu(73,J3,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("formatter",e.formatter)("intRow",i)("active",i.isCellActive(e.visibleIndex))("rowData",i.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",ug(4,52,Xu(80,e4,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function i4(e,t){}function n4(e,t){1&e&&yh(0,i4,0,0,"ng-template")}function r4(e,t){if(1&e&&(Eh(0),yh(1,n4,1,0,null,16),Ih()),2&e){Vh();let e=xh(11),t=Vh();tc(1),_h("ngTemplateOutlet",e)("ngTemplateOutletContext",t)}}function s4(e,t){if(1&e&&(Ch(0,"div",20),bh(1,"igx-checkbox",21),Sh()),2&e){let e=Vh(2);tc(1),_h("tabindex",-1)("readonly",!0)("checked",e.selected)("disableRipple",!0)("disabled",e.deleted)("disableTransitions",e.grid.disableTransitions)("aria-label",e.rowCheckboxAriaLabel)}}function o4(e,t){if(1&e&&(Ch(0,"igx-hierarchical-grid-cell",23),ag(1,"transactionState"),ag(2,"igxCellStyleClasses"),ag(3,"igxCellStyles"),ag(4,"dataMapper"),Sh()),2&e){let e=t.$implicit,i=Vh(3);tu("min-height",i.cellHeight,"px")("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth)("left",e.rightPinnedOffset),iu("igx-grid__td--edited",ug(1,32,Qu(60,Q3,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType),_h("ngClass",ug(2,40,Zu(68,J3,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",ug(3,47,Zu(75,J3,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("formatter",e.formatter)("intRow",i)("active",i.isCellActive(e.visibleIndex))("firstPinned",e.isFirstPinned)("lastPinned",e.isLastPinned)("rowData",i.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",ug(4,54,Xu(82,e4,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function a4(e,t){1&e&&(yh(0,o4,5,88,"igx-hierarchical-grid-cell",22),ag(1,"igxNotGrouped")),2&e&&_h("ngForOf",lg(1,1,Vh(2).pinnedColumns))}function l4(e,t){if(1&e&&(yh(0,z3,3,5,"ng-container",8),yh(1,j3,3,11,"ng-container",8),yh(2,q3,3,5,"div",9),yh(3,Z3,2,2,"ng-container",8),yh(4,t4,5,86,"ng-template",10,11,jg),ag(6,"igxNotGrouped"),yh(7,r4,2,2,"ng-container",8),yh(8,s4,2,7,"ng-template",null,12,jg),yh(10,a4,2,3,"ng-template",null,13,jg)),2&e){let e=Vh();_h("ngIf",e.rowDraggable),tc(1),_h("ngIf",e.showRowSelectors),tc(1),_h("ngIf",e.hasChildren),tc(1),_h("ngIf",e.pinnedColumns.length>0&&e.grid.isPinningToStart),tc(1),_h("igxGridForOf",lg(6,11,e.unpinnedColumns))("igxForScrollContainer",e.grid.parentVirtDir)("igxForSizePropName","calcPixelWidth")("igxForScrollOrientation","horizontal")("igxForContainerSize",e.grid.unpinnedWidth)("igxForTrackBy",e.grid.trackColumnChanges),tc(3),_h("ngIf",e.pinnedColumns.length>0&&!e.grid.isPinningToStart)}}var d4=(()=>{let e=class extends kk{constructor(){super(...arguments),this.expanderClass="igx-grid__hierarchical-expander",this.rolActionClass="igx-grid__tr-action",this.select=()=>{this.grid.selectRows([this.key])},this.deselect=()=>{this.grid.deselectRows([this.key])}}get expanderClassResolved(){return{[`${this.expanderClass} ${this.rolActionClass}`]:!this.pinned||this.disabled,[`${this.expanderClass}--empty`]:this.pinned&&!this.disabled}}get viewIndex(){return this.index+this.grid.page*this.grid.perPage}get expanded(){return this.grid.gridAPI.get_row_expansion_state(this.data)}get expandedClass(){return this.expanded&&!this.pinned}get hasChildren(){return!!this.grid.childLayoutKeys.length}get highlighted(){return this.grid&&this.grid.highlightedRowID===this.key}expanderClick(e){e.stopPropagation(),this.toggle()}toggle(){this.added||(this.grid.gridAPI.set_row_expansion_state(this.key,!this.expanded),this.grid.cdr.detectChanges())}get iconTemplate(){let e=!0;return this.grid.hasChildrenKey&&(e=this.data[this.grid.hasChildrenKey]),!e||this.pinned&&!this.disabled?this.defaultEmptyTemplate:this.expanded?this.grid.rowExpandedIndicatorTemplate||this.defaultExpandedTemplate:this.grid.rowCollapsedIndicatorTemplate||this.defaultCollapsedTemplate}endEdit(e){e.gridAPI.crudService.cellInEditMode&&e.gridAPI.crudService.endEdit(),e.gridAPI.getChildGrids(!0).forEach((e=>{e.gridAPI.crudService.cellInEditMode&&e.gridAPI.crudService.endEdit()}))}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.cmp=tr({type:e,selectors:[["igx-hierarchical-grid-row"]],viewQuery:function(e,t){if(1&e&&(Bg(R3,5,wd),Bg(k3,7,yg),Bg(O3,7,yg),Bg(F3,7,yg),Bg(A3,5,A3)),2&e){let e;Hg(e=Gg())&&(t.expander=e.first),Hg(e=Gg())&&(t.defaultExpandedTemplate=e.first),Hg(e=Gg())&&(t.defaultEmptyTemplate=e.first),Hg(e=Gg())&&(t.defaultCollapsedTemplate=e.first),Hg(e=Gg())&&(t._cells=e)}},hostVars:4,hostBindings:function(e,t){2&e&&iu("igx-grid__tr--expanded",t.expandedClass)("igx-grid__tr--highlighted",t.highlighted)},standalone:!0,features:[Nu([{provide:kk,useExisting:$i((()=>e))}]),th,Wu],decls:11,vars:1,consts:[[4,"ngTemplateOutlet"],["defaultExpandedTemplate",""],["defaultCollapsedTemplate",""],["defaultEmptyTemplate",""],["addTemp",""],["defaultTemp",""],[3,"active"],[1,"igx-grid__tr--inner",3,"animationend"],[4,"ngIf"],[3,"ngClass","click","mousedown",4,"ngIf"],["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForSizePropName","igxForScrollOrientation","igxForContainerSize","igxForTrackBy"],["igxDirRef",""],["rowSelectorBaseTemplate",""],["pinnedCellsTemplate",""],[3,"igxRowDrag","ghostTemplate","click","pointerdown"],[1,"igx-grid__cbx-selection","igx-grid__tr-action",3,"click","pointerdown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass","click","mousedown"],["expander",""],[1,"igx-grid__td","igx-grid__td--fw",3,"ngClass","ngStyle","editMode","column","formatter","intRow","active","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__cbx-padding"],[3,"tabindex","readonly","checked","disableRipple","disabled","disableTransitions","aria-label"],["class","igx-grid__td igx-grid__td--fw igx-grid__td--pinned",3,"igx-grid__td--edited","igx-grid__td--number","ngClass","ngStyle","editMode","column","formatter","intRow","active","firstPinned","lastPinned","min-height","rowData","min-width","max-width","flex-basis","left","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","cellSelectionMode","displayPinnedChip",4,"ngFor","ngForOf"],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--pinned",3,"ngClass","ngStyle","editMode","column","formatter","intRow","active","firstPinned","lastPinned","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","cellSelectionMode","displayPinnedChip"]],template:function(e,t){if(1&e&&(yh(0,P3,1,0,"ng-container",0),yh(1,M3,2,1,"ng-template",null,1,jg),yh(3,V3,2,1,"ng-template",null,2,jg),yh(5,N3,1,0,"ng-template",null,3,jg),yh(7,H3,2,3,"ng-template",null,4,jg),yh(9,l4,12,13,"ng-template",null,5,jg)),2&e){let e=xh(8),i=xh(10);_h("ngTemplateOutlet",t.addRowUI?e:i)}},dependencies:[Zm,XI,$m,hW,Bm,vA,A3,Xm,nk,zm,E$,C$,w$,O$,P$],encapsulation:2,changeDetection:0}),e})(),c4=["container"],h4=function(e){return{"igx-grid__hierarchical-indent--scroll":e}},u4=["toolbarOutlet"],g4=["paginatorOutlet"],p4=["hierarchical_record_template"],m4=["child_record_template"];function f4(e,t){1&e&&bh(0,"span",64),2&e&&(_h("igxColumnMovingDrop",Vh().headerContainer),ph("droppable",!0))}function y4(e,t){if(1&e&&bh(0,"span",65),2&e){let e=Vh();tu("left",e.pinnedWidth,"px"),_h("igxColumnMovingDrop",e.headerContainer),ph("droppable",!0)}}function v4(e,t){1&e&&Th(0)}function x4(e,t){if(1&e&&(Eh(0),yh(1,v4,1,0,"ng-container",14),Ih()),2&e){let e=t.$implicit,i=t.index,n=Vh(4),r=xh(25);tc(1),_h("ngTemplateOutlet",r)("ngTemplateOutletContext",n.getContext(e,i,!0))}}var _4=function(e,t){return{"igx-grid__tr--pinned-bottom":e,"igx-grid__tr--pinned-top":t}};function w4(e,t){if(1&e&&(Ch(0,"div",67,68),yh(2,x4,2,2,"ng-container",69),Sh()),2&e){let e=Vh().ngIf,t=Vh(2);tu("width",t.calcWidth,"px"),_h("ngClass",Uu(4,_4,!t.isRowPinningToTop,t.isRowPinningToTop)),tc(2),_h("ngForOf",e)}}function C4(e,t){if(1&e&&(Eh(0),yh(1,w4,3,7,"div",66),Ih()),2&e){let e=t.ngIf;tc(1),_h("ngIf",e.length>0)}}var S4=function(e,t,i,n,r,s,o){return[e,t,i,n,r,s,o,!0]},b4=function(){return[]},D4=function(e,t,i,n,r,s){return[e,t,i,n,r,s,!0]};function E4(e,t){if(1&e&&(yh(0,C4,2,1,"ng-container",57),ag(1,"gridSort"),ag(2,"gridFiltering"),ag(3,"gridRowPinning"),ag(4,"gridAddRow"),ag(5,"visibleColumns"),ag(6,"gridTransaction")),2&e){let e=Vh();_h("ngIf",ug(1,1,Zu(43,D4,ug(2,9,Qu(34,S4,hg(3,18,cg(4,23,dg(5,27,cg(6,30,e.data,e.id,e.pipeTrigger),e.hasVisibleColumns),!0,e.pipeTrigger),e.id,!0,e.pipeTrigger),e.filteringExpressionsTree,e.filterStrategy,e.advancedFilteringExpressionsTree,e.id,e.pipeTrigger,e.filteringPipeTrigger)),e.sortingExpressions,Ku(42,b4),e.sortStrategy,e.id,e.pipeTrigger)))}}function I4(e,t){1&e&&Th(0)}function T4(e,t){}function A4(e,t){if(1&e){let e=Rh();yh(0,T4,0,0,"ng-template",70),Fh("viewCreated",(function(t){return Bs(e),zs(Vh().viewCreatedHandler(t))}))("viewMoved",(function(t){return Bs(e),zs(Vh().viewMovedHandler(t))}))("cachedViewLoaded",(function(t){return Bs(e),zs(Vh().cachedViewLoaded(t))}))}if(2&e){let e=t.$implicit,i=t.index,n=Vh(),r=xh(23),s=xh(27);_h("igxTemplateOutlet",n.isHierarchicalRecord(e)?r:n.isChildGridRecord(e)?s:r)("igxTemplateOutletContext",n.getContext(e,i,!1))}}var R4=function(e,t,i,n,r,s,o,a,l,d,c){return[e,t,i,n,r,s,o,a,l,!1,d,c]};function k4(e,t){if(1&e&&(bh(0,"igx-hierarchical-grid-row",71,72),ag(2,"igxGridRowClasses"),ag(3,"igxGridRowStyles")),2&e){let e=t.index,i=t.disabled,n=t.$implicit,r=xh(1),s=Vh();_h("gridID",s.id)("index",e)("disabled",i)("data",n)("ngClass",ug(2,6,eg(24,R4,[s.rowClasses,r,r.inEditMode,r.selected,r.dirty,r.deleted,r.dragging,e,s.hasColumnLayouts,n,s.pipeTrigger])))("ngStyle",hg(3,19,s.rowStyles,n,e,s.pipeTrigger))}}function O4(e,t){if(1&e&&(bh(0,"igx-hierarchical-grid-row",73,74),ag(3,"igxGridRowClasses"),ag(4,"igxGridRowStyles")),2&e){let e=t.index,i=t.$implicit,n=xh(1),r=Vh();_h("gridID",r.id)("index",e)("data",i)("ngClass",ug(3,5,eg(23,R4,[r.rowClasses,n,n.inEditMode,n.selected,n.dirty,n.deleted,n.dragging,e,r.hasColumnLayouts,i,r.pipeTrigger])))("ngStyle",hg(4,18,r.rowStyles,i,e,r.pipeTrigger))}}function F4(e,t){if(1&e&&bh(0,"igx-child-grid-row",77,72),2&e){let e=t.$implicit,i=Vh(),n=i.index,r=i.$implicit;_h("parentGridID",Vh().id)("index",n)("data",r)("layout",e)}}var P4=function(e){return{"igx-grid__tr-container":!0,"igx-grid__tr--highlighted":e}};function M4(e,t){if(1&e){let e=Rh();Ch(0,"div",75),Fh("scroll",(function(){return Bs(e),zs(Vh().onContainerScroll())})),yh(1,F4,2,4,"igx-child-grid-row",76),Sh()}if(2&e){let e=t.index,i=t.$implicit,n=Vh();_h("ngClass",ju(3,P4,n.isRowHighlighted(i))),ph("data-rowindex",e),tc(1),_h("ngForOf",n.childLayoutList)}}function V4(e,t){1&e&&Th(0)}function N4(e,t){1&e&&Th(0)}function L4(e,t){1&e&&bh(0,"span",78),2&e&&(_h("igxColumnMovingDrop",Vh().headerContainer),ph("droppable",!0))}function H4(e,t){1&e&&bh(0,"igx-circular-bar",79),2&e&&_h("indeterminate",!0)}function B4(e,t){1&e&&bh(0,"span",78),2&e&&(_h("igxColumnMovingDrop",Vh().headerContainer),ph("droppable",!0))}function z4(e,t){}function G4(e,t){if(1&e&&(bh(0,"igx-grid-summary-row",80,81),ag(2,"igxGridSummaryDataPipe")),2&e){let e=Vh();tu("width",e.calcWidth,"px")("height",e.summaryRowHeight,"px"),_h("gridID",e.id)("summaries",dg(2,7,e.id,e.summaryService.retriggerRootPipe))("index",e.dataView.length)}}function $4(e,t){}function W4(e,t){1&e&&Th(0)}function K4(e,t){if(1&e&&(Ch(0,"span"),yh(1,W4,1,0,"ng-container",8),Sh()),2&e){let e=Vh(2),t=xh(72);tc(1),_h("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function j4(e,t){if(1&e&&(Ch(0,"span",82)(1,"span"),fu(2),Sh(),yh(3,K4,2,1,"span",57),Sh()),2&e){let e=Vh();tc(2),vu(e.emptyFilteredGridMessage),tc(1),_h("ngIf",e.showAddButton)}}function U4(e,t){1&e&&Th(0)}function q4(e,t){if(1&e&&(Ch(0,"span"),yh(1,U4,1,0,"ng-container",8),Sh()),2&e){let e=Vh(2),t=xh(72);tc(1),_h("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function Y4(e,t){if(1&e&&(Ch(0,"span",82)(1,"span"),fu(2),Sh(),yh(3,q4,2,1,"span",57),Sh()),2&e){let e=Vh();tc(2),vu(e.emptyGridMessage),tc(1),_h("ngIf",e.showAddButton)}}function X4(e,t){if(1&e){let e=Rh();Ch(0,"button",83),Fh("click",(function(t){return Bs(e),zs(Vh().crudService.enterAddRowMode(null,!1,t))})),fu(1),Sh()}if(2&e){let e=Vh();tc(1),xu(" ",e.resourceStrings.igx_grid_add_row_label," ")}}function Z4(e,t){1&e&&(Ch(0,"div",84),bh(1,"igx-circular-bar",79),Sh()),2&e&&(tc(1),_h("indeterminate",!0))}function Q4(e,t){1&e&&(Ch(0,"igx-icon",85),fu(1,"unfold_more"),Sh())}function J4(e,t){if(1&e&&(Ch(0,"igx-icon",86),fu(1,"unfold_less"),Sh()),2&e){let e=Vh();_h("active",e.hasExpandedRecords()&&e.hasExpandableChildren)}}function e5(e,t){1&e&&Th(0)}var t5=function(e,t){return{rowChangesCount:e,endEdit:t}};function i5(e,t){if(1&e&&(Ch(0,"div",18,87)(2,"div",88),yh(3,e5,1,0,"ng-container",14),Sh()()),2&e){let e=Vh();tc(2),_h("className",e.bannerClass),tc(1),_h("ngTemplateOutlet",e.resolveRowEditContainer)("ngTemplateOutletContext",Uu(3,t5,e.rowChangesCount,e.crudService.endEdit.bind(e)))}}function n5(e,t){if(1&e&&fu(0),2&e){let e=Vh();_u(" You have ",e.rowChangesCount," changes in this row and ",e.hiddenColumnsCount," hidden columns\n")}}function r5(e,t){if(1&e){let e=Rh();Ch(0,"button",89),Fh("click",(function(t){return Bs(e),zs(Vh().endRowEditTabStop(!1,t))})),fu(1),Sh(),Ch(2,"button",89),Fh("click",(function(t){return Bs(e),zs(Vh().endRowEditTabStop(!0,t))})),fu(3),Sh()}if(2&e){let e=Vh();tc(1),vu(e.resourceStrings.igx_grid_row_edit_btn_cancel),tc(2),vu(e.resourceStrings.igx_grid_row_edit_btn_done)}}function s5(e,t){1&e&&Th(0)}function o5(e,t){1&e&&Th(0)}var a5=function(e){return{$implicit:e}};function l5(e,t){if(1&e&&(Ch(0,"div",90)(1,"span",91),yh(2,s5,1,0,"ng-container",14),Sh()(),Ch(3,"div",92)(4,"div",93),yh(5,o5,1,0,"ng-container",14),Sh()()),2&e){let e=Vh(),t=xh(81),i=xh(83);tc(2),_h("ngTemplateOutlet","IgxAddRow"===(null==e.crudService.row?null:e.crudService.row.getClassName())?e.rowAddTextTemplate:e.resolveRowEditText||t)("ngTemplateOutletContext",ju(4,a5,"IgxAddRow"!==(null==e.crudService.row?null:e.crudService.row.getClassName())?e.rowChangesCount:null)),tc(3),_h("ngTemplateOutlet",e.resolveRowEditActions||i)("ngTemplateOutletContext",ju(6,a5,e.endEdit.bind(e)))}}function d5(e,t){1&e&&(Ch(0,"igx-icon"),fu(1,"drag_indicator"),Sh())}function c5(e,t){1&e&&bh(0,"igx-grid-column-resizer")}var h5=[[["igx-grid-toolbar"],["igc-grid-toolbar"]],[["igx-grid-footer"],["igc-grid-footer"]],[["igx-paginator"],["igc-paginator"]],[["igx-grid-state"],["igc-grid-state"]],[["igx-column"],["igc-column"],["igx-column-group"],["igc-column-group"],["igx-action-strip"],["igc-action-strip"]],[["igx-row-island"],["igc-row-island"]]],u5=function(e,t,i,n,r,s,o){return[e,t,i,n,r,s,o]},g5=function(e,t,i,n,r,s){return[e,t,i,n,r,s]},p5=["igx-grid-toolbar,igc-grid-toolbar","igx-grid-footer,igc-grid-footer","igx-paginator,igc-paginator","igx-grid-state,igc-grid-state","igx-column,igc-column,igx-column-group,igc-column-group,igx-action-strip,igc-action-strip","igx-row-island,igc-row-island"],m5=0,f5=(()=>{let e=class{get parentHasScroll(){return!this.parentGrid.verticalScrollContainer.dc.instance.notVirtual}get data(){return this._data||[]}set data(e){this._data=e,this.hGrid&&!this.hGrid.dataSetByUser&&this.hGrid.setDataInternal(this._data.childGridsData[this.layout.key])}get parentGrid(){return this.gridAPI.grid}get level(){return this.layout.level}get nativeElement(){return this.element.nativeElement}constructor(e,t,i){this.gridAPI=e,this.element=t,this.cdr=i,this.expanded=!1}ngOnInit(){let e=this.container.createComponent(y5,{injector:this.container.injector});this.hGrid=e.instance,this.hGrid.setDataInternal(this.data.childGridsData[this.layout.key]),this.hGrid.nativeElement.__componentRef=e,this.layout.layoutChange.subscribe((e=>{this._handleLayoutChanges(e)})),this.layout.initialChanges.forEach((e=>{this._handleLayoutChanges(e)})),this.hGrid.parent=this.parentGrid,this.hGrid.parentIsland=this.layout,this.hGrid.childRow=this,this.setupEventEmitters(),this.layout.gridCreated.emit({owner:this.layout,parentID:this.data.rowID,grid:this.hGrid})}ngAfterViewInit(){this.hGrid.childLayoutList=this.layout.children,this.hGrid.childLayoutList.toArray().forEach((e=>this.hGrid.gridAPI.registerChildRowIsland(e))),this.parentGrid.gridAPI.registerChildGrid(this.data.rowID,this.layout.key,this.hGrid),this.layout.rowIslandAPI.registerChildGrid(this.data.rowID,this.hGrid),this.layout.gridInitialized.emit({owner:this.layout,parentID:this.data.rowID,grid:this.hGrid}),this.hGrid.cdr.detectChanges()}setupEventEmitters(){let e=Si(this.hGrid.destroy$),t=Mp(ZX),i=t.inputs.map((e=>e.propName));t.outputs.filter((e=>{let t=e.propName.slice(0,e.propName.indexOf("Change"));return-1===i.indexOf(t)})).filter((e=>"rendered"!==e.propName)).forEach((t=>{this.hGrid[t.propName]&&this.hGrid[t.propName].pipe(e).subscribe((e=>{e||(e={}),e.owner=this.hGrid,this.layout[t.propName].emit(e)}))}))}_handleLayoutChanges(e){for(let t in e)e.hasOwnProperty(t)&&(this.hGrid[t]=e[t].currentValue)}};return e.fac=function(t){return new(t||e)(nc(uk),nc(wd),nc(fp))},e.cmp=tr({type:e,selectors:[["igx-child-grid-row"]],viewQuery:function(e,t){if(1&e&&Bg(c4,7,Cg),2&e){let e;Hg(e=Gg())&&(t.container=e.first)}},hostVars:1,hostBindings:function(e,t){2&e&&ph("aria-level",t.level)},inputs:{layout:"layout",parentGridID:"parentGridID",data:"data",index:"index"},standalone:!0,features:[Wu],decls:3,vars:3,consts:[[1,"igx-grid__hierarchical-indent",3,"ngClass"],["container",""]],template:function(e,t){1&e&&(Ch(0,"div",0),Th(1,null,1),Sh()),2&e&&_h("ngClass",ju(1,h4,t.parentHasScroll))},dependencies:[Bm],encapsulation:2,changeDetection:0}),e})(),y5=(()=>{let e=class extends G2{constructor(){super(...arguments),this.role="grid",this.childLayoutKeys=[],this.dataSetByUser=!1,this.highlightedRowID=null,this.updateOnRender=!1,this.parent=null,this.h_id="igx-hierarchical-grid-"+m5++,this.childGridTemplates=new Map}get headerHierarchyExpander(){return this.theadRow?.headerHierarchyExpander}get id(){return this.h_id}set id(e){this.h_id=e}set data(e){this.setDataInternal(e),this.dataSetByUser=!0}get data(){return this._data}get paginator(){let e=this.id;return!this.parentIsland&&this.paginationComponents?.first||this.rootGrid.paginatorList?.find((t=>t.nativeElement.offsetParent?.id===e))}get excelStyleFilteringComponent(){return this.parentIsland?this.parentIsland.excelStyleFilteringComponents.first:super.excelStyleFilteringComponent}set totalItemCount(e){this.verticalScrollContainer.totalItemCount=e}get totalItemCount(){return this.verticalScrollContainer.totalItemCount}set expandChildren(e){this._defaultExpandState=e,this.expansionStates=new Map}get expandChildren(){return this._defaultExpandState}get foreignKey(){return this.parent?this.parent.gridAPI.getParentRowId(this):null}get hasExpandableChildren(){return!!this.childLayoutKeys.length}get resolveRowEditContainer(){return this.parentIsland&&this.parentIsland.rowEditCustom?this.parentIsland.rowEditContainer:this.rowEditContainer}get resolveRowEditActions(){return this.parentIsland?this.parentIsland.rowEditActionsTemplate:this.rowEditActionsTemplate}get resolveRowEditText(){return this.parentIsland?this.parentIsland.rowEditTextTemplate:this.rowEditTextTemplate}hideActionStrip(){this.parent||(super.hideActionStrip(),this.allLayoutList.forEach((e=>{e.actionStrip?.hide()})))}get parentRowOutletDirective(){return this.parent?this.parent.rowOutletDirective:this.outlet}ngOnInit(){this.batchEditing=!!this.rootGrid.batchEditing,this.rootGrid!==this&&this.rootGrid.batchEditingChange.pipe(Si(this.destroy$)).subscribe((e=>{this.batchEditing=e})),super.ngOnInit()}ngAfterViewInit(){super.ngAfterViewInit(),this.verticalScrollContainer.beforeViewDestroyed.pipe(Si(this.destroy$)).subscribe((e=>{let t=e.context.$implicit;if(this.isChildGridRecord(t)){let e=this.childGridTemplates.get(t.rowID);e&&e.owner._viewContainerRef.detach(0)}})),this.parent&&(this._displayDensity=this.rootGrid.displayDensity,this.summaryService.summaryHeight=0,this.rootGrid.densityChanged.pipe(Si(this.destroy$)).subscribe((()=>{this._displayDensity=this.rootGrid.displayDensity,this.summaryService.summaryHeight=0,this.notifyChanges(!0),this.cdr.markForCheck()})),this.childLayoutKeys=this.parentIsland.children.map((e=>e.key))),this.actionStrip=this.parentIsland?this.parentIsland.actionStrip:this.actionStrip,this.headSelectorsTemplates=this.parentIsland?this.parentIsland.headSelectorsTemplates:this.headSelectorsTemplates,this.rowSelectorsTemplates=this.parentIsland?this.parentIsland.rowSelectorsTemplates:this.rowSelectorsTemplates,this.dragIndicatorIconTemplate=this.parentIsland?this.parentIsland.dragIndicatorIconTemplate:this.dragIndicatorIconTemplate,this.rowExpandedIndicatorTemplate=this.rootGrid.rowExpandedIndicatorTemplate,this.rowCollapsedIndicatorTemplate=this.rootGrid.rowCollapsedIndicatorTemplate,this.headerCollapsedIndicatorTemplate=this.rootGrid.headerCollapsedIndicatorTemplate,this.headerExpandedIndicatorTemplate=this.rootGrid.headerExpandedIndicatorTemplate,this.excelStyleHeaderIconTemplate=this.rootGrid.excelStyleHeaderIconTemplate,this.sortAscendingHeaderIconTemplate=this.rootGrid.sortAscendingHeaderIconTemplate,this.sortDescendingHeaderIconTemplate=this.rootGrid.sortDescendingHeaderIconTemplate,this.sortHeaderIconTemplate=this.rootGrid.sortHeaderIconTemplate,this.hasChildrenKey=this.parentIsland&&this.parentIsland.hasChildrenKey||this.rootGrid.hasChildrenKey,this.showExpandAll=this.parentIsland?this.parentIsland.showExpandAll:this.rootGrid.showExpandAll}ngAfterContentInit(){this.updateColumnList(!1),this.childLayoutKeys=this.parent?this.parentIsland.children.map((e=>e.key)):this.childLayoutKeys=this.childLayoutList.map((e=>e.key)),this.childLayoutList.notifyOnChanges(),this.childLayoutList.changes.pipe(Si(this.destroy$)).subscribe((()=>this.onRowIslandChange())),super.ngAfterContentInit()}getRowByIndex(e){if(!(e<0||e>=this.dataView.length))return this.createRow(e)}getRowByKey(e){let t=this.dataView,i=this.primaryKey?t.find((t=>t[this.primaryKey]===e)):t.find((t=>t===e)),n=t.indexOf(i);if(!(n<0||n>t.length))return new v$(this,n,i)}allRows(){return this.dataView.map(((e,t)=>this.createRow(t)))}dataRows(){return this.allRows().filter((e=>e instanceof v$))}get selectedCells(){return this.dataRows().map((e=>e.cells.filter((e=>e.selected)))).reduce(((e,t)=>e.concat(t)),[])}getCellByColumn(e,t){let i=this.getRowByIndex(e),n=this.columns.find((e=>e.field===t));if(i&&i instanceof v$&&n)return new sM(this,e,n)}getCellByKey(e,t){let i=this.getRowByKey(e),n=this.columns.find((e=>e.field===t));if(i&&n)return new sM(this,i.index,n)}pinRow(e,t){let i=this.getRowByKey(e);return super.pinRow(e,t,i)}setDataInternal(e){this._data=e||[],this.summaryService.clearSummaryCache(),this._init||this.validation.updateAll(this._data),this.shouldGenerate&&(this.setupColumns(),this.reflow()),this.cdr.markForCheck(),this.parent&&(null===this.height||-1!==this.height.indexOf("%"))&&this.notifyChanges(!0)}unpinRow(e){let t=this.getRowByKey(e);return super.unpinRow(e,t)}dataLoading(e){this.dataPreLoad.emit(e)}featureColumnsWidth(){return super.featureColumnsWidth(this.headerHierarchyExpander)}onRowIslandChange(){this.parent?this.childLayoutKeys=this.parentIsland.children.filter((e=>!e._destroyed)).map((e=>e.key)):this.childLayoutKeys=this.childLayoutList.filter((e=>!e._destroyed)).map((e=>e.key)),this.cdr.destroyed||this.cdr.detectChanges()}ngOnDestroy(){this.parent||this.gridAPI.getChildGrids(!0).forEach((e=>{e.childRow.cdr.destroyed||e.childRow.cdr.destroy()})),this.parent&&this.selectionService.activeElement&&this._clearSeletionHighlights(),super.ngOnDestroy()}isRowHighlighted(e){return this.highlightedRowID===e.rowID}isHierarchicalRecord(e){return this.isGhostRecord(e)&&(e=e.recordRef),0!==this.childLayoutList.length&&e[this.childLayoutList.first.key]}isChildGridRecord(e){return void 0!==e?.childGridsData}trackChanges(e,t){return void 0!==t.childGridsData?t.rowID:t}getContext(e,t,i){if(this.isChildGridRecord(e)){let t=this.childGridTemplates.get(e.rowID);return t?{$implicit:e,moveView:t.view,owner:t.owner,index:this.dataView.indexOf(e)}:{$implicit:e,templateID:{type:"childRow",id:e.rowID},index:this.dataView.indexOf(e)}}return{$implicit:this.isGhostRecord(e)?e.recordRef:e,templateID:{type:"dataRow",id:null},index:this.getDataViewIndex(t,i),disabled:this.isGhostRecord(e)}}get rootGrid(){let e=this;for(;e.parent;)e=e.parent;return e}get iconTemplate(){return this.hasExpandedRecords()&&this.hasExpandableChildren||!this.showExpandAll?this.headerExpandedIndicatorTemplate||this.defaultExpandedTemplate:this.headerCollapsedIndicatorTemplate||this.defaultCollapsedTemplate}getDragGhostCustomTemplate(){return this.parentIsland?this.parentIsland.getDragGhostCustomTemplate():super.getDragGhostCustomTemplate()}getVisibleContentHeight(){let e=super.getVisibleContentHeight();if(this.parent){let t=this.rootGrid.getVisibleContentHeight(),i=this.nativeElement.getBoundingClientRect().top-this.rootGrid.nativeElement.getBoundingClientRect().top;e=t-i>e?e:t-i}return e}toggleAll(){this.hasExpandedRecords()&&this.hasExpandableChildren||!this.showExpandAll?this.collapseAll():this.expandAll()}hasExpandedRecords(){if(this.expandChildren)return!0;let e=!1;return this.expansionStates.forEach((t=>{t&&(e=t)})),e}getDefaultExpandState(e){return!(this.hasChildrenKey&&!e[this.hasChildrenKey])&&this.expandChildren}isExpanded(e){return this.gridAPI.get_row_expansion_state(e)}viewCreatedHandler(e){if(this.isChildGridRecord(e.context.$implicit)){let t=e.context.$implicit.rowID;this.childGridTemplates.set(t,e)}}viewMovedHandler(e){if(this.isChildGridRecord(e.context.$implicit)){let t=e.context.$implicit.rowID;this.childGridTemplates.get(t).owner=e.owner,this.childLayoutList.forEach((t=>{let i=this.gridAPI.getChildGridByID(t.key,e.context.$implicit.rowID);i&&i.updateOnRender&&(i.notifyChanges(!0),i.updateOnRender=!1)}))}}onContainerScroll(){this.hideOverlays()}createRow(e,t){let i,n=this._getDataViewIndex(e),r=t??this.dataView[n];return!i&&r&&!r.childGridsData&&(i=new v$(this,e,r)),i}getChildGrids(e){return this.gridAPI.getChildGrids(e)}generateDataFields(e){return super.generateDataFields(e).filter((e=>-1===(this.parentIsland?this.parentIsland.children:this.childLayoutList).map((e=>e.key)).indexOf(e)))}resizeNotifyHandler(){this.nativeElement?.isConnected&&!this.parent&&this.notifyChanges(!0)}initColumns(e,t=null){if(this.hasColumnLayouts){let e=this.columns.filter((e=>!e.columnLayout&&!e.columnLayoutChild));this.updateColumns(e)}super.initColumns(e,t)}setupColumns(){this.parentIsland&&this.parentIsland.childColumns.length>0&&!this.autoGenerate?this.createColumnsList(this.parentIsland.childColumns.toArray()):super.setupColumns()}getColumnList(){let e=(this.parent?this.childLayoutList:this.allLayoutList).map((e=>e.columnList.toArray())),t=[].concat.apply([],e);return t.length>0?this.columnList.filter((e=>-1===t.indexOf(e))):this.columnList.toArray()}onColumnsChanged(){Promise.resolve().then((()=>{this.updateColumnList()}))}_shouldAutoSize(e){return!(!this.isPercentHeight||!this.parent)||super._shouldAutoSize(e)}updateColumnList(e=!0){let t=(this.parent?this.childLayoutList:this.allLayoutList).map((e=>e.columnList.toArray())),i=[].concat.apply([],t),n=this.columns.length,r=this.columnList.filter((e=>-1===i.indexOf(e)));r.length>0&&(this.initColumns(r,(e=>this.columnInit.emit(e))),e&&this.columns.length!==n&&this.calculateGridSizes(!1))}_clearSeletionHighlights(){[this.rootGrid,...this.rootGrid.getChildGrids(!0)].forEach((e=>{e.selectionService.clear(),e.selectionService.activeElement=null,e.nativeElement.classList.remove("igx-grid__tr--highlighted"),e.highlightedRowID=null,e.cdr.markForCheck()}))}};return e.fac=function(){let t;return function(i){return(t||(t=Zo(e)))(i||e)}}(),e.cmp=tr({type:e,selectors:[["igx-hierarchical-grid"]],contentQueries:function(e,t,i){if(1&e&&(zg(i,U2,4,U2),zg(i,U2,5,U2),zg(i,oj,5),zg(i,Bk,4,Bk)),2&e){let e;Hg(e=Gg())&&(t.childLayoutList=e),Hg(e=Gg())&&(t.allLayoutList=e),Hg(e=Gg())&&(t.paginatorList=e),Hg(e=Gg())&&(t.actionStripComponents=e)}},viewQuery:function(e,t){if(1&e&&(Bg(u4,5,Cg),Bg(g4,5,Cg),Bg(p4,7,yg),Bg(m4,7,yg),Bg(kA,5,kA),Bg(f5,5)),2&e){let e;Hg(e=Gg())&&(t.toolbarOutlet=e.first),Hg(e=Gg())&&(t.paginatorOutlet=e.first),Hg(e=Gg())&&(t.hierarchicalRecordTemplate=e.first),Hg(e=Gg())&&(t.childTemplate=e.first),Hg(e=Gg())&&(t.templateOutlets=e),Hg(e=Gg())&&(t.hierarchicalRows=e)}},hostVars:2,hostBindings:function(e,t){2&e&&ph("role",t.role)("id",t.id)},inputs:{id:"id",data:"data",totalItemCount:"totalItemCount",expandChildren:"expandChildren"},standalone:!0,features:[Nu([ck,pj,Tk,{provide:uk,useClass:B2},{provide:hk,useExisting:e},fj,Yz,z2,Fz,uA,gA,W2]),th,Wu],ngContentSelectors:p5,decls:98,vars:147,consts:[["toolbarOutlet",""],["tabindex","0",1,"igx-grid-thead",3,"grid","hasMRL","activeDescendant","width","pinnedColumnCollection","unpinnedColumnCollection","keydown.meta.c","keydown.control.c","copy","keydown","focus"],["igxGridBody","","role","rowgroup",1,"igx-grid__tbody",3,"keydown.control.c","copy"],["tabindex","0",1,"igx-grid__tbody-content",3,"igxGridDragSelect","focus","keydown","dragStop","dragScroll","scroll"],["tbody",""],["id","left","class","igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop",4,"ngIf"],["id","left","class","igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop","left",4,"ngIf"],["pinnedRecordsTemplate",""],[4,"ngTemplateOutlet"],["igxGridFor","",3,"igxGridForOf","igxForScrollOrientation","igxForScrollContainer","igxForContainerSize","igxForItemSize","igxForTrackBy","chunkPreload","dataChanging","dataChanged"],["verticalScrollContainer",""],["hierarchical_record_template",""],["pinned_hierarchical_record_template",""],["child_record_template",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","right","class","igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop",4,"ngIf"],["igxOverlayOutlet","",1,"igx-grid__row-editing-outlet"],["igxRowEditingOverlayOutlet",""],["igxToggle",""],["loadingOverlay",""],[3,"indeterminate",4,"ngIf"],[1,"igx-grid__tbody-scrollbar",3,"hidden","pointerdown"],[1,"igx-grid__tbody-scrollbar-start"],[1,"igx-grid__tbody-scrollbar-main"],["igxGridFor","",3,"igxGridForOf"],["verticalScrollHolder",""],[1,"igx-grid__tbody-scrollbar-end"],[1,"igx-grid__addrow-snackbar"],[3,"outlet","actionText","displayTime"],["addRowSnackbar",""],["igxOverlayOutlet",""],["igxBodyOverlayOutlet","overlay-outlet"],["role","rowgroup",1,"igx-grid__tfoot"],["tfoot",""],["tabindex","0",3,"focus","keydown"],["role","row","class","igx-grid__summaries",3,"width","height","gridID","summaries","index",4,"ngIf"],[1,"igx-grid__tfoot-thumb",3,"hidden"],[1,"igx-grid__scroll",3,"hidden","pointerdown"],["scr",""],[1,"igx-grid__scroll-start"],[1,"igx-grid__scroll-main"],["scrollContainer",""],[1,"igx-grid__scroll-end",3,"hidden"],[1,"igx-grid__footer"],["footer",""],["paginatorOutlet",""],["emptyFilteredGrid",""],["defaultEmptyGrid",""],["defaultAddRowEmptyTemplate",""],["defaultLoadingGrid",""],["defaultCollapsedTemplate",""],["defaultExpandedTemplate",""],["igxToggle","",4,"ngIf"],["defaultRowEditText",""],["defaultRowEditActions",""],["defaultRowEditTemplate",""],["dragIndicatorIconBase",""],[4,"ngIf"],["igxOverlayOutlet","",1,"igx-grid__loading-outlet"],["igxLoadingOverlayOutlet",""],["igxOverlayOutlet","",1,"igx-grid__outlet"],["igxFilteringOverlayOutlet",""],[2,"display","none"],["sink",""],["id","left",1,"igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop"],["id","left",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop"],["class","igx-grid__tr--pinned",3,"ngClass","width",4,"ngIf"],[1,"igx-grid__tr--pinned",3,"ngClass"],["pinContainer",""],[4,"ngFor","ngForOf"],[3,"igxTemplateOutlet","igxTemplateOutletContext","viewCreated","viewMoved","cachedViewLoaded"],[3,"gridID","index","disabled","data","ngClass","ngStyle"],["row",""],[3,"gridID","index","data","ngClass","ngStyle"],["row","","pinnedRow",""],[3,"ngClass","scroll"],[3,"parentGridID","index","data","layout",4,"ngFor","ngForOf"],[3,"parentGridID","index","data","layout"],["id","right",1,"igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop"],[3,"indeterminate"],["role","row",1,"igx-grid__summaries",3,"gridID","summaries","index"],["summaryRow",""],["role","cell",1,"igx-grid__tbody-message"],["type","button","igxButton","raised","igxRipple","",3,"click"],[1,"igx-grid__loading"],["role","button"],["role","button",3,"active"],["rowEditingOverlay",""],[3,"className"],["type","button","igxButton","","igxRowEditTabStop","",3,"click"],[1,"igx-banner__message"],[1,"igx-banner__text"],[1,"igx-banner__actions"],[1,"igx-banner__row"]],template:function(e,t){if(1&e&&(Lh(h5),Hh(0),Th(1,null,0),Ch(3,"igx-grid-header-row",1),Fh("keydown.meta.c",(function(e){return t.copyHandler(e)}))("keydown.control.c",(function(e){return t.copyHandler(e)}))("copy",(function(e){return t.copyHandler(e)}))("keydown",(function(e){return t.navigation.headerNavigation(e)}))("focus",(function(){return t.navigation.focusFirstCell()})),Sh(),Ch(4,"div",2),Fh("keydown.control.c",(function(e){return t.copyHandler(e)}))("copy",(function(e){return t.copyHandler(e)})),Ch(5,"div",3,4),Fh("focus",(function(e){return t.navigation.focusTbody(e)}))("keydown",(function(e){return t.navigation.handleNavigation(e)}))("dragStop",(function(e){return t.selectionService.dragMode=e}))("dragScroll",(function(e){return t.dragScroll(e)}))("scroll",(function(e){return t.preventContainerScroll(e)})),yh(7,f4,1,2,"span",5),yh(8,y4,1,4,"span",6),yh(9,E4,7,50,"ng-template",null,7,jg),yh(11,I4,1,0,"ng-container",8),yh(12,A4,1,2,"ng-template",9,10,jg),ag(14,"gridRowPinning"),ag(15,"gridAddRow"),ag(16,"gridHierarchical"),ag(17,"gridHierarchicalPaging"),ag(18,"gridSort"),ag(19,"gridFiltering"),ag(20,"visibleColumns"),ag(21,"gridTransaction"),Fh("chunkPreload",(function(e){return t.dataLoading(e)}))("dataChanging",(function(e){return t.dataRebinding(e)}))("dataChanged",(function(e){return t.dataRebound(e)})),yh(22,k4,4,36,"ng-template",null,11,jg),yh(24,O4,5,35,"ng-template",null,12,jg),yh(26,M4,2,5,"ng-template",null,13,jg),yh(28,V4,1,0,"ng-container",8),yh(29,N4,1,0,"ng-container",14),yh(30,L4,1,2,"span",15),bh(31,"div",16,17),Sh(),Ch(33,"div",18,19),yh(35,H4,1,1,"igx-circular-bar",20),Sh(),yh(36,B4,1,2,"span",15),Ch(37,"div",21),Fh("pointerdown",(function(e){return e.preventDefault()})),bh(38,"div",22),Ch(39,"div",23),yh(40,z4,0,0,"ng-template",24,25,jg),Sh(),bh(42,"div",26),Sh(),Ch(43,"div",27)(44,"igx-snackbar",28,29),fu(46),Sh()(),bh(47,"div",30,31),Sh(),Ch(49,"div",32,33)(51,"div",34),Fh("focus",(function(){return t.navigation.focusFirstCell(!1)}))("keydown",(function(e){return t.navigation.summaryNav(e)})),yh(52,G4,3,10,"igx-grid-summary-row",35),bh(53,"div",36),Sh()(),Ch(54,"div",37,38),Fh("pointerdown",(function(e){return e.preventDefault()})),bh(56,"div",39),Ch(57,"div",40),yh(58,$4,0,0,"ng-template",24,41,jg),Sh(),bh(60,"div",42),Sh(),Ch(61,"div",43,44),Hh(63,1),Hh(64,2),Th(65,null,45),Sh(),yh(67,j4,4,2,"ng-template",null,46,jg),yh(69,Y4,4,2,"ng-template",null,47,jg),yh(71,X4,2,1,"ng-template",null,48,jg),yh(73,Z4,2,1,"ng-template",null,49,jg),yh(75,Q4,2,0,"ng-template",null,50,jg),yh(77,J4,2,1,"ng-template",null,51,jg),yh(79,i5,4,6,"div",52),yh(80,n5,1,2,"ng-template",null,53,jg),yh(82,r5,4,2,"ng-template",null,54,jg),yh(84,l5,6,8,"ng-template",null,55,jg),yh(86,d5,2,0,"ng-template",null,56,jg),yh(88,c5,1,0,"igx-grid-column-resizer",57),bh(89,"div",58,59)(91,"div",60,61),Ch(93,"div",62,63),Hh(95,3),Hh(96,4),Hh(97,5),Sh()),2&e){let e=xh(10),i=xh(48);tc(3),_h("grid",t)("hasMRL",t.hasColumnLayouts)("activeDescendant",t.activeDescendant)("width",t.calcWidth)("pinnedColumnCollection",t.pinnedColumns)("unpinnedColumnCollection",t.unpinnedColumns),tc(2),tu("height",t.totalHeight,"px")("width",t.calcWidth,"px"),_h("igxGridDragSelect",t.selectionService.dragMode),ph("aria-activedescendant",t.activeDescendant)("role",t.dataView.length?null:"row"),tc(2),_h("ngIf",t.moving&&t.columnInDrag&&t.pinnedColumns.length<=0),tc(1),_h("ngIf",t.moving&&t.columnInDrag&&t.pinnedColumns.length>0),tc(3),_h("ngTemplateOutlet",t.hasPinnedRecords&&t.isRowPinningToTop?e:null),tc(1),_h("igxGridForOf",hg(14,68,cg(15,73,ug(16,77,Zu(136,g5,ug(17,84,Zu(129,g5,ug(18,91,Zu(122,g5,ug(19,98,Qu(113,u5,dg(20,106,cg(21,109,t.data,t.id,t.pipeTrigger),t.hasVisibleColumns),t.filteringExpressionsTree,t.filterStrategy,t.advancedFilteringExpressionsTree,t.id,t.pipeTrigger,t.filteringPipeTrigger)),t.sortingExpressions,Ku(121,b4),t.sortStrategy,t.id,t.pipeTrigger)),!!t.paginator,t.page,t.perPage,t.id,t.pipeTrigger)),t.expansionStates,t.id,t.primaryKey,t.childLayoutKeys,t.pipeTrigger)),!1,t.pipeTrigger),t.id,!1,t.pipeTrigger))("igxForScrollOrientation","vertical")("igxForScrollContainer",t.verticalScroll)("igxForContainerSize",t.calcHeight)("igxForItemSize",t.renderedRowHeight)("igxForTrackBy",t.trackChanges),tc(16),_h("ngTemplateOutlet",t.hasPinnedRecords&&!t.isRowPinningToTop?e:null),tc(1),_h("ngTemplateOutlet",t.template)("ngTemplateOutletContext",ju(143,a5,t)),tc(1),_h("ngIf",t.moving&&t.columnInDrag),tc(5),_h("ngIf",t.shouldOverlayLoading),tc(1),_h("ngIf",t.moving&&t.columnInDrag),tc(1),tu("width",t.scrollSize,"px"),_h("hidden",!t.hasVerticalScroll()),tc(1),tu("height",t.isRowPinningToTop?t.pinnedRowHeight:0,"px"),tc(1),tu("height",t.calcHeight,"px"),tc(1),_h("igxGridForOf",Ku(145,b4)),tc(2),tu("height",t.isRowPinningToTop?0:t.pinnedRowHeight,"px"),tc(2),_h("outlet",i)("actionText",t.resourceStrings.igx_grid_snackbar_addrow_actiontext)("displayTime",t.snackbarDisplayTime),tc(2),vu(t.resourceStrings.igx_grid_snackbar_addrow_label),tc(3),tu("height",t.summaryRowHeight,"px"),tc(2),ph("aria-activedescendant",t.activeDescendant),tc(1),_h("ngIf",t.hasSummarizedColumns&&t.rootSummariesEnabled),tc(1),tu("height",t.summaryRowHeight,"px")("width",t.scrollSize,"px"),_h("hidden",!t.hasVerticalScroll()),tc(1),tu("height",t.scrollSize,"px"),_h("hidden",t.isHorizontalScrollHidden),tc(2),tu("width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px")("min-width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px"),tc(1),tu("width",t.unpinnedWidth,"px"),tc(1),_h("igxGridForOf",Ku(146,b4)),tc(2),tu("width",t.pinnedWidth,"px")("min-width",t.pinnedWidth,"px"),_h("hidden",0===t.pinnedWidth||t.isPinningToStart),tc(19),_h("ngIf",t.rowEditable),tc(9),_h("ngIf",t.colResizingService.showResizer)}},dependencies:[$m,Bm,zm,Zm,Xm,cW,QW,BY,uG,vA,kA,d4,MA,FA,LL,qK,HK,HI,DA,XI,CK,zK,f5,pU,yU,T$,A$,k$,V$,b$,D$,vU,q2,Y2],encapsulation:2,changeDetection:0}),e})();function v5(e){return new qi(3e3,!1)}function x5(e){switch(e.length){case 0:return new Iy;case 1:return e[0];default:return new Ty(e)}}function _5(e,t,i=new Map,n=new Map){let r=[],s=[],o=-1,a=null;if(t.forEach((t=>{let l=t.get("offset"),d=l==o,c=d&&a||new Map;t.forEach(((t,s)=>{let o=s,a=t;if("offset"!==s)switch(o=e.normalizePropertyName(o,r),a){case"!":a=i.get(s);break;case vy:a=n.get(s);break;default:a=e.normalizeStyleValue(s,o,a,r)}c.set(o,a)})),d||s.push(c),a=c,o=l})),r.length)throw new qi(3502,!1);return s}function w5(e,t,i,n){switch(t){case"start":e.onStart((()=>n(i&&C5(i,"start",e))));break;case"done":e.onDone((()=>n(i&&C5(i,"done",e))));break;case"destroy":e.onDestroy((()=>n(i&&C5(i,"destroy",e))))}}function C5(e,t,i){let n=i.totalTime,r=!!i.disabled,s=S5(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,n??e.totalTime,r),o=e._data;return null!=o&&(s._data=o),s}function S5(e,t,i,n,r="",s=0,o){return{element:e,triggerName:t,fromState:i,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function b5(e,t,i){let n=e.get(t);return n||e.set(t,n=i),n}function D5(e){let t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}new Set("right down left up arrowright arrowdown arrowleft arrowup".split(" ")),new Ll("IgxStepperToken"),new Ll("IgxStepToken");var E5=typeof document>"u"?null:document.documentElement;function I5(e){let t=e.parentNode||e.host||null;return t===E5?null:t}var T5=null,A5=!1;function R5(e,t){for(;t;){if(t===e)return!0;t=I5(t)}return!1}function k5(e,t,i){if(i)return Array.from(e.querySelectorAll(t));let n=e.querySelector(t);return n?[n]:[]}var O5=(()=>{let e=class{validateStyleProperty(e){return function(e){T5||(T5=(typeof document<"u"?document.body:null)||{},A5=!!T5.style&&"WebkitAppearance"in T5.style);let t=!0;return T5.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in T5.style,!t&&A5&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in T5.style)),t}(e)}matchesElement(e,t){return!1}containsElement(e,t){return R5(e,t)}getParentElement(e){return I5(e)}query(e,t,i){return k5(e,t,i)}computeStyle(e,t,i){return i||""}animate(e,t,i,n,r,s=[],o){return new Iy(i,n)}};return e.fac=function(t){return new(t||e)},e.prov=Zi({token:e,factory:e.fac}),e})(),F5=(()=>{let e=class{};return e.NOOP=new O5,e})(),P5=1e3,M5="ng-enter",V5="ng-leave",N5="ng-trigger",L5=".ng-trigger",H5="ng-animating",B5=".ng-animating";function z5(e){if("number"==typeof e)return e;let t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:G5(parseFloat(t[1]),t[2])}function G5(e,t){return"s"===t?e*P5:e}function $5(e,t,i){return e.hasOwnProperty("duration")?e:function(e,t,i){let n,r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,s=0,o="";if("string"==typeof e){let i=e.match(r);if(null===i)return t.push(v5()),{duration:0,delay:0,easing:""};n=G5(parseFloat(i[1]),i[2]);let a=i[3];null!=a&&(s=G5(parseFloat(a),i[4]));let l=i[5];l&&(o=l)}else n=e;if(!i){let e=!1,i=t.length;n<0&&(t.push(new qi(3100,!1)),e=!0),s<0&&(t.push(new qi(3101,!1)),e=!0),e&&t.splice(i,0,v5())}return{duration:n,delay:s,easing:o}}(e,t,i)}function W5(e,t={}){return Object.keys(e).forEach((i=>{t[i]=e[i]})),t}function K5(e){let t=new Map;return Object.keys(e).forEach((i=>{let n=e[i];t.set(i,n)})),t}function j5(e,t=new Map,i){if(i)for(let[e,n]of i)t.set(e,n);for(let[i,n]of e)t.set(i,n);return t}function U5(e,t,i){t.forEach(((t,n)=>{let r=t6(n);i&&!i.has(n)&&i.set(n,e.style[r]),e.style[r]=t}))}function q5(e,t){t.forEach(((t,i)=>{let n=t6(i);e.style[n]=""}))}function Y5(e){return Array.isArray(e)?1==e.length?e[0]:wy(e):e}var X5=new RegExp("{{\\s*(.+?)\\s*}}","g");function Z5(e){let t=[];if("string"==typeof e){let i;for(;i=X5.exec(e);)t.push(i[1]);X5.lastIndex=0}return t}function Q5(e,t,i){let n=e.toString(),r=n.replace(X5,((e,n)=>{let r=t[n];return null==r&&(i.push(new qi(3003,!1)),r=""),r.toString()}));return r==n?e:r}function J5(e){let t=[],i=e.next();for(;!i.done;)t.push(i.value),i=e.next();return t}var e6=/-+([a-z0-9])/g;function t6(e){return e.replace(e6,((...e)=>e[1].toUpperCase()))}function i6(e,t,i){switch(t.type){case 7:return e.visitTrigger(t,i);case 0:return e.visitState(t,i);case 1:return e.visitTransition(t,i);case 2:return e.visitSequence(t,i);case 3:return e.visitGroup(t,i);case 4:return e.visitAnimate(t,i);case 5:return e.visitKeyframes(t,i);case 6:return e.visitStyle(t,i);case 8:return e.visitReference(t,i);case 9:return e.visitAnimateChild(t,i);case 10:return e.visitAnimateRef(t,i);case 11:return e.visitQuery(t,i);case 12:return e.visitStagger(t,i);default:throw t.type,new qi(3004,!1)}}function n6(e,t){return window.getComputedStyle(e)[t]}var r6="*";function s6(e,t){let i=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach((e=>function(e,t,i){if(":"==e[0]){let n=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(new qi(3016,!1)),"* => *"}}(e,i);if("function"==typeof n)return void t.push(n);e=n}let n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return i.push(new qi(3015,!1)),t;let r=n[1],s=n[2],o=n[3];t.push(l6(r,o));let a=r==r6&&o==r6;"<"==s[0]&&!a&&t.push(l6(o,r))}(e,i,t))):i.push(e),i}var o6=new Set(["true","1"]),a6=new Set(["false","0"]);function l6(e,t){let i=o6.has(e)||a6.has(e),n=o6.has(t)||a6.has(t);return(r,s)=>{let o=e==r6||e==r,a=t==r6||t==s;return!o&&i&&"boolean"==typeof r&&(o=r?o6.has(e):a6.has(e)),!a&&n&&"boolean"==typeof s&&(a=s?o6.has(t):a6.has(t)),o&&a}}var d6=":self",c6=new RegExp(`s*${d6}s*,?`,"g");function h6(e,t,i,n){return new u6(e).build(t,i,n)}var u6=class{constructor(e){this._driver=e}build(e,t,i){let n=new g6(t);return this._resetContextStyleTimingState(n),i6(this,Y5(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,n=t.depCount=0,r=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(new qi(3006,!1)),e.definitions.forEach((e=>{if(this._resetContextStyleTimingState(t),0==e.type){let i=e,n=i.name;n.toString().split(/\s*,\s*/).forEach((e=>{i.name=e,r.push(this.visitState(i,t))})),i.name=n}else if(1==e.type){let r=this.visitTransition(e,t);i+=r.queryCount,n+=r.depCount,s.push(r)}else t.errors.push(new qi(3007,!1))})),{type:7,name:e.name,states:r,transitions:s,queryCount:i,depCount:n,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),n=e.options&&e.options.params||null;if(i.containsDynamicStyles){let r=new Set,s=n||{};i.styles.forEach((e=>{e instanceof Map&&e.forEach((e=>{Z5(e).forEach((e=>{s.hasOwnProperty(e)||r.add(e)}))}))})),r.size&&(J5(r.values()),t.errors.push((e.name,new qi(3008,!1))))}return{type:0,name:e.name,style:i,options:n?{params:n}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=i6(this,Y5(e.animation),t);return{type:1,matchers:s6(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:p6(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map((e=>i6(this,e,t))),options:p6(e.options)}}visitGroup(e,t){let i=t.currentTime,n=0,r=e.steps.map((e=>{t.currentTime=i;let r=i6(this,e,t);return n=Math.max(n,t.currentTime),r}));return t.currentTime=n,{type:3,steps:r,options:p6(e.options)}}visitAnimate(e,t){let i=function(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return m6($5(e,t).duration,0,"");let i=e;if(i.split(/\s+/).some((e=>"{"==e.charAt(0)&&"{"==e.charAt(1)))){let e=m6(0,0,"");return e.dynamic=!0,e.strValue=i,e}let n=$5(i,t);return m6(n.duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let n,r=e.styles?e.styles:Cy({});if(5==r.type)n=this.visitKeyframes(r,t);else{let r=e.styles,s=!1;if(!r){s=!0;let e={};i.easing&&(e.easing=i.easing),r=Cy(e)}t.currentTime+=i.duration+i.delay;let o=this.visitStyle(r,t);o.isEmptyStep=s,n=o}return t.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],n=Array.isArray(e.styles)?e.styles:[e.styles];for(let e of n)"string"==typeof e?e===vy?i.push(e):t.errors.push(new qi(3002,!1)):i.push(K5(e));let r=!1,s=null;return i.forEach((e=>{if(e instanceof Map&&(e.has("easing")&&(s=e.get("easing"),e.delete("easing")),!r))for(let t of e.values())if(t.toString().indexOf("{{")>=0){r=!0;break}})),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,n=t.currentTime,r=t.currentTime;i&&r>0&&(r-=i.duration+i.delay),e.styles.forEach((e=>{"string"!=typeof e&&e.forEach(((e,i)=>{let s=t.collectedStyles.get(t.currentQuerySelector),o=s.get(i),a=!0;o&&(r!=n&&r>=o.startTime&&n<=o.endTime&&(t.errors.push((o.startTime,o.endTime,new qi(3010,!1))),a=!1),r=o.startTime),a&&s.set(i,{startTime:r,endTime:n}),t.options&&function(e,t,i){let n=t.params||{},r=Z5(e);r.length&&r.forEach((e=>{n.hasOwnProperty(e)||i.push(new qi(3001,!1))}))}(e,t.options,t.errors)}))}))}visitKeyframes(e,t){let i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(new qi(3011,!1)),i;let n=0,r=[],s=!1,o=!1,a=0,l=e.steps.map((e=>{let i=this._makeStyleAst(e,t),l=null!=i.offset?i.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach((e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}}));else if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}return t}(i.styles),d=0;return null!=l&&(n++,d=i.offset=l),o=o||d<0||d>1,s=s||d<a,a=d,r.push(d),i}));o&&t.errors.push(new qi(3012,!1)),s&&t.errors.push(new qi(3200,!1));let d=e.steps.length,c=0;n>0&&n<d?t.errors.push(new qi(3202,!1)):0==n&&(c=1/(d-1));let h=d-1,u=t.currentTime,g=t.currentAnimateTimings,p=g.duration;return l.forEach(((e,n)=>{let s=c>0?n==h?1:c*n:r[n],o=s*p;t.currentTime=u+g.delay+o,g.duration=o,this._validateStyleAst(e,t),e.offset=s,i.styles.push(e)})),i}visitReference(e,t){return{type:8,animation:i6(this,Y5(e.animation),t),options:p6(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:p6(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:p6(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,n=e.options||{};t.queryCount++,t.currentQuery=e;let[r,s]=function(e){let t=!!e.split(/\s*,\s*/).find((e=>e==d6));return t&&(e=e.replace(c6,"")),e=e.replace(/@\*/g,L5).replace(/@\w+/g,(e=>L5+"-"+e.slice(1))).replace(/:animating/g,B5),[e,t]}(e.selector);t.currentQuerySelector=i.length?i+" "+r:r,b5(t.collectedStyles,t.currentQuerySelector,new Map);let o=i6(this,Y5(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:r,limit:n.limit||0,optional:!!n.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:p6(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(new qi(3013,!1));let i="full"===e.timings?{duration:0,delay:0,easing:"full"}:$5(e.timings,t.errors,!0);return{type:12,animation:i6(this,Y5(e.animation),t),timings:i,options:null}}},g6=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function p6(e){return e?(e=W5(e)).params&&(e.params=function(e){return e?W5(e):null}(e.params)):e={},e}function m6(e,t,i){return{duration:e,delay:t,easing:i}}function f6(e,t,i,n,r,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:i,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var y6=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},v6=new RegExp(":enter","g"),x6=new RegExp(":leave","g");function _6(e,t,i,n,r,s=new Map,o=new Map,a,l,d=[]){return(new w6).buildKeyframes(e,t,i,n,r,s,o,a,l,d)}var w6=class{buildKeyframes(e,t,i,n,r,s,o,a,l,d=[]){l=l||new y6;let c=new S6(e,t,l,n,r,d,[]);c.options=a;let h=a.delay?z5(a.delay):0;c.currentTimeline.delayNextStep(h),c.currentTimeline.setStyles([s],null,c.errors,a),i6(this,i,c);let u=c.timelines.filter((e=>e.containsAnimation()));if(u.length&&o.size){let e;for(let i=u.length-1;i>=0;i--){let n=u[i];if(n.element===t){e=n;break}}e&&!e.allowOnlyTimelineStyles()&&e.setStyles([o],null,c.errors,a)}return u.length?u.map((e=>e.buildKeyframes())):[f6(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let n=t.createSubContext(e.options),r=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,n,n.options);r!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let n of e){let e=n?.delay;if(e){let r="number"==typeof e?e:z5(Q5(e,n?.params??{},t.errors));i.delayNextStep(r)}}}_visitSubInstructions(e,t,i){let n=t.currentTimeline.currentTime,r=null!=i.duration?z5(i.duration):null,s=null!=i.delay?z5(i.delay):null;return 0!==r&&e.forEach((e=>{let i=t.appendInstructionToTimeline(e,r,s);n=Math.max(n,i.duration+i.delay)})),n}visitReference(e,t){t.updateOptions(e.options,!0),i6(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,n=t,r=e.options;if(r&&(r.params||r.delay)&&(n=t.createSubContext(r),n.transformIntoNewTimeline(),null!=r.delay)){6==n.previousNode.type&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=C6);let e=z5(r.delay);n.delayNextStep(e)}e.steps.length&&(e.steps.forEach((e=>i6(this,e,n))),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>i&&n.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],n=t.currentTimeline.currentTime,r=e.options&&e.options.delay?z5(e.options.delay):0;e.steps.forEach((s=>{let o=t.createSubContext(e.options);r&&o.delayNextStep(r),i6(this,s,o),n=Math.max(n,o.currentTimeline.currentTime),i.push(o.currentTimeline)})),i.forEach((e=>t.currentTimeline.mergeTimelineCollectedStyles(e))),t.transformIntoNewTimeline(n),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue;return $5(t.params?Q5(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),n=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),n.snapshotCurrentStyles());let r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(i.duration),this.visitStyle(r,t),n.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,n=t.currentAnimateTimings;!n&&i.hasCurrentStyleProperties()&&i.forwardFrame();let r=n&&n.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(r):i.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,n=t.currentTimeline.duration,r=i.duration,s=t.createSubContext().currentTimeline;s.easing=i.easing,e.styles.forEach((e=>{let i=e.offset||0;s.forwardTime(i*r),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(n+r),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,n=e.options||{},r=n.delay?z5(n.delay):0;r&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=C6);let s=i,o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!n.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach(((i,n)=>{t.currentQueryIndex=n;let o=t.createSubContext(e.options,i);r&&o.delayNextStep(r),i===t.element&&(a=o.currentTimeline),i6(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe();let l=o.currentTimeline.currentTime;s=Math.max(s,l)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,n=t.currentTimeline,r=e.timings,s=Math.abs(r.duration),o=s*(t.currentQueryTotal-1),a=s*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=i.currentStaggerTime}let l=t.currentTimeline;a&&l.delayNextStep(a);let d=l.currentTime;i6(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=n.currentTime-d+(n.startTime-i.currentTimeline.startTime)}},C6={},S6=class e{constructor(e,t,i,n,r,s,o,a){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=n,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=C6,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new b6(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,n=this.options;null!=i.duration&&(n.duration=z5(i.duration)),null!=i.delay&&(n.delay=z5(i.delay));let r=i.params;if(r){let e=n.params;e||(e=this.options.params={}),Object.keys(r).forEach((i=>{(!t||!e.hasOwnProperty(i))&&(e[i]=Q5(r[i],e,this.errors))}))}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach((e=>{i[e]=t[e]}))}}return e}createSubContext(t=null,i,n){let r=i||this.element,s=new e(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=C6,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let n={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},r=new D6(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,n,e.stretchStartingKeyframe);return this.timelines.push(r),n}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,n,r,s){let o=[];if(n&&o.push(this.element),e.length>0){e=(e=e.replace(v6,"."+this._enterClassName)).replace(x6,"."+this._leaveClassName);let t=1!=i,n=this._driver.query(this.element,e,t);0!==i&&(n=i<0?n.slice(n.length+i,n.length):n.slice(0,i)),o.push(...n)}return!r&&0==o.length&&s.push(new qi(3014,!1)),o}},b6=class e{constructor(e,t,i,n){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=n,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(t,i){return this.applyStylesToKeyframe(),new e(this._driver,t,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[e,t]of this._globalTimelineStyles)this._backFill.set(e,t||vy),this._currentKeyframe.set(e,vy);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,n){t&&this._previousKeyframe.set("easing",t);let r=n&&n.params||{},s=function(e,t){let i,n=new Map;return e.forEach((e=>{if("*"===e){i=i||t.keys();for(let e of i)n.set(e,vy)}else j5(e,n)})),n}(e,this._globalTimelineStyles);for(let[e,t]of s){let n=Q5(t,r,i);this._pendingStyles.set(e,n),this._localTimelineStyles.has(e)||this._backFill.set(e,this._globalTimelineStyles.get(e)??vy),this._updateStyle(e,n)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach(((e,t)=>{this._currentKeyframe.set(t,e)})),this._pendingStyles.clear(),this._localTimelineStyles.forEach(((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)})))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach(((e,t)=>{let i=this._styleSummary.get(t);(!i||e.time>i.time)&&this._updateStyle(t,e.value)}))}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration,n=[];this._keyframes.forEach(((r,s)=>{let o=j5(r,new Map,this._backFill);o.forEach(((i,n)=>{"!"===i?e.add(n):i===vy&&t.add(n)})),i||o.set("offset",s/this.duration),n.push(o)}));let r=e.size?J5(e.values()):[],s=t.size?J5(t.values()):[];if(i){let e=n[0],t=new Map(e);e.set("offset",0),t.set("offset",1),n=[e,t]}return f6(this.element,n,r,s,this.duration,this.startTime,this.easing,!1)}},D6=class extends b6{constructor(e,t,i,n,r,s,o=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=n,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:n}=this.timings;if(this._stretchStartingKeyframe&&t){let r=[],s=i+t,o=t/s,a=j5(e[0]);a.set("offset",0),r.push(a);let l=j5(e[0]);l.set("offset",E6(o)),r.push(l);let d=e.length-1;for(let n=1;n<=d;n++){let o=j5(e[n]),a=t+o.get("offset")*i;o.set("offset",E6(a/s)),r.push(o)}i=s,t=0,n="",e=r}return f6(this.element,e,this.preStyleProps,this.postStyleProps,i,t,n,!0)}};function E6(e,t=3){let i=Math.pow(10,t-1);return Math.round(e*i)/i}var I6=class{},T6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),A6=class extends I6{normalizePropertyName(e,t){return t6(e)}normalizeStyleValue(e,t,i,n){let r="",s=i.toString().trim();if(T6.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{let e=i.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&n.push(new qi(3005,!1))}return s+r}};function R6(e,t,i,n,r,s,o,a,l,d,c,h,u){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:i,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:d,postStyleProps:c,totalTime:h,errors:u}}var k6={},O6=class{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,n){return function(e,t,i,n,r){return e.some((e=>e(t,i,n,r)))}(this.ast.matchers,e,t,i,n)}buildStyles(e,t,i){let n=this._stateStyles.get("*");return void 0!==e&&(n=this._stateStyles.get(e?.toString())||n),n?n.buildStyles(t,i):new Map}build(e,t,i,n,r,s,o,a,l,d){let c=[],h=this.ast.options&&this.ast.options.params||k6,u=o&&o.params||k6,g=this.buildStyles(i,u,c),p=a&&a.params||k6,m=this.buildStyles(n,p,c),f=new Set,y=new Map,v=new Map,x="void"===n,_={params:F6(p,h),delay:this.ast.options?.delay},w=d?[]:_6(e,t,this.ast.animation,r,s,g,m,_,l,c),C=0;if(w.forEach((e=>{C=Math.max(e.duration+e.delay,C)})),c.length)return R6(t,this._triggerName,i,n,x,g,m,[],[],y,v,C,c);w.forEach((e=>{let i=e.element,n=b5(y,i,new Set);e.preStyleProps.forEach((e=>n.add(e)));let r=b5(v,i,new Set);e.postStyleProps.forEach((e=>r.add(e))),i!==t&&f.add(i)}));let S=J5(f.values());return R6(t,this._triggerName,i,n,x,g,m,w,S,y,v,C)}};function F6(e,t){let i=W5(t);for(let t in e)e.hasOwnProperty(t)&&null!=e[t]&&(i[t]=e[t]);return i}function P6(e,t,i){e.has(t)?e.has(i)||e.set(i,e.get(t)):e.has(i)&&e.set(t,e.get(i))}var M6=new y6,V6="ng-animate-queued",N6="ng-animate-disabled",L6=[],H6={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},B6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},z6="__ng_removed",G6=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),n=i?e.value:e;if(this.value=function(e){return e??null}(n),i){let t=W5(e);delete t.value,this.options=t}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let e=this.options.params;Object.keys(t).forEach((i=>{null==e[i]&&(e[i]=t[i])}))}}},$6="void",W6=new G6($6),K6=class{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Iy,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach(((t,i)=>{t.forEach((t=>w5(e,i,void 0,t)))})),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart((()=>t.triggerCallback("start"))),e.onDone((()=>this.finish())),e.onDestroy((()=>this.destroy()))}_queueEvent(e,t){b5(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function j6(e){return e&&1===e.nodeType}function U6(e,t){let i=e.style.display;return e.style.display=t??"none",i}function q6(e,t,i,n,r){let s=[];i.forEach((e=>s.push(U6(e))));let o=[];n.forEach(((i,n)=>{let s=new Map;i.forEach((e=>{let i=t.computeStyle(n,e,r);s.set(e,i),(!i||0==i.length)&&(n[z6]=B6,o.push(n))})),e.set(n,s)}));let a=0;return i.forEach((e=>U6(e,s[a++]))),o}function Y6(e,t){let i=new Map;if(e.forEach((e=>i.set(e,[]))),0==t.length)return i;let n=new Set(t),r=new Map;function s(e){if(!e)return 1;let t=r.get(e);if(t)return t;let o=e.parentNode;return t=i.has(o)?o:n.has(o)?1:s(o),r.set(e,t),t}return t.forEach((e=>{let t=s(e);1!==t&&i.get(t).push(e)})),i}function X6(e,t){e.classList?.add(t)}function Z6(e,t){e.classList?.remove(t)}function Q6(e,t,i){x5(i).onDone((()=>e.processLeaveNode(t)))}function J6(e,t){for(let i=0;i<e.length;i++){let n=e[i];n instanceof Ty?J6(n.players,t):t.push(n)}}function e8(e,t,i){let n=i.get(e);if(!n)return!1;let r=t.get(e);return r?n.forEach((e=>r.add(e))):t.set(e,n),i.delete(e),!0}var t8=class{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach((t=>{t.players.forEach((t=>{t.queued&&e.push(t)}))})),e}createNamespace(e,t){let i=new class{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,X6(t,this._hostClassName)}listen(e,t,i,n){if(!this._triggers.has(t))throw new qi(3302,!1);if(null==i||0==i.length)throw new qi(3303,!1);if(!function(e){return"start"==e||"done"==e}(i))throw new qi(3400,!1);let r=b5(this._elementListeners,e,[]),s={name:t,phase:i,callback:n};r.push(s);let o=b5(this._engine.statesByElement,e,new Map);return o.has(t)||(X6(e,N5),X6(e,N5+"-"+t),o.set(t,W6)),()=>{this._engine.afterFlush((()=>{let e=r.indexOf(s);e>=0&&r.splice(e,1),this._triggers.has(t)||o.delete(t)}))}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw new qi(3401,!1);return t}trigger(e,t,i,n=!0){let r=this._getTrigger(t),s=new K6(this.id,t,e),o=this._engine.statesByElement.get(e);o||(X6(e,N5),X6(e,N5+"-"+t),this._engine.statesByElement.set(e,o=new Map));let a=o.get(t),l=new G6(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o.set(t,l),a||(a=W6),l.value!==$6&&a.value===l.value){if(!function(e,t){let i=Object.keys(e),n=Object.keys(t);if(i.length!=n.length)return!1;for(let n=0;n<i.length;n++){let r=i[n];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(a.params,l.params)){let t=[],i=r.matchStyles(a.value,a.params,t),n=r.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush((()=>{q5(e,i),U5(e,n)}))}return}let d=b5(this._engine.playersByElement,e,[]);d.forEach((e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()}));let c=r.matchTransition(a.value,l.value,e,l.params),h=!1;if(!c){if(!n)return;c=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:c,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(X6(e,V6),s.onStart((()=>{Z6(e,V6)}))),s.onDone((()=>{let t=this.players.indexOf(s);t>=0&&this.players.splice(t,1);let i=this._engine.playersByElement.get(e);if(i){let e=i.indexOf(s);e>=0&&i.splice(e,1)}})),this.players.push(s),d.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach((t=>t.delete(e))),this._elementListeners.forEach(((t,i)=>{this._elementListeners.set(i,t.filter((t=>t.name!=e)))}))}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach((e=>e.destroy())),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,L5,!0);i.forEach((e=>{if(e[z6])return;let i=this._engine.fetchNamespacesByElement(e);i.size?i.forEach((i=>i.triggerLeaveAnimation(e,t,!1,!0))):this.clearElementCache(e)})),this._engine.afterFlushAnimationsDone((()=>i.forEach((e=>this.clearElementCache(e)))))}triggerLeaveAnimation(e,t,i,n){let r=this._engine.statesByElement.get(e),s=new Map;if(r){let o=[];if(r.forEach(((t,i)=>{if(s.set(i,t.value),this._triggers.has(i)){let t=this.trigger(e,i,$6,n);t&&o.push(t)}})),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&x5(o).onDone((()=>this._engine.processLeaveNode(e))),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let n=new Set;t.forEach((t=>{let r=t.name;if(n.has(r))return;n.add(r);let s=this._triggers.get(r).fallbackTransition,o=i.get(r)||W6,a=new G6($6),l=new K6(this.id,r,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:r,transition:s,fromState:o,toState:a,player:l,isFallbackTransition:!0})}))}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let n=!1;if(i.totalAnimations){let t=i.players.length?i.playersByQueriedElement.get(e):[];if(t&&t.length)n=!0;else{let t=e;for(;t=t.parentNode;)if(i.statesByElement.get(t)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(e),n)i.markElementAsRemoved(this.id,e,!1,t);else{let n=e[z6];(!n||n===H6)&&(i.afterFlush((()=>this.clearElementCache(e))),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){X6(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach((i=>{let n=i.player;if(n.destroyed)return;let r=i.element,s=this._elementListeners.get(r);s&&s.forEach((t=>{if(t.name==i.triggerName){let n=S5(r,i.triggerName,i.fromState.value,i.toState.value);n._data=e,w5(i.player,t.phase,n,t.callback)}})),n.markedForDestroy?this._engine.afterFlush((()=>{n.destroy()})):t.push(i)})),this._queue=[],t.sort(((e,t)=>{let i=e.transition.ast.depCount,n=t.transition.ast.depCount;return 0==i||0==n?i-n:this._engine.driver.containsElement(e.element,t.element)?1:-1}))}destroy(e){this.players.forEach((e=>e.destroy())),this._signalRemovalForInnerTriggers(this.hostElement,e)}}(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,n=this.namespacesByHostElement;if(i.length-1>=0){let r=!1,s=this.driver.getParentElement(t);for(;s;){let t=n.get(s);if(t){let n=i.indexOf(t);i.splice(n+1,0,e),r=!0;break}s=this.driver.getParentElement(s)}r||i.unshift(e)}else i.push(e);return n.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let n=this._namespaceLookup[e];n&&n.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush((()=>{})),this.afterFlushAnimationsDone((()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let n=this._namespaceList.indexOf(i);n>=0&&this._namespaceList.splice(n,1),i.destroy(t),delete this._namespaceLookup[e]})))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i)for(let e of i.values())if(e.namespaceId){let i=this._fetchNamespace(e.namespaceId);i&&t.add(i)}return t}trigger(e,t,i,n){if(j6(t)){let r=this._fetchNamespace(e);if(r)return r.trigger(t,i,n),!0}return!1}insertNode(e,t,i,n){if(!j6(t))return;let r=t[z6];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){let n=this._fetchNamespace(e);n&&n.insertNode(t,i)}n&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),X6(e,N6)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Z6(e,N6))}removeNode(e,t,i){if(j6(t)){let n=e?this._fetchNamespace(e):null;n?n.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let r=this.namespacesByHostElement.get(t);r&&r.id!==e&&r.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,n,r){this.collectedLeaveElements.push(t),t[z6]={namespaceId:e,setForRemoval:n,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:r}}listen(e,t,i,n,r){return j6(t)?this._fetchNamespace(e).listen(t,i,n,r):()=>{}}_buildInstruction(e,t,i,n,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,n,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,L5,!0);t.forEach((e=>this.destroyActiveAnimationsForElement(e))),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,B5,!0),t.forEach((e=>this.finishActiveQueriedAnimationOnElement(e))))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach((e=>{e.queued?e.markedForDestroy=!0:e.destroy()}))}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach((e=>e.finish()))}whenRenderingDone(){return new Promise((e=>{if(this.players.length)return x5(this.players).onDone((()=>e()));e()}))}processLeaveNode(e){let t=e[z6];if(t&&t.setForRemoval){if(e[z6]=H6,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(N6)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((e=>{this.markElementAsDisabled(e,!1)}))}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach(((e,t)=>this._balanceNamespaceList(e,t))),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let e=0;e<this.collectedEnterElements.length;e++)X6(this.collectedEnterElements[e],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let e=0;e<i.length;e++)i[e]()}}else for(let e=0;e<this.collectedLeaveElements.length;e++){let t=this.collectedLeaveElements[e];this.processLeaveNode(t)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((e=>e())),this._flushFns=[],this._whenQuietFns.length){let e=this._whenQuietFns;this._whenQuietFns=[],t.length?x5(t).onDone((()=>{e.forEach((e=>e()))})):e.forEach((e=>e()))}}reportError(e){throw new qi(3402,!1)}_flushAnimations(e,t){let i=new y6,n=[],r=new Map,s=[],o=new Map,a=new Map,l=new Map,d=new Set;this.disabledNodes.forEach((e=>{d.add(e);let t=this.driver.query(e,".ng-animate-queued",!0);for(let e=0;e<t.length;e++)d.add(t[e])}));let c=this.bodyNode,h=Array.from(this.statesByElement.keys()),u=Y6(h,this.collectedEnterElements),g=new Map,p=0;u.forEach(((e,t)=>{let i=M5+p++;g.set(t,i),e.forEach((e=>X6(e,i)))}));let m=[],f=new Set,y=new Set;for(let e=0;e<this.collectedLeaveElements.length;e++){let t=this.collectedLeaveElements[e],i=t[z6];i&&i.setForRemoval&&(m.push(t),f.add(t),i.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach((e=>f.add(e))):y.add(t))}let v=new Map,x=Y6(h,Array.from(f));x.forEach(((e,t)=>{let i=V5+p++;v.set(t,i),e.forEach((e=>X6(e,i)))})),e.push((()=>{u.forEach(((e,t)=>{let i=g.get(t);e.forEach((e=>Z6(e,i)))})),x.forEach(((e,t)=>{let i=v.get(t);e.forEach((e=>Z6(e,i)))})),m.forEach((e=>{this.processLeaveNode(e)}))}));let _=[],w=[];for(let e=this._namespaceList.length-1;e>=0;e--)this._namespaceList[e].drainQueuedTransitions(t).forEach((e=>{let t=e.player,r=e.element;if(_.push(t),this.collectedEnterElements.length){let i=r[z6];if(i&&i.setForMove){if(i.previousTriggersValues&&i.previousTriggersValues.has(e.triggerName)){let t=i.previousTriggersValues.get(e.triggerName),n=this.statesByElement.get(e.element);if(n&&n.has(e.triggerName)){let i=n.get(e.triggerName);i.value=t,n.set(e.triggerName,i)}}return void t.destroy()}}let d=!c||!this.driver.containsElement(c,r),h=v.get(r),u=g.get(r),p=this._buildInstruction(e,i,u,h,d);if(p.errors&&p.errors.length)return void w.push(p);if(d)return t.onStart((()=>q5(r,p.fromStyles))),t.onDestroy((()=>U5(r,p.toStyles))),void n.push(t);if(e.isFallbackTransition)return t.onStart((()=>q5(r,p.fromStyles))),t.onDestroy((()=>U5(r,p.toStyles))),void n.push(t);let m=[];p.timelines.forEach((e=>{e.stretchStartingKeyframe=!0,this.disabledNodes.has(e.element)||m.push(e)})),p.timelines=m,i.append(r,p.timelines);let f={instruction:p,player:t,element:r};s.push(f),p.queriedElements.forEach((e=>b5(o,e,[]).push(t))),p.preStyleProps.forEach(((e,t)=>{if(e.size){let i=a.get(t);i||a.set(t,i=new Set),e.forEach(((e,t)=>i.add(t)))}})),p.postStyleProps.forEach(((e,t)=>{let i=l.get(t);i||l.set(t,i=new Set),e.forEach(((e,t)=>i.add(t)))}))}));if(w.length){let e=[];w.forEach((t=>{e.push((t.triggerName,t.errors,new qi(3505,!1)))})),_.forEach((e=>e.destroy())),this.reportError(e)}let C=new Map,S=new Map;s.forEach((e=>{let t=e.element;i.has(t)&&(S.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,C))})),n.forEach((e=>{let t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((e=>{b5(C,t,[]).push(e),e.destroy()}))}));let b=m.filter((e=>e8(e,a,l))),D=new Map;q6(D,this.driver,y,l,vy).forEach((e=>{e8(e,a,l)&&b.push(e)}));let E=new Map;u.forEach(((e,t)=>{q6(E,this.driver,new Set(e),a,"!")})),b.forEach((e=>{let t=D.get(e),i=E.get(e);D.set(e,new Map([...t?.entries()??[],...i?.entries()??[]]))}));let I=[],T=[],A={};s.forEach((e=>{let{element:t,player:s,instruction:o}=e;if(i.has(t)){if(d.has(t))return s.onDestroy((()=>U5(t,o.toStyles))),s.disabled=!0,s.overrideTotalTime(o.totalTime),void n.push(s);let e=A;if(S.size>1){let i=t,n=[];for(;i=i.parentNode;){let t=S.get(i);if(t){e=t;break}n.push(i)}n.forEach((t=>S.set(t,e)))}let i=this._buildAnimation(s.namespaceId,o,C,r,E,D);if(s.setRealPlayer(i),e===A)I.push(s);else{let t=this.playersByElement.get(e);t&&t.length&&(s.parentPlayer=x5(t)),n.push(s)}}else q5(t,o.fromStyles),s.onDestroy((()=>U5(t,o.toStyles))),T.push(s),d.has(t)&&n.push(s)})),T.forEach((e=>{let t=r.get(e.element);if(t&&t.length){let i=x5(t);e.setRealPlayer(i)}})),n.forEach((e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(let e=0;e<m.length;e++){let t=m[e],i=t[z6];if(Z6(t,V5),i&&i.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,B5,!0);for(let e=0;e<i.length;e++){let t=o.get(i[e]);t&&t.length&&n.push(...t)}}let r=n.filter((e=>!e.destroyed));r.length?Q6(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach((e=>{this.players.push(e),e.onDone((()=>{e.destroy();let t=this.players.indexOf(e);this.players.splice(t,1)})),e.play()})),I}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,n,r){let s=[];if(t){let t=this.playersByQueriedElement.get(e);t&&(s=t)}else{let t=this.playersByElement.get(e);if(t){let e=!r||r==$6;t.forEach((t=>{t.queued||!e&&t.triggerName!=n||s.push(t)}))}}return(i||n)&&(s=s.filter((e=>!(i&&i!=e.namespaceId||n&&n!=e.triggerName)))),s}_beforeAnimationBuild(e,t,i){let n=t.triggerName,r=t.element,s=t.isRemovalTransition?void 0:e,o=t.isRemovalTransition?void 0:n;for(let e of t.timelines){let n=e.element,a=n!==r,l=b5(i,n,[]);this._getPreviousPlayers(n,a,s,o,t.toState).forEach((e=>{let t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)}))}q5(r,t.fromStyles)}_buildAnimation(e,t,i,n,r,s){let o=t.triggerName,a=t.element,l=[],d=new Set,c=new Set,h=t.timelines.map((t=>{let h=t.element;d.add(h);let u=h[z6];if(u&&u.removedBeforeQueried)return new Iy(t.duration,t.delay);let g=h!==a,p=function(e){let t=[];return J6(e,t),t}((i.get(h)||L6).map((e=>e.getRealPlayer()))).filter((e=>{let t=e;return!!t.element&&t.element===h})),m=r.get(h),f=s.get(h),y=_5(this._normalizer,t.keyframes,m,f),v=this._buildPlayer(t,y,p);if(t.subTimeline&&n&&c.add(h),g){let t=new K6(e,o,h);t.setRealPlayer(v),l.push(t)}return v}));l.forEach((e=>{b5(this.playersByQueriedElement,e.element,[]).push(e),e.onDone((()=>function(e,t,i){let n=e.get(t);if(n){if(n.length){let e=n.indexOf(i);n.splice(e,1)}0==n.length&&e.delete(t)}return n}(this.playersByQueriedElement,e.element,e)))})),d.forEach((e=>X6(e,H5)));let u=x5(h);return u.onDestroy((()=>{d.forEach((e=>Z6(e,H5))),U5(a,t.toStyles)})),c.forEach((e=>{b5(n,e,[]).push(u)})),u}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Iy(e.duration,e.delay)}}(e,t,i),this._timelineEngine=new class{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let i=[],n=h6(this._driver,t,i,[]);if(i.length)throw new qi(3503,!1);this._animations.set(e,n)}_buildPlayer(e,t,i){let n=e.element,r=_5(this._normalizer,e.keyframes,t,i);return this._driver.animate(n,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let n,r=[],s=this._animations.get(e),o=new Map;if(s?(n=_6(this._driver,t,s,M5,V5,new Map,new Map,i,M6,r),n.forEach((e=>{let t=b5(o,e.element,new Map);e.postStyleProps.forEach((e=>t.set(e,null)))}))):(r.push(new qi(3300,!1)),n=[]),r.length)throw new qi(3504,!1);o.forEach(((e,t)=>{e.forEach(((i,n)=>{e.set(n,this._driver.computeStyle(t,n,vy))}))}));let a=x5(n.map((e=>{let t=o.get(e.element);return this._buildPlayer(e,new Map,t)})));return this._playersById.set(e,a),a.onDestroy((()=>this.destroy(e))),this.players.push(a),a}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw new qi(3301,!1);return t}listen(e,t,i,n){let r=S5(t,"","","");return w5(this._getPlayer(e),i,r,n),()=>{}}command(e,t,i,n){if("register"==i)return void this.register(e,n[0]);if("create"==i){let i=n[0]||{};return void this.create(e,t,i)}let r=this._getPlayer(e);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(e)}}}(e,t,i),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,i,n,r){let s=e+"-"+n,o=this._triggerCache[s];if(!o){let e=[],t=[],i=h6(this._driver,r,e,t);if(e.length)throw new qi(3404,!1);t.length,o=function(e,t,i){return new class{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach((e=>{let t=e.options&&e.options.params||{};this.states.set(e.name,new class{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,n=W5(this.defaultParams);return Object.keys(e).forEach((t=>{let i=e[t];null!==i&&(n[t]=i)})),this.styles.styles.forEach((e=>{"string"!=typeof e&&e.forEach(((e,r)=>{e&&(e=Q5(e,n,t));let s=this.normalizer.normalizePropertyName(r,t);e=this.normalizer.normalizeStyleValue(r,s,e,t),i.set(r,e)}))})),i}}(e.style,t,i))})),P6(this.states,"true","1"),P6(this.states,"false","0"),t.transitions.forEach((t=>{this.transitionFactories.push(new O6(e,t,this.states))})),this.fallbackTransition=function(e,t,i){return new O6(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},t)}(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,n){return this.transitionFactories.find((r=>r.match(e,t,i,n)))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}(e,t,i)}(n,i,this._normalizer),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,n,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,n){this._transitionEngine.insertNode(e,t,i,n)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,n){if("@"==i.charAt(0)){let[e,r]=D5(i),s=n;this._timelineEngine.command(e,t,r,s)}else this._transitionEngine.trigger(e,t,i,n)}listen(e,t,i,n,r){if("@"==i.charAt(0)){let[e,n]=D5(i);return this._timelineEngine.listen(e,t,n,r)}return this._transitionEngine.listen(e,t,i,n,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}},i8=(()=>{let e=class e{constructor(t,i,n){this._element=t,this._startStyles=i,this._endStyles=n,this._state=0;let r=e.initialStylesByElement.get(t);r||e.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&U5(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(U5(this._element,this._initialStyles),this._endStyles&&(U5(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(q5(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(q5(this._element,this._endStyles),this._endStyles=null),U5(this._element,this._initialStyles),this._state=3)}};return e.initialStylesByElement=new WeakMap,e})();function n8(e){let t=null;return e.forEach(((e,i)=>{(function(e){return"display"===e||"position"===e})(i)&&(t=t||new Map,t.set(i,e))})),t}var r8=class{constructor(e,t,i,n){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach((e=>e())),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",(()=>this._onFinish()))}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach((e=>{t.push(Object.fromEntries(e))})),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((e=>e())),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((e=>e())),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach(((t,i)=>{"offset"!==i&&e.set(i,this._finished?t:n6(this.element,i))})),this.currentSnapshot=e}triggerCallback(e){let t="start"===e?this._onStartFns:this._onDoneFns;t.forEach((e=>e())),t.length=0}},s8=(()=>{let e=class extends fy{constructor(e,t){super(),this._nextAnimationId=0;let i={id:"0",encapsulation:Tn.None,styles:[],data:{animation:[]}};this._renderer=e.createRenderer(t.body,i)}build(e){let t=this._nextAnimationId.toString();this._nextAnimationId++;let i=Array.isArray(e)?wy(e):e;return l8(this._renderer,null,t,"register",[i]),new o8(t,this._renderer)}};return e.fac=function(t){return new(t||e)(_n(Sd),_n(Hp))},e.prov=Zi({token:e,factory:e.fac}),e})(),o8=class extends yy{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new a8(this._id,e,t||{},this._renderer)}},a8=class{constructor(e,t,i,n){this.id=e,this.element=t,this._renderer=n,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return l8(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}};function l8(e,t,i,n,r){return e.setProperty(t,`@@${i}:${n}`,r)}var d8,c8="@",h8="@.disabled",u8=(()=>{let e=class{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(e,t)=>{let i=t?.parentNode(e);i&&t.removeChild(i,e)}}createRenderer(e,t){let i=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(i);if(!e){let t=()=>this._rendererCache.delete(i);e=new g8("",i,this.engine,t),this._rendererCache.set(i,e)}return e}let n=t.id,r=t.id+"-"+this._currentId;this._currentId++,this.engine.register(r,e);let s=t=>{Array.isArray(t)?t.forEach(s):this.engine.registerTrigger(n,r,e,t.name,t)};return t.data.animation.forEach(s),new p8(this,r,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask((()=>{this._microtaskId++}))}scheduleListenerCallback(e,t,i){e>=0&&e<this._microtaskId?this._zone.run((()=>t(i))):(0==this._animationCallbacksBuffer.length&&queueMicrotask((()=>{this._zone.run((()=>{this._animationCallbacksBuffer.forEach((e=>{let[t,i]=e;t(i)})),this._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)})),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};return e.fac=function(t){return new(t||e)(_n(Sd),_n(t8),_n(Vd))},e.prov=Zi({token:e,factory:e.fac}),e})(),g8=class{constructor(e,t,i,n){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=n}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone((()=>{queueMicrotask((()=>{this.delegate.destroy()}))})),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,n=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,n)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,n){this.delegate.setAttribute(e,t,i,n)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,n){this.delegate.setStyle(e,t,i,n)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==c8&&t==h8?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},p8=class extends g8{constructor(e,t,i,n,r){super(t,i,n,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==c8?"."==t.charAt(1)&&t==h8?(i=void 0===i||!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==c8){let n=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),r=t.slice(1),s="";return r.charAt(0)!=c8&&([r,s]=function(e){let t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(r)),this.engine.listen(this.namespaceId,n,r,s,(e=>{let t=e._data||-1;this.factory.scheduleListenerCallback(t,i,e)}))}return this.delegate.listen(e,t,i)}},m8=(()=>{let e=class extends t8{constructor(e,t,i,n){super(e.body,t,i)}ngOnDestroy(){this.flush()}};return e.fac=function(t){return new(t||e)(_n(Hp),_n(F5),_n(I6),_n(hp))},e.prov=Zi({token:e,factory:e.fac}),e})(),f8=[{provide:fy,useClass:s8},{provide:I6,useFactory:function(){return new A6}},{provide:t8,useClass:m8},{provide:Sd,useFactory:function(e,t,i){return new u8(e,t,i)},deps:[Yf,t8,Vd]}],y8=[{provide:F5,useFactory:()=>new class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return R5(e,t)}getParentElement(e){return I5(e)}query(e,t,i){return k5(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,n,r,s=[]){let o={duration:i,delay:n,fill:0==n?"both":"forwards"};r&&(o.easing=r);let a=new Map,l=s.filter((e=>e instanceof r8));(function(e,t){return 0===e||0===t})(i,n)&&l.forEach((e=>{e.currentSnapshot.forEach(((e,t)=>a.set(t,e)))}));let d=function(e){return e.length?e[0]instanceof Map?e:e.map((e=>K5(e))):[]}(t).map((e=>j5(e)));d=function(e,t,i){if(i.size&&t.length){let n=t[0],r=[];if(i.forEach(((e,t)=>{n.has(t)||r.push(t),n.set(t,e)})),r.length)for(let i=1;i<t.length;i++){let n=t[i];r.forEach((t=>n.set(t,n6(e,t))))}}return t}(e,d,a);let c=function(e,t){let i=null,n=null;return Array.isArray(t)&&t.length?(i=n8(t[0]),t.length>1&&(n=n8(t[t.length-1]))):t instanceof Map&&(i=n8(t)),i||n?new i8(e,i,n):null}(e,d);return new r8(e,d,o,c)}}},{provide:ud,useValue:"BrowserAnimations"},...f8],v8=[{provide:F5,useClass:O5},{provide:ud,useValue:"NoopAnimations"},...f8],x8=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?v8:y8}}};return e.fac=function(t){return new(t||e)},e.mod=rr({type:e}),e.inj=Qi({providers:y8,imports:[hy]}),e})(),_8=(()=>{let e=class extends SJ{constructor(e,t,i,n){super(e.grid,t,i,n),this.api=e,this.viewRef=t,this.envInjector=i,this.injector=n,this.stateParsed=new Pd}applyState(e,t=[]){0===t.length&&(t=null),super.setStateInternal(e,t)}applyStateFromString(e,t=[]){0===t.length&&(t=null);let i=JSON.parse(e);this.stateParsed.emit(i),super.setStateInternal(i,t)}getState(e=[]){return 0===e.length&&(e=null),super.getStateInternal(!1,e)}getStateAsString(e=[]){return 0===e.length&&(e=null),super.getStateInternal(!0,e)}stringifyCallback(e,t){return"searchVal"===e&&t instanceof Set?Array.from(t):"externalObject"!==e?t:void 0}};return e.fac=function(t){return new(t||e)(nc(uk),nc(Cg),nc(id),nc(Rd))},e.cmp=tr({type:e,selectors:[["igx-grid-state"]],outputs:{stateParsed:"stateParsed"},standalone:!0,features:[th,Wu],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),w8=[{component:Bk,parents:[ZX,L2,y5,U2],contentQueries:[{property:"actionButtons",childType:Ok,isQueryList:!0}],additionalProperties:[],methods:["show","hide"],boolProps:["hidden"]},{component:aM,parents:[ZX,L2,y5,wJ,U2,cM,gM],contentQueries:[],additionalProperties:[{name:"selected",writable:!0},{name:"index"},{name:"defaultMinWidth"},{name:"cells"},{name:"visibleIndex"},{name:"columnGroup"},{name:"columnLayout"},{name:"columnLayoutChild"},{name:"level"},{name:"gridRowSpan"},{name:"gridColumnSpan"},{name:"filteringExpressionsTree"},{name:"parent",writable:!0},{name:"columnChildren",writable:!0},{name:"grid",writable:!0},{name:"topLevelParent"},{name:"headerCell"},{name:"filterCell"},{name:"headerGroup"}],methods:["pin","unpin","move","autosize"],templateProps:["summaryTemplate","bodyTemplate","headerTemplate","inlineEditorTemplate","errorTemplate","filterCellTemplate"],numericProps:["rowEnd","colEnd","rowStart","colStart"],boolProps:["sortable","selectable","groupable","editable","filterable","resizable","autosizeHeader","hasSummary","hidden","disableHiding","disablePinning","movable","filteringIgnoreCase","sortingIgnoreCase","searchable","pinned","visibleWhenCollapsed"]},{component:cM,parents:[ZX,L2,y5,cM,U2],contentQueries:[{property:"children",childType:aM,isQueryList:!0}],additionalProperties:[{name:"cells"},{name:"selected",writable:!0},{name:"columnGroup"},{name:"columnLayout"},{name:"index"},{name:"defaultMinWidth"},{name:"visibleIndex"},{name:"columnLayoutChild"},{name:"level"},{name:"gridRowSpan"},{name:"gridColumnSpan"},{name:"filteringExpressionsTree"},{name:"parent",writable:!0},{name:"columnChildren",writable:!0},{name:"grid",writable:!0},{name:"topLevelParent"},{name:"headerCell"},{name:"filterCell"},{name:"headerGroup"}],methods:["pin","unpin","move","autosize"],templateProps:["collapsibleIndicatorTemplate","summaryTemplate","headerTemplate","errorTemplate","filterCellTemplate"],numericProps:["rowEnd","colEnd","rowStart","colStart"],boolProps:["collapsible","expanded","searchable","hidden","sortable","groupable","editable","filterable","resizable","autosizeHeader","hasSummary","disableHiding","disablePinning","movable","filteringIgnoreCase","sortingIgnoreCase","pinned","visibleWhenCollapsed"],provideAs:aM},{component:gM,parents:[ZX],contentQueries:[{property:"children",childType:aM,isQueryList:!0}],additionalProperties:[{name:"columnLayout"},{name:"visibleIndex"},{name:"cells"},{name:"selected",writable:!0},{name:"columnGroup"},{name:"index"},{name:"defaultMinWidth"},{name:"columnLayoutChild"},{name:"level"},{name:"gridRowSpan"},{name:"gridColumnSpan"},{name:"filteringExpressionsTree"},{name:"parent",writable:!0},{name:"columnChildren",writable:!0},{name:"grid",writable:!0},{name:"topLevelParent"},{name:"headerCell"},{name:"filterCell"},{name:"headerGroup"}],methods:["pin","unpin","move","autosize"],templateProps:["collapsibleIndicatorTemplate","summaryTemplate","headerTemplate","errorTemplate","filterCellTemplate"],numericProps:["rowEnd","colEnd","rowStart","colStart"],boolProps:["hidden","collapsible","expanded","searchable","sortable","groupable","editable","filterable","resizable","autosizeHeader","hasSummary","disableHiding","disablePinning","movable","filteringIgnoreCase","sortingIgnoreCase","pinned","visibleWhenCollapsed"],provideAs:aM},{component:ZX,parents:[],contentQueries:[{property:"columnList",childType:aM,isQueryList:!0,descendants:!0},{property:"actionStripComponents",childType:Bk,isQueryList:!0},{property:"toolbar",childType:yK,isQueryList:!0},{property:"paginationComponents",childType:oj,isQueryList:!0}],additionalProperties:[{name:"groupsRecords"},{name:"selectedCells"},{name:"shouldGenerate",writable:!0},{name:"rowList"},{name:"dataRowList"},{name:"hiddenColumnsCount"},{name:"pinnedColumnsCount"},{name:"transactions"},{name:"lastSearchInfo"},{name:"filteredData"},{name:"filteredSortedData"},{name:"validation"},{name:"gridAPI"},{name:"cdr"},{name:"navigation",writable:!0},{name:"virtualizationState"},{name:"nativeElement"},{name:"defaultRowHeight"},{name:"defaultHeaderGroupMinWidth"},{name:"pinnedColumns"},{name:"pinnedRows"},{name:"unpinnedColumns"},{name:"visibleColumns"},{name:"dataView"}],methods:["groupBy","clearGrouping","isExpandedGroup","toggleGroup","selectRowsInGroup","deselectRowsInGroup","fullyExpandGroup","toggleAllGroupRows","getSelectedData","getRowByIndex","getRowByKey","getCellByColumn","getCellByKey","pinRow","unpinRow","isRecordPinnedByIndex","toggleColumnVisibility","expandAll","collapseAll","expandRow","collapseRow","toggleRow","getHeaderGroupWidth","getColumnByName","getColumnByVisibleIndex","recalculateAutoSizes","moveColumn","markForCheck","addRow","deleteRow","updateCell","updateRow","getRowData","sort","filter","filterGlobal","enableSummaries","disableSummaries","clearFilter","clearSort","pinColumn","unpinColumn","reflow","findNext","findPrev","refreshSearch","clearSearch","getPinnedWidth","selectRows","deselectRows","selectAllRows","deselectAllRows","clearCellSelection","selectRange","getSelectedRanges","selectedColumns","selectColumns","deselectColumns","deselectAllColumns","selectAllColumns","getSelectedColumnsData","navigateTo","getNextCell","getPreviousCell","openAdvancedFilteringDialog","closeAdvancedFilteringDialog","endEdit","beginAddRowById","beginAddRowByIndex"],templateProps:["dropAreaTemplate","detailTemplate","groupByRowSelectorTemplate","groupRowTemplate","emptyGridTemplate","addRowEmptyTemplate","loadingGridTemplate","dragGhostCustomTemplate","rowEditTextTemplate","rowAddTextTemplate","rowEditActionsTemplate","rowExpandedIndicatorTemplate","rowCollapsedIndicatorTemplate","headerExpandedIndicatorTemplate","headerCollapsedIndicatorTemplate","excelStyleHeaderIconTemplate","sortAscendingHeaderIconTemplate","sortDescendingHeaderIconTemplate","sortHeaderIconTemplate","headSelectorTemplate","rowSelectorTemplate","dragIndicatorIconTemplate"],numericProps:["totalItemCount","snackbarDisplayTime","summaryRowHeight","rowHeight","totalRecords"],boolProps:["groupsExpanded","hideGroupedColumns","showGroupArea","autoGenerate","moving","hideRowSelectors","rowDraggable","rowEditable","isLoading","allowFiltering","allowAdvancedFiltering","showSummaryOnCollapse","batchEditing","selectRowOnClick"]},{component:iO,parents:[Bk],contentQueries:[],additionalProperties:[{name:"hasChildren"}],methods:["startEdit"],boolProps:["addRow","editRow","deleteRow","addChild","asMenuItems"],provideAs:Ok},{component:lO,parents:[Bk],contentQueries:[],additionalProperties:[],methods:["pin","unpin","scrollToRow"],boolProps:["asMenuItems"],provideAs:Ok},{component:_8,parents:[ZX,L2,y5,wJ],contentQueries:[],additionalProperties:[{name:"grid",writable:!0}],methods:["applyState","applyStateFromString","getState","getStateAsString"]},{component:rK,parents:[yK],contentQueries:[],additionalProperties:[],methods:[]},{component:dK,parents:[yK],contentQueries:[],additionalProperties:[{name:"grid"}],methods:[]},{component:yK,parents:[ZX,L2,y5,wJ],contentQueries:[{property:"hasActions",childType:rK}],additionalProperties:[{name:"nativeElement"}],methods:[],boolProps:["showProgress"],provideAs:oK},{component:FJ,parents:[yK],contentQueries:[],additionalProperties:[{name:"isExporting",writable:!0},{name:"grid"}],methods:["export"],boolProps:["exportCSV","exportExcel"]},{component:MJ,parents:[yK],contentQueries:[],additionalProperties:[{name:"grid"}],methods:["checkAll","uncheckAll"],numericProps:["indentetion"],boolProps:["hideFilter"]},{component:NJ,parents:[yK],contentQueries:[],additionalProperties:[{name:"grid"}],methods:["checkAll","uncheckAll"],numericProps:["indentetion"],boolProps:["hideFilter"]},{component:nK,parents:[yK],contentQueries:[],additionalProperties:[],methods:[]},{component:y5,parents:[],contentQueries:[{property:"childLayoutList",childType:U2,isQueryList:!0},{property:"allLayoutList",childType:U2,isQueryList:!0,descendants:!0},{property:"paginatorList",childType:oj,isQueryList:!0,descendants:!0},{property:"actionStripComponents",childType:Bk,isQueryList:!0},{property:"columnList",childType:aM,isQueryList:!0,descendants:!0},{property:"toolbar",childType:yK,isQueryList:!0},{property:"paginationComponents",childType:oj,isQueryList:!0}],additionalProperties:[{name:"foreignKey"},{name:"selectedCells"},{name:"gridAPI",writable:!0},{name:"shouldGenerate",writable:!0},{name:"rowList"},{name:"dataRowList"},{name:"hiddenColumnsCount"},{name:"pinnedColumnsCount"},{name:"transactions"},{name:"lastSearchInfo"},{name:"filteredData"},{name:"filteredSortedData"},{name:"validation"},{name:"cdr"},{name:"navigation",writable:!0},{name:"virtualizationState"},{name:"nativeElement"},{name:"defaultRowHeight"},{name:"defaultHeaderGroupMinWidth"},{name:"pinnedColumns"},{name:"pinnedRows"},{name:"unpinnedColumns"},{name:"visibleColumns"},{name:"dataView"}],methods:["getRowByIndex","getRowByKey","getCellByColumn","getCellByKey","pinRow","unpinRow","getDefaultExpandState","isRecordPinnedByIndex","toggleColumnVisibility","expandAll","collapseAll","expandRow","collapseRow","toggleRow","getHeaderGroupWidth","getColumnByName","getColumnByVisibleIndex","recalculateAutoSizes","moveColumn","markForCheck","addRow","deleteRow","updateCell","updateRow","getRowData","sort","filter","filterGlobal","enableSummaries","disableSummaries","clearFilter","clearSort","pinColumn","unpinColumn","reflow","findNext","findPrev","refreshSearch","clearSearch","getPinnedWidth","selectRows","deselectRows","selectAllRows","deselectAllRows","clearCellSelection","selectRange","getSelectedRanges","getSelectedData","selectedColumns","selectColumns","deselectColumns","deselectAllColumns","selectAllColumns","getSelectedColumnsData","navigateTo","getNextCell","getPreviousCell","openAdvancedFilteringDialog","closeAdvancedFilteringDialog","endEdit","beginAddRowById","beginAddRowByIndex"],templateProps:["emptyGridTemplate","addRowEmptyTemplate","loadingGridTemplate","dragGhostCustomTemplate","rowEditTextTemplate","rowAddTextTemplate","rowEditActionsTemplate","rowExpandedIndicatorTemplate","rowCollapsedIndicatorTemplate","headerExpandedIndicatorTemplate","headerCollapsedIndicatorTemplate","excelStyleHeaderIconTemplate","sortAscendingHeaderIconTemplate","sortDescendingHeaderIconTemplate","sortHeaderIconTemplate","headSelectorTemplate","rowSelectorTemplate","dragIndicatorIconTemplate"],numericProps:["totalItemCount","snackbarDisplayTime","summaryRowHeight","rowHeight","totalRecords"],boolProps:["expandChildren","showExpandAll","autoGenerate","moving","hideRowSelectors","rowDraggable","rowEditable","isLoading","allowFiltering","allowAdvancedFiltering","showSummaryOnCollapse","selectRowOnClick"]},{component:oj,parents:[ZX,L2,y5,wJ],contentQueries:[],additionalProperties:[{name:"totalPages",writable:!0},{name:"isLastPage"},{name:"isFirstPage"},{name:"isFirstPageDisabled"},{name:"isLastPageDisabled"},{name:"nativeElement"}],methods:["nextPage","previousPage","paginate"],numericProps:["page","perPage","totalRecords"]},{component:t0,parents:[],contentQueries:[],additionalProperties:[{name:"animationSettings",writable:!0}],methods:[],boolProps:["columnsExpanded","rowsExpanded","filtersExpanded","valuesExpanded"]},{component:wJ,parents:[],contentQueries:[{property:"columnList",childType:aM,isQueryList:!0,descendants:!0},{property:"toolbar",childType:yK,isQueryList:!0},{property:"paginationComponents",childType:oj,isQueryList:!0}],additionalProperties:[{name:"dimensionsSortingExpressions"},{name:"defaultRowHeight"},{name:"allDimensions"},{name:"rowList"},{name:"dataRowList"},{name:"lastSearchInfo"},{name:"filteredData"},{name:"filteredSortedData"},{name:"validation"},{name:"gridAPI"},{name:"cdr"},{name:"navigation",writable:!0},{name:"virtualizationState"},{name:"nativeElement"},{name:"defaultHeaderGroupMinWidth"},{name:"visibleColumns"},{name:"dataView"}],methods:["notifyDimensionChange","toggleColumn","getColumnGroupExpandState","toggleRowGroup","autoSizeRowDimension","insertDimensionAt","moveDimension","removeDimension","toggleDimension","insertValueAt","moveValue","removeValue","toggleValue","sortDimension","filterDimension","toggleRow","getHeaderGroupWidth","getColumnByName","getColumnByVisibleIndex","recalculateAutoSizes","markForCheck","getRowData","sort","filter","filterGlobal","clearFilter","clearSort","reflow","selectRows","deselectRows","selectAllRows","deselectAllRows","clearCellSelection","selectRange","getSelectedRanges","getSelectedData","selectedColumns","selectColumns","deselectColumns","deselectAllColumns","selectAllColumns","getSelectedColumnsData","navigateTo"],templateProps:["valueChipTemplate","emptyPivotGridTemplate","emptyGridTemplate","loadingGridTemplate","dragGhostCustomTemplate","rowEditTextTemplate","rowAddTextTemplate","rowEditActionsTemplate","rowExpandedIndicatorTemplate","rowCollapsedIndicatorTemplate","headerExpandedIndicatorTemplate","headerCollapsedIndicatorTemplate","excelStyleHeaderIconTemplate","sortAscendingHeaderIconTemplate","sortDescendingHeaderIconTemplate","sortHeaderIconTemplate","headSelectorTemplate","rowSelectorTemplate"],numericProps:["rowHeight"],boolProps:["showPivotConfigurationUI","superCompactMode","defaultExpandState","isLoading","selectRowOnClick"]},{component:U2,parents:[y5,U2],contentQueries:[{property:"children",childType:U2,isQueryList:!0},{property:"childLayoutList",childType:U2,isQueryList:!0},{property:"childColumns",childType:aM,isQueryList:!0},{property:"actionStrips",childType:Bk,isQueryList:!0},{property:"columnList",childType:aM,isQueryList:!0,descendants:!0},{property:"actionStripComponents",childType:Bk,isQueryList:!0}],additionalProperties:[{name:"data"},{name:"rowIslandAPI",writable:!0},{name:"gridAPI",writable:!0},{name:"shouldGenerate",writable:!0},{name:"rowList"},{name:"dataRowList"},{name:"hiddenColumnsCount"},{name:"pinnedColumnsCount"},{name:"transactions"},{name:"lastSearchInfo"},{name:"filteredData"},{name:"filteredSortedData"},{name:"validation"},{name:"cdr"},{name:"navigation",writable:!0},{name:"virtualizationState"},{name:"nativeElement"},{name:"defaultRowHeight"},{name:"defaultHeaderGroupMinWidth"},{name:"pinnedColumns"},{name:"pinnedRows"},{name:"unpinnedColumns"},{name:"visibleColumns"},{name:"dataView"}],methods:["isRecordPinnedByIndex","toggleColumnVisibility","expandAll","collapseAll","expandRow","collapseRow","toggleRow","getHeaderGroupWidth","getColumnByName","getColumnByVisibleIndex","recalculateAutoSizes","moveColumn","markForCheck","addRow","deleteRow","updateCell","updateRow","getRowData","sort","filter","filterGlobal","enableSummaries","disableSummaries","clearFilter","clearSort","pinColumn","unpinColumn","pinRow","unpinRow","findNext","findPrev","refreshSearch","clearSearch","getPinnedWidth","selectRows","deselectRows","selectAllRows","deselectAllRows","clearCellSelection","selectRange","getSelectedRanges","getSelectedData","selectedColumns","selectColumns","deselectColumns","deselectAllColumns","selectAllColumns","getSelectedColumnsData","navigateTo","getNextCell","getPreviousCell","openAdvancedFilteringDialog","closeAdvancedFilteringDialog","endEdit","beginAddRowById","beginAddRowByIndex"],templateProps:["toolbarTemplate","paginatorTemplate","emptyGridTemplate","addRowEmptyTemplate","loadingGridTemplate","dragGhostCustomTemplate","rowEditTextTemplate","rowAddTextTemplate","rowEditActionsTemplate","rowExpandedIndicatorTemplate","rowCollapsedIndicatorTemplate","headerExpandedIndicatorTemplate","headerCollapsedIndicatorTemplate","excelStyleHeaderIconTemplate","sortAscendingHeaderIconTemplate","sortDescendingHeaderIconTemplate","sortHeaderIconTemplate","headSelectorTemplate","rowSelectorTemplate","dragIndicatorIconTemplate"],numericProps:["snackbarDisplayTime","summaryRowHeight","rowHeight","totalRecords"],boolProps:["expandChildren","showExpandAll","autoGenerate","moving","hideRowSelectors","rowDraggable","rowEditable","isLoading","allowFiltering","allowAdvancedFiltering","showSummaryOnCollapse","selectRowOnClick"]},{component:L2,parents:[],contentQueries:[{property:"columnList",childType:aM,isQueryList:!0,descendants:!0},{property:"actionStripComponents",childType:Bk,isQueryList:!0},{property:"toolbar",childType:yK,isQueryList:!0},{property:"paginationComponents",childType:oj,isQueryList:!0}],additionalProperties:[{name:"rootRecords",writable:!0},{name:"records",writable:!0},{name:"processedRootRecords",writable:!0},{name:"processedRecords",writable:!0},{name:"selectedCells"},{name:"shouldGenerate",writable:!0},{name:"rowList"},{name:"dataRowList"},{name:"hiddenColumnsCount"},{name:"pinnedColumnsCount"},{name:"lastSearchInfo"},{name:"filteredData"},{name:"filteredSortedData"},{name:"validation"},{name:"gridAPI"},{name:"cdr"},{name:"navigation",writable:!0},{name:"virtualizationState"},{name:"nativeElement"},{name:"defaultRowHeight"},{name:"defaultHeaderGroupMinWidth"},{name:"pinnedColumns"},{name:"pinnedRows"},{name:"unpinnedColumns"},{name:"visibleColumns"},{name:"dataView"}],methods:["getDefaultExpandState","expandAll","collapseAll","addRow","beginAddRowByIndex","getSelectedData","getRowByIndex","getRowByKey","getCellByColumn","getCellByKey","pinRow","unpinRow","isRecordPinnedByIndex","toggleColumnVisibility","expandRow","collapseRow","toggleRow","getHeaderGroupWidth","getColumnByName","getColumnByVisibleIndex","recalculateAutoSizes","moveColumn","markForCheck","deleteRow","updateCell","updateRow","getRowData","sort","filter","filterGlobal","enableSummaries","disableSummaries","clearFilter","clearSort","pinColumn","unpinColumn","reflow","findNext","findPrev","refreshSearch","clearSearch","getPinnedWidth","selectRows","deselectRows","selectAllRows","deselectAllRows","clearCellSelection","selectRange","getSelectedRanges","selectedColumns","selectColumns","deselectColumns","deselectAllColumns","selectAllColumns","getSelectedColumnsData","navigateTo","getNextCell","getPreviousCell","openAdvancedFilteringDialog","closeAdvancedFilteringDialog","endEdit","beginAddRowById"],templateProps:["rowLoadingIndicatorTemplate","emptyGridTemplate","addRowEmptyTemplate","loadingGridTemplate","dragGhostCustomTemplate","rowEditTextTemplate","rowAddTextTemplate","rowEditActionsTemplate","rowExpandedIndicatorTemplate","rowCollapsedIndicatorTemplate","headerExpandedIndicatorTemplate","headerCollapsedIndicatorTemplate","excelStyleHeaderIconTemplate","sortAscendingHeaderIconTemplate","sortDescendingHeaderIconTemplate","sortHeaderIconTemplate","headSelectorTemplate","rowSelectorTemplate","dragIndicatorIconTemplate"],numericProps:["expansionDepth","snackbarDisplayTime","summaryRowHeight","rowHeight","totalRecords"],boolProps:["cascadeOnDelete","autoGenerate","moving","hideRowSelectors","rowDraggable","rowEditable","isLoading","allowFiltering","allowAdvancedFiltering","showSummaryOnCollapse","batchEditing","selectRowOnClick"]}],C8={schedule(e,t){let i=setTimeout(e,t);return()=>clearTimeout(i)},scheduleBeforeRender(e){if(typeof window>"u")return C8.schedule(e,0);if(typeof window.requestAnimationFrame>"u")return C8.schedule(e,16);let t=window.requestAnimationFrame(e);return()=>window.cancelAnimationFrame(t)}};function S8(e,t,i){let n=i;return function(e){return!!e&&e.nodeType===Node.ELEMENT_NODE}(e)&&t.some(((t,i)=>!("*"===t||!function(e,t){if(!d8){let e=Element.prototype;d8=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}return e.nodeType===Node.ELEMENT_NODE&&d8.call(e,t)}(e,t)||(n=i,0)))),n}var b8=class{constructor(e,t){this.componentFactory=t.get(vd).resolveComponentFactory(e)}create(e){return new D8(this.componentFactory,e)}},D8=class{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new _t(1),this.events=this.eventEmitters.pipe(_i((e=>Yt(...e)))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map((({propName:e})=>e))),this.ngZone=this.injector.get(Vd),this.elementZone=typeof Zone>"u"?null:this.ngZone.run((()=>Zone.current))}connect(e){this.runInZone((()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)}))}disconnect(){this.runInZone((()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=C8.schedule((()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)}),10))}))}getInputValue(e){return this.runInZone((()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e]))}setInputValue(e,t,i){this.runInZone((()=>{i&&(t=i.call(this.componentRef?.instance,t)),null!==this.componentRef?function(e,t){return e===t||e!=e&&t!=t}(t,this.getInputValue(e))&&(void 0!==t||!this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)}))}initializeComponent(e){let t=Rd.create({providers:[],parent:this.injector}),i=function(e,t){let i=e.childNodes,n=t.map((()=>[])),r=-1;t.some(((e,t)=>"*"===e&&(r=t,!0)));for(let e=0,s=i.length;e<s;++e){let s=i[e],o=S8(s,t,r);-1!==o&&n[o].push(s)}return n}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,i,e),this.viewChangeDetectorRef=this.componentRef.injector.get(fp),this.implementsOnChanges=function(e){return"function"==typeof e}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(hp).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach((({propName:e,transform:t})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e),t)})),this.initialInputValues.clear()}initializeOutputs(e){let t=this.componentFactory.outputs.map((({propName:t,templateName:i})=>e.instance[t].pipe(At((e=>({name:i,value:e}))))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;let t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=C8.scheduleBeforeRender((()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()})))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});let i=this.inputChanges[e];if(i)return void(i.currentValue=t);let n=this.unchangedInputs.has(e),r=n?void 0:this.getInputValue(e);this.inputChanges[e]=new ms(r,t,n)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}},E8=class extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}};var I8,T8=class{constructor(e,t){this.componentFactory=t.get(vd).resolveComponentFactory(e)}create(e){return new A8(this.componentFactory,e)}},A8=class{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new _t(1),this.events=this.eventEmitters.pipe(_i((e=>Yt(...e)))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map((({propName:e})=>e))),this.ngZone=this.injector.get(Vd),this.elementZone=typeof Zone>"u"?null:this.ngZone.run((()=>Zone.current))}connect(e){this.runInZone((()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)}))}disconnect(){this.runInZone((()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=R8.schedule((()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)}),10))}))}getInputValue(e){return this.runInZone((()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e]))}setInputValue(e,t){this.runInZone((()=>{null!==this.componentRef&&this.componentRef.instance?function(e,t){return e===t||e!=e&&t!=t}(t,this.getInputValue(e))&&(void 0!==t||!this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)}))}initializeComponent(e){let t=Rd.create({providers:[],parent:this.injector}),i=O8(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,i,e),this.viewChangeDetectorRef=this.componentRef.injector.get(fp),this.implementsOnChanges=k8(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(hp).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach((({propName:e})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e))})),this.initialInputValues.clear()}initializeOutputs(e){let t=this.componentFactory.outputs.map((({propName:t,templateName:i})=>e.instance[t].pipe(At((e=>({name:i,value:e}))))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;let t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=R8.scheduleBeforeRender((()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()})))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});let i=this.inputChanges[e];if(i)return void(i.currentValue=t);let n=this.unchangedInputs.has(e),r=n?void 0:this.getInputValue(e);this.inputChanges[e]=new ms(r,t,n)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}},R8={schedule(e,t){let i=setTimeout(e,t);return()=>clearTimeout(i)},scheduleBeforeRender(e){if(typeof window>"u")return R8.schedule(e,0);if(typeof window.requestAnimationFrame>"u")return R8.schedule(e,16);let t=window.requestAnimationFrame(e);return()=>window.cancelAnimationFrame(t)}};function k8(e){return"function"==typeof e}function O8(e,t){let i=e.childNodes,n=t.map((()=>[])),r=-1;t.some(((e,t)=>"*"===e&&(r=t,!0)));for(let e=0,s=i.length;e<s;++e){let s=i[e],o=F8(s,t,r);-1!==o&&n[o].push(s)}return n}function F8(e,t,i){let n=i;return function(e){return!!e&&e.nodeType===Node.ELEMENT_NODE}(e)&&t.some(((t,i)=>!("*"===t||!function(e,t){if(!I8){let e=Element.prototype;I8=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}return e.nodeType===Node.ELEMENT_NODE&&I8.call(e,t)}(e,t)||(n=i,0)))),n}function P8(e,t){1&e&&Th(0)}var M8=["*"],V8=(()=>{let e=class{get context(){return{$implicit:this.text}}constructor(){this.text="Default input text."}};return e.fac=function(t){return new(t||e)},e.cmp=tr({type:e,selectors:[["app-child-standalone"]],inputs:{text:"text",template:"template"},ngContentSelectors:M8,decls:6,vars:3,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Lh(),Ch(0,"p"),fu(1,"child-standalone's own content"),Sh(),Ch(2,"span"),fu(3),Sh(),Hh(4),yh(5,P8,1,0,"ng-container",0)),2&e&&(tc(3),vu(t.text),tc(2),_h("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.context))},dependencies:[Zm]}),e})(),N8="context",L8="implicit",H8="$implicit",B8=class extends yg{get elementRef(){return this.innerTemplateRef.elementRef}constructor(e,t){super(),this.innerTemplateRef=e,this._templateFunction=t,this._contentContext=new Map}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i=null){e[N8]=e,e[N8]=e,e[L8]=e[H8];let n,r=!!this._templateFunction.___isBridged,s=this.innerTemplateRef.createEmbeddedViewImpl(e,t);if(r){let t=s.rootNodes[0];n=new z8;let i=JK();e.___contentId=i,e.___immediate=!0,e.___root=t,n._id=i,t._id=i,n.root=t,n.templateFunction=this._templateFunction,this._contentContext.set(i,n),this._templateFunction.___onTemplateInit(this._templateFunction,t,n)}r&&s.onDestroy((()=>{this.destroyingBridgedView(n)}));var o=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(s),"context");return Object.defineProperty(s,"context",{set:function(e){e[N8]=e,e[L8]=e[H8],r&&(e.___contentId=n._id,e.___immediate=!0,e.___root=n.root),o.set.call(this,e)},get:function(){return o.get.call(this)}}),s}destroyingBridgedView(e){this._templateFunction.___onTemplateTeardown(this._templateFunction,e.root,e),this._contentContext.delete(e._id)}},z8=class{};function G8(e,t){if(1&e&&(bh(0,"div",1,2),fu(2)),2&e){let e=t.context,i=xh(1),n=Vh().$implicit,r=Vh();tc(2),xu(" ",r.litRender(i,n,e),"\n")}}function $8(e,t){1&e&&yh(0,G8,3,1,"ng-template")}var W8,K8=(()=>{let e=class{get childComponent(){if(!this.child){let e=document.getElementsByTagName("app-child-standalone");this.child=e?.length?e.item(0):null}return this.child}constructor(e){this.cdr=e,this.templateFunctions=[]}changeChildText(){this.childComponent&&(this.childComponent.text="Parent modified text.")}litRender(e,t,i){(0,n.render)(t(i),e)}addTemplate(e){return this.templateFunctions.push(e),this.cdr.detectChanges(),new B8(this.templateRefs.last,e)}getTemplateFunction(e){if(!e)return;let t=this.templateRefs.toArray().indexOf(e.innerTemplateRef);return this.templateFunctions[t-1]}};return e.fac=function(t){return new(t||e)(nc(fp))},e.cmp=tr({type:e,selectors:[["app-wrapper"]],contentQueries:function(e,t,i){if(1&e&&zg(i,V8,5),2&e){let e;Hg(e=Gg())&&(t.child=e.first)}},viewQuery:function(e,t){if(1&e&&Bg(yg,5),2&e){let e;Hg(e=Gg())&&(t.templateRefs=e)}},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[2,"display","contents"],["container",""]],template:function(e,t){1&e&&yh(0,$8,1,0,null,0),2&e&&_h("ngForOf",t.templateFunctions)},dependencies:[zm],styles:["[_nghost-%COMP%]{display:none}"]}),e})(),j8=Symbol("ComponentRef"),U8=class extends A8{get templateWrapper(){if(!this._templateWrapper){let e=this.componentRef.injector.get(Cg);this._templateWrapper=e.createComponent(K8).instance}return this._templateWrapper}constructor(e,t,i){super(e,t),this._componentFactory=e,this._injector=t,this.config=i,this.cachedChildComponents=new Map,this[W8]=new Promise(((e,t)=>this.setComponentRef=e)),this.schedule=new Map}initializeComponent(e){return _(this,null,(function*(){if(!e.isConnected)return;this.element=e,this.componentRef={};let t=Array.from(e.children).filter((e=>!this._componentFactory.ngContentSelectors.some((t=>e.matches(t)))));for(let e of t);let i,n,r,s=[],o=this.config?.find((e=>e.component===this._componentFactory.componentType));o&&(o.selector=e.tagName.toLocaleLowerCase());let a=o?.parents.map((e=>this.config.find((t=>t.component===e)))).filter((e=>e.selector));if(a?.length){let t=e;for(;t?.parentElement;)t=t.parentElement.closest(a.flatMap((e=>[e.selector,Mp(e.component).selector])).join(",")),t&&s.push(t);let r=s[0];r?.ngElementStrategy?(this.angularParent=r.ngElementStrategy.angularParent,i=(yield r?.ngElementStrategy[j8])?.injector,("igc-grid-toolbar"===e.tagName.toLocaleLowerCase()||"igc-paginator"===e.tagName.toLocaleLowerCase())&&(n=(yield r?.ngElementStrategy[j8])?.instance.anchor)):r?.__componentRef&&(this.angularParent=r.__componentRef,i=this.angularParent.injector)}this.injector=i||this._injector;let l=Rd.create({providers:[],parent:this.injector}),d=O8(e,this._componentFactory.ngContentSelectors);if(this.componentRef=this._componentFactory.create(l,d,e),this.setComponentRef(this.componentRef),this.viewChangeDetectorRef=this.componentRef.injector.get(fp),this.implementsOnChanges=k8(this.componentRef.instance.ngOnChanges),e&&this.componentRef.instance&&(this.componentRef.instance.___wcElement=e),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),n&&i){i.get(Cg);let t=e.parentElement,r=e.nextSibling;n.insert(this.componentRef.hostView),t.insertBefore(e,r),this.detectChanges()}else n||this._injector.get(hp).attachView(this.componentRef.hostView);let c=this.componentRef;for(let e=0;e<s.length;e++){let t=s[e];if(r=a.find((e=>e.selector===t?.tagName.toLocaleLowerCase())),!r)continue;let i=this._componentFactory.componentType,n=r.contentQueries.filter((e=>e.childType===i||e.childType===o.provideAs));for(let i of n){if(e>0&&!i.descendants)continue;let n=yield t.ngElementStrategy[j8];i.isQueryList?(t.ngElementStrategy.scheduleQueryUpdate(i.property),this.angularParent&&this.addToParentCache(t,i.property)):(n.instance[i.property]=c.instance,n.changeDetectorRef.detectChanges())}}["igc-grid","igc-tree-grid","igc-hierarchical-grid"].includes(e.tagName.toLocaleLowerCase())&&this.patchGridPopups()}))}setInputValue(e,t){if(null===this.componentRef||!this.componentRef.instance)return void this.initialInputValues.set(e,t);let i=this.componentRef,n=this.config?.find((e=>e.component===this._componentFactory.componentType));if(t!==i.instance[e]){if(i&&n?.templateProps?.includes(e)){if(this.templateWrapper.templateFunctions.includes(t))return;let n=i.instance[e];if((n&&this.templateWrapper.getTemplateFunction(n))===t)return;t=this.templateWrapper.addTemplate(t)}i&&n?.boolProps?.includes(e)&&(t=null!=t&&"false"!=`${t}`),i&&n?.numericProps?.includes(e)&&(isNaN(Number(t)-parseFloat(t))||(t=Number(t))),"igc-pivot-data-selector"===n.selector&&"grid"===e&&t&&(t=t.ngElementStrategy?.componentRef?.instance||t),super.setInputValue(e,t)}}getInputValue(e){let t=super.getInputValue(e),i=this.config?.find((e=>e.component===this._componentFactory.componentType));return this.componentRef&&i?.templateProps?.includes(e)&&(t=this.templateWrapper.getTemplateFunction(t)||t),t}scheduleQueryUpdate(e){this.schedule.has(e)&&this.schedule.get(e)();let t=setTimeout((()=>this.updateQuery(e)),10);this.schedule.set(e,(()=>clearTimeout(t)))}updateQuery(e){if(this.schedule.delete(e),this.componentRef){let t=(this.config?.find((e=>e.component===this._componentFactory.componentType))).contentQueries.find((t=>t.property===e)),i=this.runQueryInDOM(this.element,t),n=[];for(let e of i){let t=e.ngElementStrategy.componentRef;t?.instance&&n.push(t.instance)}t.descendants&&this.cachedChildComponents.has(e)&&(n=[...this.cachedChildComponents.get(e),...n]);let r=this.componentRef.instance[t.property];r.reset(n),r.notifyOnChanges()}}runQueryInDOM(e,t){let i=this.config.filter((e=>e.component===t.childType||t.childType===e.provideAs)),n=i.map((e=>e.selector)).filter((e=>e)).join(","),r=Array.from(e.querySelectorAll(n));if(r.length&&!t.descendants){let t=new Set(i.map((e=>e.parents)).flat()),n=this.config.filter((e=>t.has(e.component))).map((e=>e.selector)).filter((e=>e)).join(",");r=r.filter((t=>t.parentElement.closest(n)===e))}return r}addToParentCache(e,t){var i=e.ngElementStrategy.cachedChildComponents.get(t)||[];i.push(this.componentRef.instance),e.ngElementStrategy.cachedChildComponents.set(t,i)}assignTemplateCallback(e,t){let i=this.componentRef;if(i){let n=this.templateWrapper.addTemplate(t);i.instance[e]=n,i.changeDetectorRef.detectChanges()}}patchGridPopups(){let e=new Set,t=this.componentRef;Wt(this.element,"gridScroll").pipe(Si(t.instance.destroy$)).subscribe((()=>{e.size&&(e.forEach((e=>{e.isConnected&&e.hide()})),e.clear())})),Wt(this.element,"igcOpened").pipe(Si(t.instance.destroy$)).subscribe((t=>{Object.keys(t.detail).length||e.add(t.target)}))}disconnect(){this.angularParent?this.angularParent.onDestroy((()=>super.disconnect())):super.disconnect()}};W8=j8;var q8=class extends T8{constructor(e,t,i){super(e,t),this.config=i}create(e){return new U8(this.componentFactory,e,this.config)}};function Y8(e,t){let i=new q8(e,t.injector,t.registerConfig);!function(e){let t=e.componentFactory.componentDef.inputs;for(let e in t){let i=t[e];/[A-Z]{2,}/.test(e)&&(t[e.replace(/([A-Z])([A-Z]+)(?![a-z])/g,((e,t,i)=>t+i.toLowerCase()))]=i)}}(i);let n=function(e,t){let i=function(e,t){return t.get(vd).resolveComponentFactory(e).inputs}(e,t.injector),n=t.strategyFactory||new b8(e,t.injector),r=function(e){let t={};return e.forEach((({propName:e,templateName:i,transform:n})=>{t[function(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}(i)]=[e,n]})),t}(i),s=class extends E8{get ngElementStrategy(){if(!this._ngElementStrategy){let e=this._ngElementStrategy=n.create(this.injector||t.injector);i.forEach((({propName:t,transform:i})=>{if(!this.hasOwnProperty(t))return;let n=this[t];delete this[t],e.setInputValue(t,n,i)}))}return this._ngElementStrategy}constructor(e){super(),this.injector=e}attributeChangedCallback(e,t,i,n){let[s,o]=r[e];this.ngElementStrategy.setInputValue(s,i,o)}connectedCallback(){let e=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),e=!0),this.ngElementStrategy.connect(this),e||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe((e=>{let t=new CustomEvent(e.name,{detail:e.value});this.dispatchEvent(t)}))}};s.observedAttributes=Object.keys(r);let o=s;return i.forEach((({propName:e,transform:t})=>{Object.defineProperty(o.prototype,e,{get(){return this.ngElementStrategy.getInputValue(e)},set(i){this.ngElementStrategy.setInputValue(e,i,t)},configurable:!0,enumerable:!0})})),o}(e,f(m({},t),{strategyFactory:i})),r=t.registerConfig?.find((t=>t.component===e));for(let e of r?.methods)n.prototype[e]=function(){let t=this.ngElementStrategy.componentRef.instance;return this.ngElementStrategy.runInZone((()=>t[e].apply(t,arguments)))};if(r?.additionalProperties.forEach((t=>{let i;if(t.name in n.prototype)throw new Error(`Potentially illegal property name ${t.name} defined for ${e.name}`);t.writable&&(i=function(e){this.ngElementStrategy.setInputValue(t.name,e)}),Object.defineProperty(n.prototype,t.name,{get(){return this.ngElementStrategy.getInputValue(t.name)},set:i,configurable:!0,enumerable:!0})})),e===ZX){let e=function(){return{stringFilteringOperand:QA.instance(),numberFilteringOperand:ZA.instance(),timeFilteringOperand:XA.instance(),dateTimeFilteringOperand:YA.instance(),dateFilteringOperand:qA.instance(),booleanFilteringOperand:jA.instance(),createFilteringExpressionTree:(e,t)=>new qb(e,t)}};n.prototype.getFilterFactory=e}return n}var X8=(()=>{let e=class{constructor(e){this.injector=e}ngDoBootstrap(){let e=Y8(ZX,{injector:this.injector,registerConfig:w8});customElements.define("igc-grid",e);let t=Y8(L2,{injector:this.injector,registerConfig:w8});customElements.define("igc-tree-grid",t);let i=Y8(y5,{injector:this.injector,registerConfig:w8});customElements.define("igc-hierarchical-grid",i);let n=Y8(wJ,{injector:this.injector,registerConfig:w8});customElements.define("igc-pivot-grid",n);let r=Y8(t0,{injector:this.injector,registerConfig:w8});customElements.define("igc-pivot-data-selector",r);let s=Y8(U2,{injector:this.injector,registerConfig:w8});customElements.define("igc-row-island",s);let o=Y8(cM,{injector:this.injector,registerConfig:w8});customElements.define("igc-column-group",o);let a=Y8(gM,{injector:this.injector,registerConfig:w8});customElements.define("igc-column-layout",a);let l=Y8(aM,{injector:this.injector,registerConfig:w8});customElements.define("igc-column",l);let d=Y8(oj,{injector:this.injector,registerConfig:w8});customElements.define("igc-paginator",d);let c=Y8(yK,{injector:this.injector,registerConfig:w8});customElements.define("igc-grid-toolbar",c);let h=Y8(Bk,{injector:this.injector,registerConfig:w8});customElements.define("igc-action-strip",h);let u=Y8(_8,{injector:this.injector,registerConfig:w8});customElements.define("igc-grid-state",u);let g=Y8(iO,{injector:this.injector,registerConfig:w8});customElements.define("igc-grid-editing-actions",g);let p=Y8(lO,{injector:this.injector,registerConfig:w8});customElements.define("igc-grid-pinning-actions",p);let m=Y8(nK,{injector:this.injector,registerConfig:w8});customElements.define("igc-grid-toolbar-title",m);let f=Y8(rK,{injector:this.injector,registerConfig:w8});customElements.define("igc-grid-toolbar-actions",f);let y=Y8(MJ,{injector:this.injector,registerConfig:w8});customElements.define("igc-grid-toolbar-hiding",y);let v=Y8(NJ,{injector:this.injector,registerConfig:w8});customElements.define("igc-grid-toolbar-pinning",v);let x=Y8(FJ,{injector:this.injector,registerConfig:w8});customElements.define("igc-grid-toolbar-exporter",x);let _=Y8(dK,{injector:this.injector,registerConfig:w8});customElements.define("igc-grid-toolbar-advanced-filtering",_)}};return e.fac=function(t){return new(t||e)(_n(Rd))},e.mod=rr({type:e}),e.inj=Qi({imports:[hy,x8]}),e})();ay().bootstrapModule(X8).catch((e=>console.error(e)))}}]);